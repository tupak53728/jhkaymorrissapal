!function(a,s,t,e){"use strict";n.prototype={_init:function(){var t=this;clearTimeout(t.autoCloseTimer),t.isHided=!1,t.tapBug=t._hasTapBug(),t.platform=u.platform,t.dislogStyle="default"===t.settings.style?t.platform:t.settings.style,0===a("#dialog-body-no-scroll").length&&a("head").append('<style id="dialog-body-no-scroll">.body-no-scroll { position: absolute; overflow: hidden; width: 100%; }</style>'),t._renderDOM(),t._bindEvents()},_renderDOM:function(){var t=this;t.settings.onBeforeShow(),t._createDialogDOM(t.settings.type),t.settings.onShow()},_bindEvents:function(){var o=this;o.$confirmBtn.on(u.tapEvent,function(t){var n=o.settings.onClickConfirmBtn();!n&&n!==e||o.closeDialog()}).on("touchend",function(t){t.preventDefault()}),o.$cancelBtn.on(u.tapEvent,function(t){var n=o.settings.onClickCancelBtn();!n&&n!==e||o.closeDialog()}).on("touchend",function(t){t.preventDefault()}),o.$closeBtn.on(u.tapEvent,function(t){var n=o.settings.onClickCloseBtn();!n&&n!==e||o.closeDialog()}).on("touchend",function(t){t.preventDefault()}),o.settings.overlayClose&&a(t).on(u.tapEvent,".dialog-overlay",function(t){o.closeDialog()}),0<o.settings.autoClose&&o._autoClose(),a(t).on("webkitAnimationEnd MSAnimationEnd animationend",".dialog-content",function(){o.isHided&&(o.removeDialog(),o.tapBug)&&o._removeTapOverlayer()}),o.settings.buttons.length&&a.each(o.settings.buttons,function(t,n){o.$dialogContentFt.children("button").eq(t).on(u.tapEvent,function(t){t.preventDefault();t=n.callback();!t&&t!==e||o.closeDialog()})}),a(s).on("onorientationchange"in s?"orientationchange":"resize",function(){o.settings.contentScroll&&setTimeout(function(){o._resetDialog()},200)}),a(t).on("touchmove",function(t){return!o.$dialog.find(a(t.target)).length}),o.settings.contentScroll&&o._contentScrollEvent(),"android"===o.dislogStyle&&a(".dialog-content-ft > .dialog-btn").ripple()},_createDialogDOM:function(t){var o,n=this;switch(n.$dialog=a('<div class="dialog dialog-open '+n.settings.dialogClass+'" data-style="'+n.dislogStyle+'"></div>'),n.$dialogOverlay=a('<div class="dialog-overlay"></div>'),n.$dialogContent=a('<div class="dialog-content"></div>'),n.$dialogTitle=a('<div class="dialog-content-hd"><h3 class="dialog-content-title">'+n.settings.titleText+"</h3></div>"),n.$dialogContentFt=a('<div class="dialog-content-ft"></div>'),n.$dialogContentBd=a('<div class="dialog-content-bd"></div>'),n.$closeBtn=a('<div class="dialog-btn-close"><span>close</span></div>'),n.$confirmBtn=a('<button class="dialog-btn dialog-btn-confirm '+n.settings.buttonClassConfirm+'">'+n.settings.buttonTextConfirm+"</button>"),n.$cancelBtn=a('<button class="dialog-btn dialog-btn-cancel '+n.settings.buttonClassCancel+'">'+n.settings.buttonTextCancel+"</button>"),t){case"alert":n.$dialog.addClass("dialog-modal"),n.settings.overlayShow&&n.$dialog.append(n.$dialogOverlay),n.settings.titleShow&&n.$dialogContent.append(n.$dialogTitle),n.settings.closeBtnShow&&n.$dialogTitle.append(n.$closeBtn),n.$dialogContentBd.html(n.settings.content),n.$dialogContentFt.append(n.$confirmBtn),n.$dialogContent.append(n.$dialogContentBd).append(n.$dialogContentFt),n.$dialog.append(n.$dialogContent),a("body").append(n.$dialog),n.settings.bodyNoScroll&&a("body").addClass("body-no-scroll"),n.settings.contentScroll&&n._setDialogContentHeight();break;case"confirm":n.$dialog.addClass("dialog-modal"),n.settings.overlayShow&&n.$dialog.append(n.$dialogOverlay),n.settings.titleShow&&n.$dialogContent.append(n.$dialogTitle),n.settings.closeBtnShow&&n.$dialogTitle.append(n.$closeBtn),(n.settings.buttons.length?(o="",a.each(n.settings.buttons,function(t,n){o+='<button class="dialog-btn '+n.class+'">'+n.name+"</button>"}),n.$dialogContentFt.append(o)):n.$dialogContentFt.append(n.$cancelBtn).append(n.$confirmBtn)).addClass(n.settings.buttonStyle),n.$dialogContentBd.html(n.settings.content),n.$dialogContent.append(n.$dialogContentBd).append(n.$dialogContentFt),n.$dialog.append(n.$dialogContent),a("body").append(n.$dialog),n.settings.contentScroll&&n._setDialogContentHeight(),n.settings.bodyNoScroll&&a("body").addClass("body-no-scroll");break;case"toast":n.$dialog.addClass("dialog-toast"),n.settings.overlayShow&&n.$dialog.append(n.$dialogOverlay);var e=a(n.settings.content);""!==n.settings.infoIcon&&""!==n.settings.infoText?e=a('<img class="info-icon" src="'+n.settings.infoIcon+'" /><span class="info-text">'+n.settings.infoText+"</span>"):""===n.settings.infoIcon&&""!==n.settings.infoText?e=a('<span class="info-text">'+n.settings.infoText+"</span>"):""!==n.settings.infoIcon&&""===n.settings.infoText&&(e=a('<img class="info-icon" src="'+n.settings.infoIcon+'" />')),n.$dialogContentBd.append(e),n.$dialogContent.append(n.$dialogContentBd),n.$dialog.append(n.$dialogContent),a("body").append(n.$dialog),n.settings.bodyNoScroll&&a("body").addClass("body-no-scroll");break;case"notice":n.$dialog.addClass("dialog-notice"),"bottom"===n.settings.position&&n.$dialog.addClass("dialog-notice-bottom"),n.settings.overlayShow&&n.$dialog.append(n.$dialogOverlay);e=a(n.settings.content);""!==n.settings.infoIcon&&""!==n.settings.infoText?e=a('<img class="info-icon" src="'+n.settings.infoIcon+'" /><span class="info-text">'+n.settings.infoText+"</span>"):""===n.settings.infoIcon&&""!==n.settings.infoText?e=a('<span class="info-text">'+n.settings.infoText+"</span>"):""!==n.settings.infoIcon&&""===n.settings.infoText&&(e=a('<img class="info-icon" src="'+n.settings.infoIcon+'" />')),n.$dialogContentBd.append(e),n.$dialogContent.append(n.$dialogContentBd),n.$dialog.append(n.$dialogContent),a("body").append(n.$dialog),n.settings.bodyNoScroll&&a("body").addClass("body-no-scroll")}},_setDialogContentHeight:function(){var o=this;setTimeout(function(){var t=o.$dialogContentBd.height(),n=o._getDialogContentMaxHeight();o.$dialogContentBd.css({"max-height":n}).addClass("content-scroll"),n<t?o.$dialogContentFt.addClass("dialog-content-ft-border"):o.$dialogContentFt.removeClass("dialog-content-ft-border")},80)},_getDialogContentMaxHeight:function(){var t=a(s).height()-this.$dialogTitle.height()-this.$dialogContentFt.height()-60;return t%2==0?t:t-1},_resetDialog:function(){this._setDialogContentHeight()},_contentScrollEvent:function(){var o=!1,e={x:0,y:0,top:0,left:0};a(t).on("touchstart mousedown",".content-scroll",function(t){t=t.changedTouches?t.changedTouches[0]:t;return o=!0,e.x=t.clientX,e.y=t.clientY,e.top=a(this).scrollTop(),e.left=a(this).scrollLeft(),!1}).on("touchmove mousemove",".content-scroll",function(t){t=t.changedTouches?t.changedTouches[0]:t;if(!o)return!1;var n=e.top-(t.clientY-e.y),t=e.left-(t.clientX-e.x);a(this).scrollTop(n).scrollLeft(t)}).on("touchend mouseup",".content-scroll",function(t){t.preventDefault(),o=!1})},_autoClose:function(){var t=this;t.autoCloseTimer=setTimeout(function(){t.closeDialog()},t.settings.autoClose)},closeDialog:function(){var t=this;t.isHided=!0,t.settings.onBeforeClosed(),t.$dialog.addClass("dialog-close").removeClass("dialog-open"),t.settings.bodyNoScroll&&a("body").removeClass("body-no-scroll"),t.tapBug&&t._appendTapOverlayer()},removeDialog:function(){var t=this;t.$dialog.remove(),t.isHided=!1,t.settings.onClosed(),t.settings=a.fn.dialog.defaults,t.settings.bodyNoScroll&&a("body").removeClass("body-no-scroll")},update:function(t){var n=this,t=(clearTimeout(n.autoCloseTimer),n.settings=a.extend({},a.fn.dialog.defaults,t),""!==n.settings.content&&n.$dialogContentBd.html(n.settings.content),n.$dialogContentBd.find(".info-icon")),o=n.$dialogContentBd.find(".info-text");t.attr({src:n.settings.infoIcon}),o.html(n.settings.infoText),n._bindEvents()},_hasTapBug:function(){return u.isAndroid&&u.version<4.4},_appendTapOverlayer:function(){this.$tapBugOverlayer=a(".solve-tap-bug"),this.$tapBugOverlayer.length||(this.$tapBugOverlayer=a('<div class="solve-tap-bug" style="margin:0;padding:0;border:0;background:rgba(0,0,0,0);-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;height:100%;position:fixed;top:0;left:0;"></div>'),a("body").append(this.$tapBugOverlayer))},_removeTapOverlayer:function(){var t=this;setTimeout(function(){t.$tapBugOverlayer.remove()},350)}};var l=n;function n(t,n){this.$element=a(t),this.settings=a.extend({},a.fn.dialog.defaults,n)}o=s.navigator.userAgent,i=/android|adr/gi.test(o),d=/iphone|ipod|ipad/gi.test(o)&&!i,g=i||d,c=d?"ios":i?"android":"default",r="ontouchend"in t,o=(o.match(d?/os [\d._]*/gi:/android [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".");var o,i,d,g,c,r,u={isIOS:d,isAndroid:i,isMobile:g,platform:c,version:parseFloat(o),isSupportTouch:r,tapEvent:g&&r?"tapEvent":"click"};a.fn.dialog=function(e){var i=this;return this.each(function(){var n,t=a(this),o=s.jQuery?t.data("dialog"):a.fn.dialog.lookup[t.data("dialog")];o?(n=new l(this,e))._init():((n=new l(this,e))._init(),s.jQuery?t.data("dialog",n):(a.fn.dialog.lookup[++a.fn.dialog.lookup.i]=n,t.data("dialog",a.fn.dialog.lookup.i),o=a.fn.dialog.lookup[t.data("dialog")])),"string"==typeof e&&o[e](),i.close=function(){n.closeDialog()},i.update=function(t){n.update(t)}})},s.jQuery||(a.fn.dialog.lookup={i:0}),a.fn.dialog.defaults={type:"alert",style:"default",titleShow:!0,titleText:"tips",bodyNoScroll:!1,closeBtnShow:!1,content:"",contentScroll:!0,dialogClass:"",autoClose:0,overlayShow:!0,overlayClose:!1,buttonStyle:"side",buttonTextConfirm:$Ok||"OK",buttonTextCancel:$cancel||"cancel",buttonClassConfirm:"",buttonClassCancel:"",buttons:[],infoIcon:"",infoText:"",position:"center",onClickConfirmBtn:function(){},onClickCancelBtn:function(){},onClickCloseBtn:function(){},onBeforeShow:function(){},onShow:function(){},onBeforeClosed:function(){},onClosed:function(){}}}(window.jQuery||window.Zepto,window,document),function(l,t){"use strict";l(t).ready(function(){var n,o,e,i,a,s;l(t).on("touchstart",function(t){t=(t=t.originalEvent||t).changedTouches[0];s=l("tagName"in t.target?t.target:t.target.parentNode),a=new Date,n=t.clientX,o=t.clientY,e=t.clientX,i=t.clientY}).on("touchmove",function(t){t=(t=t.originalEvent||t).changedTouches[0];e=t.clientX,i=t.clientY}).on("touchend",function(t){(t=t.originalEvent||t).changedTouches[0];new Date-a<300&&Math.abs(e-n)+Math.abs(i-o)<30&&s.trigger("tapEvent"),i=e=o=n=a=0})}),["tapEvent"].forEach(function(n){l.fn[n]=function(t){return this.on(n,t)}})}(window.jQuery||window.Zepto,(window,document)),function(i,t,o){"use strict";n.prototype={init:function(){this.bindEvents()},bindEvents:function(){var n=this;n.$element.on(s.downEvent,function(t){t=t.changedTouches?t.changedTouches[0]:t;n.target=i(t.target),n.positionX=t.pageX,n.positionY=t.pageY,n.creatRipple()}),i(o).on("webkitAnimationEnd MSAnimationEnd animationend","."+n.settings.className,function(){n.removeRipple(this)})},creatRipple:function(){var t=this,n=function(t){try{return t.getBoundingClientRect()}catch(t){}}(t.target[0]),n=Math.max(n.width,n.height),o=t.target.offset().left,e=t.target.offset().top;t.$rippleElement=i("<"+t.settings.tagName+"></"+t.settings.tagName+">"),t.$rippleElement.addClass(t.settings.className).css({left:t.positionX-o-n/2,top:t.positionY-e-n/2,width:n,height:n}),t.target.append(t.$rippleElement)},removeRipple:function(t){t.remove()}};var a=n;function n(t,n){var o=this;o.$element=i(t),o.settings=i.extend({},i.fn.ripple.defaults,n),o.target=null,o.positionX=0,o.positionY=0,o.init()}t=t.navigator.userAgent,e=/android|adr/gi.test(t),t=/iphone|ipod|ipad/gi.test(t)&&!e,e=e||t,t="ontouchend"in o;var e,s={downEvent:e&&t?"touchstart":"mousedown"};i.fn.ripple=function(o){var e=[];return this.each(function(t,n){e.push(new a(n,o))}),e},i.fn.ripple.defaults={tagName:"span",className:"ripple"},i(function(){return new a(i("[data-ripple]"))})}(window.jQuery||window.Zepto,window,document);