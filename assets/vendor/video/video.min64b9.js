<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for video.js"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2022-07-25T10:11:33.398Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - video.js</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"video.js","packageVersion":"7.20.1","availableVersions":["4.1.0","4.2.0","4.2.1","4.2.2","4.3.0","4.4.0","4.4.1","4.4.2","4.4.3","4.5.0","4.5.1","4.5.2","4.6.0","4.6.1","4.6.2","4.6.3","4.6.4","4.7.0","4.7.1","4.7.2","4.7.3","4.8.0","4.8.1","4.8.2","4.8.3","4.8.4","4.8.5","4.9.0","4.9.1","4.10.0","4.10.1","4.10.2","4.11.0","4.11.1","4.11.2","4.11.3","4.11.4","4.12.0","4.12.1","4.12.2","4.12.3","4.12.4","4.12.5","4.12.6","4.12.7","4.12.8","4.12.9","4.12.10","4.12.11","4.12.12","4.12.13","4.12.14","4.12.15","5.0.0-1","5.0.0-2","5.0.0-3","5.0.0-4","5.0.0-5","5.0.0-6","5.0.0-7","5.0.0-8","5.0.0-9","5.0.0-10","5.0.0-11","5.0.0-12","5.0.0-13","5.0.0-14","5.0.0-15","5.0.0-16","5.0.0-17","5.0.0-18","5.0.0-19","5.0.0-20","5.0.0-21","5.0.0-22","5.0.0-23","5.0.0-24","5.0.0-25","5.0.0-26","5.0.0-27","5.0.0-28","5.0.0-29","5.0.0-30","5.0.0-31","5.0.0-32","5.0.0-33","5.0.0-34","5.0.0-rc.1","5.0.0-rc.2","5.0.0-rc.3","5.0.0-rc.4","5.0.0-rc.5","5.0.0-rc.6","5.0.0-rc.7","5.0.0-rc.8","5.0.0-rc.9","5.0.0-rc.10","5.0.0-rc.11","5.0.0-rc.12","5.0.0-rc.13","5.0.0-rc.14","5.0.0-rc.15","5.0.0-rc.16","5.0.0-rc.17","5.0.0-rc.18","5.0.0-rc.19","5.0.0-rc.20","5.0.0-rc.21","5.0.0-rc.22","5.0.0-rc.23","5.0.0-rc.24","5.0.0-rc.25","5.0.0-rc.26","5.0.0-rc.27","5.0.0-rc.28","5.0.0-rc.29","5.0.0-rc.30","5.0.0-rc.31","5.0.0-rc.32","5.0.0-rc.33","5.0.0-rc.34","5.0.0-rc.35","5.0.0-rc.36","5.0.0-rc.37","5.0.0-rc.38","5.0.0-rc.39","5.0.0-rc.40","5.0.0-rc.41","5.0.0-rc.42","5.0.0-rc.43","5.0.0-rc.44","5.0.0-rc.45","5.0.0-rc.46","5.0.0-rc.47","5.0.0-rc.48","5.0.0-rc.49","5.0.0-rc.50","5.0.0-rc.51","5.0.0-rc.52","5.0.0-rc.53","5.0.0-rc.54","5.0.0-rc.55","5.0.0-rc.56","5.0.0-rc.57","5.0.0-rc.58","5.0.0-rc.59","5.0.0-rc.60","5.0.0-rc.61","5.0.0-rc.62","5.0.0-rc.63","5.0.0-rc.64","5.0.0-rc.65","5.0.0-rc.66","5.0.0-rc.67","5.0.0-rc.68","5.0.0-rc.69","5.0.0-rc.70","5.0.0-rc.71","5.0.0-rc.72","5.0.0-rc.73","5.0.0-rc.74","5.0.0-rc.75","5.0.0-rc.76","5.0.0-rc.77","5.0.0-rc.78","5.0.0-rc.79","5.0.0-rc.80","5.0.0-rc.81","5.0.0-rc.82","5.0.0-rc.83","5.0.0-rc.84","5.0.0-rc.85","5.0.0-rc.86","5.0.0-rc.87","5.0.0-rc.88","5.0.0-rc.89","5.0.0-rc.90","5.0.0-rc.91","5.0.0-rc.92","5.0.0-rc.93","5.0.0-rc.94","5.0.0-rc.95","5.0.0-rc.96","5.0.0-rc.97","5.0.0-rc.98","5.0.0-rc.99","5.0.0-rc.100","5.0.0-rc.101","5.0.0-rc.102","5.0.0-rc.103","5.0.0-rc.104","5.0.0","5.0.2","5.1.0","5.2.0","5.2.1","5.2.2","5.2.3","5.2.4","5.3.0","5.4.0","5.4.2","5.4.3","5.4.4","5.4.5","5.4.6","5.5.0","5.5.1","5.5.2","5.5.3","5.6.0","5.7.0","5.7.1","5.8.0","5.8.1","5.8.2","5.8.3","5.8.4","5.8.5","5.8.6","5.8.7","5.8.8","5.9.0-0","5.9.0-1","5.9.0-2","5.9.0","5.9.1","5.9.2","5.10.1","5.10.2","5.10.3","5.10.4","5.10.5","5.10.6","5.10.7","5.10.8","5.11.0","5.11.1","5.11.2","5.11.3","5.11.4","5.11.5","5.11.6","5.11.7","5.11.8","5.11.9","5.12.0","5.12.1","5.12.2","5.12.3","5.12.4","5.12.5","5.12.6","5.13.0","5.13.1","5.13.2","5.14.0","5.14.1","5.15.0","5.15.1","5.16.0","5.17.0","5.18.0","5.18.1","5.18.2","5.18.3","5.18.4","5.19.0","5.19.1","5.19.2","5.20.0","5.20.1","5.20.2","5.20.3","5.20.4","5.20.5","6.0.0-RC.0","6.0.0-RC.1","6.0.0-RC.2","6.0.0-RC.3","6.0.0-RC.5","6.0.0-RC.6","6.0.0-RC.8","6.0.0","6.0.1","6.1.0","6.2.0","6.2.1","6.2.2","6.2.3","6.2.4","6.2.5","6.2.6","6.2.7","6.2.8","6.3.0","6.3.1","6.3.2","6.3.3","6.4.0","6.5.0","6.5.1","6.5.2","6.6.0","6.6.1","6.6.2","6.6.3","6.7.0","6.7.1","6.7.2","6.7.3","6.7.4","6.8.0","6.9.0","6.10.0","6.10.1","6.10.2","6.10.3","6.11.0","6.12.0","6.12.1","6.13.0","7.0.0-alpha.1","7.0.0-rc.1","7.0.0","7.0.1","7.0.2","7.0.3","7.0.4","7.0.5","7.1.0","7.2.0","7.2.1","7.2.2","7.2.3","7.2.4","7.3.0","7.4.0","7.4.1","7.4.2","7.4.3","7.5.0","7.5.1","7.5.2","7.5.3","7.5.4","7.5.5","7.5.6","7.6.0","7.6.1","7.6.2","7.6.3","7.6.4","7.6.5","7.6.6","7.7.0","7.7.1","7.7.3","7.7.4","7.7.5","7.7.6","7.7.7","7.8.0","7.8.1","7.8.2","7.8.3","7.8.4","7.9.0","7.9.1","7.9.2","7.9.3","7.9.4","7.9.5","7.9.6","7.9.7","7.10.0","7.10.1","7.10.2","7.11.0","7.11.1","7.11.2","7.11.3","7.11.4","7.11.5","7.11.6","7.11.7","7.11.8","7.12.0","7.12.1","7.12.2","7.12.3","7.12.4","7.13.0","7.13.1","7.13.2","7.13.3","7.13.4","7.14.0","7.14.1","7.14.2","7.14.3","7.15.0","7.15.1","7.15.2","7.15.3","7.15.4","7.15.5","7.15.6","7.15.7","7.16.0","7.17.0","7.17.1","7.17.2","7.17.3","7.18.0","7.18.1","7.19.0","7.19.1","7.19.2","7.20.0","7.20.1"],"filename":"/dist/video.min.js","target":{"path":"/dist/video.min.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-sH2D+fSh66SuevBNjBmATmFS/oWQutui43TEEpNsOQRpFLGBN8sjJVc8dJwPgvJA","language":"JavaScript","size":582474,"uri":null,"highlights":["<span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\"> * @license\n</span>","<span class=\"code-comment\"> * Video.js 7.20.1 &lt;http://videojs.com/&gt;\n</span>","<span class=\"code-comment\"> * Copyright Brightcove, Inc. &lt;https://www.brightcove.com/&gt;\n</span>","<span class=\"code-comment\"> * Available under Apache License Version 2.0\n</span>","<span class=\"code-comment\"> * &lt;https://github.com/videojs/video.js/blob/main/LICENSE&gt;\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Includes vtt.js &lt;https://github.com/mozilla/vtt.js&gt;\n</span>","<span class=\"code-comment\"> * Available under Apache License Version 2.0\n</span>","<span class=\"code-comment\"> * &lt;https://github.com/mozilla/vtt.js/blob/main/LICENSE&gt;\n</span>","<span class=\"code-comment\"> */</span>\n","!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>?<span class=\"code-built_in\">module</span>.exports=t():<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> define&amp;&amp;define.amd?define(t):(e=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> globalThis?globalThis:e||self).videojs=t()}(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,u=<span class=\"code-string\">\"7.20.1\"</span>,i={},a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i[e]=i[e]||[],t&amp;&amp;(i[e]=i[e].concat(t)),i[e]},n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=a(e).indexOf(t);<span class=\"code-keyword\">return</span>!(t&lt;=<span class=\"code-number\">-1</span>)&amp;&amp;(i[e]=i[e].slice(),i[e].splice(t,<span class=\"code-number\">1</span>),!<span class=\"code-number\">0</span>)},l={<span class=\"code-attr\">prefixed</span>:!<span class=\"code-number\">0</span>},t=[[<span class=\"code-string\">\"requestFullscreen\"</span>,<span class=\"code-string\">\"exitFullscreen\"</span>,<span class=\"code-string\">\"fullscreenElement\"</span>,<span class=\"code-string\">\"fullscreenEnabled\"</span>,<span class=\"code-string\">\"fullscreenchange\"</span>,<span class=\"code-string\">\"fullscreenerror\"</span>,<span class=\"code-string\">\"fullscreen\"</span>],[<span class=\"code-string\">\"webkitRequestFullscreen\"</span>,<span class=\"code-string\">\"webkitExitFullscreen\"</span>,<span class=\"code-string\">\"webkitFullscreenElement\"</span>,<span class=\"code-string\">\"webkitFullscreenEnabled\"</span>,<span class=\"code-string\">\"webkitfullscreenchange\"</span>,<span class=\"code-string\">\"webkitfullscreenerror\"</span>,<span class=\"code-string\">\"-webkit-full-screen\"</span>],[<span class=\"code-string\">\"mozRequestFullScreen\"</span>,<span class=\"code-string\">\"mozCancelFullScreen\"</span>,<span class=\"code-string\">\"mozFullScreenElement\"</span>,<span class=\"code-string\">\"mozFullScreenEnabled\"</span>,<span class=\"code-string\">\"mozfullscreenchange\"</span>,<span class=\"code-string\">\"mozfullscreenerror\"</span>,<span class=\"code-string\">\"-moz-full-screen\"</span>],[<span class=\"code-string\">\"msRequestFullscreen\"</span>,<span class=\"code-string\">\"msExitFullscreen\"</span>,<span class=\"code-string\">\"msFullscreenElement\"</span>,<span class=\"code-string\">\"msFullscreenEnabled\"</span>,<span class=\"code-string\">\"MSFullscreenChange\"</span>,<span class=\"code-string\">\"MSFullscreenError\"</span>,<span class=\"code-string\">\"-ms-fullscreen\"</span>]],r=t[<span class=\"code-number\">0</span>],s=<span class=\"code-number\">0</span>;s&lt;t.length;s++)<span class=\"code-keyword\">if</span>(t[s][<span class=\"code-number\">1</span>]<span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>){e=t[s];<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;e.length;o++)l[r[o]]=e[o];l.prefixed=e[<span class=\"code-number\">0</span>]!==r[<span class=\"code-number\">0</span>]}<span class=\"code-keyword\">var</span> c=[],d=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a,s</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r=s.levels[t],t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"^(\"</span>+r+<span class=\"code-string\">\")$\"</span>);<span class=\"code-string\">\"log\"</span>!==e&amp;&amp;i.unshift(e.toUpperCase()+<span class=\"code-string\">\":\"</span>),i.unshift(a+<span class=\"code-string\">\":\"</span>),c&amp;&amp;(c.push([].concat(i)),n=c.length<span class=\"code-number\">-1e3</span>,c.splice(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>&lt;n?n:<span class=\"code-number\">0</span>)),!<span class=\"code-built_in\">window</span>.console||(n=!(n=<span class=\"code-built_in\">window</span>.console[e])&amp;&amp;<span class=\"code-string\">\"debug\"</span>===e?<span class=\"code-built_in\">window</span>.console.info||<span class=\"code-built_in\">window</span>.console.log:n)&amp;&amp;r&amp;&amp;t.test(e)&amp;&amp;n[<span class=\"code-built_in\">Array</span>.isArray(i)?<span class=\"code-string\">\"apply\"</span>:<span class=\"code-string\">\"call\"</span>](<span class=\"code-built_in\">window</span>.console,i)}};<span class=\"code-keyword\">var</span> h=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];a(<span class=\"code-string\">\"log\"</span>,r,t)}<span class=\"code-keyword\">var</span> r=<span class=\"code-string\">\"info\"</span>,a=d(i,n);<span class=\"code-keyword\">return</span> n.createLogger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t(i+<span class=\"code-string\">\": \"</span>+e)},n.levels={<span class=\"code-attr\">all</span>:<span class=\"code-string\">\"debug|log|warn|error\"</span>,<span class=\"code-attr\">off</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">debug</span>:<span class=\"code-string\">\"debug|log|warn|error\"</span>,<span class=\"code-attr\">info</span>:<span class=\"code-string\">\"log|warn|error\"</span>,<span class=\"code-attr\">warn</span>:<span class=\"code-string\">\"warn|error\"</span>,<span class=\"code-attr\">error</span>:<span class=\"code-string\">\"error\"</span>,<span class=\"code-attr\">DEFAULT</span>:r},n.level=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">if</span>(!n.levels.hasOwnProperty(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'\"'</span>+e+<span class=\"code-string\">'\" in not a valid log level'</span>);r=e}<span class=\"code-keyword\">return</span> r},(n.history=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> c?[].concat(c):[]}).filter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>(c||[]).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\".*\"</span>+t+<span class=\"code-string\">\".*\"</span>).test(e[<span class=\"code-number\">0</span>])})},n.history.clear=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{c&amp;&amp;(c.length=<span class=\"code-number\">0</span>)},n.history.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>!==c&amp;&amp;(c.length=<span class=\"code-number\">0</span>,c=<span class=\"code-literal\">null</span>)},n.history.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>===c&amp;&amp;(c=[])},n.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">return</span> a(<span class=\"code-string\">\"error\"</span>,r,t)},n.warn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">return</span> a(<span class=\"code-string\">\"warn\"</span>,r,t)},n.debug=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">return</span> a(<span class=\"code-string\">\"debug\"</span>,r,t)},n}(<span class=\"code-string\">\"VIDEOJS\"</span>),p=h.createLogger,f=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> globalThis?globalThis:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> global?global:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> self?self:{};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">m</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e(t={<span class=\"code-attr\">exports</span>:{}},t.exports),t.exports}<span class=\"code-keyword\">var</span> g=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.exports=t=<span class=\"code-built_in\">Object</span>.assign||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1</span>;t&lt;<span class=\"code-built_in\">arguments</span>.length;t++){<span class=\"code-keyword\">var</span> i,n=<span class=\"code-built_in\">arguments</span>[t];<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> n)<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(n,i)&amp;&amp;(e[i]=n[i])}<span class=\"code-keyword\">return</span> e},t.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)}e.exports=t}),y=<span class=\"code-built_in\">Object</span>.prototype.toString,v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> T(e)?<span class=\"code-built_in\">Object</span>.keys(e):[]};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_</span>(<span class=\"code-params\">t,i</span>)</span>{v(t).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i(t[e],e)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">b</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(<span class=\"code-number\">1</span>&lt;e?e<span class=\"code-number\">-1</span>:<span class=\"code-number\">0</span>),n=<span class=\"code-number\">1</span>;n&lt;e;n++)t[n<span class=\"code-number\">-1</span>]=<span class=\"code-built_in\">arguments</span>[n];<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.assign?g.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,[i].concat(t)):(t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e&amp;&amp;_(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{i[t]=e})}),i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">T</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!e&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">S</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> T(e)&amp;&amp;<span class=\"code-string\">\"[object Object]\"</span>===y.call(e)&amp;&amp;e.constructor===<span class=\"code-built_in\">Object</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">w</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!e||!t)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.getComputedStyle)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">try</span>{i=<span class=\"code-built_in\">window</span>.getComputedStyle(e)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>}<span class=\"code-keyword\">return</span> i?i.getPropertyValue(t)||i[t]:<span class=\"code-string\">\"\"</span>}<span class=\"code-keyword\">var</span> E=<span class=\"code-built_in\">window</span>.navigator&amp;&amp;<span class=\"code-built_in\">window</span>.navigator.userAgent||<span class=\"code-string\">\"\"</span>,k=<span class=\"code-regexp\">/AppleWebKit\\/([\\d.]+)/i</span>.exec(E),C=k?<span class=\"code-built_in\">parseFloat</span>(k.pop()):<span class=\"code-literal\">null</span>,I=<span class=\"code-regexp\">/iPod/i</span>.test(E),x=(jt=E.match(<span class=\"code-regexp\">/OS (\\d+)_/i</span>))&amp;&amp;jt[<span class=\"code-number\">1</span>]?jt[<span class=\"code-number\">1</span>]:<span class=\"code-literal\">null</span>,A=<span class=\"code-regexp\">/Android/i</span>.test(E),P=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=E.match(<span class=\"code-regexp\">/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i</span>);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> t=e[<span class=\"code-number\">1</span>]&amp;&amp;<span class=\"code-built_in\">parseFloat</span>(e[<span class=\"code-number\">1</span>]),i=e[<span class=\"code-number\">2</span>]&amp;&amp;<span class=\"code-built_in\">parseFloat</span>(e[<span class=\"code-number\">2</span>]);<span class=\"code-keyword\">return</span> t&amp;&amp;i?<span class=\"code-built_in\">parseFloat</span>(e[<span class=\"code-number\">1</span>]+<span class=\"code-string\">\".\"</span>+e[<span class=\"code-number\">2</span>]):t||<span class=\"code-literal\">null</span>}(),L=A&amp;&amp;P&lt;<span class=\"code-number\">5</span>&amp;&amp;C&lt;<span class=\"code-number\">537</span>,D=<span class=\"code-regexp\">/Firefox/i</span>.test(E),O=<span class=\"code-regexp\">/Edg/i</span>.test(E),M=!O&amp;&amp;(<span class=\"code-regexp\">/Chrome/i</span>.test(E)||<span class=\"code-regexp\">/CriOS/i</span>.test(E)),R=(zt=E.match(<span class=\"code-regexp\">/(Chrome|CriOS)\\/(\\d+)/</span>))&amp;&amp;zt[<span class=\"code-number\">2</span>]?<span class=\"code-built_in\">parseFloat</span>(zt[<span class=\"code-number\">2</span>]):<span class=\"code-literal\">null</span>,N=Xt=!(Xt=(Xt=<span class=\"code-regexp\">/MSIE\\s(\\d+)\\.\\d/</span>.exec(E))&amp;&amp;<span class=\"code-built_in\">parseFloat</span>(Xt[<span class=\"code-number\">1</span>]))&amp;&amp;<span class=\"code-regexp\">/Trident\\/7.0/i</span>.test(E)&amp;&amp;<span class=\"code-regexp\">/rv:11.0/</span>.test(E)?<span class=\"code-number\">11</span>:Xt,U=<span class=\"code-regexp\">/Safari/i</span>.test(E)&amp;&amp;!M&amp;&amp;!A&amp;&amp;!O,B=<span class=\"code-regexp\">/Windows/i</span>.test(E),F=<span class=\"code-built_in\">Boolean</span>(X()&amp;&amp;(<span class=\"code-string\">\"ontouchstart\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">window</span>||<span class=\"code-built_in\">window</span>.navigator.maxTouchPoints||<span class=\"code-built_in\">window</span>.DocumentTouch&amp;&amp;<span class=\"code-built_in\">window</span>.document <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.DocumentTouch)),j=<span class=\"code-regexp\">/iPad/i</span>.test(E)||U&amp;&amp;F&amp;&amp;!<span class=\"code-regexp\">/iPhone/i</span>.test(E),H=<span class=\"code-regexp\">/iPhone/i</span>.test(E)&amp;&amp;!j,q=H||j||I,V=(U||q)&amp;&amp;!M,W=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">IS_IPOD</span>:I,<span class=\"code-attr\">IOS_VERSION</span>:x,<span class=\"code-attr\">IS_ANDROID</span>:A,<span class=\"code-attr\">ANDROID_VERSION</span>:P,<span class=\"code-attr\">IS_NATIVE_ANDROID</span>:L,<span class=\"code-attr\">IS_FIREFOX</span>:D,<span class=\"code-attr\">IS_EDGE</span>:O,<span class=\"code-attr\">IS_CHROME</span>:M,<span class=\"code-attr\">CHROME_VERSION</span>:R,<span class=\"code-attr\">IE_VERSION</span>:N,<span class=\"code-attr\">IS_SAFARI</span>:U,<span class=\"code-attr\">IS_WINDOWS</span>:B,<span class=\"code-attr\">TOUCH_ENABLED</span>:F,<span class=\"code-attr\">IS_IPAD</span>:j,<span class=\"code-attr\">IS_IPHONE</span>:H,<span class=\"code-attr\">IS_IOS</span>:q,<span class=\"code-attr\">IS_ANY_SAFARI</span>:V});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">G</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-built_in\">Boolean</span>(e.trim())}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">z</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;=e.indexOf(<span class=\"code-string\">\" \"</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"class has illegal whitespace characters\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">X</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>===<span class=\"code-built_in\">window</span>.document}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">K</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> T(e)&amp;&amp;<span class=\"code-number\">1</span>===e.nodeType}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Y</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.parent!==<span class=\"code-built_in\">window</span>.self}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Q</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!G(e))<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>[i](<span class=\"code-literal\">null</span>);t=K(t=G(t)?<span class=\"code-built_in\">document</span>.querySelector(t):t)?t:<span class=\"code-built_in\">document</span>;<span class=\"code-keyword\">return</span> t[i]&amp;&amp;t[i](e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$</span>(<span class=\"code-params\">e,i,t,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"div\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={});<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">document</span>.createElement(e);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.getOwnPropertyNames(i).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i[e];<span class=\"code-number\">-1</span>!==e.indexOf(<span class=\"code-string\">\"aria-\"</span>)||<span class=\"code-string\">\"role\"</span>===e||<span class=\"code-string\">\"type\"</span>===e?(h.warn(<span class=\"code-string\">\"Setting attributes in the second argument of createEl()\\nhas been deprecated. Use the third argument instead.\\ncreateEl(type, properties, attributes). Attempting to set \"</span>+e+<span class=\"code-string\">\" to \"</span>+t+<span class=\"code-string\">\".\"</span>),r.setAttribute(e,t)):<span class=\"code-string\">\"textContent\"</span>===e?J(r,t):r[e]===t&amp;&amp;<span class=\"code-string\">\"tabIndex\"</span>!==e||(r[e]=t)}),<span class=\"code-built_in\">Object</span>.getOwnPropertyNames(t).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r.setAttribute(e,t[e])}),n&amp;&amp;ye(r,n),r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">J</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> e.textContent?e.innerText=t:e.textContent=t,e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Z</span>(<span class=\"code-params\">e,t</span>)</span>{t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ee</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> z(t),e.classList?e.classList.contains(t):<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"(^|\\\\s)\"</span>+t+<span class=\"code-string\">\"($|\\\\s)\"</span>).test(e.className)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">te</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.classList?e.classList.add(t):ee(e,t)||(e.className=(e.className+<span class=\"code-string\">\" \"</span>+t).trim()),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ie</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e?(e.classList?e.classList.remove(t):(z(t),e.className=e.className.split(<span class=\"code-regexp\">/\\s+/</span>).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e!==t}).join(<span class=\"code-string\">\" \"</span>)),e):(h.warn(<span class=\"code-string\">\"removeClass was called with an element that doesn't exist\"</span>),<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ne</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=ee(e,t);<span class=\"code-keyword\">if</span>((i=<span class=\"code-string\">\"boolean\"</span>!=<span class=\"code-keyword\">typeof</span>(i=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> i?i(e,t):i)?!n:i)!==n)<span class=\"code-keyword\">return</span>(i?te:ie)(e,t),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">re</span>(<span class=\"code-params\">i,n</span>)</span>{<span class=\"code-built_in\">Object</span>.getOwnPropertyNames(n).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=n[e];<span class=\"code-literal\">null</span>===t||<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t||!<span class=\"code-number\">1</span>===t?i.removeAttribute(e):i.setAttribute(e,!<span class=\"code-number\">0</span>===t?<span class=\"code-string\">\"\"</span>:t)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ae</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={},i=<span class=\"code-string\">\",autoplay,controls,playsinline,loop,muted,default,defaultMuted,\"</span>;<span class=\"code-keyword\">if</span>(e&amp;&amp;e.attributes&amp;&amp;<span class=\"code-number\">0</span>&lt;e.attributes.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.attributes,r=n.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=r;r--){<span class=\"code-keyword\">var</span> a=n[r].name,s=n[r].value;<span class=\"code-string\">\"boolean\"</span>!=<span class=\"code-keyword\">typeof</span> e[a]&amp;&amp;<span class=\"code-number\">-1</span>===i.indexOf(<span class=\"code-string\">\",\"</span>+a+<span class=\"code-string\">\",\"</span>)||(s=<span class=\"code-literal\">null</span>!==s),t[a]=s}<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">se</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.getAttribute(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oe</span>(<span class=\"code-params\">e,t,i</span>)</span>{e.setAttribute(t,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ue</span>(<span class=\"code-params\">e,t</span>)</span>{e.removeAttribute(t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">le</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">document</span>.body.focus(),<span class=\"code-built_in\">document</span>.onselectstart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ce</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">document</span>.onselectstart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">de</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e.getBoundingClientRect&amp;&amp;e.parentNode){<span class=\"code-keyword\">var</span> t=e.getBoundingClientRect(),i={};<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"bottom\"</span>,<span class=\"code-string\">\"height\"</span>,<span class=\"code-string\">\"left\"</span>,<span class=\"code-string\">\"right\"</span>,<span class=\"code-string\">\"top\"</span>,<span class=\"code-string\">\"width\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t[e]&amp;&amp;(i[e]=t[e])}),i.height||(i.height=<span class=\"code-built_in\">parseFloat</span>(w(e,<span class=\"code-string\">\"height\"</span>))),i.width||(i.width=<span class=\"code-built_in\">parseFloat</span>(w(e,<span class=\"code-string\">\"width\"</span>))),i}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">he</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e||e&amp;&amp;!e.offsetParent)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">left</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">top</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">width</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">height</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.offsetWidth,i=e.offsetHeight,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>;e.offsetParent&amp;&amp;e!==<span class=\"code-built_in\">document</span>[l.fullscreenElement];)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">left</span>:n,<span class=\"code-attr\">top</span>:r,<span class=\"code-attr\">width</span>:t,<span class=\"code-attr\">height</span>:i}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pe</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i={<span class=\"code-attr\">x</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">y</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">if</span>(q)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e;n&amp;&amp;<span class=\"code-string\">\"html\"</span>!==n.nodeName.toLowerCase();){<span class=\"code-keyword\">var</span> r,a=w(n,<span class=\"code-string\">\"transform\"</span>);<span class=\"code-regexp\">/^matrix/</span>.test(a)?(r=a.slice(<span class=\"code-number\">7</span>,<span class=\"code-number\">-1</span>).split(<span class=\"code-regexp\">/,\\s/</span>).map(<span class=\"code-built_in\">Number</span>),i.x+=r[<span class=\"code-number\">4</span>],i.y+=r[<span class=\"code-number\">5</span>]):<span class=\"code-regexp\">/^matrix3d/</span>.test(a)&amp;&amp;(a=a.slice(<span class=\"code-number\">9</span>,<span class=\"code-number\">-1</span>).split(<span class=\"code-regexp\">/,\\s/</span>).map(<span class=\"code-built_in\">Number</span>),i.x+=a[<span class=\"code-number\">12</span>],i.y+=a[<span class=\"code-number\">13</span>]),n=n.parentNode}<span class=\"code-keyword\">var</span> s={},o=he(t.target),u=he(e),l=u.width,c=u.height,e=t.offsetY-(u.top-o.top),o=t.offsetX-(u.left-o.left);<span class=\"code-keyword\">return</span> t.changedTouches&amp;&amp;(o=t.changedTouches[<span class=\"code-number\">0</span>].pageX-u.left,e=t.changedTouches[<span class=\"code-number\">0</span>].pageY+u.top,q&amp;&amp;(o-=i.x,e-=i.y)),s.y=<span class=\"code-number\">1</span>-<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">1</span>,e/c)),s.x=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">1</span>,o/l)),s}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> T(e)&amp;&amp;<span class=\"code-number\">3</span>===e.nodeType}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">me</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(;e.firstChild;)e.removeChild(e.firstChild);<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ge</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(e=e()),(<span class=\"code-built_in\">Array</span>.isArray(e)?e:[e]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> K(e=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e?e():e)||fe(e)?e:<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-regexp\">/\\S/</span>.test(e)?<span class=\"code-built_in\">document</span>.createTextNode(e):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ye</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> ge(e).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.appendChild(e)}),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ve</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> ye(me(e),t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.button&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.buttons||(<span class=\"code-number\">0</span>===e.button&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.buttons||(<span class=\"code-string\">\"mouseup\"</span>===e.type&amp;&amp;<span class=\"code-number\">0</span>===e.button&amp;&amp;<span class=\"code-number\">0</span>===e.buttons||<span class=\"code-number\">0</span>===e.button&amp;&amp;<span class=\"code-number\">1</span>===e.buttons))}<span class=\"code-keyword\">var</span> be,Te=Q(<span class=\"code-string\">\"querySelector\"</span>),Se=Q(<span class=\"code-string\">\"querySelectorAll\"</span>),we=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">isReal</span>:X,<span class=\"code-attr\">isEl</span>:K,<span class=\"code-attr\">isInFrame</span>:Y,<span class=\"code-attr\">createEl</span>:$,<span class=\"code-attr\">textContent</span>:J,<span class=\"code-attr\">prependTo</span>:Z,<span class=\"code-attr\">hasClass</span>:ee,<span class=\"code-attr\">addClass</span>:te,<span class=\"code-attr\">removeClass</span>:ie,<span class=\"code-attr\">toggleClass</span>:ne,<span class=\"code-attr\">setAttributes</span>:re,<span class=\"code-attr\">getAttributes</span>:ae,<span class=\"code-attr\">getAttribute</span>:se,<span class=\"code-attr\">setAttribute</span>:oe,<span class=\"code-attr\">removeAttribute</span>:ue,<span class=\"code-attr\">blockTextSelection</span>:le,<span class=\"code-attr\">unblockTextSelection</span>:ce,<span class=\"code-attr\">getBoundingClientRect</span>:de,<span class=\"code-attr\">findPosition</span>:he,<span class=\"code-attr\">getPointerPosition</span>:pe,<span class=\"code-attr\">isTextNode</span>:fe,<span class=\"code-attr\">emptyEl</span>:me,<span class=\"code-attr\">normalizeContent</span>:ge,<span class=\"code-attr\">appendContent</span>:ye,<span class=\"code-attr\">insertContent</span>:ve,<span class=\"code-attr\">isSingleLeftClick</span>:_e,<span class=\"code-attr\">$</span>:Te,<span class=\"code-attr\">$$</span>:Se}),Ee=!<span class=\"code-number\">1</span>,ke=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>!==be.options.autoSetup){<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">document</span>.getElementsByTagName(<span class=\"code-string\">\"video\"</span>)),t=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">document</span>.getElementsByTagName(<span class=\"code-string\">\"audio\"</span>)),i=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">document</span>.getElementsByTagName(<span class=\"code-string\">\"video-js\"</span>)),n=e.concat(t,i);<span class=\"code-keyword\">if</span>(n&amp;&amp;<span class=\"code-number\">0</span>&lt;n.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,a=n.length;r&lt;a;r++){<span class=\"code-keyword\">var</span> s=n[r];<span class=\"code-keyword\">if</span>(!s||!s.getAttribute){Ce(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s.player&amp;&amp;<span class=\"code-literal\">null</span>!==s.getAttribute(<span class=\"code-string\">\"data-setup\"</span>)&amp;&amp;be(s)}<span class=\"code-keyword\">else</span> Ee||Ce(<span class=\"code-number\">1</span>)}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ce</span>(<span class=\"code-params\">e,t</span>)</span>{X()&amp;&amp;(t&amp;&amp;(be=t),<span class=\"code-built_in\">window</span>.setTimeout(ke,e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ie</span>(<span class=\"code-params\"></span>)</span>{Ee=!<span class=\"code-number\">0</span>,<span class=\"code-built_in\">window</span>.removeEventListener(<span class=\"code-string\">\"load\"</span>,Ie)}X()&amp;&amp;(<span class=\"code-string\">\"complete\"</span>===<span class=\"code-built_in\">document</span>.readyState?Ie():<span class=\"code-built_in\">window</span>.addEventListener(<span class=\"code-string\">\"load\"</span>,Ie));<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"style\"</span>);<span class=\"code-keyword\">return</span> t.className=e,t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ae</span>(<span class=\"code-params\">e,t</span>)</span>{e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}<span class=\"code-keyword\">var</span> Pe=<span class=\"code-number\">3</span>;<span class=\"code-built_in\">window</span>.WeakMap||(ui=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.vdata=<span class=\"code-string\">\"vdata\"</span>+<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-built_in\">window</span>.performance&amp;&amp;<span class=\"code-built_in\">window</span>.performance.now()||<span class=\"code-built_in\">Date</span>.now()),<span class=\"code-keyword\">this</span>.data={}}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e[<span class=\"code-keyword\">this</span>.vdata]||Pe++;<span class=\"code-keyword\">return</span> e[<span class=\"code-keyword\">this</span>.vdata]||(e[<span class=\"code-keyword\">this</span>.vdata]=i),<span class=\"code-keyword\">this</span>.data[i]=t,<span class=\"code-keyword\">this</span>},t.get=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e[<span class=\"code-keyword\">this</span>.vdata];<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data[t];h(<span class=\"code-string\">\"We have no data for this element\"</span>,e)},t.has=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e[<span class=\"code-keyword\">this</span>.vdata]<span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.data},t.delete=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e[<span class=\"code-keyword\">this</span>.vdata];t&amp;&amp;(<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.data[t],<span class=\"code-keyword\">delete</span> e[<span class=\"code-keyword\">this</span>.vdata])},e}());<span class=\"code-keyword\">var</span> Le,De=<span class=\"code-keyword\">new</span>(<span class=\"code-built_in\">window</span>.WeakMap?<span class=\"code-built_in\">WeakMap</span>:ui);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oe</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;De.has(e)&amp;&amp;(<span class=\"code-number\">0</span>===(i=De.get(e)).handlers[t].length&amp;&amp;(<span class=\"code-keyword\">delete</span> i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!<span class=\"code-number\">1</span>):e.detachEvent&amp;&amp;e.detachEvent(<span class=\"code-string\">\"on\"</span>+t,i.dispatcher)),<span class=\"code-built_in\">Object</span>.getOwnPropertyNames(i.handlers).length&lt;=<span class=\"code-number\">0</span>&amp;&amp;(<span class=\"code-keyword\">delete</span> i.handlers,<span class=\"code-keyword\">delete</span> i.dispatcher,<span class=\"code-keyword\">delete</span> i.disabled),<span class=\"code-number\">0</span>===<span class=\"code-built_in\">Object</span>.getOwnPropertyNames(i).length&amp;&amp;De.delete(e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Me</span>(<span class=\"code-params\">t,i,e,n</span>)</span>{e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t(i,e,n)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Re</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.fixed_)<span class=\"code-keyword\">return</span> e;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">if</span>(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){<span class=\"code-keyword\">var</span> n,r,a,s=e||<span class=\"code-built_in\">window</span>.event;<span class=\"code-keyword\">for</span>(n <span class=\"code-keyword\">in</span> e={},s)<span class=\"code-string\">\"layerX\"</span>!==n&amp;&amp;<span class=\"code-string\">\"layerY\"</span>!==n&amp;&amp;<span class=\"code-string\">\"keyLocation\"</span>!==n&amp;&amp;<span class=\"code-string\">\"webkitMovementX\"</span>!==n&amp;&amp;<span class=\"code-string\">\"webkitMovementY\"</span>!==n&amp;&amp;<span class=\"code-string\">\"path\"</span>!==n&amp;&amp;(<span class=\"code-string\">\"returnValue\"</span>===n&amp;&amp;s.preventDefault||(e[n]=s[n]));e.target||(e.target=e.srcElement||<span class=\"code-built_in\">document</span>),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.preventDefault&amp;&amp;s.preventDefault(),e.returnValue=!<span class=\"code-number\">1</span>,s.returnValue=!<span class=\"code-number\">1</span>,e.defaultPrevented=!<span class=\"code-number\">0</span>},e.defaultPrevented=!<span class=\"code-number\">1</span>,e.stopPropagation=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.stopPropagation&amp;&amp;s.stopPropagation(),e.cancelBubble=!<span class=\"code-number\">0</span>,s.cancelBubble=!<span class=\"code-number\">0</span>,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.stopImmediatePropagation&amp;&amp;s.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,<span class=\"code-literal\">null</span>!==e.clientX&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.clientX&amp;&amp;(r=<span class=\"code-built_in\">document</span>.documentElement,a=<span class=\"code-built_in\">document</span>.body,e.pageX=e.clientX+(r&amp;&amp;r.scrollLeft||a&amp;&amp;a.scrollLeft||<span class=\"code-number\">0</span>)-(r&amp;&amp;r.clientLeft||a&amp;&amp;a.clientLeft||<span class=\"code-number\">0</span>),e.pageY=e.clientY+(r&amp;&amp;r.scrollTop||a&amp;&amp;a.scrollTop||<span class=\"code-number\">0</span>)-(r&amp;&amp;r.clientTop||a&amp;&amp;a.clientTop||<span class=\"code-number\">0</span>)),e.which=e.charCode||e.keyCode,<span class=\"code-literal\">null</span>!==e.button&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.button&amp;&amp;(e.button=<span class=\"code-number\">1</span>&amp;e.button?<span class=\"code-number\">0</span>:<span class=\"code-number\">4</span>&amp;e.button?<span class=\"code-number\">1</span>:<span class=\"code-number\">2</span>&amp;e.button?<span class=\"code-number\">2</span>:<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">return</span> e.fixed_=!<span class=\"code-number\">0</span>,e}<span class=\"code-keyword\">var</span> Ne=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"boolean\"</span>!=<span class=\"code-keyword\">typeof</span> Le){Le=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Object</span>.defineProperty({},<span class=\"code-string\">\"passive\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Le=!<span class=\"code-number\">0</span>}});<span class=\"code-built_in\">window</span>.addEventListener(<span class=\"code-string\">\"test\"</span>,<span class=\"code-literal\">null</span>,e),<span class=\"code-built_in\">window</span>.removeEventListener(<span class=\"code-string\">\"test\"</span>,<span class=\"code-literal\">null</span>,e)}<span class=\"code-keyword\">catch</span>(e){}}<span class=\"code-keyword\">return</span> Le},Ue=[<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-string\">\"touchmove\"</span>];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Be</span>(<span class=\"code-params\">s,e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(e))<span class=\"code-keyword\">return</span> Me(Be,s,e,t);De.has(s)||De.set(s,{});<span class=\"code-keyword\">var</span> o=De.get(s);o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),t.guid||(t.guid=Pe++),o.handlers[e].push(t),o.dispatcher||(o.disabled=!<span class=\"code-number\">1</span>,o.dispatcher=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!o.disabled){e=Re(e);<span class=\"code-keyword\">var</span> i=o.handlers[e.type];<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=i.slice(<span class=\"code-number\">0</span>),r=<span class=\"code-number\">0</span>,a=n.length;r&lt;a&amp;&amp;!e.isImmediatePropagationStopped();r++)<span class=\"code-keyword\">try</span>{n[r].call(s,e,t)}<span class=\"code-keyword\">catch</span>(e){h.error(e)}}}),<span class=\"code-number\">1</span>===o.handlers[e].length&amp;&amp;(s.addEventListener?(t=!<span class=\"code-number\">1</span>,Ne()&amp;&amp;<span class=\"code-number\">-1</span>&lt;Ue.indexOf(e)&amp;&amp;(t={<span class=\"code-attr\">passive</span>:!<span class=\"code-number\">0</span>}),s.addEventListener(e,o.dispatcher,t)):s.attachEvent&amp;&amp;s.attachEvent(<span class=\"code-string\">\"on\"</span>+e,o.dispatcher))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fe</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(De.has(e)){<span class=\"code-keyword\">var</span> n=De.get(e);<span class=\"code-keyword\">if</span>(n.handlers){<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">return</span> Me(Fe,e,t,i);<span class=\"code-keyword\">var</span> r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{n.handlers[t]=[],Oe(e,t)};<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t){<span class=\"code-keyword\">var</span> a=n.handlers[t];<span class=\"code-keyword\">if</span>(a)<span class=\"code-keyword\">if</span>(i){<span class=\"code-keyword\">if</span>(i.guid)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>;s&lt;a.length;s++)a[s].guid===i.guid&amp;&amp;a.splice(s--,<span class=\"code-number\">1</span>);Oe(e,t)}<span class=\"code-keyword\">else</span> r(e,t)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> n.handlers)<span class=\"code-built_in\">Object</span>.prototype.hasOwnProperty.call(n.handlers||{},o)&amp;&amp;r(e,o)}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">je</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=De.has(e)?De.get(e):{},r=e.parentNode||e.ownerDocument;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t?t={<span class=\"code-attr\">type</span>:t,<span class=\"code-attr\">target</span>:e}:t.target||(t.target=e),t=Re(t),n.dispatcher&amp;&amp;n.dispatcher.call(e,t,i),r&amp;&amp;!t.isPropagationStopped()&amp;&amp;!<span class=\"code-number\">0</span>===t.bubbles?je.call(<span class=\"code-literal\">null</span>,r,t,i):!r&amp;&amp;!t.defaultPrevented&amp;&amp;t.target&amp;&amp;t.target[t.type]&amp;&amp;(De.has(t.target)||De.set(t.target,{}),r=De.get(t.target),t.target[t.type]&amp;&amp;(r.disabled=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t.target[t.type]&amp;&amp;t.target[t.type](),r.disabled=!<span class=\"code-number\">1</span>)),!t.defaultPrevented}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">He</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(t))<span class=\"code-keyword\">return</span> Me(He,e,t,i);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{Fe(e,t,n),i.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)}n.guid=i.guid=i.guid||Pe++,Be(e,t,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qe</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{Fe(e,t,n),i.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)}n.guid=i.guid=i.guid||Pe++,Be(e,t,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ve</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> t.guid||(t.guid=Pe++),(e=t.bind(e)).guid=i?i+<span class=\"code-string\">\"_\"</span>+t.guid:t.guid,e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">We</span>(<span class=\"code-params\">t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">window</span>.performance.now();<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">window</span>.performance.now();i&lt;=e-n&amp;&amp;(t.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">arguments</span>),n=e)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ge</span>(<span class=\"code-params\">n,r,a,s</span>)</span>{<span class=\"code-keyword\">var</span> o;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-built_in\">arguments</span>,i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i=o=<span class=\"code-literal\">null</span>,a||n.apply(e,t)};!o&amp;&amp;a&amp;&amp;n.apply(e,t),s.clearTimeout(o),o=s.setTimeout(i,r)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s&amp;&amp;(s=<span class=\"code-built_in\">window</span>),e.cancel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.clearTimeout(o),o=<span class=\"code-literal\">null</span>},e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ze</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-keyword\">var</span> Xe,Ke=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">fixEvent</span>:Re,<span class=\"code-attr\">on</span>:Be,<span class=\"code-attr\">off</span>:Fe,<span class=\"code-attr\">trigger</span>:je,<span class=\"code-attr\">one</span>:He,<span class=\"code-attr\">any</span>:qe});ze.prototype.allowedEvents_={},ze.prototype.addEventListener=ze.prototype.on=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.addEventListener;<span class=\"code-keyword\">this</span>.addEventListener=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},Be(<span class=\"code-keyword\">this</span>,e,t),<span class=\"code-keyword\">this</span>.addEventListener=i},ze.prototype.removeEventListener=ze.prototype.off=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{Fe(<span class=\"code-keyword\">this</span>,e,t)},ze.prototype.one=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.addEventListener;<span class=\"code-keyword\">this</span>.addEventListener=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},He(<span class=\"code-keyword\">this</span>,e,t),<span class=\"code-keyword\">this</span>.addEventListener=i},ze.prototype.any=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.addEventListener;<span class=\"code-keyword\">this</span>.addEventListener=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},qe(<span class=\"code-keyword\">this</span>,e,t),<span class=\"code-keyword\">this</span>.addEventListener=i},ze.prototype.dispatchEvent=ze.prototype.trigger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.type||e;e=Re(e=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?{<span class=\"code-attr\">type</span>:t}:e),<span class=\"code-keyword\">this</span>.allowedEvents_[t]&amp;&amp;<span class=\"code-keyword\">this</span>[<span class=\"code-string\">\"on\"</span>+t]&amp;&amp;<span class=\"code-keyword\">this</span>[<span class=\"code-string\">\"on\"</span>+t](e),je(<span class=\"code-keyword\">this</span>,e)},ze.prototype.queueTrigger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;Xe=Xe||<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>;<span class=\"code-keyword\">var</span> i=e.type||e,n=Xe.get(<span class=\"code-keyword\">this</span>);n||(n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Map</span>,Xe.set(<span class=\"code-keyword\">this</span>,n));<span class=\"code-keyword\">var</span> r=n.get(i);n.delete(i),<span class=\"code-built_in\">window</span>.clearTimeout(r);r=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">0</span>===n.size&amp;&amp;(n=<span class=\"code-literal\">null</span>,Xe.delete(t)),t.trigger(e)},<span class=\"code-number\">0</span>);n.set(i,r)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ye</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.name?e.name():<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e.name?e.name:e.name_||(e.constructor&amp;&amp;e.constructor.name?e.constructor.name:<span class=\"code-keyword\">typeof</span> e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-regexp\">/\\S/</span>.test(e)||<span class=\"code-built_in\">Array</span>.isArray(e)&amp;&amp;!!e.length}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!e||!e.nodeName&amp;&amp;!it(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid target for \"</span>+Ye(t)+<span class=\"code-string\">\"#\"</span>+i+<span class=\"code-string\">\"; must be a DOM node or evented object.\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Je</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!Qe(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid event type for \"</span>+Ye(t)+<span class=\"code-string\">\"#\"</span>+i+<span class=\"code-string\">\"; must be a non-empty string or array.\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ze</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid listener for \"</span>+Ye(t)+<span class=\"code-string\">\"#\"</span>+i+<span class=\"code-string\">\"; must be a function.\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">et</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a=t.length&lt;<span class=\"code-number\">3</span>||t[<span class=\"code-number\">0</span>]===e||t[<span class=\"code-number\">0</span>]===e.eventBusEl_,t=a?(n=e.eventBusEl_,<span class=\"code-number\">3</span>&lt;=t.length&amp;&amp;t.shift(),r=t[<span class=\"code-number\">0</span>],t[<span class=\"code-number\">1</span>]):(n=t[<span class=\"code-number\">0</span>],r=t[<span class=\"code-number\">1</span>],t[<span class=\"code-number\">2</span>]);<span class=\"code-keyword\">return</span> $e(n,e,i),Je(r,e,i),Ze(t,e,i),{<span class=\"code-attr\">isTargetingSelf</span>:a,<span class=\"code-attr\">target</span>:n,<span class=\"code-attr\">type</span>:r,<span class=\"code-attr\">listener</span>:t=Ve(e,t)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tt</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{$e(e,e,t),e.nodeName?Ke[t](e,i,n):e[t](i,n)}<span class=\"code-keyword\">var</span> it=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> t <span class=\"code-keyword\">instanceof</span> ze||!!t.eventBusEl_&amp;&amp;[<span class=\"code-string\">\"on\"</span>,<span class=\"code-string\">\"one\"</span>,<span class=\"code-string\">\"off\"</span>,<span class=\"code-string\">\"trigger\"</span>].every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t[e]})},nt={<span class=\"code-attr\">on</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-built_in\">arguments</span>.length,i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(t),n=<span class=\"code-number\">0</span>;n&lt;t;n++)i[n]=<span class=\"code-built_in\">arguments</span>[n];<span class=\"code-keyword\">var</span> r,a=et(<span class=\"code-keyword\">this</span>,i,<span class=\"code-string\">\"on\"</span>),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;tt(o,<span class=\"code-string\">\"on\"</span>,u,l),s||((r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.off(o,u,l)}).guid=l.guid,(s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.off(<span class=\"code-string\">\"dispose\"</span>,r)}).guid=l.guid,tt(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"on\"</span>,<span class=\"code-string\">\"dispose\"</span>,r),tt(o,<span class=\"code-string\">\"on\"</span>,<span class=\"code-string\">\"dispose\"</span>,s))},<span class=\"code-attr\">one</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">var</span> n=et(<span class=\"code-keyword\">this</span>,t,<span class=\"code-string\">\"one\"</span>),a=n.isTargetingSelf,s=n.target,o=n.type,u=n.listener;a?tt(s,<span class=\"code-string\">\"one\"</span>,o,u):((a=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{r.off(s,o,e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">arguments</span>.length,i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(t),n=<span class=\"code-number\">0</span>;n&lt;t;n++)i[n]=<span class=\"code-built_in\">arguments</span>[n];u.apply(<span class=\"code-literal\">null</span>,i)}).guid=u.guid,tt(s,<span class=\"code-string\">\"one\"</span>,o,a))},<span class=\"code-attr\">any</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">var</span> n=et(<span class=\"code-keyword\">this</span>,t,<span class=\"code-string\">\"any\"</span>),a=n.isTargetingSelf,s=n.target,o=n.type,u=n.listener;a?tt(s,<span class=\"code-string\">\"any\"</span>,o,u):((a=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{r.off(s,o,e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">arguments</span>.length,i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(t),n=<span class=\"code-number\">0</span>;n&lt;t;n++)i[n]=<span class=\"code-built_in\">arguments</span>[n];u.apply(<span class=\"code-literal\">null</span>,i)}).guid=u.guid,tt(s,<span class=\"code-string\">\"any\"</span>,o,a))},<span class=\"code-attr\">off</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{!e||Qe(e)?Fe(<span class=\"code-keyword\">this</span>.eventBusEl_,e,t):(t=t,$e(e=e,<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"off\"</span>),Je(t,<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"off\"</span>),Ze(i,<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"off\"</span>),i=Ve(<span class=\"code-keyword\">this</span>,i),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"dispose\"</span>,i),e.nodeName?(Fe(e,t,i),Fe(e,<span class=\"code-string\">\"dispose\"</span>,i)):it(e)&amp;&amp;(e.off(t,i),e.off(<span class=\"code-string\">\"dispose\"</span>,i)))},<span class=\"code-attr\">trigger</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{$e(<span class=\"code-keyword\">this</span>.eventBusEl_,<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"trigger\"</span>);<span class=\"code-keyword\">var</span> i=e&amp;&amp;<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e?e.type:e;<span class=\"code-keyword\">if</span>(!Qe(i)){i=<span class=\"code-string\">\"Invalid event type for \"</span>+Ye(<span class=\"code-keyword\">this</span>)+<span class=\"code-string\">\"#trigger; must be a non-empty string or object with a type key that has a non-empty value.\"</span>;<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(i);(<span class=\"code-keyword\">this</span>.log||h).error(i)}<span class=\"code-keyword\">return</span> je(<span class=\"code-keyword\">this</span>.eventBusEl_,e,t)}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rt</span>(<span class=\"code-params\">e,t</span>)</span>{t=(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).eventBusKey;<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">if</span>(!e[t].nodeName)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'The eventBusKey \"'</span>+t+<span class=\"code-string\">'\" does not refer to an element.'</span>);e.eventBusEl_=e[t]}<span class=\"code-keyword\">else</span> e.eventBusEl_=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-event-bus\"</span>});<span class=\"code-keyword\">return</span> b(e,nt),e.eventedCallbacks&amp;&amp;e.eventedCallbacks.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e()}),e.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.off(),[e,e.el_,e.eventBusEl_].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e&amp;&amp;De.has(e)&amp;&amp;De.delete(e)}),<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.eventBusEl_=<span class=\"code-literal\">null</span>},<span class=\"code-number\">0</span>)}),e}<span class=\"code-keyword\">var</span> at={<span class=\"code-attr\">state</span>:{},<span class=\"code-attr\">setState</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> _(e=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e?e():e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{n.state[t]!==e&amp;&amp;((i=i||{})[t]={<span class=\"code-attr\">from</span>:n.state[t],<span class=\"code-attr\">to</span>:e}),n.state[t]=e}),i&amp;&amp;it(<span class=\"code-keyword\">this</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">changes</span>:i,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"statechanged\"</span>}),i}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">st</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> b(e,at),e.state=b({},e.state,t),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.handleStateChanged&amp;&amp;it(e)&amp;&amp;e.on(<span class=\"code-string\">\"statechanged\"</span>,e.handleStateChanged),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ot</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e?e:e.replace(<span class=\"code-regexp\">/./</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.toLowerCase()})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ut</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e?e:e.replace(<span class=\"code-regexp\">/./</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.toUpperCase()})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lt</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i={},e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),n=<span class=\"code-number\">0</span>;n&lt;e;n++)t[n]=<span class=\"code-built_in\">arguments</span>[n];<span class=\"code-keyword\">return</span> t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e&amp;&amp;_(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{S(e)?(S(i[t])||(i[t]={}),i[t]=lt(i[t],e)):i[t]=e})}),i}<span class=\"code-keyword\">var</span> ct=<span class=\"code-built_in\">window</span>.Map||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.map_={}}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.has=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.map_},t.delete=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.has(e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.map_[e],t},t.set=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.map_[e]=t,<span class=\"code-keyword\">this</span>},t.forEach=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.map_)e.call(t,<span class=\"code-keyword\">this</span>.map_[i],i,<span class=\"code-keyword\">this</span>)},e}(),dt=<span class=\"code-built_in\">window</span>.Set||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.set_={}}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.has=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.set_},t.delete=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.has(e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.set_[e],t},t.add=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.set_[e]=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>},t.forEach=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.set_)e.call(t,i,i,<span class=\"code-keyword\">this</span>)},e}(),ht=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e||<span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> e||(t=e.which||e.keyCode||e.charCode)&amp;&amp;(e=t),<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">return</span> o[e];<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">String</span>(e),e=n[t.toLowerCase()];<span class=\"code-keyword\">return</span> e||((e=r[t.toLowerCase()])?e:<span class=\"code-number\">1</span>===t.length?t.charCodeAt(<span class=\"code-number\">0</span>):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)}i.isEventKey=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">var</span> i=e.which||e.keyCode||e.charCode;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>==i)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t){e=n[t.toLowerCase()];<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> e===i;<span class=\"code-keyword\">if</span>(e=r[t.toLowerCase()])<span class=\"code-keyword\">return</span> e===i}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t)<span class=\"code-keyword\">return</span> t===i;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=(t=e.exports=i).code=t.codes={<span class=\"code-attr\">backspace</span>:<span class=\"code-number\">8</span>,<span class=\"code-attr\">tab</span>:<span class=\"code-number\">9</span>,<span class=\"code-attr\">enter</span>:<span class=\"code-number\">13</span>,<span class=\"code-attr\">shift</span>:<span class=\"code-number\">16</span>,<span class=\"code-attr\">ctrl</span>:<span class=\"code-number\">17</span>,<span class=\"code-attr\">alt</span>:<span class=\"code-number\">18</span>,<span class=\"code-string\">\"pause/break\"</span>:<span class=\"code-number\">19</span>,<span class=\"code-string\">\"caps lock\"</span>:<span class=\"code-number\">20</span>,<span class=\"code-attr\">esc</span>:<span class=\"code-number\">27</span>,<span class=\"code-attr\">space</span>:<span class=\"code-number\">32</span>,<span class=\"code-string\">\"page up\"</span>:<span class=\"code-number\">33</span>,<span class=\"code-string\">\"page down\"</span>:<span class=\"code-number\">34</span>,<span class=\"code-attr\">end</span>:<span class=\"code-number\">35</span>,<span class=\"code-attr\">home</span>:<span class=\"code-number\">36</span>,<span class=\"code-attr\">left</span>:<span class=\"code-number\">37</span>,<span class=\"code-attr\">up</span>:<span class=\"code-number\">38</span>,<span class=\"code-attr\">right</span>:<span class=\"code-number\">39</span>,<span class=\"code-attr\">down</span>:<span class=\"code-number\">40</span>,<span class=\"code-attr\">insert</span>:<span class=\"code-number\">45</span>,<span class=\"code-attr\">delete</span>:<span class=\"code-number\">46</span>,<span class=\"code-attr\">command</span>:<span class=\"code-number\">91</span>,<span class=\"code-string\">\"left command\"</span>:<span class=\"code-number\">91</span>,<span class=\"code-string\">\"right command\"</span>:<span class=\"code-number\">93</span>,<span class=\"code-string\">\"numpad *\"</span>:<span class=\"code-number\">106</span>,<span class=\"code-string\">\"numpad +\"</span>:<span class=\"code-number\">107</span>,<span class=\"code-string\">\"numpad -\"</span>:<span class=\"code-number\">109</span>,<span class=\"code-string\">\"numpad .\"</span>:<span class=\"code-number\">110</span>,<span class=\"code-string\">\"numpad /\"</span>:<span class=\"code-number\">111</span>,<span class=\"code-string\">\"num lock\"</span>:<span class=\"code-number\">144</span>,<span class=\"code-string\">\"scroll lock\"</span>:<span class=\"code-number\">145</span>,<span class=\"code-string\">\"my computer\"</span>:<span class=\"code-number\">182</span>,<span class=\"code-string\">\"my calculator\"</span>:<span class=\"code-number\">183</span>,<span class=\"code-string\">\";\"</span>:<span class=\"code-number\">186</span>,<span class=\"code-string\">\"=\"</span>:<span class=\"code-number\">187</span>,<span class=\"code-string\">\",\"</span>:<span class=\"code-number\">188</span>,<span class=\"code-string\">\"-\"</span>:<span class=\"code-number\">189</span>,<span class=\"code-string\">\".\"</span>:<span class=\"code-number\">190</span>,<span class=\"code-string\">\"/\"</span>:<span class=\"code-number\">191</span>,<span class=\"code-string\">\"`\"</span>:<span class=\"code-number\">192</span>,<span class=\"code-string\">\"[\"</span>:<span class=\"code-number\">219</span>,<span class=\"code-string\">\"\\\\\"</span>:<span class=\"code-number\">220</span>,<span class=\"code-string\">\"]\"</span>:<span class=\"code-number\">221</span>,<span class=\"code-string\">\"'\"</span>:<span class=\"code-number\">222</span>},r=t.aliases={<span class=\"code-attr\">windows</span>:<span class=\"code-number\">91</span>,<span class=\"code-string\">\"\u21E7\"</span>:<span class=\"code-number\">16</span>,<span class=\"code-string\">\"\u2325\"</span>:<span class=\"code-number\">18</span>,<span class=\"code-string\">\"\u2303\"</span>:<span class=\"code-number\">17</span>,<span class=\"code-string\">\"\u2318\"</span>:<span class=\"code-number\">91</span>,<span class=\"code-attr\">ctl</span>:<span class=\"code-number\">17</span>,<span class=\"code-attr\">control</span>:<span class=\"code-number\">17</span>,<span class=\"code-attr\">option</span>:<span class=\"code-number\">18</span>,<span class=\"code-attr\">pause</span>:<span class=\"code-number\">19</span>,<span class=\"code-attr\">break</span>:<span class=\"code-number\">19</span>,<span class=\"code-attr\">caps</span>:<span class=\"code-number\">20</span>,<span class=\"code-attr\">return</span>:<span class=\"code-number\">13</span>,<span class=\"code-attr\">escape</span>:<span class=\"code-number\">27</span>,<span class=\"code-attr\">spc</span>:<span class=\"code-number\">32</span>,<span class=\"code-attr\">spacebar</span>:<span class=\"code-number\">32</span>,<span class=\"code-attr\">pgup</span>:<span class=\"code-number\">33</span>,<span class=\"code-attr\">pgdn</span>:<span class=\"code-number\">34</span>,<span class=\"code-attr\">ins</span>:<span class=\"code-number\">45</span>,<span class=\"code-attr\">del</span>:<span class=\"code-number\">46</span>,<span class=\"code-attr\">cmd</span>:<span class=\"code-number\">91</span>},a=<span class=\"code-number\">97</span>;a&lt;<span class=\"code-number\">123</span>;a++)n[<span class=\"code-built_in\">String</span>.fromCharCode(a)]=a<span class=\"code-number\">-32</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">48</span>;a&lt;<span class=\"code-number\">58</span>;a++)n[a<span class=\"code-number\">-48</span>]=a;<span class=\"code-keyword\">for</span>(a=<span class=\"code-number\">1</span>;a&lt;<span class=\"code-number\">13</span>;a++)n[<span class=\"code-string\">\"f\"</span>+a]=a+<span class=\"code-number\">111</span>;<span class=\"code-keyword\">for</span>(a=<span class=\"code-number\">0</span>;a&lt;<span class=\"code-number\">10</span>;a++)n[<span class=\"code-string\">\"numpad \"</span>+a]=a+<span class=\"code-number\">96</span>;<span class=\"code-keyword\">var</span> s,o=t.names=t.title={};<span class=\"code-keyword\">for</span>(a <span class=\"code-keyword\">in</span> n)o[n[a]]=a;<span class=\"code-keyword\">for</span>(s <span class=\"code-keyword\">in</span> r)n[s]=r[s]});ht.code,ht.codes,ht.aliases,ht.names,ht.title;<span class=\"code-keyword\">var</span> pt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;!e&amp;&amp;<span class=\"code-keyword\">this</span>.play?<span class=\"code-keyword\">this</span>.player_=e=<span class=\"code-keyword\">this</span>:<span class=\"code-keyword\">this</span>.player_=e,<span class=\"code-keyword\">this</span>.isDisposed_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.parentComponent_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.options_=lt({},<span class=\"code-keyword\">this</span>.options_),t=<span class=\"code-keyword\">this</span>.options_=lt(<span class=\"code-keyword\">this</span>.options_,t),<span class=\"code-keyword\">this</span>.id_=t.id||t.el&amp;&amp;t.el.id,<span class=\"code-keyword\">this</span>.id_||(e=e&amp;&amp;e.id&amp;&amp;e.id()||<span class=\"code-string\">\"no_player\"</span>,<span class=\"code-keyword\">this</span>.id_=e+<span class=\"code-string\">\"_component_\"</span>+Pe++),<span class=\"code-keyword\">this</span>.name_=t.name||<span class=\"code-literal\">null</span>,t.el?<span class=\"code-keyword\">this</span>.el_=t.el:!<span class=\"code-number\">1</span>!==t.createEl&amp;&amp;(<span class=\"code-keyword\">this</span>.el_=<span class=\"code-keyword\">this</span>.createEl()),t.className&amp;&amp;<span class=\"code-keyword\">this</span>.el_&amp;&amp;t.className.split(<span class=\"code-string\">\" \"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.addClass(e)}),!<span class=\"code-number\">1</span>!==t.evented&amp;&amp;(rt(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">eventBusKey</span>:<span class=\"code-keyword\">this</span>.el_?<span class=\"code-string\">\"el_\"</span>:<span class=\"code-literal\">null</span>}),<span class=\"code-keyword\">this</span>.handleLanguagechange=<span class=\"code-keyword\">this</span>.handleLanguagechange.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"languagechange\"</span>,<span class=\"code-keyword\">this</span>.handleLanguagechange)),st(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.constructor.defaultState),<span class=\"code-keyword\">this</span>.children_=[],<span class=\"code-keyword\">this</span>.childIndex_={},<span class=\"code-keyword\">this</span>.childNameIndex_={},<span class=\"code-keyword\">this</span>.setTimeoutIds_=<span class=\"code-keyword\">new</span> dt,<span class=\"code-keyword\">this</span>.setIntervalIds_=<span class=\"code-keyword\">new</span> dt,<span class=\"code-keyword\">this</span>.rafIds_=<span class=\"code-keyword\">new</span> dt,<span class=\"code-keyword\">this</span>.namedRafs_=<span class=\"code-keyword\">new</span> ct,(<span class=\"code-keyword\">this</span>.clearingTimersOnDispose_=!<span class=\"code-number\">1</span>)!==t.initChildren&amp;&amp;<span class=\"code-keyword\">this</span>.initChildren(),<span class=\"code-keyword\">this</span>.ready(i),!<span class=\"code-number\">1</span>!==t.reportTouchActivity&amp;&amp;<span class=\"code-keyword\">this</span>.enableTouchActivity()}<span class=\"code-keyword\">var</span> e=s.prototype;<span class=\"code-keyword\">return</span> e.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={}),!<span class=\"code-keyword\">this</span>.isDisposed_){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.readyQueue_&amp;&amp;(<span class=\"code-keyword\">this</span>.readyQueue_.length=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-attr\">bubbles</span>:!<span class=\"code-number\">1</span>}),<span class=\"code-keyword\">this</span>.isDisposed_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.children_)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.children_.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=t;t--)<span class=\"code-keyword\">this</span>.children_[t].dispose&amp;&amp;<span class=\"code-keyword\">this</span>.children_[t].dispose();<span class=\"code-keyword\">this</span>.children_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.childIndex_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.childNameIndex_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.parentComponent_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.el_&amp;&amp;(<span class=\"code-keyword\">this</span>.el_.parentNode&amp;&amp;(e.restoreEl?<span class=\"code-keyword\">this</span>.el_.parentNode.replaceChild(e.restoreEl,<span class=\"code-keyword\">this</span>.el_):<span class=\"code-keyword\">this</span>.el_.parentNode.removeChild(<span class=\"code-keyword\">this</span>.el_)),<span class=\"code-keyword\">this</span>.el_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.player_=<span class=\"code-literal\">null</span>}},e.isDisposed=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Boolean</span>(<span class=\"code-keyword\">this</span>.isDisposed_)},e.player=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.player_},e.options=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;(<span class=\"code-keyword\">this</span>.options_=lt(<span class=\"code-keyword\">this</span>.options_,e)),<span class=\"code-keyword\">this</span>.options_},e.el=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_},e.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> $(e,t,i)},e.localize=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,i,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=e);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.player_.language&amp;&amp;<span class=\"code-keyword\">this</span>.player_.language(),r=<span class=\"code-keyword\">this</span>.player_.languages&amp;&amp;<span class=\"code-keyword\">this</span>.player_.languages(),a=r&amp;&amp;r[n],n=n&amp;&amp;n.split(<span class=\"code-string\">\"-\"</span>)[<span class=\"code-number\">0</span>],n=r&amp;&amp;r[n],t=t;<span class=\"code-keyword\">return</span> a&amp;&amp;a[e]?t=a[e]:n&amp;&amp;n[e]&amp;&amp;(t=n[e]),t=i?t.replace(<span class=\"code-regexp\">/\\{(\\d+)\\}/g</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=i[t<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t?e:t}):t},e.handleLanguagechange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.contentEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.contentEl_||<span class=\"code-keyword\">this</span>.el_},e.id=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.id_},e.name=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.name_},e.children=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.children_},e.getChildById=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.childIndex_[e]},e.getChild=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.childNameIndex_[e]},e.getDescendant=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.concat(t)},[]),n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-number\">0</span>;r&lt;t.length;r++)<span class=\"code-keyword\">if</span>(!(n=n.getChild(t[r]))||!n.getChild)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">return</span> n},e.addChild=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-keyword\">this</span>.children_.length),<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">var</span> n=ut(e),r=t.componentClass||n;t.name=n;<span class=\"code-keyword\">var</span> a=s.getComponent(r);<span class=\"code-keyword\">if</span>(!a)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Component \"</span>+r+<span class=\"code-string\">\" does not exist\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> a)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;a=<span class=\"code-keyword\">new</span> a(<span class=\"code-keyword\">this</span>.player_||<span class=\"code-keyword\">this</span>,t)}<span class=\"code-keyword\">else</span> a=e;<span class=\"code-keyword\">return</span> a.parentComponent_&amp;&amp;a.parentComponent_.removeChild(a),<span class=\"code-keyword\">this</span>.children_.splice(i,<span class=\"code-number\">0</span>,a),a.parentComponent_=<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> a.id&amp;&amp;(<span class=\"code-keyword\">this</span>.childIndex_[a.id()]=a),(n=n||a.name&amp;&amp;ut(a.name()))&amp;&amp;(<span class=\"code-keyword\">this</span>.childNameIndex_[n]=a,<span class=\"code-keyword\">this</span>.childNameIndex_[ot(n)]=a),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> a.el&amp;&amp;a.el()&amp;&amp;(n=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.children_[i+<span class=\"code-number\">1</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>.children_[i+<span class=\"code-number\">1</span>].el_?n=<span class=\"code-keyword\">this</span>.children_[i+<span class=\"code-number\">1</span>].el_:K(<span class=\"code-keyword\">this</span>.children_[i+<span class=\"code-number\">1</span>])&amp;&amp;(n=<span class=\"code-keyword\">this</span>.children_[i+<span class=\"code-number\">1</span>])),<span class=\"code-keyword\">this</span>.contentEl().insertBefore(a.el(),n)),a},e.removeChild=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>((e=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?<span class=\"code-keyword\">this</span>.getChild(e):e)&amp;&amp;<span class=\"code-keyword\">this</span>.children_){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=!<span class=\"code-number\">1</span>,n=<span class=\"code-keyword\">this</span>.children_.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=n;n--)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.children_[n]===e){i=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.children_.splice(n,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>}i&amp;&amp;(e.parentComponent_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.childIndex_[e.id()]=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.childNameIndex_[ut(e.name())]=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.childNameIndex_[ot(e.name())]=<span class=\"code-literal\">null</span>,(t=e.el())&amp;&amp;t.parentNode===<span class=\"code-keyword\">this</span>.contentEl()&amp;&amp;<span class=\"code-keyword\">this</span>.contentEl().removeChild(e.el()))}},e.initChildren=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i,t,e,n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.options_.children;r&amp;&amp;(i=<span class=\"code-keyword\">this</span>.options_,t=s.getComponent(<span class=\"code-string\">\"Tech\"</span>),(e=<span class=\"code-built_in\">Array</span>.isArray(r)?r:<span class=\"code-built_in\">Object</span>.keys(r)).concat(<span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.options_).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span>!e.some(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?t===e:t===e.name})})).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,e=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?r[t=e]||n.options_[t]||{}:(t=e.name,e);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">name</span>:t,<span class=\"code-attr\">opts</span>:e}}).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=s.getComponent(e.opts.componentClass||ut(e.name));<span class=\"code-keyword\">return</span> e&amp;&amp;!t.isTech(e)}).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.name,e=e.opts;!<span class=\"code-number\">1</span>!==(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i[t]?i[t]:e)&amp;&amp;((e=!<span class=\"code-number\">0</span>===e?{}:e).playerOptions=n.options_.playerOptions,(e=n.addChild(t,e))&amp;&amp;(n[t]=e))}))},e.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>},e.ready=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">1</span>),e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isReady_?<span class=\"code-keyword\">void</span>(t?e.call(<span class=\"code-keyword\">this</span>):<span class=\"code-keyword\">this</span>.setTimeout(e,<span class=\"code-number\">1</span>)):(<span class=\"code-keyword\">this</span>.readyQueue_=<span class=\"code-keyword\">this</span>.readyQueue_||[],<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.readyQueue_.push(e))},e.triggerReady=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isReady_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.readyQueue_;<span class=\"code-keyword\">this</span>.readyQueue_=[],e&amp;&amp;<span class=\"code-number\">0</span>&lt;e.length&amp;&amp;e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.call(<span class=\"code-keyword\">this</span>)},<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"ready\"</span>)},<span class=\"code-number\">1</span>)},e.$=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> Te(e,t||<span class=\"code-keyword\">this</span>.contentEl())},e.$$=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> Se(e,t||<span class=\"code-keyword\">this</span>.contentEl())},e.hasClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ee(<span class=\"code-keyword\">this</span>.el_,e)},e.addClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{te(<span class=\"code-keyword\">this</span>.el_,e)},e.removeClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ie(<span class=\"code-keyword\">this</span>.el_,e)},e.toggleClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{ne(<span class=\"code-keyword\">this</span>.el_,e,t)},e.show=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-hidden\"</span>)},e.hide=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>)},e.lockShowing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-lock-showing\"</span>)},e.unlockShowing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-lock-showing\"</span>)},e.getAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> se(<span class=\"code-keyword\">this</span>.el_,e)},e.setAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{oe(<span class=\"code-keyword\">this</span>.el_,e,t)},e.removeAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ue(<span class=\"code-keyword\">this</span>.el_,e)},e.width=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dimension(<span class=\"code-string\">\"width\"</span>,e,t)},e.height=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dimension(<span class=\"code-string\">\"height\"</span>,e,t)},e.dimensions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.width(e,!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.height(t)},e.dimension=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t)<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==(<span class=\"code-string\">\"\"</span>+(t=<span class=\"code-literal\">null</span>===t||t!=t?<span class=\"code-number\">0</span>:t)).indexOf(<span class=\"code-string\">\"%\"</span>)||<span class=\"code-number\">-1</span>!==(<span class=\"code-string\">\"\"</span>+t).indexOf(<span class=\"code-string\">\"px\"</span>)?<span class=\"code-keyword\">this</span>.el_.style[e]=t:<span class=\"code-keyword\">this</span>.el_.style[e]=<span class=\"code-string\">\"auto\"</span>===t?<span class=\"code-string\">\"\"</span>:t+<span class=\"code-string\">\"px\"</span>,<span class=\"code-keyword\">void</span>(i||<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"componentresize\"</span>));<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.el_)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>;t=<span class=\"code-keyword\">this</span>.el_.style[e],i=t.indexOf(<span class=\"code-string\">\"px\"</span>);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==i?<span class=\"code-built_in\">parseInt</span>(t.slice(<span class=\"code-number\">0</span>,i),<span class=\"code-number\">10</span>):<span class=\"code-built_in\">parseInt</span>(<span class=\"code-keyword\">this</span>.el_[<span class=\"code-string\">\"offset\"</span>+ut(e)],<span class=\"code-number\">10</span>)},e.currentDimension=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"width\"</span>!==e&amp;&amp;<span class=\"code-string\">\"height\"</span>!==e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"currentDimension only accepts width or height value\"</span>);<span class=\"code-keyword\">return</span> t=w(<span class=\"code-keyword\">this</span>.el_,e),<span class=\"code-number\">0</span>!==(t=<span class=\"code-built_in\">parseFloat</span>(t))&amp;&amp;!<span class=\"code-built_in\">isNaN</span>(t)||(e=<span class=\"code-string\">\"offset\"</span>+ut(e),t=<span class=\"code-keyword\">this</span>.el_[e]),t},e.currentDimensions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">width</span>:<span class=\"code-keyword\">this</span>.currentDimension(<span class=\"code-string\">\"width\"</span>),<span class=\"code-attr\">height</span>:<span class=\"code-keyword\">this</span>.currentDimension(<span class=\"code-string\">\"height\"</span>)}},e.currentWidth=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentDimension(<span class=\"code-string\">\"width\"</span>)},e.currentHeight=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentDimension(<span class=\"code-string\">\"height\"</span>)},e.focus=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.el_.focus()},e.blur=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.el_.blur()},e.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_&amp;&amp;(ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>)||e.stopPropagation(),<span class=\"code-keyword\">this</span>.player_.handleKeyDown(e))},e.handleKeyPress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.handleKeyDown(e)},e.emitTapEvents=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i,t=<span class=\"code-number\">0</span>,n=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-number\">1</span>===e.touches.length&amp;&amp;(n={<span class=\"code-attr\">pageX</span>:e.touches[<span class=\"code-number\">0</span>].pageX,<span class=\"code-attr\">pageY</span>:e.touches[<span class=\"code-number\">0</span>].pageY},t=<span class=\"code-built_in\">window</span>.performance.now(),i=!<span class=\"code-number\">0</span>)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-number\">1</span>&lt;e.touches.length?i=!<span class=\"code-number\">1</span>:n&amp;&amp;(t=e.touches[<span class=\"code-number\">0</span>].pageX-n.pageX,e=e.touches[<span class=\"code-number\">0</span>].pageY-n.pageY,<span class=\"code-number\">10</span>&lt;<span class=\"code-built_in\">Math</span>.sqrt(t*t+e*e)&amp;&amp;(i=!<span class=\"code-number\">1</span>))});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{i=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchleave\"</span>,e),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchcancel\"</span>,e),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{!(n=<span class=\"code-literal\">null</span>)===i&amp;&amp;<span class=\"code-built_in\">window</span>.performance.now()-t&lt;<span class=\"code-number\">200</span>&amp;&amp;(e.preventDefault(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"tap\"</span>))})},e.enableTouchActivity=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,i,e;<span class=\"code-keyword\">this</span>.player()&amp;&amp;<span class=\"code-keyword\">this</span>.player().reportUserActivity&amp;&amp;(t=Ve(<span class=\"code-keyword\">this</span>.player(),<span class=\"code-keyword\">this</span>.player().reportUserActivity),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t(),<span class=\"code-keyword\">this</span>.clearInterval(i),i=<span class=\"code-keyword\">this</span>.setInterval(t,<span class=\"code-number\">250</span>)}),e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t(),<span class=\"code-keyword\">this</span>.clearInterval(i)},<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchmove\"</span>,t),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchend\"</span>,e),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchcancel\"</span>,e))},e.setTimeout=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e=Ve(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.clearTimersOnDispose_(),i=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.setTimeoutIds_.has(i)&amp;&amp;n.setTimeoutIds_.delete(i),e()},t),<span class=\"code-keyword\">this</span>.setTimeoutIds_.add(i),i},e.clearTimeout=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setTimeoutIds_.has(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.setTimeoutIds_.delete(e),<span class=\"code-built_in\">window</span>.clearTimeout(e)),e},e.setInterval=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e=Ve(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.clearTimersOnDispose_();t=<span class=\"code-built_in\">window</span>.setInterval(e,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setIntervalIds_.add(t),t},e.clearInterval=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.setIntervalIds_.has(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.setIntervalIds_.delete(e),<span class=\"code-built_in\">window</span>.clearInterval(e)),e},e.requestAnimationFrame=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.supportsRaf_?(<span class=\"code-keyword\">this</span>.clearTimersOnDispose_(),e=Ve(<span class=\"code-keyword\">this</span>,e),t=<span class=\"code-built_in\">window</span>.requestAnimationFrame(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.rafIds_.has(t)&amp;&amp;i.rafIds_.delete(t),e()}),<span class=\"code-keyword\">this</span>.rafIds_.add(t),t):<span class=\"code-keyword\">this</span>.setTimeout(e,<span class=\"code-number\">1e3</span>/<span class=\"code-number\">60</span>)},e.requestNamedAnimationFrame=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.namedRafs_.has(e)){<span class=\"code-keyword\">this</span>.clearTimersOnDispose_(),t=Ve(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.requestAnimationFrame(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t(),i.namedRafs_.has(e)&amp;&amp;i.namedRafs_.delete(e)});<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.namedRafs_.set(e,n),e}},e.cancelNamedAnimationFrame=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.namedRafs_.has(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.cancelAnimationFrame(<span class=\"code-keyword\">this</span>.namedRafs_.get(e)),<span class=\"code-keyword\">this</span>.namedRafs_.delete(e))},e.cancelAnimationFrame=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.supportsRaf_?(<span class=\"code-keyword\">this</span>.rafIds_.has(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.rafIds_.delete(e),<span class=\"code-built_in\">window</span>.cancelAnimationFrame(e)),e):<span class=\"code-keyword\">this</span>.clearTimeout(e)},e.clearTimersOnDispose_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.clearingTimersOnDispose_||(<span class=\"code-keyword\">this</span>.clearingTimersOnDispose_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{[[<span class=\"code-string\">\"namedRafs_\"</span>,<span class=\"code-string\">\"cancelNamedAnimationFrame\"</span>],[<span class=\"code-string\">\"rafIds_\"</span>,<span class=\"code-string\">\"cancelAnimationFrame\"</span>],[<span class=\"code-string\">\"setTimeoutIds_\"</span>,<span class=\"code-string\">\"clearTimeout\"</span>],[<span class=\"code-string\">\"setIntervalIds_\"</span>,<span class=\"code-string\">\"clearInterval\"</span>]].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e[<span class=\"code-number\">0</span>],i=e[<span class=\"code-number\">1</span>];n[t].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> n[i](t)})}),n.clearingTimersOnDispose_=!<span class=\"code-number\">1</span>}))},s.registerComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e||!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Illegal component name, \"'</span>+e+<span class=\"code-string\">'\"; must be a non-empty string.'</span>);<span class=\"code-keyword\">var</span> i=s.getComponent(<span class=\"code-string\">\"Tech\"</span>),n=i&amp;&amp;i.isTech(t),i=s===t||s.prototype.isPrototypeOf(t.prototype);<span class=\"code-keyword\">if</span>(n||!i){<span class=\"code-keyword\">var</span> r=n?<span class=\"code-string\">\"techs must be registered using Tech.registerTech()\"</span>:<span class=\"code-string\">\"must be a Component subclass\"</span>;<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Illegal component, \"'</span>+e+<span class=\"code-string\">'\"; '</span>+r+<span class=\"code-string\">\".\"</span>)}e=ut(e),s.components_||(s.components_={});r=s.getComponent(<span class=\"code-string\">\"Player\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"Player\"</span>===e&amp;&amp;r&amp;&amp;r.players){<span class=\"code-keyword\">var</span> a=r.players,r=<span class=\"code-built_in\">Object</span>.keys(a);<span class=\"code-keyword\">if</span>(a&amp;&amp;<span class=\"code-number\">0</span>&lt;r.length&amp;&amp;r.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> a[e]}).every(<span class=\"code-built_in\">Boolean</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Can not register Player component after player has been created.\"</span>)}<span class=\"code-keyword\">return</span> s.components_[e]=t,s.components_[ot(e)]=t},s.getComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;s.components_)<span class=\"code-keyword\">return</span> s.components_[e]},s}();pt.prototype.supportsRaf_=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.requestAnimationFrame&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.cancelAnimationFrame,pt.registerComponent(<span class=\"code-string\">\"Component\"</span>,pt);<span class=\"code-keyword\">var</span> ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">ReferenceError</span>(<span class=\"code-string\">\"this hasn't been initialised - super() hasn't been called\"</span>);<span class=\"code-keyword\">return</span> e};<span class=\"code-keyword\">var</span> mt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.prototype=<span class=\"code-built_in\">Object</span>.create(t.prototype),(e.prototype.constructor=e).__proto__=t};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gt</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> t||t&lt;<span class=\"code-number\">0</span>||i&lt;t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Failed to execute '\"</span>+e+<span class=\"code-string\">\"' on 'TimeRanges': The index provided (\"</span>+t+<span class=\"code-string\">\") is non-numeric or out of bounds (0-\"</span>+i+<span class=\"code-string\">\").\"</span>)}(e,n,i.length<span class=\"code-number\">-1</span>),i[n][t]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||<span class=\"code-number\">0</span>===e.length?{<span class=\"code-attr\">length</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">start</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"This TimeRanges object is empty\"</span>)},<span class=\"code-attr\">end</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"This TimeRanges object is empty\"</span>)}}:{<span class=\"code-attr\">length</span>:e.length,<span class=\"code-attr\">start</span>:gt.bind(<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"start\"</span>,<span class=\"code-number\">0</span>,e),<span class=\"code-attr\">end</span>:gt.bind(<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"end\"</span>,<span class=\"code-number\">1</span>,e)};<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.Symbol&amp;&amp;<span class=\"code-built_in\">window</span>.Symbol.iterator&amp;&amp;(t[<span class=\"code-built_in\">window</span>.Symbol.iterator]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>(e||[]).values()}),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vt</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.isArray(e)?yt(e):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?yt():yt([[e,t]])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_t</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>;e&amp;&amp;e.length||(e=vt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;e.length;a++)i=e.start(a),r+=(n=t&lt;(n=e.end(a))?t:n)-i;<span class=\"code-keyword\">return</span> r/t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e <span class=\"code-keyword\">instanceof</span> bt)<span class=\"code-keyword\">return</span> e;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e?<span class=\"code-keyword\">this</span>.code=e:<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?<span class=\"code-keyword\">this</span>.message=e:T(e)&amp;&amp;(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.code&amp;&amp;(<span class=\"code-keyword\">this</span>.code=e.code),b(<span class=\"code-keyword\">this</span>,e)),<span class=\"code-keyword\">this</span>.message||(<span class=\"code-keyword\">this</span>.message=bt.defaultMessages[<span class=\"code-keyword\">this</span>.code]||<span class=\"code-string\">\"\"</span>)}bt.prototype.code=<span class=\"code-number\">0</span>,bt.prototype.message=<span class=\"code-string\">\"\"</span>,bt.prototype.status=<span class=\"code-literal\">null</span>,bt.errorTypes=[<span class=\"code-string\">\"MEDIA_ERR_CUSTOM\"</span>,<span class=\"code-string\">\"MEDIA_ERR_ABORTED\"</span>,<span class=\"code-string\">\"MEDIA_ERR_NETWORK\"</span>,<span class=\"code-string\">\"MEDIA_ERR_DECODE\"</span>,<span class=\"code-string\">\"MEDIA_ERR_SRC_NOT_SUPPORTED\"</span>,<span class=\"code-string\">\"MEDIA_ERR_ENCRYPTED\"</span>],bt.defaultMessages={<span class=\"code-number\">1</span>:<span class=\"code-string\">\"You aborted the media playback\"</span>,<span class=\"code-number\">2</span>:<span class=\"code-string\">\"A network error caused the media download to fail part-way.\"</span>,<span class=\"code-number\">3</span>:<span class=\"code-string\">\"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.\"</span>,<span class=\"code-number\">4</span>:<span class=\"code-string\">\"The media could not be loaded, either because the server or network failed or because the format is not supported.\"</span>,<span class=\"code-number\">5</span>:<span class=\"code-string\">\"The media is encrypted and we do not have the keys to decrypt it.\"</span>};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> Tt=<span class=\"code-number\">0</span>;Tt&lt;bt.errorTypes.length;Tt++)bt[bt.errorTypes[Tt]]=Tt,bt.prototype[bt.errorTypes[Tt]]=Tt;<span class=\"code-keyword\">var</span> St=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">try</span>{i=<span class=\"code-built_in\">JSON</span>.parse(e,t)}<span class=\"code-keyword\">catch</span>(e){n=e}<span class=\"code-keyword\">return</span>[n,i]};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=e&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.then}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Et</span>(<span class=\"code-params\">e</span>)</span>{wt(e)&amp;&amp;e.then(<span class=\"code-literal\">null</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kt</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"kind\"</span>,<span class=\"code-string\">\"label\"</span>,<span class=\"code-string\">\"language\"</span>,<span class=\"code-string\">\"id\"</span>,<span class=\"code-string\">\"inBandMetadataTrackDispatchType\"</span>,<span class=\"code-string\">\"mode\"</span>,<span class=\"code-string\">\"src\"</span>].reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> n[t]&amp;&amp;(e[t]=n[t]),e},{<span class=\"code-attr\">cues</span>:n.cues&amp;&amp;<span class=\"code-built_in\">Array</span>.prototype.map.call(n.cues,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">startTime</span>:e.startTime,<span class=\"code-attr\">endTime</span>:e.endTime,<span class=\"code-attr\">text</span>:e.text,<span class=\"code-attr\">id</span>:e.id}})})}<span class=\"code-keyword\">var</span> Ct=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.$$(<span class=\"code-string\">\"track\"</span>),i=<span class=\"code-built_in\">Array</span>.prototype.map.call(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.track});<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.prototype.map.call(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=kt(e.track);<span class=\"code-keyword\">return</span> e.src&amp;&amp;(t.src=e.src),t}).concat(<span class=\"code-built_in\">Array</span>.prototype.filter.call(e.textTracks(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===i.indexOf(e)}).map(kt))},It=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i.addRemoteTextTrack(e).track;!e.src&amp;&amp;e.cues&amp;&amp;e.cues.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.addCue(e)})}),i.textTracks()},xt=<span class=\"code-string\">\"vjs-modal-dialog\"</span>,At=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.handleKeyDown_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyDown(e)},i.close_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!<span class=\"code-number\">1</span>,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=$(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:xt+<span class=\"code-string\">\"-content\"</span>},{<span class=\"code-attr\">role</span>:<span class=\"code-string\">\"document\"</span>}),i.descEl_=$(<span class=\"code-string\">\"p\"</span>,{<span class=\"code-attr\">className</span>:xt+<span class=\"code-string\">\"-description vjs-control-text\"</span>,<span class=\"code-attr\">id</span>:i.el().getAttribute(<span class=\"code-string\">\"aria-describedby\"</span>)}),J(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-keyword\">this</span>.buildCSSClass(),<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">-1</span>},{<span class=\"code-string\">\"aria-describedby\"</span>:<span class=\"code-keyword\">this</span>.id()+<span class=\"code-string\">\"_description\"</span>,<span class=\"code-string\">\"aria-hidden\"</span>:<span class=\"code-string\">\"true\"</span>,<span class=\"code-string\">\"aria-label\"</span>:<span class=\"code-keyword\">this</span>.label(),<span class=\"code-attr\">role</span>:<span class=\"code-string\">\"dialog\"</span>})},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.contentEl_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.descEl_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.previouslyActiveEl_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> xt+<span class=\"code-string\">\" vjs-hidden \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.label=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.localize(<span class=\"code-keyword\">this</span>.options_.label||<span class=\"code-string\">\"Modal Window\"</span>)},t.description=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.options_.description||<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"This is a modal window.\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.closeable()&amp;&amp;(e+=<span class=\"code-string\">\" \"</span>+<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"This modal can be closed by pressing the Escape key or activating the close button.\"</span>)),e},t.open=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.opened_||(e=<span class=\"code-keyword\">this</span>.player(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"beforemodalopen\"</span>),<span class=\"code-keyword\">this</span>.opened_=!<span class=\"code-number\">0</span>,!<span class=\"code-keyword\">this</span>.options_.fillAlways&amp;&amp;(<span class=\"code-keyword\">this</span>.hasBeenOpened_||<span class=\"code-keyword\">this</span>.hasBeenFilled_)||<span class=\"code-keyword\">this</span>.fill(),<span class=\"code-keyword\">this</span>.wasPlaying_=!e.paused(),<span class=\"code-keyword\">this</span>.options_.pauseOnOpen&amp;&amp;<span class=\"code-keyword\">this</span>.wasPlaying_&amp;&amp;e.pause(),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.handleKeyDown_),<span class=\"code-keyword\">this</span>.hadControls_=e.controls(),e.controls(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.show(),<span class=\"code-keyword\">this</span>.conditionalFocus_(),<span class=\"code-keyword\">this</span>.el().setAttribute(<span class=\"code-string\">\"aria-hidden\"</span>,<span class=\"code-string\">\"false\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"modalopen\"</span>),<span class=\"code-keyword\">this</span>.hasBeenOpened_=!<span class=\"code-number\">0</span>)},t.opened=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"boolean\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-keyword\">this</span>[e?<span class=\"code-string\">\"open\"</span>:<span class=\"code-string\">\"close\"</span>](),<span class=\"code-keyword\">this</span>.opened_},t.close=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.opened_&amp;&amp;(e=<span class=\"code-keyword\">this</span>.player(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"beforemodalclose\"</span>),<span class=\"code-keyword\">this</span>.opened_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.wasPlaying_&amp;&amp;<span class=\"code-keyword\">this</span>.options_.pauseOnOpen&amp;&amp;e.play(),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.handleKeyDown_),<span class=\"code-keyword\">this</span>.hadControls_&amp;&amp;e.controls(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.hide(),<span class=\"code-keyword\">this</span>.el().setAttribute(<span class=\"code-string\">\"aria-hidden\"</span>,<span class=\"code-string\">\"true\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"modalclose\"</span>),<span class=\"code-keyword\">this</span>.conditionalBlur_(),<span class=\"code-keyword\">this</span>.options_.temporary&amp;&amp;<span class=\"code-keyword\">this</span>.dispose())},t.closeable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"boolean\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(t=<span class=\"code-keyword\">this</span>.closeable_=!!e,i=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"closeButton\"</span>),t&amp;&amp;!i&amp;&amp;(e=<span class=\"code-keyword\">this</span>.contentEl_,<span class=\"code-keyword\">this</span>.contentEl_=<span class=\"code-keyword\">this</span>.el_,i=<span class=\"code-keyword\">this</span>.addChild(<span class=\"code-string\">\"closeButton\"</span>,{<span class=\"code-attr\">controlText</span>:<span class=\"code-string\">\"Close Modal Dialog\"</span>}),<span class=\"code-keyword\">this</span>.contentEl_=e,<span class=\"code-keyword\">this</span>.on(i,<span class=\"code-string\">\"close\"</span>,<span class=\"code-keyword\">this</span>.close_)),!t&amp;&amp;i&amp;&amp;(<span class=\"code-keyword\">this</span>.off(i,<span class=\"code-string\">\"close\"</span>,<span class=\"code-keyword\">this</span>.close_),<span class=\"code-keyword\">this</span>.removeChild(i),i.dispose())),<span class=\"code-keyword\">this</span>.closeable_},t.fill=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.fillWith(<span class=\"code-keyword\">this</span>.content())},t.fillWith=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.contentEl(),i=t.parentNode,n=t.nextSibling;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"beforemodalfill\"</span>),<span class=\"code-keyword\">this</span>.hasBeenFilled_=!<span class=\"code-number\">0</span>,i.removeChild(t),<span class=\"code-keyword\">this</span>.empty(),ve(t,e),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"modalfill\"</span>),n?i.insertBefore(t,n):i.appendChild(t);t=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"closeButton\"</span>);t&amp;&amp;i.appendChild(t.el_)},t.empty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"beforemodalempty\"</span>),me(<span class=\"code-keyword\">this</span>.contentEl()),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"modalempty\"</span>)},t.content=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;(<span class=\"code-keyword\">this</span>.content_=e),<span class=\"code-keyword\">this</span>.content_},t.conditionalFocus_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">document</span>.activeElement,t=<span class=\"code-keyword\">this</span>.player_.el_;<span class=\"code-keyword\">this</span>.previouslyActiveEl_=<span class=\"code-literal\">null</span>,!t.contains(e)&amp;&amp;t!==e||(<span class=\"code-keyword\">this</span>.previouslyActiveEl_=e,<span class=\"code-keyword\">this</span>.focus())},t.conditionalBlur_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.previouslyActiveEl_&amp;&amp;(<span class=\"code-keyword\">this</span>.previouslyActiveEl_.focus(),<span class=\"code-keyword\">this</span>.previouslyActiveEl_=<span class=\"code-literal\">null</span>)},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.stopPropagation(),ht.isEventKey(e,<span class=\"code-string\">\"Escape\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.closeable())<span class=\"code-keyword\">return</span> e.preventDefault(),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.close();<span class=\"code-keyword\">if</span>(ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=<span class=\"code-keyword\">this</span>.focusableEls_(),n=<span class=\"code-keyword\">this</span>.el_.querySelector(<span class=\"code-string\">\":focus\"</span>),r=<span class=\"code-number\">0</span>;r&lt;i.length;r++)<span class=\"code-keyword\">if</span>(n===i[r]){t=r;<span class=\"code-keyword\">break</span>}<span class=\"code-built_in\">document</span>.activeElement===<span class=\"code-keyword\">this</span>.el_&amp;&amp;(t=<span class=\"code-number\">0</span>),e.shiftKey&amp;&amp;<span class=\"code-number\">0</span>===t?(i[i.length<span class=\"code-number\">-1</span>].focus(),e.preventDefault()):e.shiftKey||t!==i.length<span class=\"code-number\">-1</span>||(i[<span class=\"code-number\">0</span>].focus(),e.preventDefault())}},t.focusableEls_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.el_.querySelectorAll(<span class=\"code-string\">\"*\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Array</span>.prototype.filter.call(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLAnchorElement||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLAreaElement)&amp;&amp;e.hasAttribute(<span class=\"code-string\">\"href\"</span>)||(e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLInputElement||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLSelectElement||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLTextAreaElement||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLButtonElement)&amp;&amp;!e.hasAttribute(<span class=\"code-string\">\"disabled\"</span>)||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLIFrameElement||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLObjectElement||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.HTMLEmbedElement||e.hasAttribute(<span class=\"code-string\">\"tabindex\"</span>)&amp;&amp;<span class=\"code-number\">-1</span>!==e.getAttribute(<span class=\"code-string\">\"tabindex\"</span>)||e.hasAttribute(<span class=\"code-string\">\"contenteditable\"</span>)})},e}(pt);At.prototype.options_={<span class=\"code-attr\">pauseOnOpen</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">temporary</span>:!<span class=\"code-number\">0</span>},pt.registerComponent(<span class=\"code-string\">\"ModalDialog\"</span>,At);<span class=\"code-keyword\">var</span> Pt,Lt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=[]),(t=n.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).tracks_=[],<span class=\"code-built_in\">Object</span>.defineProperty(ft(t),<span class=\"code-string\">\"length\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tracks_.length}});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t.addTrack(e[i]);<span class=\"code-keyword\">return</span> t}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.addTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,i=<span class=\"code-keyword\">this</span>.tracks_.length;<span class=\"code-string\">\"\"</span>+i <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>||<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,i,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tracks_[i]}}),<span class=\"code-number\">-1</span>===<span class=\"code-keyword\">this</span>.tracks_.indexOf(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.tracks_.push(e),<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">track</span>:e,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"addtrack\"</span>,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>})),e.labelchange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger({<span class=\"code-attr\">track</span>:e,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"labelchange\"</span>,<span class=\"code-attr\">target</span>:t})},it(e)&amp;&amp;e.addEventListener(<span class=\"code-string\">\"labelchange\"</span>,e.labelchange_)},t.removeTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.length;i&lt;n;i++)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>[i]===e){(t=<span class=\"code-keyword\">this</span>[i]).off&amp;&amp;t.off(),<span class=\"code-keyword\">this</span>.tracks_.splice(i,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>}t&amp;&amp;<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">track</span>:t,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"removetrack\"</span>,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>})},t.getTrackById=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-literal\">null</span>,i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.length;i&lt;n;i++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>[i];<span class=\"code-keyword\">if</span>(r.id===e){t=r;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">return</span> t},e}(ze);<span class=\"code-keyword\">for</span>(Pt <span class=\"code-keyword\">in</span> Lt.prototype.allowedEvents_={<span class=\"code-attr\">change</span>:<span class=\"code-string\">\"change\"</span>,<span class=\"code-attr\">addtrack</span>:<span class=\"code-string\">\"addtrack\"</span>,<span class=\"code-attr\">removetrack</span>:<span class=\"code-string\">\"removetrack\"</span>,<span class=\"code-attr\">labelchange</span>:<span class=\"code-string\">\"labelchange\"</span>},Lt.prototype.allowedEvents_)Lt.prototype[<span class=\"code-string\">\"on\"</span>+Pt]=<span class=\"code-literal\">null</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Dt</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)<span class=\"code-built_in\">Object</span>.keys(e[i]).length&amp;&amp;t.id!==e[i].id&amp;&amp;(e[i].enabled=!<span class=\"code-number\">1</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ot</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)<span class=\"code-built_in\">Object</span>.keys(e[i]).length&amp;&amp;t.id!==e[i].id&amp;&amp;(e[i].selected=!<span class=\"code-number\">1</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=[<span class=\"code-string\">\"protocol\"</span>,<span class=\"code-string\">\"hostname\"</span>,<span class=\"code-string\">\"port\"</span>,<span class=\"code-string\">\"pathname\"</span>,<span class=\"code-string\">\"search\"</span>,<span class=\"code-string\">\"hash\"</span>,<span class=\"code-string\">\"host\"</span>],i=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"a\"</span>);i.href=e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n={},r=<span class=\"code-number\">0</span>;r&lt;t.length;r++)n[t[r]]=i[t[r]];<span class=\"code-keyword\">return</span><span class=\"code-string\">\"http:\"</span>===n.protocol&amp;&amp;(n.host=n.host.replace(<span class=\"code-regexp\">/:80$/</span>,<span class=\"code-string\">\"\"</span>)),<span class=\"code-string\">\"https:\"</span>===n.protocol&amp;&amp;(n.host=n.host.replace(<span class=\"code-regexp\">/:443$/</span>,<span class=\"code-string\">\"\"</span>)),n.protocol||(n.protocol=<span class=\"code-built_in\">window</span>.location.protocol),n.host||(n.host=<span class=\"code-built_in\">window</span>.location.host),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Rt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">return</span> e.match(<span class=\"code-regexp\">/^https?:\\/\\//</span>)||((t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"a\"</span>)).href=e,e=t.href),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e){e=<span class=\"code-regexp\">/^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/</span>.exec(e);<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> e.pop().toLowerCase()}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ut</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-built_in\">window</span>.location),(<span class=\"code-string\">\":\"</span>===(e=Mt(e)).protocol?t:e).protocol+e.host!==t.protocol+t.host}<span class=\"code-keyword\">var</span> Bt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?[]:e).length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=i;i--)<span class=\"code-keyword\">if</span>(e[i].enabled){Dt(e,e[i]);<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">return</span>(t=n.call(<span class=\"code-keyword\">this</span>,e)||<span class=\"code-keyword\">this</span>).changing_=!<span class=\"code-number\">1</span>,t}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.addTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;e.enabled&amp;&amp;Dt(<span class=\"code-keyword\">this</span>,e),n.prototype.addTrack.call(<span class=\"code-keyword\">this</span>,e),e.addEventListener&amp;&amp;(e.enabledChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.changing_||(t.changing_=!<span class=\"code-number\">0</span>,Dt(t,e),t.changing_=!<span class=\"code-number\">1</span>,t.trigger(<span class=\"code-string\">\"change\"</span>))},e.addEventListener(<span class=\"code-string\">\"enabledchange\"</span>,e.enabledChange_))},t.removeTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.prototype.removeTrack.call(<span class=\"code-keyword\">this</span>,e),e.removeEventListener&amp;&amp;e.enabledChange_&amp;&amp;(e.removeEventListener(<span class=\"code-string\">\"enabledchange\"</span>,e.enabledChange_),e.enabledChange_=<span class=\"code-literal\">null</span>)},e}(Lt),Ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?[]:e).length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=i;i--)<span class=\"code-keyword\">if</span>(e[i].selected){Ot(e,e[i]);<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">return</span>(t=n.call(<span class=\"code-keyword\">this</span>,e)||<span class=\"code-keyword\">this</span>).changing_=!<span class=\"code-number\">1</span>,<span class=\"code-built_in\">Object</span>.defineProperty(ft(t),<span class=\"code-string\">\"selectedIndex\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-keyword\">this</span>.length;e++)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>[e].selected)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}),t}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.addTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;e.selected&amp;&amp;Ot(<span class=\"code-keyword\">this</span>,e),n.prototype.addTrack.call(<span class=\"code-keyword\">this</span>,e),e.addEventListener&amp;&amp;(e.selectedChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.changing_||(t.changing_=!<span class=\"code-number\">0</span>,Ot(t,e),t.changing_=!<span class=\"code-number\">1</span>,t.trigger(<span class=\"code-string\">\"change\"</span>))},e.addEventListener(<span class=\"code-string\">\"selectedchange\"</span>,e.selectedChange_))},t.removeTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.prototype.removeTrack.call(<span class=\"code-keyword\">this</span>,e),e.removeEventListener&amp;&amp;e.selectedChange_&amp;&amp;(e.removeEventListener(<span class=\"code-string\">\"selectedchange\"</span>,e.selectedChange_),e.selectedChange_=<span class=\"code-literal\">null</span>)},e}(Lt),k=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.addTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;i.prototype.addTrack.call(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.queueChange_||(<span class=\"code-keyword\">this</span>.queueChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.queueTrigger(<span class=\"code-string\">\"change\"</span>)}),<span class=\"code-keyword\">this</span>.triggerSelectedlanguagechange||(<span class=\"code-keyword\">this</span>.triggerSelectedlanguagechange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.trigger(<span class=\"code-string\">\"selectedlanguagechange\"</span>)}),e.addEventListener(<span class=\"code-string\">\"modechange\"</span>,<span class=\"code-keyword\">this</span>.queueChange_);<span class=\"code-number\">-1</span>===[<span class=\"code-string\">\"metadata\"</span>,<span class=\"code-string\">\"chapters\"</span>].indexOf(e.kind)&amp;&amp;e.addEventListener(<span class=\"code-string\">\"modechange\"</span>,<span class=\"code-keyword\">this</span>.triggerSelectedlanguagechange_)},t.removeTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.prototype.removeTrack.call(<span class=\"code-keyword\">this</span>,e),e.removeEventListener&amp;&amp;(<span class=\"code-keyword\">this</span>.queueChange_&amp;&amp;e.removeEventListener(<span class=\"code-string\">\"modechange\"</span>,<span class=\"code-keyword\">this</span>.queueChange_),<span class=\"code-keyword\">this</span>.selectedlanguagechange_&amp;&amp;e.removeEventListener(<span class=\"code-string\">\"modechange\"</span>,<span class=\"code-keyword\">this</span>.triggerSelectedlanguagechange_))},e}(Lt),jt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=[]),<span class=\"code-keyword\">this</span>.trackElements_=[],<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"length\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.trackElements_.length}});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,i=e.length;t&lt;i;t++)<span class=\"code-keyword\">this</span>.addTrackElement_(e[t])}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.addTrackElement_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.trackElements_.length;<span class=\"code-string\">\"\"</span>+t <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>||<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,t,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.trackElements_[t]}}),<span class=\"code-number\">-1</span>===<span class=\"code-keyword\">this</span>.trackElements_.indexOf(e)&amp;&amp;<span class=\"code-keyword\">this</span>.trackElements_.push(e)},t.getTrackElementByTrack_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.trackElements_.length;i&lt;n;i++)<span class=\"code-keyword\">if</span>(e===<span class=\"code-keyword\">this</span>.trackElements_[i].track){t=<span class=\"code-keyword\">this</span>.trackElements_[i];<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">return</span> t},t.removeTrackElement_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.trackElements_.length;t&lt;i;t++)<span class=\"code-keyword\">if</span>(e===<span class=\"code-keyword\">this</span>.trackElements_[t]){<span class=\"code-keyword\">this</span>.trackElements_[t].track&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.trackElements_[t].track.off&amp;&amp;<span class=\"code-keyword\">this</span>.trackElements_[t].track.off(),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.trackElements_[t].off&amp;&amp;<span class=\"code-keyword\">this</span>.trackElements_[t].off(),<span class=\"code-keyword\">this</span>.trackElements_.splice(t,<span class=\"code-number\">1</span>);<span class=\"code-keyword\">break</span>}},e}(),Ht=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e</span>)</span>{t.prototype.setCues_.call(<span class=\"code-keyword\">this</span>,e),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"length\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.length_}})}<span class=\"code-keyword\">var</span> e=t.prototype;<span class=\"code-keyword\">return</span> e.setCues_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.length||<span class=\"code-number\">0</span>,i=<span class=\"code-number\">0</span>,n=e.length;<span class=\"code-keyword\">this</span>.cues_=e,<span class=\"code-keyword\">this</span>.length_=e.length;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"\"</span>+e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>||<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"\"</span>+e,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cues_[e]}})}<span class=\"code-keyword\">if</span>(t&lt;n)<span class=\"code-keyword\">for</span>(i=t;i&lt;n;i++)r.call(<span class=\"code-keyword\">this</span>,i)},e.getCueById=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-literal\">null</span>,i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.length;i&lt;n;i++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>[i];<span class=\"code-keyword\">if</span>(r.id===e){t=r;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">return</span> t},t}(),qt={<span class=\"code-attr\">alternative</span>:<span class=\"code-string\">\"alternative\"</span>,<span class=\"code-attr\">captions</span>:<span class=\"code-string\">\"captions\"</span>,<span class=\"code-attr\">main</span>:<span class=\"code-string\">\"main\"</span>,<span class=\"code-attr\">sign</span>:<span class=\"code-string\">\"sign\"</span>,<span class=\"code-attr\">subtitles</span>:<span class=\"code-string\">\"subtitles\"</span>,<span class=\"code-attr\">commentary</span>:<span class=\"code-string\">\"commentary\"</span>},Vt={<span class=\"code-attr\">alternative</span>:<span class=\"code-string\">\"alternative\"</span>,<span class=\"code-attr\">descriptions</span>:<span class=\"code-string\">\"descriptions\"</span>,<span class=\"code-attr\">main</span>:<span class=\"code-string\">\"main\"</span>,<span class=\"code-string\">\"main-desc\"</span>:<span class=\"code-string\">\"main-desc\"</span>,<span class=\"code-attr\">translation</span>:<span class=\"code-string\">\"translation\"</span>,<span class=\"code-attr\">commentary</span>:<span class=\"code-string\">\"commentary\"</span>},Wt={<span class=\"code-attr\">subtitles</span>:<span class=\"code-string\">\"subtitles\"</span>,<span class=\"code-attr\">captions</span>:<span class=\"code-string\">\"captions\"</span>,<span class=\"code-attr\">descriptions</span>:<span class=\"code-string\">\"descriptions\"</span>,<span class=\"code-attr\">chapters</span>:<span class=\"code-string\">\"chapters\"</span>,<span class=\"code-attr\">metadata</span>:<span class=\"code-string\">\"metadata\"</span>},Gt={<span class=\"code-attr\">disabled</span>:<span class=\"code-string\">\"disabled\"</span>,<span class=\"code-attr\">hidden</span>:<span class=\"code-string\">\"hidden\"</span>,<span class=\"code-attr\">showing</span>:<span class=\"code-string\">\"showing\"</span>},C=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={});<span class=\"code-keyword\">var</span> t,i=a.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>,n={<span class=\"code-attr\">id</span>:e.id||<span class=\"code-string\">\"vjs_track_\"</span>+Pe++,<span class=\"code-attr\">kind</span>:e.kind||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">language</span>:e.language||<span class=\"code-string\">\"\"</span>},r=e.label||<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">for</span>(t <span class=\"code-keyword\">in</span> n)!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(ft(i),e,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n[e]},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}})}(t);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.defineProperty(ft(i),<span class=\"code-string\">\"label\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e!==r&amp;&amp;(r=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"labelchange\"</span>))}}),i}<span class=\"code-keyword\">return</span> mt(e,a),e}(ze),zt=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">parseUrl</span>:Mt,<span class=\"code-attr\">getAbsoluteURL</span>:Rt,<span class=\"code-attr\">getFileExtension</span>:Nt,<span class=\"code-attr\">isCrossOrigin</span>:Ut}),Xt=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> f?f:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> self?self:{},Kt=Xt,Yt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t=Qt.call(e);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"[object Function]\"</span>===t||<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-string\">\"[object RegExp]\"</span>!==t||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>&amp;&amp;(e===<span class=\"code-built_in\">window</span>.setTimeout||e===<span class=\"code-built_in\">window</span>.alert||e===<span class=\"code-built_in\">window</span>.confirm||e===<span class=\"code-built_in\">window</span>.prompt)},Qt=<span class=\"code-built_in\">Object</span>.prototype.toString;ei.httpHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r=!<span class=\"code-number\">1</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(e)n(e);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">400</span>&lt;=t.statusCode&amp;&amp;t.statusCode&lt;=<span class=\"code-number\">599</span>){e=i;<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">if</span>(Kt.TextDecoder){t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">return</span> e.toLowerCase().split(<span class=\"code-string\">\";\"</span>).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.split(<span class=\"code-string\">\"=\"</span>),t=i[<span class=\"code-number\">0</span>],i=i[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span><span class=\"code-string\">\"charset\"</span>===t.trim()?i.trim():e},<span class=\"code-string\">\"utf-8\"</span>)}(t.headers&amp;&amp;t.headers[<span class=\"code-string\">\"content-type\"</span>]);<span class=\"code-keyword\">try</span>{e=<span class=\"code-keyword\">new</span> TextDecoder(t).decode(i)}<span class=\"code-keyword\">catch</span>(e){}}<span class=\"code-keyword\">else</span> e=<span class=\"code-built_in\">String</span>.fromCharCode.apply(<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(i));n({<span class=\"code-attr\">cause</span>:e})}<span class=\"code-keyword\">else</span> n(<span class=\"code-literal\">null</span>,i)}};\n","<span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\">   * @license\n</span>","<span class=\"code-comment\">   * slighly modified parse-headers 2.0.2 &lt;https://github.com/kesla/parse-headers/&gt;\n</span>","<span class=\"code-comment\">   * Copyright (c) 2014 David Bj\u00F6rklund\n</span>","<span class=\"code-comment\">   * Available under the MIT license\n</span>","<span class=\"code-comment\">   * &lt;https://github.com/kesla/parse-headers/blob/master/LICENCE&gt;\n</span>","<span class=\"code-comment\">   */</span>\n","<span class=\"code-keyword\">var</span> $t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n={};<span class=\"code-keyword\">return</span> e&amp;&amp;e.trim().split(<span class=\"code-string\">\"\\n\"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.indexOf(<span class=\"code-string\">\":\"</span>),i=e.slice(<span class=\"code-number\">0</span>,t).trim().toLowerCase(),t=e.slice(t+<span class=\"code-number\">1</span>).trim();<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> n[i]?n[i]=t:<span class=\"code-built_in\">Array</span>.isArray(n[i])?n[i].push(t):n[i]=[n[i],t]}),n},Jt=ei,I=ei;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zt</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=e;<span class=\"code-keyword\">return</span> Yt(t)?(i=t,<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(n={<span class=\"code-attr\">uri</span>:e})):n=g({},t,{<span class=\"code-attr\">uri</span>:e}),n.callback=i,n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ei</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> ti(t=Zt(e,t,i))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ti</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> n.callback)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"callback argument missing\"</span>);<span class=\"code-keyword\">var</span> r=!<span class=\"code-number\">1</span>,a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{r||(r=!<span class=\"code-number\">0</span>,n.callback(e,t,i))};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e=l.response||l.responseText||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"document\"</span>===e.responseType)<span class=\"code-keyword\">return</span> e.responseXML;<span class=\"code-keyword\">var</span> t=e.responseXML&amp;&amp;<span class=\"code-string\">\"parsererror\"</span>===e.responseXML.documentElement.nodeName;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\"</span>===e.responseType&amp;&amp;!t)<span class=\"code-keyword\">return</span> e.responseXML}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(l);<span class=\"code-keyword\">if</span>(m)<span class=\"code-keyword\">try</span>{e=<span class=\"code-built_in\">JSON</span>.parse(e)}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> clearTimeout(u),(e=!(e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>)?<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"\"</span>+(e||<span class=\"code-string\">\"Unknown XMLHttpRequest Error\"</span>)):e).statusCode=<span class=\"code-number\">0</span>,a(e,g)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!o){clearTimeout(u);<span class=\"code-keyword\">var</span> e=n.useXDR&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l.status?<span class=\"code-number\">200</span>:<span class=\"code-number\">1223</span>===l.status?<span class=\"code-number\">204</span>:l.status,t=g,i=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==e?(t={<span class=\"code-attr\">body</span>:s(),<span class=\"code-attr\">statusCode</span>:e,<span class=\"code-attr\">method</span>:d,<span class=\"code-attr\">headers</span>:{},<span class=\"code-attr\">url</span>:c,<span class=\"code-attr\">rawRequest</span>:l},l.getAllResponseHeaders&amp;&amp;(t.headers=$t(l.getAllResponseHeaders()))):i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Internal XMLHttpRequest Error\"</span>),a(i,t,t.body)}}<span class=\"code-keyword\">var</span> i,o,u,l=n.xhr||<span class=\"code-literal\">null</span>,c=(l=l||<span class=\"code-keyword\">new</span>(n.cors||n.useXDR?ei.XDomainRequest:ei.XMLHttpRequest)).url=n.uri||n.url,d=l.method=n.method||<span class=\"code-string\">\"GET\"</span>,h=n.body||n.data,p=l.headers=n.headers||{},f=!!n.sync,m=!<span class=\"code-number\">1</span>,g={<span class=\"code-attr\">body</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">headers</span>:{},<span class=\"code-attr\">statusCode</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">method</span>:d,<span class=\"code-attr\">url</span>:c,<span class=\"code-attr\">rawRequest</span>:l};<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"json\"</span><span class=\"code-keyword\">in</span> n&amp;&amp;!<span class=\"code-number\">1</span>!==n.json&amp;&amp;(m=!<span class=\"code-number\">0</span>,p.accept||p.Accept||(p.Accept=<span class=\"code-string\">\"application/json\"</span>),<span class=\"code-string\">\"GET\"</span>!==d&amp;&amp;<span class=\"code-string\">\"HEAD\"</span>!==d&amp;&amp;(p[<span class=\"code-string\">\"content-type\"</span>]||p[<span class=\"code-string\">\"Content-Type\"</span>]||(p[<span class=\"code-string\">\"Content-Type\"</span>]=<span class=\"code-string\">\"application/json\"</span>),h=<span class=\"code-built_in\">JSON</span>.stringify(!<span class=\"code-number\">0</span>===n.json?h:n.json))),l.onreadystatechange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">4</span>===l.readyState&amp;&amp;setTimeout(e,<span class=\"code-number\">0</span>)},l.onload=e,l.onerror=t,l.onprogress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},l.onabort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{o=!<span class=\"code-number\">0</span>},l.ontimeout=t,l.open(d,c,!f,n.username,n.password),f||(l.withCredentials=!!n.withCredentials),!f&amp;&amp;<span class=\"code-number\">0</span>&lt;n.timeout&amp;&amp;(u=setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;o||(o=!<span class=\"code-number\">0</span>,l.abort(<span class=\"code-string\">\"timeout\"</span>),(e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"XMLHttpRequest timeout\"</span>)).code=<span class=\"code-string\">\"ETIMEDOUT\"</span>,t(e))},n.timeout)),l.setRequestHeader)<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> p)p.hasOwnProperty(i)&amp;&amp;l.setRequestHeader(i,p[i]);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n.headers&amp;&amp;!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> e)<span class=\"code-keyword\">if</span>(e.hasOwnProperty(t))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}(n.headers))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Headers cannot be set on an XDomainRequest object\"</span>);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"responseType\"</span><span class=\"code-keyword\">in</span> n&amp;&amp;(l.responseType=n.responseType),<span class=\"code-string\">\"beforeSend\"</span><span class=\"code-keyword\">in</span> n&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> n.beforeSend&amp;&amp;n.beforeSend(l),l.send(h||<span class=\"code-literal\">null</span>),l}ei.XMLHttpRequest=Kt.XMLHttpRequest||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},ei.XDomainRequest=<span class=\"code-string\">\"withCredentials\"</span><span class=\"code-keyword\">in</span> <span class=\"code-keyword\">new</span> ei.XMLHttpRequest?ei.XMLHttpRequest:Kt.XDomainRequest,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t(e[i])}([<span class=\"code-string\">\"get\"</span>,<span class=\"code-string\">\"put\"</span>,<span class=\"code-string\">\"post\"</span>,<span class=\"code-string\">\"patch\"</span>,<span class=\"code-string\">\"head\"</span>,<span class=\"code-string\">\"delete\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{ei[<span class=\"code-string\">\"delete\"</span>===n?<span class=\"code-string\">\"del\"</span>:n]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span>(t=Zt(e,t,i)).method=n.toUpperCase(),ti(t)}}),Jt.default=I;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ii</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.WebVTT.Parser(<span class=\"code-built_in\">window</span>,<span class=\"code-built_in\">window</span>.vttjs,<span class=\"code-built_in\">window</span>.WebVTT.StringDecoder()),n=[];i.oncue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.addCue(e)},i.onparsingerror=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.push(e)},i.onflush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"loadeddata\"</span>,<span class=\"code-attr\">target</span>:t})},i.parse(e),<span class=\"code-number\">0</span>&lt;n.length&amp;&amp;(<span class=\"code-built_in\">window</span>.console&amp;&amp;<span class=\"code-built_in\">window</span>.console.groupCollapsed&amp;&amp;<span class=\"code-built_in\">window</span>.console.groupCollapsed(<span class=\"code-string\">\"Text Track parsing errors for \"</span>+t.src),n.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> h.error(e)}),<span class=\"code-built_in\">window</span>.console&amp;&amp;<span class=\"code-built_in\">window</span>.console.groupEnd&amp;&amp;<span class=\"code-built_in\">window</span>.console.groupEnd()),i.flush()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ni</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">uri</span>:e};(e=Ut(e))&amp;&amp;(t.cors=e),(e=<span class=\"code-string\">\"use-credentials\"</span>===n.tech_.crossOrigin())&amp;&amp;(t.withCredentials=e),Jt(t,Ve(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> e?h.error(e,t):(n.loaded_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">void</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.WebVTT?n.tech_&amp;&amp;n.tech_.any([<span class=\"code-string\">\"vttjsloaded\"</span>,<span class=\"code-string\">\"vttjserror\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vttjserror\"</span>!==e.type?ii(i,n):<span class=\"code-keyword\">void</span> h.error(<span class=\"code-string\">\"vttjs failed to load, stopping trying to process \"</span>+n.src)}):ii(i,n)))}))}<span class=\"code-keyword\">var</span> ri=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">if</span>(!(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e).tech)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"A tech was not provided.\"</span>);<span class=\"code-keyword\">var</span> e=lt(e,{<span class=\"code-attr\">kind</span>:Wt[e.kind]||<span class=\"code-string\">\"subtitles\"</span>,<span class=\"code-attr\">language</span>:e.language||e.srclang||<span class=\"code-string\">\"\"</span>}),i=Gt[e.mode]||<span class=\"code-string\">\"disabled\"</span>,n=e.default;<span class=\"code-string\">\"metadata\"</span>!==e.kind&amp;&amp;<span class=\"code-string\">\"chapters\"</span>!==e.kind||(i=<span class=\"code-string\">\"hidden\"</span>),(t=a.call(<span class=\"code-keyword\">this</span>,e)||<span class=\"code-keyword\">this</span>).tech_=e.tech,t.cues_=[],t.activeCues_=[],t.preload_=!<span class=\"code-number\">1</span>!==t.tech_.preloadTextTracks;<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> Ht(t.cues_),s=<span class=\"code-keyword\">new</span> Ht(t.activeCues_),o=!<span class=\"code-number\">1</span>;t.timeupdateHandler=Ve(ft(t),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_.isDisposed()||(<span class=\"code-keyword\">this</span>.tech_.isReady_&amp;&amp;(<span class=\"code-keyword\">this</span>.activeCues=<span class=\"code-keyword\">this</span>.activeCues,o&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"cuechange\"</span>),o=!<span class=\"code-number\">1</span>)),<span class=\"code-keyword\">this</span>.rvf_=<span class=\"code-keyword\">this</span>.tech_.requestVideoFrameCallback(<span class=\"code-keyword\">this</span>.timeupdateHandler))});<span class=\"code-keyword\">return</span> t.tech_.one(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.stopTracking()}),<span class=\"code-string\">\"disabled\"</span>!==i&amp;&amp;t.startTracking(),<span class=\"code-built_in\">Object</span>.defineProperties(ft(t),{<span class=\"code-attr\">default</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}},<span class=\"code-attr\">mode</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Gt[e]&amp;&amp;i!==e&amp;&amp;(i=e,<span class=\"code-keyword\">this</span>.preload_||<span class=\"code-string\">\"disabled\"</span>===i||<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.cues.length||ni(<span class=\"code-keyword\">this</span>.src,<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.stopTracking(),<span class=\"code-string\">\"disabled\"</span>!==i&amp;&amp;<span class=\"code-keyword\">this</span>.startTracking(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"modechange\"</span>))}},<span class=\"code-attr\">cues</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.loaded_?r:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}},<span class=\"code-attr\">activeCues</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.loaded_)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.cues.length)<span class=\"code-keyword\">return</span> s;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=[],i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.cues.length;i&lt;n;i++){<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.cues[i];(r.startTime&lt;=e&amp;&amp;r.endTime&gt;=e||r.startTime===r.endTime&amp;&amp;r.startTime&lt;=e&amp;&amp;r.startTime+<span class=\"code-number\">.5</span>&gt;=e)&amp;&amp;t.push(r)}<span class=\"code-keyword\">if</span>(o=!<span class=\"code-number\">1</span>,t.length!==<span class=\"code-keyword\">this</span>.activeCues_.length)o=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;t.length;a++)<span class=\"code-number\">-1</span>===<span class=\"code-keyword\">this</span>.activeCues_.indexOf(t[a])&amp;&amp;(o=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.activeCues_=t,s.setCues_(<span class=\"code-keyword\">this</span>.activeCues_),s},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}}),e.src?(t.src=e.src,t.preload_||(t.loaded_=!<span class=\"code-number\">0</span>),(t.preload_||<span class=\"code-string\">\"subtitles\"</span>!==e.kind&amp;&amp;<span class=\"code-string\">\"captions\"</span>!==e.kind)&amp;&amp;ni(t.src,ft(t))):t.loaded_=!<span class=\"code-number\">0</span>,t}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.startTracking=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.rvf_=<span class=\"code-keyword\">this</span>.tech_.requestVideoFrameCallback(<span class=\"code-keyword\">this</span>.timeupdateHandler)},t.stopTracking=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.rvf_&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.cancelVideoFrameCallback(<span class=\"code-keyword\">this</span>.rvf_),<span class=\"code-keyword\">this</span>.rvf_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)},t.addCue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">window</span>.vttjs&amp;&amp;!(e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">window</span>.vttjs.VTTCue)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i <span class=\"code-keyword\">in</span> t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.tech_.textTracks(),r=<span class=\"code-number\">0</span>;r&lt;n.length;r++)n[r]!==<span class=\"code-keyword\">this</span>&amp;&amp;n[r].removeCue(t);<span class=\"code-keyword\">this</span>.cues_.push(t),<span class=\"code-keyword\">this</span>.cues.setCues_(<span class=\"code-keyword\">this</span>.cues_)},t.removeCue=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.cues_.length;t--;){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.cues_[t];<span class=\"code-keyword\">if</span>(i===e||i.originalCue_&amp;&amp;i.originalCue_===e){<span class=\"code-keyword\">this</span>.cues_.splice(t,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.cues.setCues_(<span class=\"code-keyword\">this</span>.cues_);<span class=\"code-keyword\">break</span>}}},e}(C);ri.prototype.allowedEvents_={<span class=\"code-attr\">cuechange</span>:<span class=\"code-string\">\"cuechange\"</span>};x=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=lt(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e,{<span class=\"code-attr\">kind</span>:Vt[e.kind]||<span class=\"code-string\">\"\"</span>}),e=n.call(<span class=\"code-keyword\">this</span>,t)||<span class=\"code-keyword\">this</span>,i=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.defineProperty(ft(e),<span class=\"code-string\">\"enabled\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"boolean\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e!==i&amp;&amp;(i=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"enabledchange\"</span>))}}),t.enabled&amp;&amp;(e.enabled=t.enabled),e.loaded_=!<span class=\"code-number\">0</span>,e}<span class=\"code-keyword\">return</span> mt(e,n),e}(C),U=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=lt(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e,{<span class=\"code-attr\">kind</span>:qt[e.kind]||<span class=\"code-string\">\"\"</span>}),e=n.call(<span class=\"code-keyword\">this</span>,t)||<span class=\"code-keyword\">this</span>,i=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.defineProperty(ft(e),<span class=\"code-string\">\"selected\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"boolean\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e!==i&amp;&amp;(i=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"selectedchange\"</span>))}}),t.selected&amp;&amp;(e.selected=t.selected),e}<span class=\"code-keyword\">return</span> mt(e,n),e}(C),j=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e={});<span class=\"code-keyword\">var</span> i=r.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>,n=<span class=\"code-keyword\">new</span> ri(e);<span class=\"code-keyword\">return</span> i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,<span class=\"code-built_in\">Object</span>.defineProperties(ft(i),{<span class=\"code-attr\">readyState</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t}},<span class=\"code-attr\">track</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n}}}),t=<span class=\"code-number\">0</span>,n.addEventListener(<span class=\"code-string\">\"loadeddata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t=<span class=\"code-number\">2</span>,i.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"load\"</span>,<span class=\"code-attr\">target</span>:ft(i)})}),i}<span class=\"code-keyword\">return</span> mt(e,r),e}(ze);j.prototype.allowedEvents_={<span class=\"code-attr\">load</span>:<span class=\"code-string\">\"load\"</span>},j.NONE=<span class=\"code-number\">0</span>,j.LOADING=<span class=\"code-number\">1</span>,j.LOADED=<span class=\"code-number\">2</span>,j.ERROR=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">var</span> ai={<span class=\"code-attr\">audio</span>:{<span class=\"code-attr\">ListClass</span>:Bt,<span class=\"code-attr\">TrackClass</span>:x,<span class=\"code-attr\">capitalName</span>:<span class=\"code-string\">\"Audio\"</span>},<span class=\"code-attr\">video</span>:{<span class=\"code-attr\">ListClass</span>:Ft,<span class=\"code-attr\">TrackClass</span>:U,<span class=\"code-attr\">capitalName</span>:<span class=\"code-string\">\"Video\"</span>},<span class=\"code-attr\">text</span>:{<span class=\"code-attr\">ListClass</span>:k,<span class=\"code-attr\">TrackClass</span>:ri,<span class=\"code-attr\">capitalName</span>:<span class=\"code-string\">\"Text\"</span>}};<span class=\"code-built_in\">Object</span>.keys(ai).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ai[e].getterName=e+<span class=\"code-string\">\"Tracks\"</span>,ai[e].privateName=e+<span class=\"code-string\">\"Tracks_\"</span>});<span class=\"code-keyword\">var</span> si={<span class=\"code-attr\">remoteText</span>:{<span class=\"code-attr\">ListClass</span>:k,<span class=\"code-attr\">TrackClass</span>:ri,<span class=\"code-attr\">capitalName</span>:<span class=\"code-string\">\"RemoteText\"</span>,<span class=\"code-attr\">getterName</span>:<span class=\"code-string\">\"remoteTextTracks\"</span>,<span class=\"code-attr\">privateName</span>:<span class=\"code-string\">\"remoteTextTracks_\"</span>},<span class=\"code-attr\">remoteTextEl</span>:{<span class=\"code-attr\">ListClass</span>:jt,<span class=\"code-attr\">TrackClass</span>:j,<span class=\"code-attr\">capitalName</span>:<span class=\"code-string\">\"RemoteTextTrackEls\"</span>,<span class=\"code-attr\">getterName</span>:<span class=\"code-string\">\"remoteTextTrackEls\"</span>,<span class=\"code-attr\">privateName</span>:<span class=\"code-string\">\"remoteTextTrackEls_\"</span>}},oi=g({},ai,si);si.names=<span class=\"code-built_in\">Object</span>.keys(si),ai.names=<span class=\"code-built_in\">Object</span>.keys(ai),oi.names=[].concat(si.names).concat(ai.names);<span class=\"code-keyword\">var</span> ui=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> f?f:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:{},li=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">document</span>?<span class=\"code-built_in\">document</span>:(li=ui[<span class=\"code-string\">\"__GLOBAL_DOCUMENT_CACHE@4\"</span>])||(ui[<span class=\"code-string\">\"__GLOBAL_DOCUMENT_CACHE@4\"</span>]={}),Xt=li,ci=<span class=\"code-built_in\">Object</span>.create||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>!==<span class=\"code-built_in\">arguments</span>.length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Object.create shim only accepts one parameter.\"</span>);<span class=\"code-keyword\">return</span> di.prototype=e,<span class=\"code-keyword\">new</span> di};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">di</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hi</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.name=<span class=\"code-string\">\"ParsingError\"</span>,<span class=\"code-keyword\">this</span>.code=e.code,<span class=\"code-keyword\">this</span>.message=t||e.message}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pi</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">3600</span>*(<span class=\"code-number\">0</span>|e)+<span class=\"code-number\">60</span>*(<span class=\"code-number\">0</span>|t)+(<span class=\"code-number\">0</span>|i)+(<span class=\"code-number\">0</span>|n)/<span class=\"code-number\">1e3</span>}e=e.match(<span class=\"code-regexp\">/^(\\d+):(\\d{1,2})(:\\d{1,2})?\\.(\\d{3})/</span>);<span class=\"code-keyword\">return</span> e?e[<span class=\"code-number\">3</span>]?t(e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">3</span>].replace(<span class=\"code-string\">\":\"</span>,<span class=\"code-string\">\"\"</span>),e[<span class=\"code-number\">4</span>]):<span class=\"code-number\">59</span>&lt;e[<span class=\"code-number\">1</span>]?t(e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>],<span class=\"code-number\">0</span>,e[<span class=\"code-number\">4</span>]):t(<span class=\"code-number\">0</span>,e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">4</span>]):<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fi</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.values=ci(<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mi</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r,a,s=n?e.split(n):[e];<span class=\"code-keyword\">for</span>(r <span class=\"code-keyword\">in</span> s)<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> s[r]&amp;&amp;(<span class=\"code-number\">2</span>===(a=s[r].split(i)).length&amp;&amp;t(a[<span class=\"code-number\">0</span>],a[<span class=\"code-number\">1</span>]))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gi</span>(<span class=\"code-params\">t,e,s</span>)</span>{<span class=\"code-keyword\">var</span> i=t;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=pi(t);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> hi(hi.Errors.BadTimeStamp,<span class=\"code-string\">\"Malformed timestamp: \"</span>+i);<span class=\"code-keyword\">return</span> t=t.replace(<span class=\"code-regexp\">/^[^\\sa-zA-Z-]+/</span>,<span class=\"code-string\">\"\"</span>),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{t=t.replace(<span class=\"code-regexp\">/^\\s+/</span>,<span class=\"code-string\">\"\"</span>)}<span class=\"code-keyword\">if</span>(r(),e.startTime=n(),r(),<span class=\"code-string\">\"--\\x3e\"</span>!==t.substr(<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> hi(hi.Errors.BadTimeStamp,<span class=\"code-string\">\"Malformed time stamp (time stamps must be separated by '--\\x3e'): \"</span>+i);t=t.substr(<span class=\"code-number\">3</span>),r(),e.endTime=n(),r(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> fi;mi(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"region\"</span>:<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=s.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=i;i--)<span class=\"code-keyword\">if</span>(s[i].id===t){a.set(e,s[i].region);<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"vertical\"</span>:a.alt(e,t,[<span class=\"code-string\">\"rl\"</span>,<span class=\"code-string\">\"lr\"</span>]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"line\"</span>:<span class=\"code-keyword\">var</span> n=t.split(<span class=\"code-string\">\",\"</span>),r=n[<span class=\"code-number\">0</span>];a.integer(e,r),a.percent(e,r)&amp;&amp;a.set(<span class=\"code-string\">\"snapToLines\"</span>,!<span class=\"code-number\">1</span>),a.alt(e,r,[<span class=\"code-string\">\"auto\"</span>]),<span class=\"code-number\">2</span>===n.length&amp;&amp;a.alt(<span class=\"code-string\">\"lineAlign\"</span>,n[<span class=\"code-number\">1</span>],[<span class=\"code-string\">\"start\"</span>,<span class=\"code-string\">\"center\"</span>,<span class=\"code-string\">\"end\"</span>]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"position\"</span>:n=t.split(<span class=\"code-string\">\",\"</span>),a.percent(e,n[<span class=\"code-number\">0</span>]),<span class=\"code-number\">2</span>===n.length&amp;&amp;a.alt(<span class=\"code-string\">\"positionAlign\"</span>,n[<span class=\"code-number\">1</span>],[<span class=\"code-string\">\"start\"</span>,<span class=\"code-string\">\"center\"</span>,<span class=\"code-string\">\"end\"</span>]);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"size\"</span>:a.percent(e,t);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"align\"</span>:a.alt(e,t,[<span class=\"code-string\">\"start\"</span>,<span class=\"code-string\">\"center\"</span>,<span class=\"code-string\">\"end\"</span>,<span class=\"code-string\">\"left\"</span>,<span class=\"code-string\">\"right\"</span>])}},/:<span class=\"code-regexp\">/,/</span>\\s/),t.region=a.get(<span class=\"code-string\">\"region\"</span>,<span class=\"code-literal\">null</span>),t.vertical=a.get(<span class=\"code-string\">\"vertical\"</span>,<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">try</span>{t.line=a.get(<span class=\"code-string\">\"line\"</span>,<span class=\"code-string\">\"auto\"</span>)}<span class=\"code-keyword\">catch</span>(e){}t.lineAlign=a.get(<span class=\"code-string\">\"lineAlign\"</span>,<span class=\"code-string\">\"start\"</span>),t.snapToLines=a.get(<span class=\"code-string\">\"snapToLines\"</span>,!<span class=\"code-number\">0</span>),t.size=a.get(<span class=\"code-string\">\"size\"</span>,<span class=\"code-number\">100</span>);<span class=\"code-keyword\">try</span>{t.align=a.get(<span class=\"code-string\">\"align\"</span>,<span class=\"code-string\">\"center\"</span>)}<span class=\"code-keyword\">catch</span>(e){t.align=a.get(<span class=\"code-string\">\"align\"</span>,<span class=\"code-string\">\"middle\"</span>)}<span class=\"code-keyword\">try</span>{t.position=a.get(<span class=\"code-string\">\"position\"</span>,<span class=\"code-string\">\"auto\"</span>)}<span class=\"code-keyword\">catch</span>(e){t.position=a.get(<span class=\"code-string\">\"position\"</span>,{<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">left</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">center</span>:<span class=\"code-number\">50</span>,<span class=\"code-attr\">middle</span>:<span class=\"code-number\">50</span>,<span class=\"code-attr\">end</span>:<span class=\"code-number\">100</span>,<span class=\"code-attr\">right</span>:<span class=\"code-number\">100</span>},t.align)}t.positionAlign=a.get(<span class=\"code-string\">\"positionAlign\"</span>,{<span class=\"code-attr\">start</span>:<span class=\"code-string\">\"start\"</span>,<span class=\"code-attr\">left</span>:<span class=\"code-string\">\"start\"</span>,<span class=\"code-attr\">center</span>:<span class=\"code-string\">\"center\"</span>,<span class=\"code-attr\">middle</span>:<span class=\"code-string\">\"center\"</span>,<span class=\"code-attr\">end</span>:<span class=\"code-string\">\"end\"</span>,<span class=\"code-attr\">right</span>:<span class=\"code-string\">\"end\"</span>},t.align)}(t,e)}((hi.prototype=ci(<span class=\"code-built_in\">Error</span>.prototype)).constructor=hi).Errors={<span class=\"code-attr\">BadSignature</span>:{<span class=\"code-attr\">code</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Malformed WebVTT signature.\"</span>},<span class=\"code-attr\">BadTimeStamp</span>:{<span class=\"code-attr\">code</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Malformed time stamp.\"</span>}},fi.prototype={<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.get(e)||<span class=\"code-string\">\"\"</span>===t||(<span class=\"code-keyword\">this</span>.values[e]=t)},<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> i?<span class=\"code-keyword\">this</span>.has(e)?<span class=\"code-keyword\">this</span>.values[e]:t[i]:<span class=\"code-keyword\">this</span>.has(e)?<span class=\"code-keyword\">this</span>.values[e]:t},<span class=\"code-attr\">has</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.values},<span class=\"code-attr\">alt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;i.length;++n)<span class=\"code-keyword\">if</span>(t===i[n]){<span class=\"code-keyword\">this</span>.set(e,t);<span class=\"code-keyword\">break</span>}},<span class=\"code-attr\">integer</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{/^-?\\d+$/.test(t)&amp;&amp;<span class=\"code-keyword\">this</span>.set(e,<span class=\"code-built_in\">parseInt</span>(t,<span class=\"code-number\">10</span>))},<span class=\"code-attr\">percent</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>!!(t.match(<span class=\"code-regexp\">/^([\\d]{1,3})(\\.[\\d]*)?%$/</span>)&amp;&amp;<span class=\"code-number\">0</span>&lt;=(t=<span class=\"code-built_in\">parseFloat</span>(t))&amp;&amp;t&lt;=<span class=\"code-number\">100</span>)&amp;&amp;(<span class=\"code-keyword\">this</span>.set(e,t),!<span class=\"code-number\">0</span>)}};<span class=\"code-keyword\">var</span> yi=Xt.createElement&amp;&amp;Xt.createElement(<span class=\"code-string\">\"textarea\"</span>),vi={<span class=\"code-attr\">c</span>:<span class=\"code-string\">\"span\"</span>,<span class=\"code-attr\">i</span>:<span class=\"code-string\">\"i\"</span>,<span class=\"code-attr\">b</span>:<span class=\"code-string\">\"b\"</span>,<span class=\"code-attr\">u</span>:<span class=\"code-string\">\"u\"</span>,<span class=\"code-attr\">ruby</span>:<span class=\"code-string\">\"ruby\"</span>,<span class=\"code-attr\">rt</span>:<span class=\"code-string\">\"rt\"</span>,<span class=\"code-attr\">v</span>:<span class=\"code-string\">\"span\"</span>,<span class=\"code-attr\">lang</span>:<span class=\"code-string\">\"span\"</span>},_i={<span class=\"code-attr\">white</span>:<span class=\"code-string\">\"rgba(255,255,255,1)\"</span>,<span class=\"code-attr\">lime</span>:<span class=\"code-string\">\"rgba(0,255,0,1)\"</span>,<span class=\"code-attr\">cyan</span>:<span class=\"code-string\">\"rgba(0,255,255,1)\"</span>,<span class=\"code-attr\">red</span>:<span class=\"code-string\">\"rgba(255,0,0,1)\"</span>,<span class=\"code-attr\">yellow</span>:<span class=\"code-string\">\"rgba(255,255,0,1)\"</span>,<span class=\"code-attr\">magenta</span>:<span class=\"code-string\">\"rgba(255,0,255,1)\"</span>,<span class=\"code-attr\">blue</span>:<span class=\"code-string\">\"rgba(0,0,255,1)\"</span>,<span class=\"code-attr\">black</span>:<span class=\"code-string\">\"rgba(0,0,0,1)\"</span>},bi={<span class=\"code-attr\">v</span>:<span class=\"code-string\">\"title\"</span>,<span class=\"code-attr\">lang</span>:<span class=\"code-string\">\"lang\"</span>},Ti={<span class=\"code-attr\">rt</span>:<span class=\"code-string\">\"ruby\"</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Si</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n,r,a,s,o,u,l,c,d,h=e.document.createElement(<span class=\"code-string\">\"div\"</span>),p=h,f=[];<span class=\"code-literal\">null</span>!==(i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> e=t.match(<span class=\"code-regexp\">/^([^&lt;]*)(&lt;[^&gt;]*&gt;?)?/</span>);<span class=\"code-keyword\">return</span> e=e[<span class=\"code-number\">1</span>]||e[<span class=\"code-number\">2</span>],t=t.substr(e.length),e}());)<span class=\"code-string\">\"&lt;\"</span>!==i[<span class=\"code-number\">0</span>]?p.appendChild(e.document.createTextNode((s=i,yi.innerHTML=s,s=yi.textContent,yi.textContent=<span class=\"code-string\">\"\"</span>,s))):<span class=\"code-string\">\"/\"</span>!==i[<span class=\"code-number\">1</span>]?(a=pi(i.substr(<span class=\"code-number\">1</span>,i.length<span class=\"code-number\">-2</span>)))?(n=e.document.createProcessingInstruction(<span class=\"code-string\">\"timestamp\"</span>,a),p.appendChild(n)):(r=i.match(<span class=\"code-regexp\">/^&lt;([^.\\s/0-9&gt;]+)(\\.[^\\s\\\\&gt;]+)?([^&gt;\\\\]+)?(\\\\?)&gt;?$/</span>))&amp;&amp;(l=r[<span class=\"code-number\">1</span>],c=r[<span class=\"code-number\">3</span>],d=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,d=vi[l],(n=d?(d=e.document.createElement(d),(l=bi[l])&amp;&amp;c&amp;&amp;(d[l]=c.trim()),d):<span class=\"code-literal\">null</span>)&amp;&amp;(o=p,Ti[(u=n).localName]&amp;&amp;Ti[u.localName]!==o.localName||(r[<span class=\"code-number\">2</span>]&amp;&amp;((a=r[<span class=\"code-number\">2</span>].split(<span class=\"code-string\">\".\"</span>)).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-regexp\">/^bg_/</span>.test(e),e=t?e.slice(<span class=\"code-number\">3</span>):e;_i.hasOwnProperty(e)&amp;&amp;(e=_i[e],n.style[t?<span class=\"code-string\">\"background-color\"</span>:<span class=\"code-string\">\"color\"</span>]=e)}),n.className=a.join(<span class=\"code-string\">\" \"</span>)),f.push(r[<span class=\"code-number\">1</span>]),p.appendChild(n),p=n))):f.length&amp;&amp;f[f.length<span class=\"code-number\">-1</span>]===i.substr(<span class=\"code-number\">2</span>).replace(<span class=\"code-string\">\"&gt;\"</span>,<span class=\"code-string\">\"\"</span>)&amp;&amp;(f.pop(),p=p.parentNode);<span class=\"code-keyword\">return</span> h}<span class=\"code-keyword\">var</span> wi=[[<span class=\"code-number\">1470</span>,<span class=\"code-number\">1470</span>],[<span class=\"code-number\">1472</span>,<span class=\"code-number\">1472</span>],[<span class=\"code-number\">1475</span>,<span class=\"code-number\">1475</span>],[<span class=\"code-number\">1478</span>,<span class=\"code-number\">1478</span>],[<span class=\"code-number\">1488</span>,<span class=\"code-number\">1514</span>],[<span class=\"code-number\">1520</span>,<span class=\"code-number\">1524</span>],[<span class=\"code-number\">1544</span>,<span class=\"code-number\">1544</span>],[<span class=\"code-number\">1547</span>,<span class=\"code-number\">1547</span>],[<span class=\"code-number\">1549</span>,<span class=\"code-number\">1549</span>],[<span class=\"code-number\">1563</span>,<span class=\"code-number\">1563</span>],[<span class=\"code-number\">1566</span>,<span class=\"code-number\">1610</span>],[<span class=\"code-number\">1645</span>,<span class=\"code-number\">1647</span>],[<span class=\"code-number\">1649</span>,<span class=\"code-number\">1749</span>],[<span class=\"code-number\">1765</span>,<span class=\"code-number\">1766</span>],[<span class=\"code-number\">1774</span>,<span class=\"code-number\">1775</span>],[<span class=\"code-number\">1786</span>,<span class=\"code-number\">1805</span>],[<span class=\"code-number\">1807</span>,<span class=\"code-number\">1808</span>],[<span class=\"code-number\">1810</span>,<span class=\"code-number\">1839</span>],[<span class=\"code-number\">1869</span>,<span class=\"code-number\">1957</span>],[<span class=\"code-number\">1969</span>,<span class=\"code-number\">1969</span>],[<span class=\"code-number\">1984</span>,<span class=\"code-number\">2026</span>],[<span class=\"code-number\">2036</span>,<span class=\"code-number\">2037</span>],[<span class=\"code-number\">2042</span>,<span class=\"code-number\">2042</span>],[<span class=\"code-number\">2048</span>,<span class=\"code-number\">2069</span>],[<span class=\"code-number\">2074</span>,<span class=\"code-number\">2074</span>],[<span class=\"code-number\">2084</span>,<span class=\"code-number\">2084</span>],[<span class=\"code-number\">2088</span>,<span class=\"code-number\">2088</span>],[<span class=\"code-number\">2096</span>,<span class=\"code-number\">2110</span>],[<span class=\"code-number\">2112</span>,<span class=\"code-number\">2136</span>],[<span class=\"code-number\">2142</span>,<span class=\"code-number\">2142</span>],[<span class=\"code-number\">2208</span>,<span class=\"code-number\">2208</span>],[<span class=\"code-number\">2210</span>,<span class=\"code-number\">2220</span>],[<span class=\"code-number\">8207</span>,<span class=\"code-number\">8207</span>],[<span class=\"code-number\">64285</span>,<span class=\"code-number\">64285</span>],[<span class=\"code-number\">64287</span>,<span class=\"code-number\">64296</span>],[<span class=\"code-number\">64298</span>,<span class=\"code-number\">64310</span>],[<span class=\"code-number\">64312</span>,<span class=\"code-number\">64316</span>],[<span class=\"code-number\">64318</span>,<span class=\"code-number\">64318</span>],[<span class=\"code-number\">64320</span>,<span class=\"code-number\">64321</span>],[<span class=\"code-number\">64323</span>,<span class=\"code-number\">64324</span>],[<span class=\"code-number\">64326</span>,<span class=\"code-number\">64449</span>],[<span class=\"code-number\">64467</span>,<span class=\"code-number\">64829</span>],[<span class=\"code-number\">64848</span>,<span class=\"code-number\">64911</span>],[<span class=\"code-number\">64914</span>,<span class=\"code-number\">64967</span>],[<span class=\"code-number\">65008</span>,<span class=\"code-number\">65020</span>],[<span class=\"code-number\">65136</span>,<span class=\"code-number\">65140</span>],[<span class=\"code-number\">65142</span>,<span class=\"code-number\">65276</span>],[<span class=\"code-number\">67584</span>,<span class=\"code-number\">67589</span>],[<span class=\"code-number\">67592</span>,<span class=\"code-number\">67592</span>],[<span class=\"code-number\">67594</span>,<span class=\"code-number\">67637</span>],[<span class=\"code-number\">67639</span>,<span class=\"code-number\">67640</span>],[<span class=\"code-number\">67644</span>,<span class=\"code-number\">67644</span>],[<span class=\"code-number\">67647</span>,<span class=\"code-number\">67669</span>],[<span class=\"code-number\">67671</span>,<span class=\"code-number\">67679</span>],[<span class=\"code-number\">67840</span>,<span class=\"code-number\">67867</span>],[<span class=\"code-number\">67872</span>,<span class=\"code-number\">67897</span>],[<span class=\"code-number\">67903</span>,<span class=\"code-number\">67903</span>],[<span class=\"code-number\">67968</span>,<span class=\"code-number\">68023</span>],[<span class=\"code-number\">68030</span>,<span class=\"code-number\">68031</span>],[<span class=\"code-number\">68096</span>,<span class=\"code-number\">68096</span>],[<span class=\"code-number\">68112</span>,<span class=\"code-number\">68115</span>],[<span class=\"code-number\">68117</span>,<span class=\"code-number\">68119</span>],[<span class=\"code-number\">68121</span>,<span class=\"code-number\">68147</span>],[<span class=\"code-number\">68160</span>,<span class=\"code-number\">68167</span>],[<span class=\"code-number\">68176</span>,<span class=\"code-number\">68184</span>],[<span class=\"code-number\">68192</span>,<span class=\"code-number\">68223</span>],[<span class=\"code-number\">68352</span>,<span class=\"code-number\">68405</span>],[<span class=\"code-number\">68416</span>,<span class=\"code-number\">68437</span>],[<span class=\"code-number\">68440</span>,<span class=\"code-number\">68466</span>],[<span class=\"code-number\">68472</span>,<span class=\"code-number\">68479</span>],[<span class=\"code-number\">68608</span>,<span class=\"code-number\">68680</span>],[<span class=\"code-number\">126464</span>,<span class=\"code-number\">126467</span>],[<span class=\"code-number\">126469</span>,<span class=\"code-number\">126495</span>],[<span class=\"code-number\">126497</span>,<span class=\"code-number\">126498</span>],[<span class=\"code-number\">126500</span>,<span class=\"code-number\">126500</span>],[<span class=\"code-number\">126503</span>,<span class=\"code-number\">126503</span>],[<span class=\"code-number\">126505</span>,<span class=\"code-number\">126514</span>],[<span class=\"code-number\">126516</span>,<span class=\"code-number\">126519</span>],[<span class=\"code-number\">126521</span>,<span class=\"code-number\">126521</span>],[<span class=\"code-number\">126523</span>,<span class=\"code-number\">126523</span>],[<span class=\"code-number\">126530</span>,<span class=\"code-number\">126530</span>],[<span class=\"code-number\">126535</span>,<span class=\"code-number\">126535</span>],[<span class=\"code-number\">126537</span>,<span class=\"code-number\">126537</span>],[<span class=\"code-number\">126539</span>,<span class=\"code-number\">126539</span>],[<span class=\"code-number\">126541</span>,<span class=\"code-number\">126543</span>],[<span class=\"code-number\">126545</span>,<span class=\"code-number\">126546</span>],[<span class=\"code-number\">126548</span>,<span class=\"code-number\">126548</span>],[<span class=\"code-number\">126551</span>,<span class=\"code-number\">126551</span>],[<span class=\"code-number\">126553</span>,<span class=\"code-number\">126553</span>],[<span class=\"code-number\">126555</span>,<span class=\"code-number\">126555</span>],[<span class=\"code-number\">126557</span>,<span class=\"code-number\">126557</span>],[<span class=\"code-number\">126559</span>,<span class=\"code-number\">126559</span>],[<span class=\"code-number\">126561</span>,<span class=\"code-number\">126562</span>],[<span class=\"code-number\">126564</span>,<span class=\"code-number\">126564</span>],[<span class=\"code-number\">126567</span>,<span class=\"code-number\">126570</span>],[<span class=\"code-number\">126572</span>,<span class=\"code-number\">126578</span>],[<span class=\"code-number\">126580</span>,<span class=\"code-number\">126583</span>],[<span class=\"code-number\">126585</span>,<span class=\"code-number\">126588</span>],[<span class=\"code-number\">126590</span>,<span class=\"code-number\">126590</span>],[<span class=\"code-number\">126592</span>,<span class=\"code-number\">126601</span>],[<span class=\"code-number\">126603</span>,<span class=\"code-number\">126619</span>],[<span class=\"code-number\">126625</span>,<span class=\"code-number\">126627</span>],[<span class=\"code-number\">126629</span>,<span class=\"code-number\">126633</span>],[<span class=\"code-number\">126635</span>,<span class=\"code-number\">126651</span>],[<span class=\"code-number\">1114109</span>,<span class=\"code-number\">1114109</span>]];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ei</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=[],i=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(!e||!e.childNodes)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ltr\"</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.childNodes.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=i;i--)e.push(t.childNodes[i])}<span class=\"code-keyword\">for</span>(a(t,e);i=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(!t||!t.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=t.pop(),n=i.textContent||i.innerText;<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">var</span> r=n.match(<span class=\"code-regexp\">/^.*(\\n|\\r)/</span>);<span class=\"code-keyword\">return</span> r?r[t.length=<span class=\"code-number\">0</span>]:n}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ruby\"</span>===i.tagName?e(t):i.childNodes?(a(t,i),e(t)):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}(t);)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;i.length;n++)<span class=\"code-keyword\">if</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;wi.length;t++){<span class=\"code-keyword\">var</span> i=wi[t];<span class=\"code-keyword\">if</span>(e&gt;=i[<span class=\"code-number\">0</span>]&amp;&amp;e&lt;=i[<span class=\"code-number\">1</span>])<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}}(i.charCodeAt(n)))<span class=\"code-keyword\">return</span><span class=\"code-string\">\"rtl\"</span>;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ltr\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ki</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ci</span>(<span class=\"code-params\">e,t,i</span>)</span>{ki.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.cue=t,<span class=\"code-keyword\">this</span>.cueDiv=Si(e,t.text);<span class=\"code-keyword\">var</span> n={<span class=\"code-attr\">color</span>:<span class=\"code-string\">\"rgba(255, 255, 255, 1)\"</span>,<span class=\"code-attr\">backgroundColor</span>:<span class=\"code-string\">\"rgba(0, 0, 0, 0.8)\"</span>,<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"relative\"</span>,<span class=\"code-attr\">left</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">right</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">top</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">bottom</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">display</span>:<span class=\"code-string\">\"inline\"</span>,<span class=\"code-attr\">writingMode</span>:<span class=\"code-string\">\"\"</span>===t.vertical?<span class=\"code-string\">\"horizontal-tb\"</span>:<span class=\"code-string\">\"lr\"</span>===t.vertical?<span class=\"code-string\">\"vertical-lr\"</span>:<span class=\"code-string\">\"vertical-rl\"</span>,<span class=\"code-attr\">unicodeBidi</span>:<span class=\"code-string\">\"plaintext\"</span>};<span class=\"code-keyword\">this</span>.applyStyles(n,<span class=\"code-keyword\">this</span>.cueDiv),<span class=\"code-keyword\">this</span>.div=e.document.createElement(<span class=\"code-string\">\"div\"</span>),n={<span class=\"code-attr\">direction</span>:Ei(<span class=\"code-keyword\">this</span>.cueDiv),<span class=\"code-attr\">writingMode</span>:<span class=\"code-string\">\"\"</span>===t.vertical?<span class=\"code-string\">\"horizontal-tb\"</span>:<span class=\"code-string\">\"lr\"</span>===t.vertical?<span class=\"code-string\">\"vertical-lr\"</span>:<span class=\"code-string\">\"vertical-rl\"</span>,<span class=\"code-attr\">unicodeBidi</span>:<span class=\"code-string\">\"plaintext\"</span>,<span class=\"code-attr\">textAlign</span>:<span class=\"code-string\">\"middle\"</span>===t.align?<span class=\"code-string\">\"center\"</span>:t.align,<span class=\"code-attr\">font</span>:i.font,<span class=\"code-attr\">whiteSpace</span>:<span class=\"code-string\">\"pre-line\"</span>,<span class=\"code-attr\">position</span>:<span class=\"code-string\">\"absolute\"</span>},<span class=\"code-keyword\">this</span>.applyStyles(n),<span class=\"code-keyword\">this</span>.div.appendChild(<span class=\"code-keyword\">this</span>.cueDiv);<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">switch</span>(t.positionAlign){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"start\"</span>:r=t.position;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"center\"</span>:r=t.position-t.size/<span class=\"code-number\">2</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"end\"</span>:r=t.position-t.size}<span class=\"code-string\">\"\"</span>===t.vertical?<span class=\"code-keyword\">this</span>.applyStyles({<span class=\"code-attr\">left</span>:<span class=\"code-keyword\">this</span>.formatStyle(r,<span class=\"code-string\">\"%\"</span>),<span class=\"code-attr\">width</span>:<span class=\"code-keyword\">this</span>.formatStyle(t.size,<span class=\"code-string\">\"%\"</span>)}):<span class=\"code-keyword\">this</span>.applyStyles({<span class=\"code-attr\">top</span>:<span class=\"code-keyword\">this</span>.formatStyle(r,<span class=\"code-string\">\"%\"</span>),<span class=\"code-attr\">height</span>:<span class=\"code-keyword\">this</span>.formatStyle(t.size,<span class=\"code-string\">\"%\"</span>)}),<span class=\"code-keyword\">this</span>.move=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.applyStyles({<span class=\"code-attr\">top</span>:<span class=\"code-keyword\">this</span>.formatStyle(e.top,<span class=\"code-string\">\"px\"</span>),<span class=\"code-attr\">bottom</span>:<span class=\"code-keyword\">this</span>.formatStyle(e.bottom,<span class=\"code-string\">\"px\"</span>),<span class=\"code-attr\">left</span>:<span class=\"code-keyword\">this</span>.formatStyle(e.left,<span class=\"code-string\">\"px\"</span>),<span class=\"code-attr\">right</span>:<span class=\"code-keyword\">this</span>.formatStyle(e.right,<span class=\"code-string\">\"px\"</span>),<span class=\"code-attr\">height</span>:<span class=\"code-keyword\">this</span>.formatStyle(e.height,<span class=\"code-string\">\"px\"</span>),<span class=\"code-attr\">width</span>:<span class=\"code-keyword\">this</span>.formatStyle(e.width,<span class=\"code-string\">\"px\"</span>)})}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ii</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r;e.div&amp;&amp;(t=e.div.offsetHeight,i=e.div.offsetWidth,n=e.div.offsetTop,r=(r=e.div.childNodes)&amp;&amp;(r=r[<span class=\"code-number\">0</span>])&amp;&amp;r.getClientRects&amp;&amp;r.getClientRects(),e=e.div.getBoundingClientRect(),r=r?<span class=\"code-built_in\">Math</span>.max(r[<span class=\"code-number\">0</span>]&amp;&amp;r[<span class=\"code-number\">0</span>].height||<span class=\"code-number\">0</span>,e.height/r.length):<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.left=e.left,<span class=\"code-keyword\">this</span>.right=e.right,<span class=\"code-keyword\">this</span>.top=e.top||n,<span class=\"code-keyword\">this</span>.height=e.height||t,<span class=\"code-keyword\">this</span>.bottom=e.bottom||n+(e.height||t),<span class=\"code-keyword\">this</span>.width=e.width||i,<span class=\"code-keyword\">this</span>.lineHeight=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r?r:e.lineHeight}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xi</span>(<span class=\"code-params\">e,t,o,u</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">new</span> Ii(t),r=t.cue,a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.line&amp;&amp;(e.snapToLines||<span class=\"code-number\">0</span>&lt;=e.line&amp;&amp;e.line&lt;=<span class=\"code-number\">100</span>))<span class=\"code-keyword\">return</span> e.line;<span class=\"code-keyword\">if</span>(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.track,i=t.textTrackList,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>;r&lt;i.length&amp;&amp;i[r]!==t;r++)<span class=\"code-string\">\"showing\"</span>===i[r].mode&amp;&amp;n++;<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>*++n}(r),s=[];<span class=\"code-keyword\">if</span>(r.snapToLines){<span class=\"code-keyword\">switch</span>(r.vertical){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"\"</span>:s=[<span class=\"code-string\">\"+y\"</span>,<span class=\"code-string\">\"-y\"</span>],i=<span class=\"code-string\">\"height\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"rl\"</span>:s=[<span class=\"code-string\">\"+x\"</span>,<span class=\"code-string\">\"-x\"</span>],i=<span class=\"code-string\">\"width\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"lr\"</span>:s=[<span class=\"code-string\">\"-x\"</span>,<span class=\"code-string\">\"+x\"</span>],i=<span class=\"code-string\">\"width\"</span>}<span class=\"code-keyword\">var</span> l=n.lineHeight,c=l*<span class=\"code-built_in\">Math</span>.round(a),d=o[i]+l,h=s[<span class=\"code-number\">0</span>];<span class=\"code-built_in\">Math</span>.abs(c)&gt;d&amp;&amp;(c=c&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">-1</span>:<span class=\"code-number\">1</span>,c*=<span class=\"code-built_in\">Math</span>.ceil(d/l)*l),a&lt;<span class=\"code-number\">0</span>&amp;&amp;(c+=<span class=\"code-string\">\"\"</span>===r.vertical?o.height:o.width,s=s.reverse()),n.move(h,c)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> p=n.lineHeight/o.height*<span class=\"code-number\">100</span>;<span class=\"code-keyword\">switch</span>(r.lineAlign){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"center\"</span>:a-=p/<span class=\"code-number\">2</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"end\"</span>:a-=p}<span class=\"code-keyword\">switch</span>(r.vertical){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"\"</span>:t.applyStyles({<span class=\"code-attr\">top</span>:t.formatStyle(a,<span class=\"code-string\">\"%\"</span>)});<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"rl\"</span>:t.applyStyles({<span class=\"code-attr\">left</span>:t.formatStyle(a,<span class=\"code-string\">\"%\"</span>)});<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"lr\"</span>:t.applyStyles({<span class=\"code-attr\">right</span>:t.formatStyle(a,<span class=\"code-string\">\"%\"</span>)})}s=[<span class=\"code-string\">\"+y\"</span>,<span class=\"code-string\">\"-x\"</span>,<span class=\"code-string\">\"+x\"</span>,<span class=\"code-string\">\"-y\"</span>],n=<span class=\"code-keyword\">new</span> Ii(t)}n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">new</span> Ii(e),r=<span class=\"code-number\">1</span>,a=<span class=\"code-number\">0</span>;a&lt;t.length;a++){<span class=\"code-keyword\">for</span>(;e.overlapsOppositeAxis(o,t[a])||e.within(o)&amp;&amp;e.overlapsAny(u);)e.move(t[a]);<span class=\"code-keyword\">if</span>(e.within(o))<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> s=e.intersectPercentage(o);s&lt;r&amp;&amp;(i=<span class=\"code-keyword\">new</span> Ii(e),r=s),e=<span class=\"code-keyword\">new</span> Ii(n)}<span class=\"code-keyword\">return</span> i||n}(n,s);t.move(n.toCSSCompatValues(o))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ai</span>(<span class=\"code-params\"></span>)</span>{}ki.prototype.applyStyles=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> t=t||<span class=\"code-keyword\">this</span>.div,e)e.hasOwnProperty(i)&amp;&amp;(t.style[i]=e[i])},ki.prototype.formatStyle=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e?<span class=\"code-number\">0</span>:e+t},(Ci.prototype=ci(ki.prototype)).constructor=Ci,Ii.prototype.move=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">switch</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t?t:<span class=\"code-keyword\">this</span>.lineHeight,e){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"+x\"</span>:<span class=\"code-keyword\">this</span>.left+=t,<span class=\"code-keyword\">this</span>.right+=t;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"-x\"</span>:<span class=\"code-keyword\">this</span>.left-=t,<span class=\"code-keyword\">this</span>.right-=t;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"+y\"</span>:<span class=\"code-keyword\">this</span>.top+=t,<span class=\"code-keyword\">this</span>.bottom+=t;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"-y\"</span>:<span class=\"code-keyword\">this</span>.top-=t,<span class=\"code-keyword\">this</span>.bottom-=t}},Ii.prototype.overlaps=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.left&lt;e.right&amp;&amp;<span class=\"code-keyword\">this</span>.right&gt;e.left&amp;&amp;<span class=\"code-keyword\">this</span>.top&lt;e.bottom&amp;&amp;<span class=\"code-keyword\">this</span>.bottom&gt;e.top},Ii.prototype.overlapsAny=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;e.length;t++)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.overlaps(e[t]))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>},Ii.prototype.within=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.top&gt;=e.top&amp;&amp;<span class=\"code-keyword\">this</span>.bottom&lt;=e.bottom&amp;&amp;<span class=\"code-keyword\">this</span>.left&gt;=e.left&amp;&amp;<span class=\"code-keyword\">this</span>.right&lt;=e.right},Ii.prototype.overlapsOppositeAxis=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"+x\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.left&lt;e.left;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"-x\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.right&gt;e.right;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"+y\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.top&lt;e.top;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"-y\"</span>:<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.bottom&gt;e.bottom}},Ii.prototype.intersectPercentage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.right,e.right)-<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.left,e.left))*<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Math</span>.min(<span class=\"code-keyword\">this</span>.bottom,e.bottom)-<span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.top,e.top))/(<span class=\"code-keyword\">this</span>.height*<span class=\"code-keyword\">this</span>.width)},Ii.prototype.toCSSCompatValues=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">top</span>:<span class=\"code-keyword\">this</span>.top-e.top,<span class=\"code-attr\">bottom</span>:e.bottom-<span class=\"code-keyword\">this</span>.bottom,<span class=\"code-attr\">left</span>:<span class=\"code-keyword\">this</span>.left-e.left,<span class=\"code-attr\">right</span>:e.right-<span class=\"code-keyword\">this</span>.right,<span class=\"code-attr\">height</span>:<span class=\"code-keyword\">this</span>.height,<span class=\"code-attr\">width</span>:<span class=\"code-keyword\">this</span>.width}},Ii.getSimpleBoxPosition=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:<span class=\"code-number\">0</span>,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:<span class=\"code-number\">0</span>,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">left</span>:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,<span class=\"code-attr\">right</span>:e.right,<span class=\"code-attr\">top</span>:e.top||n,<span class=\"code-attr\">height</span>:e.height||t,<span class=\"code-attr\">bottom</span>:e.bottom||n+(e.height||t),<span class=\"code-attr\">width</span>:e.width||i}},Ai.StringDecoder=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">decode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error - expected string data.\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">decodeURIComponent</span>(<span class=\"code-built_in\">encodeURIComponent</span>(e))}}},Ai.convertCueToDOMTree=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;t?Si(e,t):<span class=\"code-literal\">null</span>};Ai.processCues=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r,e</span>)</span>{<span class=\"code-keyword\">if</span>(!n||!r||!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(;e.firstChild;)e.removeChild(e.firstChild);<span class=\"code-keyword\">var</span> a=n.document.createElement(<span class=\"code-string\">\"div\"</span>);<span class=\"code-keyword\">if</span>(a.style.position=<span class=\"code-string\">\"absolute\"</span>,a.style.left=<span class=\"code-string\">\"0\"</span>,a.style.right=<span class=\"code-string\">\"0\"</span>,a.style.top=<span class=\"code-string\">\"0\"</span>,a.style.bottom=<span class=\"code-string\">\"0\"</span>,a.style.margin=<span class=\"code-string\">\"1.5%\"</span>,e.appendChild(a),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;e.length;t++)<span class=\"code-keyword\">if</span>(e[t].hasBeenReset||!e[t].displayState)<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}(r)){<span class=\"code-keyword\">var</span> s=[],o=Ii.getSimpleBoxPosition(a),u={<span class=\"code-attr\">font</span>:<span class=\"code-built_in\">Math</span>.round(<span class=\"code-number\">.05</span>*o.height*<span class=\"code-number\">100</span>)/<span class=\"code-number\">100</span>+<span class=\"code-string\">\"px sans-serif\"</span>};!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,t,i=<span class=\"code-number\">0</span>;i&lt;r.length;i++)t=r[i],e=<span class=\"code-keyword\">new</span> Ci(n,t,u),a.appendChild(e.div),xi(<span class=\"code-number\">0</span>,e,o,s),t.displayState=e.div,s.push(Ii.getSimpleBoxPosition(e))}()}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;r.length;t++)a.appendChild(r[t].displayState)},(Ai.Parser=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{i||(i=t,t={}),t=t||{},<span class=\"code-keyword\">this</span>.window=e,<span class=\"code-keyword\">this</span>.vttjs=t,<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"INITIAL\"</span>,<span class=\"code-keyword\">this</span>.buffer=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.decoder=i||<span class=\"code-keyword\">new</span> TextDecoder(<span class=\"code-string\">\"utf8\"</span>),<span class=\"code-keyword\">this</span>.regionList=[]}).prototype={<span class=\"code-attr\">reportOrThrowError</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!(e <span class=\"code-keyword\">instanceof</span> hi))<span class=\"code-keyword\">throw</span> e;<span class=\"code-keyword\">this</span>.onparsingerror&amp;&amp;<span class=\"code-keyword\">this</span>.onparsingerror(e)},<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=n.buffer,t=<span class=\"code-number\">0</span>;t&lt;e.length&amp;&amp;<span class=\"code-string\">\"\\r\"</span>!==e[t]&amp;&amp;<span class=\"code-string\">\"\\n\"</span>!==e[t];)++t;<span class=\"code-keyword\">var</span> i=e.substr(<span class=\"code-number\">0</span>,t);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\\r\"</span>===e[t]&amp;&amp;++t,<span class=\"code-string\">\"\\n\"</span>===e[t]&amp;&amp;++t,n.buffer=e.substr(t),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e</span>)</span>{e.match(<span class=\"code-regexp\">/X-TIMESTAMP-MAP/</span>)?mi(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-string\">\"X-TIMESTAMP-MAP\"</span>===e&amp;&amp;(t=t,i=<span class=\"code-keyword\">new</span> fi,mi(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"MPEGT\"</span>:i.integer(e+<span class=\"code-string\">\"S\"</span>,t);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"LOCA\"</span>:i.set(e+<span class=\"code-string\">\"L\"</span>,pi(t))}},/[^\\d]:<span class=\"code-regexp\">/,/</span>,/),n.ontimestampmap&amp;&amp;n.ontimestampmap({<span class=\"code-attr\">MPEGTS</span>:i.get(<span class=\"code-string\">\"MPEGTS\"</span>),<span class=\"code-attr\">LOCAL</span>:i.get(<span class=\"code-string\">\"LOCAL\"</span>)}))},/=<span class=\"code-regexp\">/):mi(e,function(e,t){var r;\"Region\"===e&amp;&amp;(t=t,r=new fi,mi(t,function(e,t){switch(e){case\"id\":r.set(e,t);break;case\"width\":r.percent(e,t);break;case\"lines\":r.integer(e,t);break;case\"regionanchor\":case\"viewportanchor\":var i=t.split(\",\");if(2!==i.length)break;var n=new fi;if(n.percent(\"x\",i[0]),n.percent(\"y\",i[1]),!n.has(\"x\")||!n.has(\"y\"))break;r.set(e+\"X\",n.get(\"x\")),r.set(e+\"Y\",n.get(\"y\"));break;case\"scroll\":r.alt(e,t,[\"up\"])}},/</span>=<span class=\"code-regexp\">/,/</span>\\s/),r.has(<span class=\"code-string\">\"id\"</span>)&amp;&amp;((t=<span class=\"code-keyword\">new</span>(n.vttjs.VTTRegion||n.window.VTTRegion)).width=r.get(<span class=\"code-string\">\"width\"</span>,<span class=\"code-number\">100</span>),t.lines=r.get(<span class=\"code-string\">\"lines\"</span>,<span class=\"code-number\">3</span>),t.regionAnchorX=r.get(<span class=\"code-string\">\"regionanchorX\"</span>,<span class=\"code-number\">0</span>),t.regionAnchorY=r.get(<span class=\"code-string\">\"regionanchorY\"</span>,<span class=\"code-number\">100</span>),t.viewportAnchorX=r.get(<span class=\"code-string\">\"viewportanchorX\"</span>,<span class=\"code-number\">0</span>),t.viewportAnchorY=r.get(<span class=\"code-string\">\"viewportanchorY\"</span>,<span class=\"code-number\">100</span>),t.scroll=r.get(<span class=\"code-string\">\"scroll\"</span>,<span class=\"code-string\">\"\"</span>),n.onregion&amp;&amp;n.onregion(t),n.regionList.push({<span class=\"code-attr\">id</span>:r.get(<span class=\"code-string\">\"id\"</span>),<span class=\"code-attr\">region</span>:t})))},/:<span class=\"code-regexp\">/)}e&amp;&amp;(n.buffer+=n.decoder.decode(e,{stream:!0}));try{if(\"INITIAL\"===n.state){if(!/</span>\\r\\n|\\n/.test(n.buffer))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">var</span> r,a=(r=t()).match(<span class=\"code-regexp\">/^WEBVTT([ \\t].*)?$/</span>);<span class=\"code-keyword\">if</span>(!a||!a[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> hi(hi.Errors.BadSignature);n.state=<span class=\"code-string\">\"HEADER\"</span>}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=!<span class=\"code-number\">1</span>;n.buffer;){<span class=\"code-keyword\">if</span>(!<span class=\"code-regexp\">/\\r\\n|\\n/</span>.test(n.buffer))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">switch</span>(s?s=!<span class=\"code-number\">1</span>:r=t(),n.state){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"HEADER\"</span>:<span class=\"code-regexp\">/:/</span>.test(r)?i(r):r||(n.state=<span class=\"code-string\">\"ID\"</span>);<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"NOTE\"</span>:r||(n.state=<span class=\"code-string\">\"ID\"</span>);<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"ID\"</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/^NOTE($|[ \\t])/</span>.test(r)){n.state=<span class=\"code-string\">\"NOTE\"</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">continue</span>;n.cue=<span class=\"code-keyword\">new</span>(n.vttjs.VTTCue||n.window.VTTCue)(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">try</span>{n.cue.align=<span class=\"code-string\">\"center\"</span>}<span class=\"code-keyword\">catch</span>(e){n.cue.align=<span class=\"code-string\">\"middle\"</span>}<span class=\"code-keyword\">if</span>(n.state=<span class=\"code-string\">\"CUE\"</span>,<span class=\"code-number\">-1</span>===r.indexOf(<span class=\"code-string\">\"--\\x3e\"</span>)){n.cue.id=r;<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CUE\"</span>:<span class=\"code-keyword\">try</span>{gi(r,n.cue,n.regionList)}<span class=\"code-keyword\">catch</span>(e){n.reportOrThrowError(e),n.cue=<span class=\"code-literal\">null</span>,n.state=<span class=\"code-string\">\"BADCUE\"</span>;<span class=\"code-keyword\">continue</span>}n.state=<span class=\"code-string\">\"CUETEXT\"</span>;<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"CUETEXT\"</span>:<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">-1</span>!==r.indexOf(<span class=\"code-string\">\"--\\x3e\"</span>);<span class=\"code-keyword\">if</span>(!r||o&amp;&amp;(s=!<span class=\"code-number\">0</span>)){n.oncue&amp;&amp;n.oncue(n.cue),n.cue=<span class=\"code-literal\">null</span>,n.state=<span class=\"code-string\">\"ID\"</span>;<span class=\"code-keyword\">continue</span>}n.cue.text&amp;&amp;(n.cue.text+=<span class=\"code-string\">\"\\n\"</span>),n.cue.text+=r.replace(<span class=\"code-regexp\">/\\u2028/g</span>,<span class=\"code-string\">\"\\n\"</span>).replace(<span class=\"code-regexp\">/u2029/g</span>,<span class=\"code-string\">\"\\n\"</span>);<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"BADCUE\"</span>:r||(n.state=<span class=\"code-string\">\"ID\"</span>);<span class=\"code-keyword\">continue</span>}}}<span class=\"code-keyword\">catch</span>(e){n.reportOrThrowError(e),<span class=\"code-string\">\"CUETEXT\"</span>===n.state&amp;&amp;n.cue&amp;&amp;n.oncue&amp;&amp;n.oncue(n.cue),n.cue=<span class=\"code-literal\">null</span>,n.state=<span class=\"code-string\">\"INITIAL\"</span>===n.state?<span class=\"code-string\">\"BADWEBVTT\"</span>:<span class=\"code-string\">\"BADCUE\"</span>}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>},<span class=\"code-attr\">flush</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">if</span>(t.buffer+=t.decoder.decode(),!t.cue&amp;&amp;<span class=\"code-string\">\"HEADER\"</span>!==t.state||(t.buffer+=<span class=\"code-string\">\"\\n\\n\"</span>,t.parse()),<span class=\"code-string\">\"INITIAL\"</span>===t.state)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> hi(hi.Errors.BadSignature)}<span class=\"code-keyword\">catch</span>(e){t.reportOrThrowError(e)}<span class=\"code-keyword\">return</span> t.onflush&amp;&amp;t.onflush(),<span class=\"code-keyword\">this</span>}};<span class=\"code-keyword\">var</span> Pi=Ai,Li={<span class=\"code-string\">\"\"</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">lr</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">rl</span>:<span class=\"code-number\">1</span>},Di={<span class=\"code-attr\">start</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">center</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">end</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">left</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">right</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">auto</span>:<span class=\"code-number\">1</span>,<span class=\"code-string\">\"line-left\"</span>:<span class=\"code-number\">1</span>,<span class=\"code-string\">\"line-right\"</span>:<span class=\"code-number\">1</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oi</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(!!Di[e.toLowerCase()]&amp;&amp;e.toLowerCase())}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mi</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"\"</span>,r=!<span class=\"code-number\">1</span>,a=e,s=t,o=i,u=<span class=\"code-literal\">null</span>,l=<span class=\"code-string\">\"\"</span>,c=!<span class=\"code-number\">0</span>,d=<span class=\"code-string\">\"auto\"</span>,h=<span class=\"code-string\">\"start\"</span>,p=<span class=\"code-string\">\"auto\"</span>,f=<span class=\"code-string\">\"auto\"</span>,m=<span class=\"code-number\">100</span>,g=<span class=\"code-string\">\"center\"</span>;<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">id</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n=<span class=\"code-string\">\"\"</span>+e}},<span class=\"code-attr\">pauseOnExit</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r=!!e}},<span class=\"code-attr\">startTime</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> a},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Start time must be set to a number.\"</span>);a=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">endTime</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> s},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"End time must be set to a number.\"</span>);s=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">text</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> o},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{o=<span class=\"code-string\">\"\"</span>+e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">region</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> u},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{u=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">vertical</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span>(e=e)&amp;&amp;(!!Li[e.toLowerCase()]&amp;&amp;e.toLowerCase());<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">SyntaxError</span>(<span class=\"code-string\">\"Vertical: an invalid or illegal direction string was specified.\"</span>);l=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">snapToLines</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> c},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{c=!!e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">line</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> d},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-string\">\"auto\"</span>!==e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">SyntaxError</span>(<span class=\"code-string\">\"Line: an invalid number or illegal string was specified.\"</span>);d=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">lineAlign</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> h},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=Oi(e);e&amp;&amp;(h=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>)}},<span class=\"code-attr\">position</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> p},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&lt;<span class=\"code-number\">0</span>||<span class=\"code-number\">100</span>&lt;e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Position must be between 0 and 100.\"</span>);p=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">positionAlign</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> f},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=Oi(e);e&amp;&amp;(f=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>)}},<span class=\"code-attr\">size</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> m},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&lt;<span class=\"code-number\">0</span>||<span class=\"code-number\">100</span>&lt;e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Size must be between 0 and 100.\"</span>);m=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}},<span class=\"code-attr\">align</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> g},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=Oi(e);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">SyntaxError</span>(<span class=\"code-string\">\"align: an invalid or illegal alignment string was specified.\"</span>);g=e,<span class=\"code-keyword\">this</span>.hasBeenReset=!<span class=\"code-number\">0</span>}}}),<span class=\"code-keyword\">this</span>.displayState=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}Mi.prototype.getCueAsHTML=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> WebVTT.convertCueToDOMTree(<span class=\"code-built_in\">window</span>,<span class=\"code-keyword\">this</span>.text)};<span class=\"code-keyword\">var</span> Ri=Mi,Ni={<span class=\"code-string\">\"\"</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">up</span>:!<span class=\"code-number\">0</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ui</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-number\">0</span>&lt;=e&amp;&amp;e&lt;=<span class=\"code-number\">100</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bi</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">100</span>,i=<span class=\"code-number\">3</span>,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">100</span>,a=<span class=\"code-number\">0</span>,s=<span class=\"code-number\">100</span>,o=<span class=\"code-string\">\"\"</span>;<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">width</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!Ui(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Width must be between 0 and 100.\"</span>);t=e}},<span class=\"code-attr\">lines</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Lines must be set to a number.\"</span>);i=e}},<span class=\"code-attr\">regionAnchorY</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!Ui(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"RegionAnchorX must be between 0 and 100.\"</span>);r=e}},<span class=\"code-attr\">regionAnchorX</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!Ui(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"RegionAnchorY must be between 0 and 100.\"</span>);n=e}},<span class=\"code-attr\">viewportAnchorY</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> s},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!Ui(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"ViewportAnchorY must be between 0 and 100.\"</span>);s=e}},<span class=\"code-attr\">viewportAnchorX</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> a},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!Ui(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"ViewportAnchorX must be between 0 and 100.\"</span>);a=e}},<span class=\"code-attr\">scroll</span>:{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> o},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span>(e=e)&amp;&amp;(!!Ni[e.toLowerCase()]&amp;&amp;e.toLowerCase());!<span class=\"code-number\">1</span>===e||(o=e)}}})}<span class=\"code-keyword\">var</span> Fi=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.exports={<span class=\"code-attr\">WebVTT</span>:Pi,<span class=\"code-attr\">VTTCue</span>:Ri,<span class=\"code-attr\">VTTRegion</span>:Bi};Kt.vttjs=e,Kt.WebVTT=e.WebVTT;<span class=\"code-keyword\">var</span> t=e.VTTCue,i=e.VTTRegion,n=Kt.VTTCue,r=Kt.VTTRegion;e.shim=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Kt.VTTCue=t,Kt.VTTRegion=i},e.restore=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Kt.VTTCue=n,Kt.VTTRegion=r},Kt.VTTCue||e.shim()});Fi.WebVTT,Fi.VTTCue,Fi.VTTRegion;<span class=\"code-keyword\">var</span> ji=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}),(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).reportTouchActivity=!<span class=\"code-number\">1</span>,(i=n.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>,t,e)||<span class=\"code-keyword\">this</span>).onDurationChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.onDurationChange(e)},i.trackProgress_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.trackProgress(e)},i.trackCurrentTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.disposeSourceHandler(e)},i.queuedHanders_=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Set</span>,i.hasStarted_=!<span class=\"code-number\">1</span>,i.on(<span class=\"code-string\">\"playing\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.hasStarted_=!<span class=\"code-number\">0</span>}),i.on(<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.hasStarted_=!<span class=\"code-number\">1</span>}),oi.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=oi[e];t&amp;&amp;t[e.getterName]&amp;&amp;(i[e.privateName]=t[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),[<span class=\"code-string\">\"Text\"</span>,<span class=\"code-string\">\"Audio\"</span>,<span class=\"code-string\">\"Video\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{!<span class=\"code-number\">1</span>===t[<span class=\"code-string\">\"native\"</span>+e+<span class=\"code-string\">\"Tracks\"</span>]&amp;&amp;(i[<span class=\"code-string\">\"featuresNative\"</span>+e+<span class=\"code-string\">\"Tracks\"</span>]=!<span class=\"code-number\">1</span>)}),!<span class=\"code-number\">1</span>===t.nativeCaptions||!<span class=\"code-number\">1</span>===t.nativeTextTracks?i.featuresNativeTextTracks=!<span class=\"code-number\">1</span>:!<span class=\"code-number\">0</span>!==t.nativeCaptions&amp;&amp;!<span class=\"code-number\">0</span>!==t.nativeTextTracks||(i.featuresNativeTextTracks=!<span class=\"code-number\">0</span>),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!<span class=\"code-number\">1</span>!==t.preloadTextTracks,i.autoRemoteTextTracks_=<span class=\"code-keyword\">new</span> oi.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&amp;&amp;(i.name_=i.constructor.name||<span class=\"code-string\">\"Unknown Tech\"</span>),i}mt(i,n);<span class=\"code-keyword\">var</span> e=i.prototype;<span class=\"code-keyword\">return</span> e.triggerSourceset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.isReady_||<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"ready\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.triggerSourceset(e)},<span class=\"code-number\">1</span>)}),<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">src</span>:e,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"sourceset\"</span>})},e.manualProgressOn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-keyword\">this</span>.onDurationChange_),<span class=\"code-keyword\">this</span>.manualProgress=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"ready\"</span>,<span class=\"code-keyword\">this</span>.trackProgress_)},e.manualProgressOff=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manualProgress=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.stopTrackingProgress(),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-keyword\">this</span>.onDurationChange_)},e.trackProgress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.stopTrackingProgress(),<span class=\"code-keyword\">this</span>.progressInterval=<span class=\"code-keyword\">this</span>.setInterval(Ve(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.bufferedPercent();<span class=\"code-keyword\">this</span>.bufferedPercent_!==e&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"progress\"</span>),<span class=\"code-number\">1</span>===(<span class=\"code-keyword\">this</span>.bufferedPercent_=e)&amp;&amp;<span class=\"code-keyword\">this</span>.stopTrackingProgress()}),<span class=\"code-number\">500</span>)},e.onDurationChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.duration_=<span class=\"code-keyword\">this</span>.duration()},e.buffered=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> vt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)},e.bufferedPercent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> _t(<span class=\"code-keyword\">this</span>.buffered(),<span class=\"code-keyword\">this</span>.duration_)},e.stopTrackingProgress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clearInterval(<span class=\"code-keyword\">this</span>.progressInterval)},e.manualTimeUpdatesOn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manualTimeUpdates=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"play\"</span>,<span class=\"code-keyword\">this</span>.trackCurrentTime_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"pause\"</span>,<span class=\"code-keyword\">this</span>.stopTrackingCurrentTime_)},e.manualTimeUpdatesOff=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manualTimeUpdates=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.stopTrackingCurrentTime(),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"play\"</span>,<span class=\"code-keyword\">this</span>.trackCurrentTime_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"pause\"</span>,<span class=\"code-keyword\">this</span>.stopTrackingCurrentTime_)},e.trackCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.currentTimeInterval&amp;&amp;<span class=\"code-keyword\">this</span>.stopTrackingCurrentTime(),<span class=\"code-keyword\">this</span>.currentTimeInterval=<span class=\"code-keyword\">this</span>.setInterval(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">manuallyTriggered</span>:!<span class=\"code-number\">0</span>})},<span class=\"code-number\">250</span>)},e.stopTrackingCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clearInterval(<span class=\"code-keyword\">this</span>.currentTimeInterval),<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">manuallyTriggered</span>:!<span class=\"code-number\">0</span>})},e.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clearTracks(ai.names),<span class=\"code-keyword\">this</span>.manualProgress&amp;&amp;<span class=\"code-keyword\">this</span>.manualProgressOff(),<span class=\"code-keyword\">this</span>.manualTimeUpdates&amp;&amp;<span class=\"code-keyword\">this</span>.manualTimeUpdatesOff(),n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e.clearTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;(e=[].concat(e)).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=r[e+<span class=\"code-string\">\"Tracks\"</span>]()||[],i=t.length;i--;){<span class=\"code-keyword\">var</span> n=t[i];<span class=\"code-string\">\"text\"</span>===e&amp;&amp;r.removeRemoteTextTrack(n),t.removeTrack(n)}})},e.cleanupAutoTextTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.autoRemoteTextTracks_||[],t=e.length;t--;){<span class=\"code-keyword\">var</span> i=e[t];<span class=\"code-keyword\">this</span>.removeRemoteTextTrack(i)}},e.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.crossOrigin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.setCrossOrigin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(<span class=\"code-keyword\">this</span>.error_=<span class=\"code-keyword\">new</span> bt(e),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>)),<span class=\"code-keyword\">this</span>.error_},e.played=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasStarted_?vt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):vt()},e.play=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.setScrubbing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.scrubbing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.setCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manualTimeUpdates&amp;&amp;<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">manuallyTriggered</span>:!<span class=\"code-number\">0</span>})},e.initTrackListeners=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;ai.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{r.trigger(e+<span class=\"code-string\">\"trackchange\"</span>)}<span class=\"code-keyword\">var</span> i=ai[e],n=r[i.getterName]();n.addEventListener(<span class=\"code-string\">\"removetrack\"</span>,t),n.addEventListener(<span class=\"code-string\">\"addtrack\"</span>,t),r.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.removeEventListener(<span class=\"code-string\">\"removetrack\"</span>,t),n.removeEventListener(<span class=\"code-string\">\"addtrack\"</span>,t)})})},e.addWebVttScript_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>;<span class=\"code-built_in\">window</span>.WebVTT||(<span class=\"code-built_in\">document</span>.body.contains(<span class=\"code-keyword\">this</span>.el())?!<span class=\"code-keyword\">this</span>.options_[<span class=\"code-string\">\"vtt.js\"</span>]&amp;&amp;S(Fi)&amp;&amp;<span class=\"code-number\">0</span>&lt;<span class=\"code-built_in\">Object</span>.keys(Fi).length?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"vttjsloaded\"</span>):((e=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"script\"</span>)).src=<span class=\"code-keyword\">this</span>.options_[<span class=\"code-string\">\"vtt.js\"</span>]||<span class=\"code-string\">\"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js\"</span>,e.onload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger(<span class=\"code-string\">\"vttjsloaded\"</span>)},e.onerror=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger(<span class=\"code-string\">\"vttjserror\"</span>)},<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.onload=<span class=\"code-literal\">null</span>,e.onerror=<span class=\"code-literal\">null</span>}),<span class=\"code-built_in\">window</span>.WebVTT=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.el().parentNode.appendChild(e)):<span class=\"code-keyword\">this</span>.ready(<span class=\"code-keyword\">this</span>.addWebVttScript_))},e.emulateTextTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.addTrack(e.track)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.removeTrack(e.track)}<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,n=<span class=\"code-keyword\">this</span>.textTracks(),r=<span class=\"code-keyword\">this</span>.remoteTextTracks();r.on(<span class=\"code-string\">\"addtrack\"</span>,t),r.on(<span class=\"code-string\">\"removetrack\"</span>,i),<span class=\"code-keyword\">this</span>.addWebVttScript_();<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.trigger(<span class=\"code-string\">\"texttrackchange\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\"></span>)</span>{a();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;n.length;e++){<span class=\"code-keyword\">var</span> t=n[e];t.removeEventListener(<span class=\"code-string\">\"cuechange\"</span>,a),<span class=\"code-string\">\"showing\"</span>===t.mode&amp;&amp;t.addEventListener(<span class=\"code-string\">\"cuechange\"</span>,a)}}s(),n.addEventListener(<span class=\"code-string\">\"change\"</span>,s),n.addEventListener(<span class=\"code-string\">\"addtrack\"</span>,s),n.addEventListener(<span class=\"code-string\">\"removetrack\"</span>,s),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.off(<span class=\"code-string\">\"addtrack\"</span>,t),r.off(<span class=\"code-string\">\"removetrack\"</span>,i),n.removeEventListener(<span class=\"code-string\">\"change\"</span>,s),n.removeEventListener(<span class=\"code-string\">\"addtrack\"</span>,s),n.removeEventListener(<span class=\"code-string\">\"removetrack\"</span>,s);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;n.length;e++)n[e].removeEventListener(<span class=\"code-string\">\"cuechange\"</span>,a)})},e.addTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"TextTrack kind is required but was not provided\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r&amp;&amp;(r={});<span class=\"code-keyword\">var</span> a=e.textTracks();<span class=\"code-keyword\">return</span> r.kind=t,i&amp;&amp;(r.label=i),n&amp;&amp;(r.language=n),r.tech=e,r=<span class=\"code-keyword\">new</span> oi.text.TrackClass(r),a.addTrack(r),r}(<span class=\"code-keyword\">this</span>,e,t,i)},e.createRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=lt(e,{<span class=\"code-attr\">tech</span>:<span class=\"code-keyword\">this</span>});<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> si.remoteTextEl.TrackClass(e)},e.addRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,n=<span class=\"code-keyword\">this</span>.createRemoteTextTrack(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e);<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>!==t&amp;&amp;!<span class=\"code-number\">1</span>!==t&amp;&amp;(h.warn(<span class=\"code-string\">'Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js'</span>),t=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.remoteTextTrackEls().addTrackElement_(n),<span class=\"code-keyword\">this</span>.remoteTextTracks().addTrack(n.track),!<span class=\"code-number\">0</span>!==t&amp;&amp;<span class=\"code-keyword\">this</span>.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.autoRemoteTextTracks_.addTrack(n.track)}),n},e.removeRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.remoteTextTrackEls().getTrackElementByTrack_(e);<span class=\"code-keyword\">this</span>.remoteTextTrackEls().removeTrackElement_(t),<span class=\"code-keyword\">this</span>.remoteTextTracks().removeTrack(e),<span class=\"code-keyword\">this</span>.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{}},e.requestPictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> e.reject()},e.disablePictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},e.setDisablePictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.requestVideoFrameCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,i=Pe++;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.paused()?(<span class=\"code-keyword\">this</span>.queuedHanders_.add(i),<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"playing\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.queuedHanders_.has(i)&amp;&amp;(t.queuedHanders_.delete(i),e())})):<span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(i,e),i},e.cancelVideoFrameCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.queuedHanders_.has(e)?<span class=\"code-keyword\">this</span>.queuedHanders_.delete(e):<span class=\"code-keyword\">this</span>.cancelNamedAnimationFrame(e)},e.setPoster=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.playsinline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.setPlaysinline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.overrideNativeAudioTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.overrideNativeVideoTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},e.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>},i.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>},i.canPlaySource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i.canPlayType(e.type)},i.isTech=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.prototype <span class=\"code-keyword\">instanceof</span> i||e <span class=\"code-keyword\">instanceof</span> i||e===i},i.registerTech=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(i.techs_||(i.techs_={}),!i.isTech(t))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Tech \"</span>+e+<span class=\"code-string\">\" must be a Tech\"</span>);<span class=\"code-keyword\">if</span>(!i.canPlayType)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Techs must have a static canPlayType method on them\"</span>);<span class=\"code-keyword\">if</span>(!i.canPlaySource)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Techs must have a static canPlaySource method on them\"</span>);<span class=\"code-keyword\">return</span> e=ut(e),i.techs_[e]=t,i.techs_[ot(e)]=t,<span class=\"code-string\">\"Tech\"</span>!==e&amp;&amp;i.defaultTechOrder_.push(e),t},i.getTech=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> i.techs_&amp;&amp;i.techs_[e]?i.techs_[e]:(e=ut(e),<span class=\"code-built_in\">window</span>&amp;&amp;<span class=\"code-built_in\">window</span>.videojs&amp;&amp;<span class=\"code-built_in\">window</span>.videojs[e]?(h.warn(<span class=\"code-string\">\"The \"</span>+e+<span class=\"code-string\">\" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\"</span>),<span class=\"code-built_in\">window</span>.videojs[e]):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)},i}(pt);oi.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=oi[e];ji.prototype[t.getterName]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[t.privateName]=<span class=\"code-keyword\">this</span>[t.privateName]||<span class=\"code-keyword\">new</span> t.ListClass,<span class=\"code-keyword\">this</span>[t.privateName]}}),ji.prototype.featuresVolumeControl=!<span class=\"code-number\">0</span>,ji.prototype.featuresMuteControl=!<span class=\"code-number\">0</span>,ji.prototype.featuresFullscreenResize=!<span class=\"code-number\">1</span>,ji.prototype.featuresPlaybackRate=!<span class=\"code-number\">1</span>,ji.prototype.featuresProgressEvents=!<span class=\"code-number\">1</span>,ji.prototype.featuresSourceset=!<span class=\"code-number\">1</span>,ji.prototype.featuresTimeupdateEvents=!<span class=\"code-number\">1</span>,ji.prototype.featuresNativeTextTracks=!<span class=\"code-number\">1</span>,ji.prototype.featuresVideoFrameCallback=!<span class=\"code-number\">1</span>,ji.withSourceHandlers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{r.registerSourceHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=(i=r.sourceHandlers)||(r.sourceHandlers=[]);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=i.length),i.splice(t,<span class=\"code-number\">0</span>,e)},r.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=r.sourceHandlers||[],n=<span class=\"code-number\">0</span>;n&lt;i.length;n++)<span class=\"code-keyword\">if</span>(t=i[n].canPlayType(e))<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>},r.selectSourceHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=r.sourceHandlers||[],n=<span class=\"code-number\">0</span>;n&lt;i.length;n++)<span class=\"code-keyword\">if</span>(i[n].canHandleSource(e,t))<span class=\"code-keyword\">return</span> i[n];<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},r.canPlaySource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=r.selectSourceHandler(e,t);<span class=\"code-keyword\">return</span> i?i.canHandleSource(e,t):<span class=\"code-string\">\"\"</span>};[<span class=\"code-string\">\"seekable\"</span>,<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-string\">\"duration\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>[e];<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;(<span class=\"code-keyword\">this</span>[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.sourceHandler_&amp;&amp;<span class=\"code-keyword\">this</span>.sourceHandler_[e]?<span class=\"code-keyword\">this</span>.sourceHandler_[e].apply(<span class=\"code-keyword\">this</span>.sourceHandler_,<span class=\"code-built_in\">arguments</span>):t.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)})},r.prototype),r.prototype.setSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r.selectSourceHandler(e,<span class=\"code-keyword\">this</span>.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:h.error(<span class=\"code-string\">\"No source handler found for the current source.\"</span>)),<span class=\"code-keyword\">this</span>.disposeSourceHandler(),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-keyword\">this</span>.disposeSourceHandler_),t!==r.nativeSourceHandler&amp;&amp;(<span class=\"code-keyword\">this</span>.currentSource_=e),<span class=\"code-keyword\">this</span>.sourceHandler_=t.handleSource(e,<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.options_),<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-keyword\">this</span>.disposeSourceHandler_)},r.prototype.disposeSourceHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.currentSource_&amp;&amp;(<span class=\"code-keyword\">this</span>.clearTracks([<span class=\"code-string\">\"audio\"</span>,<span class=\"code-string\">\"video\"</span>]),<span class=\"code-keyword\">this</span>.currentSource_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.cleanupAutoTextTracks(),<span class=\"code-keyword\">this</span>.sourceHandler_&amp;&amp;(<span class=\"code-keyword\">this</span>.sourceHandler_.dispose&amp;&amp;<span class=\"code-keyword\">this</span>.sourceHandler_.dispose(),<span class=\"code-keyword\">this</span>.sourceHandler_=<span class=\"code-literal\">null</span>)}},pt.registerComponent(<span class=\"code-string\">\"Tech\"</span>,ji),ji.registerTech(<span class=\"code-string\">\"Tech\"</span>,ji),ji.defaultTechOrder_=[];<span class=\"code-keyword\">var</span> Hi={},qi={},Vi={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wi</span>(<span class=\"code-params\">e,t,i</span>)</span>{e.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">n,e,r,a,s,o</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n={});<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=[]);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s&amp;&amp;(s=[]);<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o&amp;&amp;(o=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> t=e,e=t[<span class=\"code-number\">0</span>],u=t.slice(<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e)i(n,Hi[e],r,a,s,o);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> l=Qi(a,e);<span class=\"code-keyword\">if</span>(!l.setSource)<span class=\"code-keyword\">return</span> s.push(l),i(n,u,r,a,s,o);l.setSource(b({},n),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e?i(n,u,r,a,s,o):(s.push(l),<span class=\"code-keyword\">void</span> i(t,n.type===t.type?u:Hi[t.type],r,a,s,o))})}<span class=\"code-keyword\">else</span> u.length?i(n,u,r,a,s,o):o?r(n,s):i(n,Hi[<span class=\"code-string\">\"*\"</span>],r,a,s,!<span class=\"code-number\">0</span>)}(t,Hi[t.type],i,e)},<span class=\"code-number\">1</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gi</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">var</span> r=<span class=\"code-string\">\"call\"</span>+ut(i),r=e.reduce(Yi(r),n),n=r===Vi,r=n?<span class=\"code-literal\">null</span>:t[i](r);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=e.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=r;r--){<span class=\"code-keyword\">var</span> a=e[r];a[t]&amp;&amp;a[t](n,i)}}(e,i,r,n),r}<span class=\"code-keyword\">var</span> zi={<span class=\"code-attr\">buffered</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">currentTime</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">duration</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">muted</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">played</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">paused</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">seekable</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">volume</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">ended</span>:<span class=\"code-number\">1</span>},Xi={<span class=\"code-attr\">setCurrentTime</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">setMuted</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">setVolume</span>:<span class=\"code-number\">1</span>},Ki={<span class=\"code-attr\">play</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">pause</span>:<span class=\"code-number\">1</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yi</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e===Vi?Vi:t[i]?t[i](e):e}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qi</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=qi[e.id()],n=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>==i)<span class=\"code-keyword\">return</span> n=t(e),qi[e.id()]=[[t,n]],n;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;i.length;r++){<span class=\"code-keyword\">var</span> a=i[r],s=a[<span class=\"code-number\">0</span>],a=a[<span class=\"code-number\">1</span>];s===t&amp;&amp;(n=a)}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===n&amp;&amp;(n=t(e),i.push([t,n])),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$i</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e=Nt(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-string\">\"\"</span>:e),Zi[e.toLowerCase()]||<span class=\"code-string\">\"\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ji</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">return</span> e=<span class=\"code-built_in\">Array</span>.isArray(e)?(t=[],e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=Ji(e),<span class=\"code-built_in\">Array</span>.isArray(e)?t=t.concat(e):T(e)&amp;&amp;t.push(e)}),t):<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e.trim()?[en({<span class=\"code-attr\">src</span>:e})]:T(e)&amp;&amp;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e.src&amp;&amp;e.src&amp;&amp;e.src.trim()?[en(e)]:[]}<span class=\"code-keyword\">var</span> Zi={<span class=\"code-attr\">opus</span>:<span class=\"code-string\">\"video/ogg\"</span>,<span class=\"code-attr\">ogv</span>:<span class=\"code-string\">\"video/ogg\"</span>,<span class=\"code-attr\">mp4</span>:<span class=\"code-string\">\"video/mp4\"</span>,<span class=\"code-attr\">mov</span>:<span class=\"code-string\">\"video/mp4\"</span>,<span class=\"code-attr\">m4v</span>:<span class=\"code-string\">\"video/mp4\"</span>,<span class=\"code-attr\">mkv</span>:<span class=\"code-string\">\"video/x-matroska\"</span>,<span class=\"code-attr\">m4a</span>:<span class=\"code-string\">\"audio/mp4\"</span>,<span class=\"code-attr\">mp3</span>:<span class=\"code-string\">\"audio/mpeg\"</span>,<span class=\"code-attr\">aac</span>:<span class=\"code-string\">\"audio/aac\"</span>,<span class=\"code-attr\">caf</span>:<span class=\"code-string\">\"audio/x-caf\"</span>,<span class=\"code-attr\">flac</span>:<span class=\"code-string\">\"audio/flac\"</span>,<span class=\"code-attr\">oga</span>:<span class=\"code-string\">\"audio/ogg\"</span>,<span class=\"code-attr\">wav</span>:<span class=\"code-string\">\"audio/wav\"</span>,<span class=\"code-attr\">m3u8</span>:<span class=\"code-string\">\"application/x-mpegURL\"</span>,<span class=\"code-attr\">mpd</span>:<span class=\"code-string\">\"application/dash+xml\"</span>,<span class=\"code-attr\">jpg</span>:<span class=\"code-string\">\"image/jpeg\"</span>,<span class=\"code-attr\">jpeg</span>:<span class=\"code-string\">\"image/jpeg\"</span>,<span class=\"code-attr\">gif</span>:<span class=\"code-string\">\"image/gif\"</span>,<span class=\"code-attr\">png</span>:<span class=\"code-string\">\"image/png\"</span>,<span class=\"code-attr\">svg</span>:<span class=\"code-string\">\"image/svg+xml\"</span>,<span class=\"code-attr\">webp</span>:<span class=\"code-string\">\"image/webp\"</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">en</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">return</span> e.type||(t=$i(e.src))&amp;&amp;(e.type=t),e}I=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">u</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=lt({<span class=\"code-attr\">createEl</span>:!<span class=\"code-number\">1</span>},t),i=u.call(<span class=\"code-keyword\">this</span>,e,n,i)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(t.playerOptions.sources&amp;&amp;<span class=\"code-number\">0</span>!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>,a=t.playerOptions.techOrder;r&lt;a.length;r++){<span class=\"code-keyword\">var</span> s=ut(a[r]),o=ji.getTech(s);<span class=\"code-keyword\">if</span>((o=!s?pt.getComponent(s):o)&amp;&amp;o.isSupported()){e.loadTech_(s);<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">return</span> i}<span class=\"code-keyword\">return</span> mt(e,u),e}(pt);pt.registerComponent(<span class=\"code-string\">\"MediaLoader\"</span>,I);C=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.options_.controlText&amp;&amp;i.controlText(i.options_.controlText),i.handleMouseOver_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseOver(e)},i.handleMouseOut_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseOut(e)},i.handleClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleClick(e)},i.handleKeyDown_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"div\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={}),t=b({<span class=\"code-attr\">className</span>:<span class=\"code-keyword\">this</span>.buildCSSClass(),<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">0</span>},t),<span class=\"code-string\">\"button\"</span>===e&amp;&amp;h.error(<span class=\"code-string\">\"Creating a ClickableComponent with an HTML element of \"</span>+e+<span class=\"code-string\">\" is not supported; use a Button instead.\"</span>),i=b({<span class=\"code-attr\">role</span>:<span class=\"code-string\">\"button\"</span>},i),<span class=\"code-keyword\">this</span>.tabIndex_=t.tabIndex;i=$(e,t,i);<span class=\"code-keyword\">return</span> i.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-icon-placeholder\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:!<span class=\"code-number\">0</span>})),<span class=\"code-keyword\">this</span>.createControlTextEl(i),i},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.controlTextEl_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.createControlTextEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.controlTextEl_=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>},{<span class=\"code-string\">\"aria-live\"</span>:<span class=\"code-string\">\"polite\"</span>}),e&amp;&amp;e.appendChild(<span class=\"code-keyword\">this</span>.controlTextEl_),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-keyword\">this</span>.controlText_,e),<span class=\"code-keyword\">this</span>.controlTextEl_},t.controlText=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">this</span>.el()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.controlText_||<span class=\"code-string\">\"Need Text\"</span>;<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.localize(e);<span class=\"code-keyword\">this</span>.controlText_=e,J(<span class=\"code-keyword\">this</span>.controlTextEl_,i),<span class=\"code-keyword\">this</span>.nonIconControl||<span class=\"code-keyword\">this</span>.player_.options_.noUITitleAttributes||t.setAttribute(<span class=\"code-string\">\"title\"</span>,i)},t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-control vjs-button \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enabled_||(<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-disabled\"</span>),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"aria-disabled\"</span>,<span class=\"code-string\">\"false\"</span>),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.tabIndex_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"tabIndex\"</span>,<span class=\"code-keyword\">this</span>.tabIndex_),<span class=\"code-keyword\">this</span>.on([<span class=\"code-string\">\"tap\"</span>,<span class=\"code-string\">\"click\"</span>],<span class=\"code-keyword\">this</span>.handleClick_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.handleKeyDown_))},t.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-disabled\"</span>),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"aria-disabled\"</span>,<span class=\"code-string\">\"true\"</span>),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.tabIndex_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.removeAttribute(<span class=\"code-string\">\"tabIndex\"</span>),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"mouseover\"</span>,<span class=\"code-keyword\">this</span>.handleMouseOver_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"mouseout\"</span>,<span class=\"code-keyword\">this</span>.handleMouseOut_),<span class=\"code-keyword\">this</span>.off([<span class=\"code-string\">\"tap\"</span>,<span class=\"code-string\">\"click\"</span>],<span class=\"code-keyword\">this</span>.handleClick_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.handleKeyDown_)},t.handleLanguagechange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-keyword\">this</span>.controlText_)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.options_.clickHandler&amp;&amp;<span class=\"code-keyword\">this</span>.options_.clickHandler.call(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Space\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Enter\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"click\"</span>)):n.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,e)},e}(pt);pt.registerComponent(<span class=\"code-string\">\"ClickableComponent\"</span>,C),pt.registerComponent(<span class=\"code-string\">\"PosterImage\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.update(),i.update_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.update(e)},e.on(<span class=\"code-string\">\"posterchange\"</span>,i.update_),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player().off(<span class=\"code-string\">\"posterchange\"</span>,<span class=\"code-keyword\">this</span>.update_),n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> $(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-poster\"</span>,<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">-1</span>})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player().poster();<span class=\"code-keyword\">this</span>.setSrc(t),t?<span class=\"code-keyword\">this</span>.show():<span class=\"code-keyword\">this</span>.hide()},t.setSrc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.el_.style.backgroundImage=e?<span class=\"code-string\">'url(\"'</span>+e+<span class=\"code-string\">'\")'</span>:<span class=\"code-string\">\"\"</span>},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">this</span>.player_.controls()&amp;&amp;(t=<span class=\"code-keyword\">this</span>.player_.usingPlugin(<span class=\"code-string\">\"eme\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.player_.eme.sessions&amp;&amp;<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.player_.eme.sessions.length,!<span class=\"code-keyword\">this</span>.player_.tech(!<span class=\"code-number\">0</span>)||(N||O)&amp;&amp;t||<span class=\"code-keyword\">this</span>.player_.tech(!<span class=\"code-number\">0</span>).focus(),<span class=\"code-keyword\">this</span>.player_.paused()?Et(<span class=\"code-keyword\">this</span>.player_.play()):<span class=\"code-keyword\">this</span>.player_.pause())},e}(C));<span class=\"code-keyword\">var</span> tn=<span class=\"code-string\">\"#222\"</span>,nn={<span class=\"code-attr\">monospace</span>:<span class=\"code-string\">\"monospace\"</span>,<span class=\"code-attr\">sansSerif</span>:<span class=\"code-string\">\"sans-serif\"</span>,<span class=\"code-attr\">serif</span>:<span class=\"code-string\">\"serif\"</span>,<span class=\"code-attr\">monospaceSansSerif</span>:<span class=\"code-string\">'\"Andale Mono\", \"Lucida Console\", monospace'</span>,<span class=\"code-attr\">monospaceSerif</span>:<span class=\"code-string\">'\"Courier New\", monospace'</span>,<span class=\"code-attr\">proportionalSansSerif</span>:<span class=\"code-string\">\"sans-serif\"</span>,<span class=\"code-attr\">proportionalSerif</span>:<span class=\"code-string\">\"serif\"</span>,<span class=\"code-attr\">casual</span>:<span class=\"code-string\">'\"Comic Sans MS\", Impact, fantasy'</span>,<span class=\"code-attr\">script</span>:<span class=\"code-string\">'\"Monotype Corsiva\", cursive'</span>,<span class=\"code-attr\">smallcaps</span>:<span class=\"code-string\">'\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'</span>};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rn</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">4</span>===e.length)i=e[<span class=\"code-number\">1</span>]+e[<span class=\"code-number\">1</span>]+e[<span class=\"code-number\">2</span>]+e[<span class=\"code-number\">2</span>]+e[<span class=\"code-number\">3</span>]+e[<span class=\"code-number\">3</span>];<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">7</span>!==e.length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid color code provided, \"</span>+e+<span class=\"code-string\">\"; must be formatted as e.g. #f0e or #f604e2.\"</span>);i=e.slice(<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"rgba(\"</span>+<span class=\"code-built_in\">parseInt</span>(i.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>),<span class=\"code-number\">16</span>)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">parseInt</span>(i.slice(<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>),<span class=\"code-number\">16</span>)+<span class=\"code-string\">\",\"</span>+<span class=\"code-built_in\">parseInt</span>(i.slice(<span class=\"code-number\">4</span>,<span class=\"code-number\">6</span>),<span class=\"code-number\">16</span>)+<span class=\"code-string\">\",\"</span>+t+<span class=\"code-string\">\")\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">an</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">try</span>{e.style[t]=i}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>}}pt.registerComponent(<span class=\"code-string\">\"TextTrackDisplay\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">i,e,t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.updateDisplay(e)}<span class=\"code-keyword\">var</span> r=a.call(<span class=\"code-keyword\">this</span>,i,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.toggleDisplay(e)}),i.on(<span class=\"code-string\">\"texttrackchange\"</span>,n),i.on(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.preselectTrack(e)}),i.ready(Ve(ft(r),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(i.tech_&amp;&amp;i.tech_.featuresNativeTextTracks)<span class=\"code-keyword\">this</span>.hide();<span class=\"code-keyword\">else</span>{i.on(<span class=\"code-string\">\"fullscreenchange\"</span>,n),i.on(<span class=\"code-string\">\"playerresize\"</span>,n),<span class=\"code-built_in\">window</span>.addEventListener(<span class=\"code-string\">\"orientationchange\"</span>,n),i.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.removeEventListener(<span class=\"code-string\">\"orientationchange\"</span>,n)});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.options_.playerOptions.tracks||[],t=<span class=\"code-number\">0</span>;t&lt;e.length;t++)<span class=\"code-keyword\">this</span>.player_.addRemoteTextTrack(e[t],!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">this</span>.preselectTrack()}})),r}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.preselectTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,t,i,n={<span class=\"code-attr\">captions</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">subtitles</span>:<span class=\"code-number\">1</span>},r=<span class=\"code-keyword\">this</span>.player_.textTracks(),a=<span class=\"code-keyword\">this</span>.player_.cache_.selectedLanguage,s=<span class=\"code-number\">0</span>;s&lt;r.length;s++){<span class=\"code-keyword\">var</span> o=r[s];a&amp;&amp;a.enabled&amp;&amp;a.language&amp;&amp;a.language===o.language&amp;&amp;o.kind <span class=\"code-keyword\">in</span> n?i=o.kind!==a.kind&amp;&amp;i||o:a&amp;&amp;!a.enabled?t=e=i=<span class=\"code-literal\">null</span>:o.default&amp;&amp;(<span class=\"code-string\">\"descriptions\"</span>!==o.kind||e?o.kind <span class=\"code-keyword\">in</span> n&amp;&amp;!t&amp;&amp;(t=o):e=o)}i?i.mode=<span class=\"code-string\">\"showing\"</span>:t?t.mode=<span class=\"code-string\">\"showing\"</span>:e&amp;&amp;(e.mode=<span class=\"code-string\">\"showing\"</span>)},t.toggleDisplay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.player_.tech_.featuresNativeTextTracks?<span class=\"code-keyword\">this</span>.hide():<span class=\"code-keyword\">this</span>.show()},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> a.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-text-track-display\"</span>},{<span class=\"code-attr\">translate</span>:<span class=\"code-string\">\"yes\"</span>,<span class=\"code-string\">\"aria-live\"</span>:<span class=\"code-string\">\"off\"</span>,<span class=\"code-string\">\"aria-atomic\"</span>:<span class=\"code-string\">\"true\"</span>})},t.clearDisplay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.WebVTT&amp;&amp;<span class=\"code-built_in\">window</span>.WebVTT.processCues(<span class=\"code-built_in\">window</span>,[],<span class=\"code-keyword\">this</span>.el_)},t.updateDisplay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.textTracks(),t=<span class=\"code-keyword\">this</span>.options_.allowMultipleShowingTracks;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.clearDisplay(),t){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=[],n=<span class=\"code-number\">0</span>;n&lt;e.length;++n){<span class=\"code-keyword\">var</span> r=e[n];<span class=\"code-string\">\"showing\"</span>===r.mode&amp;&amp;i.push(r)}<span class=\"code-keyword\">this</span>.updateForTrack(i)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>,s=<span class=\"code-literal\">null</span>,o=e.length;o--;){<span class=\"code-keyword\">var</span> u=e[o];<span class=\"code-string\">\"showing\"</span>===u.mode&amp;&amp;(<span class=\"code-string\">\"descriptions\"</span>===u.kind?a=u:s=u)}s?(<span class=\"code-string\">\"off\"</span>!==<span class=\"code-keyword\">this</span>.getAttribute(<span class=\"code-string\">\"aria-live\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"aria-live\"</span>,<span class=\"code-string\">\"off\"</span>),<span class=\"code-keyword\">this</span>.updateForTrack(s)):a&amp;&amp;(<span class=\"code-string\">\"assertive\"</span>!==<span class=\"code-keyword\">this</span>.getAttribute(<span class=\"code-string\">\"aria-live\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"aria-live\"</span>,<span class=\"code-string\">\"assertive\"</span>),<span class=\"code-keyword\">this</span>.updateForTrack(a))}},t.updateDisplayState=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;n--;){<span class=\"code-keyword\">var</span> r,a=i[n];a&amp;&amp;(r=a.displayState,t.color&amp;&amp;(r.firstChild.style.color=t.color),t.textOpacity&amp;&amp;an(r.firstChild,<span class=\"code-string\">\"color\"</span>,rn(t.color||<span class=\"code-string\">\"#fff\"</span>,t.textOpacity)),t.backgroundColor&amp;&amp;(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&amp;&amp;an(r.firstChild,<span class=\"code-string\">\"backgroundColor\"</span>,rn(t.backgroundColor||<span class=\"code-string\">\"#000\"</span>,t.backgroundOpacity)),t.windowColor&amp;&amp;(t.windowOpacity?an(r,<span class=\"code-string\">\"backgroundColor\"</span>,rn(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&amp;&amp;(<span class=\"code-string\">\"dropshadow\"</span>===t.edgeStyle?r.firstChild.style.textShadow=<span class=\"code-string\">\"2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px \"</span>+tn:<span class=\"code-string\">\"raised\"</span>===t.edgeStyle?r.firstChild.style.textShadow=<span class=\"code-string\">\"1px 1px #222, 2px 2px #222, 3px 3px \"</span>+tn:<span class=\"code-string\">\"depressed\"</span>===t.edgeStyle?r.firstChild.style.textShadow=<span class=\"code-string\">\"1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px \"</span>+tn:<span class=\"code-string\">\"uniform\"</span>===t.edgeStyle&amp;&amp;(r.firstChild.style.textShadow=<span class=\"code-string\">\"0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px \"</span>+tn)),t.fontPercent&amp;&amp;<span class=\"code-number\">1</span>!==t.fontPercent&amp;&amp;(a=<span class=\"code-built_in\">window</span>.parseFloat(r.style.fontSize),r.style.fontSize=a*t.fontPercent+<span class=\"code-string\">\"px\"</span>,r.style.height=<span class=\"code-string\">\"auto\"</span>,r.style.top=<span class=\"code-string\">\"auto\"</span>),t.fontFamily&amp;&amp;<span class=\"code-string\">\"default\"</span>!==t.fontFamily&amp;&amp;(<span class=\"code-string\">\"small-caps\"</span>===t.fontFamily?r.firstChild.style.fontVariant=<span class=\"code-string\">\"small-caps\"</span>:r.firstChild.style.fontFamily=nn[t.fontFamily]))}},t.updateForTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Array</span>.isArray(e)||(e=[e]),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.WebVTT&amp;&amp;!e.every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!e.activeCues})){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],i=<span class=\"code-number\">0</span>;i&lt;e.length;++i)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e[i],r=<span class=\"code-number\">0</span>;r&lt;n.activeCues.length;++r)t.push(n.activeCues[r]);<span class=\"code-built_in\">window</span>.WebVTT.processCues(<span class=\"code-built_in\">window</span>,t,<span class=\"code-keyword\">this</span>.el_);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;e.length;++a){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=e[a],o=<span class=\"code-number\">0</span>;o&lt;s.activeCues.length;++o){<span class=\"code-keyword\">var</span> u=s.activeCues[o].displayState;te(u,<span class=\"code-string\">\"vjs-text-track-cue\"</span>),te(u,<span class=\"code-string\">\"vjs-text-track-cue-\"</span>+(s.language||a)),s.language&amp;&amp;oe(u,<span class=\"code-string\">\"lang\"</span>,s.language)}<span class=\"code-keyword\">this</span>.player_.textTrackSettings&amp;&amp;<span class=\"code-keyword\">this</span>.updateDisplayState(s)}}},e}(pt)),pt.registerComponent(<span class=\"code-string\">\"LoadingSpinner\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> mt(e,i),e.prototype.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.isAudio(),t=<span class=\"code-keyword\">this</span>.localize(e?<span class=\"code-string\">\"Audio Player\"</span>:<span class=\"code-string\">\"Video Player\"</span>),e=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"{1} is loading.\"</span>,[t])}),t=i.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-loading-spinner\"</span>,<span class=\"code-attr\">dir</span>:<span class=\"code-string\">\"ltr\"</span>});<span class=\"code-keyword\">return</span> t.appendChild(e),t},e}(pt));<span class=\"code-keyword\">var</span> sn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}mt(e,t);<span class=\"code-keyword\">var</span> i=e.prototype;<span class=\"code-keyword\">return</span> i.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={});i=$(<span class=\"code-string\">\"button\"</span>,t=b({<span class=\"code-attr\">className</span>:<span class=\"code-keyword\">this</span>.buildCSSClass()},t),i=b({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"button\"</span>},i));<span class=\"code-keyword\">return</span> i.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-icon-placeholder\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:!<span class=\"code-number\">0</span>})),<span class=\"code-keyword\">this</span>.createControlTextEl(i),i},i.addChild=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={});<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.constructor.name;<span class=\"code-keyword\">return</span> h.warn(<span class=\"code-string\">\"Adding an actionable (user controllable) child to a Button (\"</span>+i+<span class=\"code-string\">\") is not supported; use a ClickableComponent instead.\"</span>),pt.prototype.addChild.call(<span class=\"code-keyword\">this</span>,e,t)},i.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.prototype.enable.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.el_.removeAttribute(<span class=\"code-string\">\"disabled\"</span>)},i.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.prototype.disable.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"disabled\"</span>,<span class=\"code-string\">\"disabled\"</span>)},i.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Space\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Enter\"</span>)?e.stopPropagation():t.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,e)},e}(C);pt.registerComponent(<span class=\"code-string\">\"Button\"</span>,sn);Bt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.mouseused_=!<span class=\"code-number\">1</span>,i.on(<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseDown(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-big-play-button\"</span>},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.play();<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.mouseused_&amp;&amp;e.clientX&amp;&amp;e.clientY){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.player_.usingPlugin(<span class=\"code-string\">\"eme\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.player_.eme.sessions&amp;&amp;<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.player_.eme.sessions.length;<span class=\"code-keyword\">return</span> Et(t),<span class=\"code-keyword\">void</span>(!<span class=\"code-keyword\">this</span>.player_.tech(!<span class=\"code-number\">0</span>)||(N||O)&amp;&amp;i||<span class=\"code-keyword\">this</span>.player_.tech(!<span class=\"code-number\">0</span>).focus())}<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.player_.getChild(<span class=\"code-string\">\"controlBar\"</span>),n=i&amp;&amp;i.getChild(<span class=\"code-string\">\"playToggle\"</span>);n?(i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.focus()},wt(t)?t.then(i,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}):<span class=\"code-keyword\">this</span>.setTimeout(i,<span class=\"code-number\">1</span>)):<span class=\"code-keyword\">this</span>.player_.tech(!<span class=\"code-number\">0</span>).focus()},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.mouseused_=!<span class=\"code-number\">1</span>,n.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,e)},t.handleMouseDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.mouseused_=!<span class=\"code-number\">0</span>},e}(sn);Bt.prototype.controlText_=<span class=\"code-string\">\"Play Video\"</span>,pt.registerComponent(<span class=\"code-string\">\"BigPlayButton\"</span>,Bt),pt.registerComponent(<span class=\"code-string\">\"CloseButton\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{e=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e.controlText(t&amp;&amp;t.controlText||e.localize(<span class=\"code-string\">\"Close\"</span>)),e}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-close-button \"</span>+i.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"close\"</span>,<span class=\"code-attr\">bubbles</span>:!<span class=\"code-number\">1</span>})},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"click\"</span>)):i.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,e)},e}(sn));Ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.replay=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.replay||t.replay,i.on(e,<span class=\"code-string\">\"play\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handlePlay(e)}),i.on(e,<span class=\"code-string\">\"pause\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handlePause(e)}),t.replay&amp;&amp;i.on(e,<span class=\"code-string\">\"ended\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleEnded(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-play-control \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.paused()?Et(<span class=\"code-keyword\">this</span>.player_.play()):<span class=\"code-keyword\">this</span>.player_.pause()},t.handleSeeked=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.player_.paused()?<span class=\"code-keyword\">this</span>.handlePause(e):<span class=\"code-keyword\">this</span>.handlePlay(e)},t.handlePlay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-paused\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-playing\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Pause\"</span>)},t.handlePause=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-playing\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-paused\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Play\"</span>)},t.handleEnded=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-playing\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Replay\"</span>),<span class=\"code-keyword\">this</span>.one(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.handleSeeked(e)})},e}(sn);Ft.prototype.controlText_=<span class=\"code-string\">\"Play\"</span>,pt.registerComponent(<span class=\"code-string\">\"PlayToggle\"</span>,Ft);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">on</span>(<span class=\"code-params\">e,t</span>)</span>{e=e&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:e;<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Math</span>.floor(e%<span class=\"code-number\">60</span>),n=<span class=\"code-built_in\">Math</span>.floor(e/<span class=\"code-number\">60</span>%<span class=\"code-number\">60</span>),r=<span class=\"code-built_in\">Math</span>.floor(e/<span class=\"code-number\">3600</span>),a=<span class=\"code-built_in\">Math</span>.floor(t/<span class=\"code-number\">60</span>%<span class=\"code-number\">60</span>),t=<span class=\"code-built_in\">Math</span>.floor(t/<span class=\"code-number\">3600</span>);<span class=\"code-keyword\">return</span>(r=<span class=\"code-number\">0</span>&lt;(r=<span class=\"code-built_in\">isNaN</span>(e)||e===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?n=i=<span class=\"code-string\">\"-\"</span>:r)||<span class=\"code-number\">0</span>&lt;t?r+<span class=\"code-string\">\":\"</span>:<span class=\"code-string\">\"\"</span>)+(n=((r||<span class=\"code-number\">10</span>&lt;=a)&amp;&amp;n&lt;<span class=\"code-number\">10</span>?<span class=\"code-string\">\"0\"</span>+n:n)+<span class=\"code-string\">\":\"</span>)+(i=i&lt;<span class=\"code-number\">10</span>?<span class=\"code-string\">\"0\"</span>+i:i)}<span class=\"code-keyword\">var</span> un=on;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ln</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> un(e,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?e:t)}k=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(e,[<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-string\">\"ended\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateContent(e)}),i.updateTextNode_(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.buildCSSClass(),t=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:e+<span class=\"code-string\">\" vjs-time-control vjs-control\"</span>}),i=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-keyword\">this</span>.labelText_)+<span class=\"code-string\">\"\u00A0\"</span>},{<span class=\"code-attr\">role</span>:<span class=\"code-string\">\"presentation\"</span>});<span class=\"code-keyword\">return</span> t.appendChild(i),<span class=\"code-keyword\">this</span>.contentEl_=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:e+<span class=\"code-string\">\"-display\"</span>},{<span class=\"code-string\">\"aria-live\"</span>:<span class=\"code-string\">\"off\"</span>,<span class=\"code-attr\">role</span>:<span class=\"code-string\">\"presentation\"</span>}),t.appendChild(<span class=\"code-keyword\">this</span>.contentEl_),t},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.contentEl_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.textNode_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.updateTextNode_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;e=ln(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-number\">0</span>:e),<span class=\"code-keyword\">this</span>.formattedTime_!==e&amp;&amp;(<span class=\"code-keyword\">this</span>.formattedTime_=e,<span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(<span class=\"code-string\">\"TimeDisplay#updateTextNode_\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;t.contentEl_&amp;&amp;((e=t.textNode_)&amp;&amp;t.contentEl_.firstChild!==e&amp;&amp;(e=<span class=\"code-literal\">null</span>,h.warn(<span class=\"code-string\">\"TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.\"</span>)),t.textNode_=<span class=\"code-built_in\">document</span>.createTextNode(t.formattedTime_),t.textNode_&amp;&amp;(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_)))}))},t.updateContent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},e}(pt);k.prototype.labelText_=<span class=\"code-string\">\"Time\"</span>,k.prototype.controlText_=<span class=\"code-string\">\"Time\"</span>,pt.registerComponent(<span class=\"code-string\">\"TimeDisplay\"</span>,k);jt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}mt(t,e);<span class=\"code-keyword\">var</span> i=t.prototype;<span class=\"code-keyword\">return</span> i.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-current-time\"</span>},i.updateContent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.ended()?<span class=\"code-keyword\">this</span>.player_.duration():<span class=\"code-keyword\">this</span>.player_.scrubbing()?<span class=\"code-keyword\">this</span>.player_.getCache().currentTime:<span class=\"code-keyword\">this</span>.player_.currentTime();<span class=\"code-keyword\">this</span>.updateTextNode_(t)},t}(k);jt.prototype.labelText_=<span class=\"code-string\">\"Current Time\"</span>,jt.prototype.controlText_=<span class=\"code-string\">\"Current Time\"</span>,pt.registerComponent(<span class=\"code-string\">\"CurrentTimeDisplay\"</span>,jt);j=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>,t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateContent(e)};<span class=\"code-keyword\">return</span> i.on(e,<span class=\"code-string\">\"durationchange\"</span>,t),i.on(e,<span class=\"code-string\">\"loadstart\"</span>,t),i.on(e,<span class=\"code-string\">\"loadedmetadata\"</span>,t),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-duration\"</span>},t.updateContent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.duration();<span class=\"code-keyword\">this</span>.updateTextNode_(t)},e}(k);j.prototype.labelText_=<span class=\"code-string\">\"Duration\"</span>,j.prototype.controlText_=<span class=\"code-string\">\"Duration\"</span>,pt.registerComponent(<span class=\"code-string\">\"DurationDisplay\"</span>,j),pt.registerComponent(<span class=\"code-string\">\"TimeDivider\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> mt(e,n),e.prototype.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-time-control vjs-time-divider\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:!<span class=\"code-number\">0</span>}),t=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>),i=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">textContent</span>:<span class=\"code-string\">\"/\"</span>});<span class=\"code-keyword\">return</span> t.appendChild(i),e.appendChild(t),e},e}(pt));f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(e,<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateContent(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-remaining-time\"</span>},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.options_.displayNegative&amp;&amp;e.insertBefore($(<span class=\"code-string\">\"span\"</span>,{},{<span class=\"code-string\">\"aria-hidden\"</span>:!<span class=\"code-number\">0</span>},<span class=\"code-string\">\"-\"</span>),<span class=\"code-keyword\">this</span>.contentEl_),e},t.updateContent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.player_.duration()&amp;&amp;(t=<span class=\"code-keyword\">this</span>.player_.ended()?<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.player_.remainingTimeDisplay?<span class=\"code-keyword\">this</span>.player_.remainingTimeDisplay():<span class=\"code-keyword\">this</span>.player_.remainingTime(),<span class=\"code-keyword\">this</span>.updateTextNode_(t))},e}(k);f.prototype.labelText_=<span class=\"code-string\">\"Remaining Time\"</span>,f.prototype.controlText_=<span class=\"code-string\">\"Remaining Time\"</span>,pt.registerComponent(<span class=\"code-string\">\"RemainingTimeDisplay\"</span>,f),pt.registerComponent(<span class=\"code-string\">\"LiveDisplay\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.updateShowing(),i.on(i.player(),<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateShowing(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-live-control vjs-control\"</span>});<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.contentEl_=$(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-live-display\"</span>},{<span class=\"code-string\">\"aria-live\"</span>:<span class=\"code-string\">\"off\"</span>}),<span class=\"code-keyword\">this</span>.contentEl_.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Stream Type\"</span>)+<span class=\"code-string\">\"\u00A0\"</span>})),<span class=\"code-keyword\">this</span>.contentEl_.appendChild(<span class=\"code-built_in\">document</span>.createTextNode(<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"LIVE\"</span>))),e.appendChild(<span class=\"code-keyword\">this</span>.contentEl_),e},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.contentEl_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.updateShowing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player().duration()===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.show():<span class=\"code-keyword\">this</span>.hide()},e}(pt));ui=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.updateLiveEdgeStatus(),i.player_.liveTracker&amp;&amp;(i.updateLiveEdgeStatusHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,<span class=\"code-string\">\"liveedgechange\"</span>,i.updateLiveEdgeStatusHandler_)),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"button\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-seek-to-live-control vjs-control\"</span>});<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.textEl_=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-seek-to-live-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"LIVE\"</span>)},{<span class=\"code-string\">\"aria-hidden\"</span>:<span class=\"code-string\">\"true\"</span>}),e.appendChild(<span class=\"code-keyword\">this</span>.textEl_),e},t.updateLiveEdgeStatus=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{!<span class=\"code-keyword\">this</span>.player_.liveTracker||<span class=\"code-keyword\">this</span>.player_.liveTracker.atLiveEdge()?(<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"aria-disabled\"</span>,!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-at-live-edge\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Seek to live, currently playing live\"</span>)):(<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"aria-disabled\"</span>,!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-at-live-edge\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Seek to live, currently behind live\"</span>))},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_.liveTracker.seekToLiveEdge()},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_.liveTracker&amp;&amp;<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_.liveTracker,<span class=\"code-string\">\"liveedgechange\"</span>,<span class=\"code-keyword\">this</span>.updateLiveEdgeStatusHandler_),<span class=\"code-keyword\">this</span>.textEl_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e}(sn);ui.prototype.controlText_=<span class=\"code-string\">\"Seek to live, currently playing live\"</span>,pt.registerComponent(<span class=\"code-string\">\"SeekToLive\"</span>,ui);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cn</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> e=<span class=\"code-built_in\">Number</span>(e),<span class=\"code-built_in\">Math</span>.min(i,<span class=\"code-built_in\">Math</span>.max(t,<span class=\"code-built_in\">isNaN</span>(e)?t:e))}li=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.handleMouseDown_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseDown(e)},i.handleMouseUp_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseUp(e)},i.handleKeyDown_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyDown(e)},i.handleClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleClick(e)},i.handleMouseMove_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseMove(e)},i.update_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.enabled=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.enabled_},t.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enabled()||(<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-keyword\">this</span>.handleMouseDown_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-keyword\">this</span>.handleMouseDown_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.handleKeyDown_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"click\"</span>,<span class=\"code-keyword\">this</span>.handleClick_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"controlsvisible\"</span>,<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.playerEvent&amp;&amp;<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-keyword\">this</span>.playerEvent,<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"disabled\"</span>),<span class=\"code-keyword\">this</span>.setAttribute(<span class=\"code-string\">\"tabindex\"</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">0</span>)},t.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.enabled()&amp;&amp;(e=<span class=\"code-keyword\">this</span>.bar.el_.ownerDocument,<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-keyword\">this</span>.handleMouseDown_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-keyword\">this</span>.handleMouseDown_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.handleKeyDown_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"click\"</span>,<span class=\"code-keyword\">this</span>.handleClick_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"controlsvisible\"</span>,<span class=\"code-keyword\">this</span>.update_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUp_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUp_),<span class=\"code-keyword\">this</span>.removeAttribute(<span class=\"code-string\">\"tabindex\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"disabled\"</span>),<span class=\"code-keyword\">this</span>.playerEvent&amp;&amp;<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-keyword\">this</span>.playerEvent,<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">1</span>)},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={}),(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).className=t.className+<span class=\"code-string\">\" vjs-slider\"</span>,t=b({<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">0</span>},t),i=b({<span class=\"code-attr\">role</span>:<span class=\"code-string\">\"slider\"</span>,<span class=\"code-string\">\"aria-valuenow\"</span>:<span class=\"code-number\">0</span>,<span class=\"code-string\">\"aria-valuemin\"</span>:<span class=\"code-number\">0</span>,<span class=\"code-string\">\"aria-valuemax\"</span>:<span class=\"code-number\">100</span>,<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">0</span>},i),n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,e,t,i)},t.handleMouseDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.bar.el_.ownerDocument;<span class=\"code-string\">\"mousedown\"</span>===e.type&amp;&amp;e.preventDefault(),<span class=\"code-string\">\"touchstart\"</span>!==e.type||M||e.preventDefault(),le(),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-sliding\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"slideractive\"</span>),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove_),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUp_),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove_),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUp_),<span class=\"code-keyword\">this</span>.handleMouseMove(e,!<span class=\"code-number\">0</span>)},t.handleMouseMove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},t.handleMouseUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.bar.el_.ownerDocument;ce(),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-sliding\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"sliderinactive\"</span>),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUp_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUp_),<span class=\"code-keyword\">this</span>.update()},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.el_&amp;&amp;<span class=\"code-keyword\">this</span>.bar){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.getProgress();<span class=\"code-keyword\">return</span> i===<span class=\"code-keyword\">this</span>.progress_?i:(<span class=\"code-keyword\">this</span>.progress_=i,<span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(<span class=\"code-string\">\"Slider#update\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.vertical()?<span class=\"code-string\">\"height\"</span>:<span class=\"code-string\">\"width\"</span>;t.bar.el().style[e]=(<span class=\"code-number\">100</span>*i).toFixed(<span class=\"code-number\">2</span>)+<span class=\"code-string\">\"%\"</span>}),i)}},t.getProgress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Number</span>(cn(<span class=\"code-keyword\">this</span>.getPercent(),<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>).toFixed(<span class=\"code-number\">4</span>))},t.calculateDistance=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=pe(<span class=\"code-keyword\">this</span>.el_,e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.vertical()?e.y:e.x},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Left\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Down\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.stepBack()):ht.isEventKey(e,<span class=\"code-string\">\"Right\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Up\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.stepForward()):n.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,e)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.stopPropagation(),e.preventDefault()},t.vertical=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.vertical_||!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.vertical_=!!e,<span class=\"code-keyword\">this</span>.vertical_?<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-slider-vertical\"</span>):<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-slider-horizontal\"</span>)},e}(pt);pt.registerComponent(<span class=\"code-string\">\"Slider\"</span>,li);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dn</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> cn(e/t*<span class=\"code-number\">100</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">100</span>).toFixed(<span class=\"code-number\">2</span>)+<span class=\"code-string\">\"%\"</span>}pt.registerComponent(<span class=\"code-string\">\"LoadProgressBar\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=r.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.partEls_=[],i.on(e,<span class=\"code-string\">\"progress\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.update(e)}),i}mt(e,r);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=r.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-load-progress\"</span>}),t=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>}),i=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">textContent</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Loaded\"</span>)}),n=<span class=\"code-built_in\">document</span>.createTextNode(<span class=\"code-string\">\": \"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.percentageEl_=$(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text-loaded-percentage\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-string\">\"0%\"</span>}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(<span class=\"code-keyword\">this</span>.percentageEl_),e},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.partEls_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.percentageEl_=<span class=\"code-literal\">null</span>,r.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> l=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(<span class=\"code-string\">\"LoadProgressBar#update\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=l.player_.liveTracker,t=l.player_.buffered(),e=e&amp;&amp;e.isLive()?e.seekableEnd():l.player_.duration(),i=l.player_.bufferedEnd(),n=l.partEls_,e=dn(i,e);l.percent_!==e&amp;&amp;(l.el_.style.width=e,J(l.percentageEl_,e),l.percent_=e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;t.length;r++){<span class=\"code-keyword\">var</span> a=t.start(r),s=t.end(r),o=n[r];o||(o=l.el_.appendChild($()),n[r]=o),o.dataset.start===a&amp;&amp;o.dataset.end===s||(o.dataset.start=a,o.dataset.end=s,o.style.left=dn(a,i),o.style.width=dn(s-a,i))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=n.length;u&gt;t.length;u--)l.el_.removeChild(n[u<span class=\"code-number\">-1</span>]);n.length=t.length})},e}(pt)),pt.registerComponent(<span class=\"code-string\">\"TimeTooltip\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{t=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.update=We(Ve(ft(t),t.update),<span class=\"code-number\">30</span>),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-time-tooltip\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:<span class=\"code-string\">\"true\"</span>})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=he(<span class=\"code-keyword\">this</span>.el_),r=de(<span class=\"code-keyword\">this</span>.player_.el()),a=e.width*t;r&amp;&amp;n&amp;&amp;(t=e.left-r.left+a,r=e.width-a+(r.right-e.right),t&lt;(e=n.width/<span class=\"code-number\">2</span>)?e+=e-t:r&lt;e&amp;&amp;(e=r),e&lt;<span class=\"code-number\">0</span>?e=<span class=\"code-number\">0</span>:e&gt;n.width&amp;&amp;(e=n.width),e=<span class=\"code-built_in\">Math</span>.round(e),<span class=\"code-keyword\">this</span>.el_.style.right=<span class=\"code-string\">\"-\"</span>+e+<span class=\"code-string\">\"px\"</span>,<span class=\"code-keyword\">this</span>.write(i))},t.write=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{J(<span class=\"code-keyword\">this</span>.el_,e)},t.updateTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r,a,s</span>)</span>{<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(<span class=\"code-string\">\"TimeTooltip#updateTime\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,i=o.player_.duration();i=o.player_.liveTracker&amp;&amp;o.player_.liveTracker.isLive()?((t=(e=o.player_.liveTracker.liveWindow())-r*e)&lt;<span class=\"code-number\">1</span>?<span class=\"code-string\">\"\"</span>:<span class=\"code-string\">\"-\"</span>)+ln(t,e):ln(a,i),o.update(n,r,i),s&amp;&amp;s()})},e}(pt));Xt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{t=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.update=We(Ve(ft(t),t.update),<span class=\"code-number\">30</span>),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-play-progress vjs-slider-bar\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:<span class=\"code-string\">\"true\"</span>})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"timeTooltip\"</span>);n&amp;&amp;(i=<span class=\"code-keyword\">this</span>.player_.scrubbing()?<span class=\"code-keyword\">this</span>.player_.getCache().currentTime:<span class=\"code-keyword\">this</span>.player_.currentTime(),n.updateTime(e,t,i))},e}(pt);Xt.prototype.options_={<span class=\"code-attr\">children</span>:[]},q||A||Xt.prototype.options_.children.push(<span class=\"code-string\">\"timeTooltip\"</span>),pt.registerComponent(<span class=\"code-string\">\"PlayProgressBar\"</span>,Xt);I=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{t=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.update=We(Ve(ft(t),t.update),<span class=\"code-number\">30</span>),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-mouse-display\"</span>})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,n=t*<span class=\"code-keyword\">this</span>.player_.duration();<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"timeTooltip\"</span>).updateTime(e,t,n,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.el_.style.left=e.width*t+<span class=\"code-string\">\"px\"</span>})},e}(pt);I.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"timeTooltip\"</span>]},pt.registerComponent(<span class=\"code-string\">\"MouseTimeDisplay\"</span>,I);Bt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{t=a.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.setEventHandlers_(),t}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.setEventHandlers_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.update_=Ve(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.update=We(<span class=\"code-keyword\">this</span>.update_,<span class=\"code-number\">30</span>),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-string\">\"timeupdate\"</span>],<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.player_.liveTracker&amp;&amp;<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_.liveTracker,<span class=\"code-string\">\"liveedgechange\"</span>,<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.updateInterval=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.enableIntervalHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.enableInterval_(e)},<span class=\"code-keyword\">this</span>.disableIntervalHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.disableInterval_(e)},<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"playing\"</span>],<span class=\"code-keyword\">this</span>.enableIntervalHandler_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"pause\"</span>,<span class=\"code-string\">\"waiting\"</span>],<span class=\"code-keyword\">this</span>.disableIntervalHandler_),<span class=\"code-string\">\"hidden\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-string\">\"visibilityState\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-keyword\">this</span>.on(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"visibilitychange\"</span>,<span class=\"code-keyword\">this</span>.toggleVisibility_)},t.toggleVisibility_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"hidden\"</span>===<span class=\"code-built_in\">document</span>.visibilityState?(<span class=\"code-keyword\">this</span>.cancelNamedAnimationFrame(<span class=\"code-string\">\"SeekBar#update\"</span>),<span class=\"code-keyword\">this</span>.cancelNamedAnimationFrame(<span class=\"code-string\">\"Slider#update\"</span>),<span class=\"code-keyword\">this</span>.disableInterval_(e)):(<span class=\"code-keyword\">this</span>.player_.ended()||<span class=\"code-keyword\">this</span>.player_.paused()||<span class=\"code-keyword\">this</span>.enableInterval_(),<span class=\"code-keyword\">this</span>.update())},t.enableInterval_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.updateInterval||(<span class=\"code-keyword\">this</span>.updateInterval=<span class=\"code-keyword\">this</span>.setInterval(<span class=\"code-keyword\">this</span>.update,<span class=\"code-number\">30</span>))},t.disableInterval_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.liveTracker&amp;&amp;<span class=\"code-keyword\">this</span>.player_.liveTracker.isLive()&amp;&amp;e&amp;&amp;<span class=\"code-string\">\"ended\"</span>!==e.type||<span class=\"code-keyword\">this</span>.updateInterval&amp;&amp;(<span class=\"code-keyword\">this</span>.clearInterval(<span class=\"code-keyword\">this</span>.updateInterval),<span class=\"code-keyword\">this</span>.updateInterval=<span class=\"code-literal\">null</span>)},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> a.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-progress-holder\"</span>},{<span class=\"code-string\">\"aria-label\"</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Progress Bar\"</span>)})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"hidden\"</span>!==<span class=\"code-built_in\">document</span>.visibilityState){<span class=\"code-keyword\">var</span> r=a.prototype.update.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(<span class=\"code-string\">\"SeekBar#update\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&amp;&amp;t.isLive()&amp;&amp;(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&amp;&amp;(n.el_.setAttribute(<span class=\"code-string\">\"aria-valuenow\"</span>,(<span class=\"code-number\">100</span>*r).toFixed(<span class=\"code-number\">2</span>)),n.percent_=r),n.currentTime_===e&amp;&amp;n.duration_===i||(n.el_.setAttribute(<span class=\"code-string\">\"aria-valuetext\"</span>,n.localize(<span class=\"code-string\">\"progress bar timing: currentTime={1} duration={2}\"</span>,[ln(e,i),ln(i,i)],<span class=\"code-string\">\"{1} of {2}\"</span>)),n.currentTime_=e,n.duration_=i),n.bar&amp;&amp;n.bar.update(de(n.el()),n.getProgress())}),r}},t.userSeek_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.liveTracker&amp;&amp;<span class=\"code-keyword\">this</span>.player_.liveTracker.isLive()&amp;&amp;<span class=\"code-keyword\">this</span>.player_.liveTracker.nextSeekedFromUser(),<span class=\"code-keyword\">this</span>.player_.currentTime(e)},t.getCurrentTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.player_.scrubbing()?<span class=\"code-keyword\">this</span>.player_.getCache().currentTime:<span class=\"code-keyword\">this</span>.player_.currentTime()},t.getPercent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>.getCurrentTime_(),i=<span class=\"code-keyword\">this</span>.player_.liveTracker;<span class=\"code-keyword\">return</span> i&amp;&amp;i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&amp;&amp;(e=<span class=\"code-number\">1</span>)):e=t/<span class=\"code-keyword\">this</span>.player_.duration(),e},t.handleMouseDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{_e(e)&amp;&amp;(e.stopPropagation(),<span class=\"code-keyword\">this</span>.videoWasPlaying=!<span class=\"code-keyword\">this</span>.player_.paused(),<span class=\"code-keyword\">this</span>.player_.pause(),a.prototype.handleMouseDown.call(<span class=\"code-keyword\">this</span>,e))},t.handleMouseMove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">1</span>),_e(e)){t||<span class=\"code-keyword\">this</span>.player_.scrubbing()||<span class=\"code-keyword\">this</span>.player_.scrubbing(!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.calculateDistance(e),n=<span class=\"code-keyword\">this</span>.player_.liveTracker;<span class=\"code-keyword\">if</span>(n&amp;&amp;n.isLive()){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">.99</span>&lt;=i)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> n.seekToLiveEdge();<span class=\"code-keyword\">var</span> r,t=n.seekableStart(),e=n.liveCurrentTime();<span class=\"code-keyword\">if</span>((r=(r=e&lt;=(r=t+i*n.liveWindow())?e:r)&lt;=t?t+<span class=\"code-number\">.1</span>:r)===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>}<span class=\"code-keyword\">else</span>(r=i*<span class=\"code-keyword\">this</span>.player_.duration())===<span class=\"code-keyword\">this</span>.player_.duration()&amp;&amp;(r-=<span class=\"code-number\">.1</span>);<span class=\"code-keyword\">this</span>.userSeek_(r)}},t.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.prototype.enable.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"mouseTimeDisplay\"</span>);e&amp;&amp;e.show()},t.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.prototype.disable.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"mouseTimeDisplay\"</span>);e&amp;&amp;e.hide()},t.handleMouseUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.prototype.handleMouseUp.call(<span class=\"code-keyword\">this</span>,e),e&amp;&amp;e.stopPropagation(),<span class=\"code-keyword\">this</span>.player_.scrubbing(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.player_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-attr\">target</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">manuallyTriggered</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.videoWasPlaying?Et(<span class=\"code-keyword\">this</span>.player_.play()):<span class=\"code-keyword\">this</span>.update_()},t.stepForward=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-keyword\">this</span>.player_.currentTime()+<span class=\"code-number\">5</span>)},t.stepBack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-keyword\">this</span>.player_.currentTime()<span class=\"code-number\">-5</span>)},t.handleAction=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.paused()?<span class=\"code-keyword\">this</span>.player_.play():<span class=\"code-keyword\">this</span>.player_.pause()},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-keyword\">this</span>.player_.liveTracker;ht.isEventKey(e,<span class=\"code-string\">\"Space\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Enter\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.handleAction(e)):ht.isEventKey(e,<span class=\"code-string\">\"Home\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-number\">0</span>)):ht.isEventKey(e,<span class=\"code-string\">\"End\"</span>)?(e.preventDefault(),e.stopPropagation(),i&amp;&amp;i.isLive()?<span class=\"code-keyword\">this</span>.userSeek_(i.liveCurrentTime()):<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-keyword\">this</span>.player_.duration())):<span class=\"code-regexp\">/^[0-9]$/</span>.test(ht(e))?(e.preventDefault(),e.stopPropagation(),t=<span class=\"code-number\">10</span>*(ht.codes[ht(e)]-ht.codes[<span class=\"code-number\">0</span>])/<span class=\"code-number\">100</span>,i&amp;&amp;i.isLive()?<span class=\"code-keyword\">this</span>.userSeek_(i.seekableStart()+i.liveWindow()*t):<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-keyword\">this</span>.player_.duration()*t)):ht.isEventKey(e,<span class=\"code-string\">\"PgDn\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-keyword\">this</span>.player_.currentTime()<span class=\"code-number\">-60</span>)):ht.isEventKey(e,<span class=\"code-string\">\"PgUp\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.userSeek_(<span class=\"code-keyword\">this</span>.player_.currentTime()+<span class=\"code-number\">60</span>)):a.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,e)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.disableInterval_(),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-string\">\"timeupdate\"</span>],<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.player_.liveTracker&amp;&amp;<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_.liveTracker,<span class=\"code-string\">\"liveedgechange\"</span>,<span class=\"code-keyword\">this</span>.update),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"playing\"</span>],<span class=\"code-keyword\">this</span>.enableIntervalHandler_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"pause\"</span>,<span class=\"code-string\">\"waiting\"</span>],<span class=\"code-keyword\">this</span>.disableIntervalHandler_),<span class=\"code-string\">\"hidden\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-string\">\"visibilityState\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-keyword\">this</span>.off(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"visibilitychange\"</span>,<span class=\"code-keyword\">this</span>.toggleVisibility_),a.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e}(li);Bt.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"loadProgressBar\"</span>,<span class=\"code-string\">\"playProgressBar\"</span>],<span class=\"code-attr\">barName</span>:<span class=\"code-string\">\"playProgressBar\"</span>},q||A||Bt.prototype.options_.children.splice(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-string\">\"mouseTimeDisplay\"</span>),pt.registerComponent(<span class=\"code-string\">\"SeekBar\"</span>,Bt);Ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.handleMouseMove=We(Ve(ft(i),i.handleMouseMove),<span class=\"code-number\">30</span>),i.throttledHandleMouseSeek=We(Ve(ft(i),i.handleMouseSeek),<span class=\"code-number\">30</span>),i.handleMouseUpHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseUp(e)},i.handleMouseDownHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseDown(e)},i.enable(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-progress-control vjs-control\"</span>})},t.handleMouseMove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"seekBar\"</span>);a&amp;&amp;(t=a.getChild(<span class=\"code-string\">\"playProgressBar\"</span>),i=a.getChild(<span class=\"code-string\">\"mouseTimeDisplay\"</span>),(t||i)&amp;&amp;(r=he(n=a.el()),e=pe(n,e).x,e=cn(e,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),i&amp;&amp;i.update(r,e),t&amp;&amp;t.update(r,a.getProgress())))},t.handleMouseSeek=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"seekBar\"</span>);t&amp;&amp;t.handleMouseMove(e)},t.enabled=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.enabled_},t.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.children().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.disable&amp;&amp;e.disable()}),<span class=\"code-keyword\">this</span>.enabled()&amp;&amp;(<span class=\"code-keyword\">this</span>.off([<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-string\">\"touchstart\"</span>],<span class=\"code-keyword\">this</span>.handleMouseDownHandler_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.el_,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove),<span class=\"code-keyword\">this</span>.removeListenersAddedOnMousedownAndTouchstart(),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"disabled\"</span>),<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.player_.scrubbing()&amp;&amp;(e=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"seekBar\"</span>),<span class=\"code-keyword\">this</span>.player_.scrubbing(!<span class=\"code-number\">1</span>),e.videoWasPlaying&amp;&amp;Et(<span class=\"code-keyword\">this</span>.player_.play())))},t.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.children().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.enable&amp;&amp;e.enable()}),<span class=\"code-keyword\">this</span>.enabled()||(<span class=\"code-keyword\">this</span>.on([<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-string\">\"touchstart\"</span>],<span class=\"code-keyword\">this</span>.handleMouseDownHandler_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.el_,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.handleMouseMove),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"disabled\"</span>),<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">0</span>)},t.removeListenersAddedOnMousedownAndTouchstart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.el_.ownerDocument;<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseSeek),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseSeek),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_),<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_)},t.handleMouseDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.el_.ownerDocument,i=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"seekBar\"</span>);i&amp;&amp;i.handleMouseDown(e),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseSeek),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseSeek),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_)},t.handleMouseUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"seekBar\"</span>);t&amp;&amp;t.handleMouseUp(e),<span class=\"code-keyword\">this</span>.removeListenersAddedOnMousedownAndTouchstart()},e}(pt);Ft.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"seekBar\"</span>]},pt.registerComponent(<span class=\"code-string\">\"ProgressControl\"</span>,Ft);jt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(e,[<span class=\"code-string\">\"enterpictureinpicture\"</span>,<span class=\"code-string\">\"leavepictureinpicture\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handlePictureInPictureChange(e)}),i.on(e,[<span class=\"code-string\">\"disablepictureinpicturechanged\"</span>,<span class=\"code-string\">\"loadedmetadata\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handlePictureInPictureEnabledChange(e)}),i.on(e,[<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-string\">\"audioonlymodechange\"</span>,<span class=\"code-string\">\"audiopostermodechange\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"audio\"</span>===e.currentType().substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">5</span>)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&amp;&amp;e.exitPictureInPicture(),i.hide()):i.show()}),i.disable(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-picture-in-picture-control \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.handlePictureInPictureEnabledChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">document</span>.pictureInPictureEnabled&amp;&amp;!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.player_.disablePictureInPicture()?<span class=\"code-keyword\">this</span>.enable():<span class=\"code-keyword\">this</span>.disable()},t.handlePictureInPictureChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.isInPictureInPicture()?<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Exit Picture-in-Picture\"</span>):<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Picture-in-Picture\"</span>),<span class=\"code-keyword\">this</span>.handlePictureInPictureEnabledChange()},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.isInPictureInPicture()?<span class=\"code-keyword\">this</span>.player_.exitPictureInPicture():<span class=\"code-keyword\">this</span>.player_.requestPictureInPicture()},e}(sn);jt.prototype.controlText_=<span class=\"code-string\">\"Picture-in-Picture\"</span>,pt.registerComponent(<span class=\"code-string\">\"PictureInPictureToggle\"</span>,jt);j=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(e,<span class=\"code-string\">\"fullscreenchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleFullscreenChange(e)}),!<span class=\"code-number\">1</span>===<span class=\"code-built_in\">document</span>[e.fsApi_.fullscreenEnabled]&amp;&amp;i.disable(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-fullscreen-control \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.handleFullscreenChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.isFullscreen()?<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Non-Fullscreen\"</span>):<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"Fullscreen\"</span>)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player_.isFullscreen()?<span class=\"code-keyword\">this</span>.player_.exitFullscreen():<span class=\"code-keyword\">this</span>.player_.requestFullscreen()},e}(sn);j.prototype.controlText_=<span class=\"code-string\">\"Fullscreen\"</span>,pt.registerComponent(<span class=\"code-string\">\"FullscreenToggle\"</span>,j);pt.registerComponent(<span class=\"code-string\">\"VolumeLevel\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> mt(e,t),e.prototype.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-volume-level\"</span>});<span class=\"code-keyword\">return</span> e.appendChild(t.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>})),e},e}(pt)),pt.registerComponent(<span class=\"code-string\">\"VolumeLevelTooltip\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{t=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.update=We(Ve(ft(t),t.update),<span class=\"code-number\">30</span>),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-volume-tooltip\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:<span class=\"code-string\">\"true\"</span>})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">if</span>(!i){<span class=\"code-keyword\">var</span> r=de(<span class=\"code-keyword\">this</span>.el_),a=de(<span class=\"code-keyword\">this</span>.player_.el()),i=e.width*t;<span class=\"code-keyword\">if</span>(!a||!r)<span class=\"code-keyword\">return</span>;t=e.left-a.left+i,a=e.width-i+(a.right-e.right),e=r.width/<span class=\"code-number\">2</span>;t&lt;e?e+=e-t:a&lt;e&amp;&amp;(e=a),e&lt;<span class=\"code-number\">0</span>?e=<span class=\"code-number\">0</span>:e&gt;r.width&amp;&amp;(e=r.width),<span class=\"code-keyword\">this</span>.el_.style.right=<span class=\"code-string\">\"-\"</span>+e+<span class=\"code-string\">\"px\"</span>}<span class=\"code-keyword\">this</span>.write(n+<span class=\"code-string\">\"%\"</span>)},t.write=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{J(<span class=\"code-keyword\">this</span>.el_,e)},t.updateVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.requestNamedAnimationFrame(<span class=\"code-string\">\"VolumeLevelTooltip#updateVolume\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.update(e,t,i,n.toFixed(<span class=\"code-number\">0</span>)),r&amp;&amp;r()})},e}(pt));k=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{t=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.update=We(Ve(ft(t),t.update),<span class=\"code-number\">30</span>),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-mouse-display\"</span>})},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-number\">100</span>*t;<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"volumeLevelTooltip\"</span>).updateVolume(e,t,i,r,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i?n.el_.style.bottom=e.height*t+<span class=\"code-string\">\"px\"</span>:n.el_.style.left=e.width*t+<span class=\"code-string\">\"px\"</span>})},e}(pt);k.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"volumeLevelTooltip\"</span>]},pt.registerComponent(<span class=\"code-string\">\"MouseVolumeLevelDisplay\"</span>,k);f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(<span class=\"code-string\">\"slideractive\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateLastVolume_(e)}),i.on(e,<span class=\"code-string\">\"volumechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateARIAAttributes(e)}),e.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.updateARIAAttributes()}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-volume-bar vjs-slider-bar\"</span>},{<span class=\"code-string\">\"aria-label\"</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Volume Level\"</span>),<span class=\"code-string\">\"aria-live\"</span>:<span class=\"code-string\">\"polite\"</span>})},t.handleMouseDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{_e(e)&amp;&amp;n.prototype.handleMouseDown.call(<span class=\"code-keyword\">this</span>,e)},t.handleMouseMove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"mouseVolumeLevelDisplay\"</span>);r&amp;&amp;(t=de(n=<span class=\"code-keyword\">this</span>.el()),i=<span class=\"code-keyword\">this</span>.vertical(),n=pe(n,e),n=i?n.y:n.x,n=cn(n,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),r.update(t,n,i)),_e(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.checkMuted(),<span class=\"code-keyword\">this</span>.player_.volume(<span class=\"code-keyword\">this</span>.calculateDistance(e)))},t.checkMuted=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_.muted()&amp;&amp;<span class=\"code-keyword\">this</span>.player_.muted(!<span class=\"code-number\">1</span>)},t.getPercent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.player_.muted()?<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.player_.volume()},t.stepForward=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.checkMuted(),<span class=\"code-keyword\">this</span>.player_.volume(<span class=\"code-keyword\">this</span>.player_.volume()+<span class=\"code-number\">.1</span>)},t.stepBack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.checkMuted(),<span class=\"code-keyword\">this</span>.player_.volume(<span class=\"code-keyword\">this</span>.player_.volume()<span class=\"code-number\">-.1</span>)},t.updateARIAAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.muted()?<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.volumeAsPercentage_();<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"aria-valuenow\"</span>,t),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"aria-valuetext\"</span>,t+<span class=\"code-string\">\"%\"</span>)},t.volumeAsPercentage_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.round(<span class=\"code-number\">100</span>*<span class=\"code-keyword\">this</span>.player_.volume())},t.updateLastVolume_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.player_.volume();<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"sliderinactive\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">0</span>===e.player_.volume()&amp;&amp;e.player_.lastVolume_(t)})},e}(li);f.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"volumeLevel\"</span>],<span class=\"code-attr\">barName</span>:<span class=\"code-string\">\"volumeLevel\"</span>},q||A||f.prototype.options_.children.splice(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-string\">\"mouseVolumeLevelDisplay\"</span>),f.prototype.playerEvent=<span class=\"code-string\">\"volumechange\"</span>,pt.registerComponent(<span class=\"code-string\">\"VolumeBar\"</span>,f);ui=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r;<span class=\"code-keyword\">return</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).vertical=t.vertical||!<span class=\"code-number\">1</span>,<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> t.volumeBar&amp;&amp;!S(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),i=a.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>,n=ft(i),(r=e).tech_&amp;&amp;!r.tech_.featuresVolumeControl&amp;&amp;n.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>),n.on(r,<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.tech_.featuresVolumeControl?n.removeClass(<span class=\"code-string\">\"vjs-hidden\"</span>):n.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>)}),i.throttledHandleMouseMove=We(Ve(ft(i),i.handleMouseMove),<span class=\"code-number\">30</span>),i.handleMouseUpHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseUp(e)},i.on(<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseDown(e)}),i.on(<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseDown(e)}),i.on(<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseMove(e)}),i.on(i.volumeBar,[<span class=\"code-string\">\"focus\"</span>,<span class=\"code-string\">\"slideractive\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.volumeBar.addClass(<span class=\"code-string\">\"vjs-slider-active\"</span>),i.addClass(<span class=\"code-string\">\"vjs-slider-active\"</span>),i.trigger(<span class=\"code-string\">\"slideractive\"</span>)}),i.on(i.volumeBar,[<span class=\"code-string\">\"blur\"</span>,<span class=\"code-string\">\"sliderinactive\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.volumeBar.removeClass(<span class=\"code-string\">\"vjs-slider-active\"</span>),i.removeClass(<span class=\"code-string\">\"vjs-slider-active\"</span>),i.trigger(<span class=\"code-string\">\"sliderinactive\"</span>)}),i}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"vjs-volume-horizontal\"</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options_.vertical&amp;&amp;(e=<span class=\"code-string\">\"vjs-volume-vertical\"</span>),a.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-volume-control vjs-control \"</span>+e})},t.handleMouseDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.el_.ownerDocument;<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseMove),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseMove),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_),<span class=\"code-keyword\">this</span>.on(t,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_)},t.handleMouseUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.el_.ownerDocument;<span class=\"code-keyword\">this</span>.off(t,<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseMove),<span class=\"code-keyword\">this</span>.off(t,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.throttledHandleMouseMove),<span class=\"code-keyword\">this</span>.off(t,<span class=\"code-string\">\"mouseup\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_),<span class=\"code-keyword\">this</span>.off(t,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.handleMouseUpHandler_)},t.handleMouseMove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.volumeBar.handleMouseMove(e)},e}(pt);ui.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"volumeBar\"</span>]},pt.registerComponent(<span class=\"code-string\">\"VolumeControl\"</span>,ui);Xt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r=a.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i=ft(r),(n=e).tech_&amp;&amp;!n.tech_.featuresMuteControl&amp;&amp;i.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>),i.on(n,<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.tech_.featuresMuteControl?i.removeClass(<span class=\"code-string\">\"vjs-hidden\"</span>):i.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>)}),r.on(e,[<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-string\">\"volumechange\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.update(e)}),r}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-mute-control \"</span>+a.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.volume(),i=<span class=\"code-keyword\">this</span>.player_.lastVolume_();<span class=\"code-number\">0</span>===t?(<span class=\"code-keyword\">this</span>.player_.volume(i&lt;<span class=\"code-number\">.1</span>?<span class=\"code-number\">.1</span>:i),<span class=\"code-keyword\">this</span>.player_.muted(!<span class=\"code-number\">1</span>)):<span class=\"code-keyword\">this</span>.player_.muted(!<span class=\"code-keyword\">this</span>.player_.muted())},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.updateIcon_(),<span class=\"code-keyword\">this</span>.updateControlText_()},t.updateIcon_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.volume(),t=<span class=\"code-number\">3</span>;q&amp;&amp;<span class=\"code-keyword\">this</span>.player_.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.player_.tech_.el_&amp;&amp;<span class=\"code-keyword\">this</span>.player_.muted(<span class=\"code-keyword\">this</span>.player_.tech_.el_.muted),<span class=\"code-number\">0</span>===e||<span class=\"code-keyword\">this</span>.player_.muted()?t=<span class=\"code-number\">0</span>:e&lt;<span class=\"code-number\">.33</span>?t=<span class=\"code-number\">1</span>:e&lt;<span class=\"code-number\">.67</span>&amp;&amp;(t=<span class=\"code-number\">2</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-number\">4</span>;i++)ie(<span class=\"code-keyword\">this</span>.el_,<span class=\"code-string\">\"vjs-vol-\"</span>+i);te(<span class=\"code-keyword\">this</span>.el_,<span class=\"code-string\">\"vjs-vol-\"</span>+t)},t.updateControlText_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.muted()||<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.player_.volume()?<span class=\"code-string\">\"Unmute\"</span>:<span class=\"code-string\">\"Mute\"</span>;<span class=\"code-keyword\">this</span>.controlText()!==e&amp;&amp;<span class=\"code-keyword\">this</span>.controlText(e)},e}(sn);Xt.prototype.controlText_=<span class=\"code-string\">\"Mute\"</span>,pt.registerComponent(<span class=\"code-string\">\"MuteToggle\"</span>,Xt);I=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).inline?t.inline=t.inline:t.inline=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> t.volumeControl&amp;&amp;!S(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).handleKeyPressHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyPress(e)},i.on(e,[<span class=\"code-string\">\"loadstart\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.volumePanelState_(e)}),i.on(i.muteToggle,<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyPress(e)}),i.on(i.volumeControl,<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleVolumeControlKeyUp(e)}),i.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyPress(e)}),i.on(<span class=\"code-string\">\"mouseover\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseOver(e)}),i.on(<span class=\"code-string\">\"mouseout\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseOut(e)}),i.on(i.volumeControl,[<span class=\"code-string\">\"slideractive\"</span>],i.sliderActive_),i.on(i.volumeControl,[<span class=\"code-string\">\"sliderinactive\"</span>],i.sliderInactive_),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.sliderActive_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-slider-active\"</span>)},t.sliderInactive_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-slider-active\"</span>)},t.volumePanelState_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.volumeControl.hasClass(<span class=\"code-string\">\"vjs-hidden\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.muteToggle.hasClass(<span class=\"code-string\">\"vjs-hidden\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>),<span class=\"code-keyword\">this</span>.volumeControl.hasClass(<span class=\"code-string\">\"vjs-hidden\"</span>)&amp;&amp;!<span class=\"code-keyword\">this</span>.muteToggle.hasClass(<span class=\"code-string\">\"vjs-hidden\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-mute-toggle-only\"</span>)},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"vjs-volume-panel-horizontal\"</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options_.inline||(e=<span class=\"code-string\">\"vjs-volume-panel-vertical\"</span>),n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-volume-panel vjs-control \"</span>+e})},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.handleMouseOut(),n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.handleVolumeControlKeyUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.muteToggle.focus()},t.handleMouseOver=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-hover\"</span>),Be(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-keyword\">this</span>.handleKeyPressHandler_)},t.handleMouseOut=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-hover\"</span>),Fe(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-keyword\">this</span>.handleKeyPressHandler_)},t.handleKeyPress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.handleMouseOut()},e}(pt);I.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"muteToggle\"</span>,<span class=\"code-string\">\"volumeControl\"</span>]},pt.registerComponent(<span class=\"code-string\">\"VolumePanel\"</span>,I);<span class=\"code-keyword\">var</span> hn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t&amp;&amp;(i.menuButton_=t.menuButton),i.focusedChild_=<span class=\"code-number\">-1</span>,i.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyDown(e)}),i.boundHandleBlur_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleBlur(e)},i.boundHandleTapClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTapClick(e)},i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.addEventListenerForItem=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e <span class=\"code-keyword\">instanceof</span> pt&amp;&amp;(<span class=\"code-keyword\">this</span>.on(e,<span class=\"code-string\">\"blur\"</span>,<span class=\"code-keyword\">this</span>.boundHandleBlur_),<span class=\"code-keyword\">this</span>.on(e,[<span class=\"code-string\">\"tap\"</span>,<span class=\"code-string\">\"click\"</span>],<span class=\"code-keyword\">this</span>.boundHandleTapClick_))},t.removeEventListenerForItem=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e <span class=\"code-keyword\">instanceof</span> pt&amp;&amp;(<span class=\"code-keyword\">this</span>.off(e,<span class=\"code-string\">\"blur\"</span>,<span class=\"code-keyword\">this</span>.boundHandleBlur_),<span class=\"code-keyword\">this</span>.off(e,[<span class=\"code-string\">\"tap\"</span>,<span class=\"code-string\">\"click\"</span>],<span class=\"code-keyword\">this</span>.boundHandleTapClick_))},t.removeChild=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(e=<span class=\"code-keyword\">this</span>.getChild(e)),<span class=\"code-keyword\">this</span>.removeEventListenerForItem(e),n.prototype.removeChild.call(<span class=\"code-keyword\">this</span>,e)},t.addItem=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">this</span>.addChild(e);e&amp;&amp;<span class=\"code-keyword\">this</span>.addEventListenerForItem(e)},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.options_.contentElType||<span class=\"code-string\">\"ul\"</span>;<span class=\"code-keyword\">this</span>.contentEl_=$(e,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-menu-content\"</span>}),<span class=\"code-keyword\">this</span>.contentEl_.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"menu\"</span>);e=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">append</span>:<span class=\"code-keyword\">this</span>.contentEl_,<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-menu\"</span>});<span class=\"code-keyword\">return</span> e.appendChild(<span class=\"code-keyword\">this</span>.contentEl_),Be(e,<span class=\"code-string\">\"click\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.preventDefault(),e.stopImmediatePropagation()}),e},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.contentEl_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundHandleBlur_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.boundHandleTapClick_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.handleBlur=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.relatedTarget||<span class=\"code-built_in\">document</span>.activeElement;<span class=\"code-keyword\">this</span>.children().some(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.el()===t})||(e=<span class=\"code-keyword\">this</span>.menuButton_)&amp;&amp;e.buttonPressed_&amp;&amp;t!==e.el().firstChild&amp;&amp;e.unpressButton()},t.handleTapClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.menuButton_&amp;&amp;(<span class=\"code-keyword\">this</span>.menuButton_.unpressButton(),e=<span class=\"code-keyword\">this</span>.children(),!<span class=\"code-built_in\">Array</span>.isArray(e)||(e=e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.el()===t.target})[<span class=\"code-number\">0</span>])&amp;&amp;<span class=\"code-string\">\"CaptionSettingsMenuItem\"</span>!==e.name()&amp;&amp;<span class=\"code-keyword\">this</span>.menuButton_.focus())},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Left\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Down\"</span>)?(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.stepForward()):(ht.isEventKey(e,<span class=\"code-string\">\"Right\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Up\"</span>))&amp;&amp;(e.preventDefault(),e.stopPropagation(),<span class=\"code-keyword\">this</span>.stepBack())},t.stepForward=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.focusedChild_&amp;&amp;(e=<span class=\"code-keyword\">this</span>.focusedChild_+<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.focus(e)},t.stepBack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.focusedChild_&amp;&amp;(e=<span class=\"code-keyword\">this</span>.focusedChild_<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">this</span>.focus(e)},t.focus=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.children().slice();t.length&amp;&amp;t[<span class=\"code-number\">0</span>].hasClass(<span class=\"code-string\">\"vjs-menu-title\"</span>)&amp;&amp;t.shift(),<span class=\"code-number\">0</span>&lt;t.length&amp;&amp;(e&lt;<span class=\"code-number\">0</span>?e=<span class=\"code-number\">0</span>:e&gt;=t.length&amp;&amp;(e=t.length<span class=\"code-number\">-1</span>),t[<span class=\"code-keyword\">this</span>.focusedChild_=e].el_.focus())},e}(pt);pt.registerComponent(<span class=\"code-string\">\"Menu\"</span>,hn);Bt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;(i=n.call(<span class=\"code-keyword\">this</span>,e,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t)||<span class=\"code-keyword\">this</span>).menuButton_=<span class=\"code-keyword\">new</span> sn(e,t),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute(<span class=\"code-string\">\"aria-haspopup\"</span>,<span class=\"code-string\">\"true\"</span>);t=sn.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+<span class=\"code-string\">\" \"</span>+t,i.menuButton_.removeClass(<span class=\"code-string\">\"vjs-control\"</span>),i.addChild(i.menuButton_),i.update(),i.enabled_=!<span class=\"code-number\">0</span>;t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleClick(e)};<span class=\"code-keyword\">return</span> i.handleMenuKeyUp_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMenuKeyUp(e)},i.on(i.menuButton_,<span class=\"code-string\">\"tap\"</span>,t),i.on(i.menuButton_,<span class=\"code-string\">\"click\"</span>,t),i.on(i.menuButton_,<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleKeyDown(e)}),i.on(i.menuButton_,<span class=\"code-string\">\"mouseenter\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.addClass(<span class=\"code-string\">\"vjs-hover\"</span>),i.menu.show(),Be(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keyup\"</span>,i.handleMenuKeyUp_)}),i.on(<span class=\"code-string\">\"mouseleave\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleMouseLeave(e)}),i.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleSubmenuKeyDown(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.createMenu();<span class=\"code-keyword\">this</span>.menu&amp;&amp;(<span class=\"code-keyword\">this</span>.menu.dispose(),<span class=\"code-keyword\">this</span>.removeChild(<span class=\"code-keyword\">this</span>.menu)),<span class=\"code-keyword\">this</span>.menu=e,<span class=\"code-keyword\">this</span>.addChild(e),<span class=\"code-keyword\">this</span>.buttonPressed_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.menuButton_.el_.setAttribute(<span class=\"code-string\">\"aria-expanded\"</span>,<span class=\"code-string\">\"false\"</span>),<span class=\"code-keyword\">this</span>.items&amp;&amp;<span class=\"code-keyword\">this</span>.items.length&lt;=<span class=\"code-keyword\">this</span>.hideThreshold_?(<span class=\"code-keyword\">this</span>.hide(),<span class=\"code-keyword\">this</span>.menu.contentEl_.removeAttribute(<span class=\"code-string\">\"role\"</span>)):(<span class=\"code-keyword\">this</span>.show(),<span class=\"code-keyword\">this</span>.menu.contentEl_.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"menu\"</span>))},t.createMenu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">new</span> hn(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">menuButton</span>:<span class=\"code-keyword\">this</span>});<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.hideThreshold_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.options_.title&amp;&amp;(e=$(<span class=\"code-string\">\"li\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-menu-title\"</span>,<span class=\"code-attr\">textContent</span>:ut(<span class=\"code-keyword\">this</span>.options_.title),<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">-1</span>}),e=<span class=\"code-keyword\">new</span> pt(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">el</span>:e}),t.addItem(e)),<span class=\"code-keyword\">this</span>.items=<span class=\"code-keyword\">this</span>.createItems(),<span class=\"code-keyword\">this</span>.items)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-keyword\">this</span>.items.length;i++)t.addItem(<span class=\"code-keyword\">this</span>.items[i]);<span class=\"code-keyword\">return</span> t},t.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-keyword\">this</span>.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"vjs-menu-button\"</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.options_.inline?e+=<span class=\"code-string\">\"-inline\"</span>:e+=<span class=\"code-string\">\"-popup\"</span>,<span class=\"code-string\">\"vjs-menu-button \"</span>+e+<span class=\"code-string\">\" \"</span>+sn.prototype.buildCSSClass()+<span class=\"code-string\">\" \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"vjs-menu-button\"</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.options_.inline?e+=<span class=\"code-string\">\"-inline\"</span>:e+=<span class=\"code-string\">\"-popup\"</span>,<span class=\"code-string\">\"vjs-menu-button \"</span>+e+<span class=\"code-string\">\" \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.controlText=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">this</span>.menuButton_.el()),<span class=\"code-keyword\">this</span>.menuButton_.controlText(e,t)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.handleMouseLeave(),n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.buttonPressed_?<span class=\"code-keyword\">this</span>.unpressButton():<span class=\"code-keyword\">this</span>.pressButton()},t.handleMouseLeave=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-hover\"</span>),Fe(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keyup\"</span>,<span class=\"code-keyword\">this</span>.handleMenuKeyUp_)},t.focus=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.menuButton_.focus()},t.blur=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.menuButton_.blur()},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>)?(<span class=\"code-keyword\">this</span>.buttonPressed_&amp;&amp;<span class=\"code-keyword\">this</span>.unpressButton(),ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>)||(e.preventDefault(),<span class=\"code-keyword\">this</span>.menuButton_.focus())):(ht.isEventKey(e,<span class=\"code-string\">\"Up\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Down\"</span>))&amp;&amp;(<span class=\"code-keyword\">this</span>.buttonPressed_||(e.preventDefault(),<span class=\"code-keyword\">this</span>.pressButton()))},t.handleMenuKeyUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{(ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>))&amp;&amp;<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-hover\"</span>)},t.handleSubmenuKeyPress=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{(ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>))&amp;&amp;(<span class=\"code-keyword\">this</span>.buttonPressed_&amp;&amp;<span class=\"code-keyword\">this</span>.unpressButton(),ht.isEventKey(e,<span class=\"code-string\">\"Tab\"</span>)||(e.preventDefault(),<span class=\"code-keyword\">this</span>.menuButton_.focus()))},t.pressButton=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enabled_&amp;&amp;(<span class=\"code-keyword\">this</span>.buttonPressed_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.menu.show(),<span class=\"code-keyword\">this</span>.menu.lockShowing(),<span class=\"code-keyword\">this</span>.menuButton_.el_.setAttribute(<span class=\"code-string\">\"aria-expanded\"</span>,<span class=\"code-string\">\"true\"</span>),q&amp;&amp;Y()||<span class=\"code-keyword\">this</span>.menu.focus())},t.unpressButton=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enabled_&amp;&amp;(<span class=\"code-keyword\">this</span>.buttonPressed_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.menu.unlockShowing(),<span class=\"code-keyword\">this</span>.menu.hide(),<span class=\"code-keyword\">this</span>.menuButton_.el_.setAttribute(<span class=\"code-string\">\"aria-expanded\"</span>,<span class=\"code-string\">\"false\"</span>))},t.disable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.unpressButton(),<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-disabled\"</span>),<span class=\"code-keyword\">this</span>.menuButton_.disable()},t.enable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.enabled_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-disabled\"</span>),<span class=\"code-keyword\">this</span>.menuButton_.enable()},e}(pt);pt.registerComponent(<span class=\"code-string\">\"MenuButton\"</span>,Bt);Ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.tracks,t=r.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(t.items.length&lt;=<span class=\"code-number\">1</span>&amp;&amp;t.hide(),!i)<span class=\"code-keyword\">return</span> ft(t);<span class=\"code-keyword\">var</span> n=Ve(ft(t),t.update);<span class=\"code-keyword\">return</span> i.addEventListener(<span class=\"code-string\">\"removetrack\"</span>,n),i.addEventListener(<span class=\"code-string\">\"addtrack\"</span>,n),i.addEventListener(<span class=\"code-string\">\"labelchange\"</span>,n),t.player_.on(<span class=\"code-string\">\"ready\"</span>,n),t.player_.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.removeEventListener(<span class=\"code-string\">\"removetrack\"</span>,n),i.removeEventListener(<span class=\"code-string\">\"addtrack\"</span>,n),i.removeEventListener(<span class=\"code-string\">\"labelchange\"</span>,n)}),t}<span class=\"code-keyword\">return</span> mt(e,r),e}(Bt);pt.registerComponent(<span class=\"code-string\">\"TrackButton\"</span>,Ft);<span class=\"code-keyword\">var</span> pn=[<span class=\"code-string\">\"Tab\"</span>,<span class=\"code-string\">\"Esc\"</span>,<span class=\"code-string\">\"Up\"</span>,<span class=\"code-string\">\"Down\"</span>,<span class=\"code-string\">\"Right\"</span>,<span class=\"code-string\">\"Left\"</span>],jt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{e=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e.selectable=t.selectable,e.isSelected_=t.selected||!<span class=\"code-number\">1</span>,e.multiSelectable=t.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"menuitemcheckbox\"</span>):e.el_.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"menuitemradio\"</span>):e.el_.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"menuitem\"</span>),e}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">this</span>.nonIconControl=!<span class=\"code-number\">0</span>;i=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"li\"</span>,b({<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-menu-item\"</span>,<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">-1</span>},t),i);<span class=\"code-keyword\">return</span> i.replaceChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-menu-item-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-keyword\">this</span>.options_.label)}),i.querySelector(<span class=\"code-string\">\".vjs-icon-placeholder\"</span>)),i},t.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{pn.some(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ht.isEventKey(t,e)})||n.prototype.handleKeyDown.call(<span class=\"code-keyword\">this</span>,t)},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.selected(!<span class=\"code-number\">0</span>)},t.selected=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.selectable&amp;&amp;(e?(<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-selected\"</span>),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"aria-checked\"</span>,<span class=\"code-string\">\"true\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\", selected\"</span>),<span class=\"code-keyword\">this</span>.isSelected_=!<span class=\"code-number\">0</span>):(<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-selected\"</span>),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"aria-checked\"</span>,<span class=\"code-string\">\"false\"</span>),<span class=\"code-keyword\">this</span>.controlText(<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">this</span>.isSelected_=!<span class=\"code-number\">1</span>))},e}(C);pt.registerComponent(<span class=\"code-string\">\"MenuItem\"</span>,jt);<span class=\"code-keyword\">var</span> fn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">u</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n,i=t.track,r=e.textTracks();t.label=i.label||i.language||<span class=\"code-string\">\"Unknown\"</span>,t.selected=<span class=\"code-string\">\"showing\"</span>===i.mode,(n=u.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).track=i,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(<span class=\"code-built_in\">Boolean</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];n.handleTracksChange.apply(ft(n),t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];n.handleSelectedLanguageChange.apply(ft(n),t)}<span class=\"code-keyword\">var</span> o;<span class=\"code-keyword\">return</span> e.on([<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-string\">\"texttrackchange\"</span>],a),r.addEventListener(<span class=\"code-string\">\"change\"</span>,a),r.addEventListener(<span class=\"code-string\">\"selectedlanguagechange\"</span>,s),n.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.off([<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-string\">\"texttrackchange\"</span>],a),r.removeEventListener(<span class=\"code-string\">\"change\"</span>,a),r.removeEventListener(<span class=\"code-string\">\"selectedlanguagechange\"</span>,s)}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r.onchange&amp;&amp;n.on([<span class=\"code-string\">\"tap\"</span>,<span class=\"code-string\">\"click\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.Event)<span class=\"code-keyword\">try</span>{o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.Event(<span class=\"code-string\">\"change\"</span>)}<span class=\"code-keyword\">catch</span>(e){}o||(o=<span class=\"code-built_in\">document</span>.createEvent(<span class=\"code-string\">\"Event\"</span>)).initEvent(<span class=\"code-string\">\"change\"</span>,!<span class=\"code-number\">0</span>,!<span class=\"code-number\">0</span>),r.dispatchEvent(o)}),n.handleTracksChange(),n}mt(e,u);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.track,i=<span class=\"code-keyword\">this</span>.player_.textTracks();<span class=\"code-keyword\">if</span>(u.prototype.handleClick.call(<span class=\"code-keyword\">this</span>,e),i)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;i.length;n++){<span class=\"code-keyword\">var</span> r=i[n];<span class=\"code-number\">-1</span>!==<span class=\"code-keyword\">this</span>.kinds.indexOf(r.kind)&amp;&amp;(r===t?<span class=\"code-string\">\"showing\"</span>!==r.mode&amp;&amp;(r.mode=<span class=\"code-string\">\"showing\"</span>):<span class=\"code-string\">\"disabled\"</span>!==r.mode&amp;&amp;(r.mode=<span class=\"code-string\">\"disabled\"</span>))}},t.handleTracksChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"showing\"</span>===<span class=\"code-keyword\">this</span>.track.mode;t!==<span class=\"code-keyword\">this</span>.isSelected_&amp;&amp;<span class=\"code-keyword\">this</span>.selected(t)},t.handleSelectedLanguageChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-string\">\"showing\"</span>===<span class=\"code-keyword\">this</span>.track.mode&amp;&amp;((t=<span class=\"code-keyword\">this</span>.player_.cache_.selectedLanguage)&amp;&amp;t.enabled&amp;&amp;t.language===<span class=\"code-keyword\">this</span>.track.language&amp;&amp;t.kind!==<span class=\"code-keyword\">this</span>.track.kind||(<span class=\"code-keyword\">this</span>.player_.cache_.selectedLanguage={<span class=\"code-attr\">enabled</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">language</span>:<span class=\"code-keyword\">this</span>.track.language,<span class=\"code-attr\">kind</span>:<span class=\"code-keyword\">this</span>.track.kind}))},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.track=<span class=\"code-literal\">null</span>,u.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e}(jt);pt.registerComponent(<span class=\"code-string\">\"TextTrackMenuItem\"</span>,fn);<span class=\"code-keyword\">var</span> mn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.track={<span class=\"code-attr\">player</span>:e,<span class=\"code-attr\">kind</span>:t.kind,<span class=\"code-attr\">kinds</span>:t.kinds,<span class=\"code-attr\">default</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"disabled\"</span>},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(<span class=\"code-string\">\" and \"</span>)+<span class=\"code-string\">\" off\"</span>,t.selectable=!<span class=\"code-number\">0</span>,t.multiSelectable=!<span class=\"code-number\">1</span>,i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.handleTracksChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player().textTracks(),i=!<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> a=t[n];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>&lt;<span class=\"code-keyword\">this</span>.options_.kinds.indexOf(a.kind)&amp;&amp;<span class=\"code-string\">\"showing\"</span>===a.mode){i=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>}}i!==<span class=\"code-keyword\">this</span>.isSelected_&amp;&amp;<span class=\"code-keyword\">this</span>.selected(i)},t.handleSelectedLanguageChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player().textTracks(),i=!<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> a=t[n];<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>&lt;[<span class=\"code-string\">\"captions\"</span>,<span class=\"code-string\">\"descriptions\"</span>,<span class=\"code-string\">\"subtitles\"</span>].indexOf(a.kind)&amp;&amp;<span class=\"code-string\">\"showing\"</span>===a.mode){i=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">break</span>}}i&amp;&amp;(<span class=\"code-keyword\">this</span>.player_.cache_.selectedLanguage={<span class=\"code-attr\">enabled</span>:!<span class=\"code-number\">1</span>})},e}(fn);pt.registerComponent(<span class=\"code-string\">\"OffTextTrackMenuItem\"</span>,mn);j=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).tracks=e.textTracks(),i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> mt(e,i),e.prototype.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=fn),<span class=\"code-keyword\">this</span>.label_&amp;&amp;(i=<span class=\"code-keyword\">this</span>.label_+<span class=\"code-string\">\" off\"</span>),(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?[]:e).push(<span class=\"code-keyword\">new</span> mn(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">kinds</span>:<span class=\"code-keyword\">this</span>.kinds_,<span class=\"code-attr\">kind</span>:<span class=\"code-keyword\">this</span>.kind_,<span class=\"code-attr\">label</span>:i})),<span class=\"code-keyword\">this</span>.hideThreshold_+=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.player_.textTracks();<span class=\"code-built_in\">Array</span>.isArray(<span class=\"code-keyword\">this</span>.kinds_)||(<span class=\"code-keyword\">this</span>.kinds_=[<span class=\"code-keyword\">this</span>.kind_]);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;n.length;r++){<span class=\"code-keyword\">var</span> a,s=n[r];<span class=\"code-number\">-1</span>&lt;<span class=\"code-keyword\">this</span>.kinds_.indexOf(s.kind)&amp;&amp;((a=<span class=\"code-keyword\">new</span> t(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">track</span>:s,<span class=\"code-attr\">kinds</span>:<span class=\"code-keyword\">this</span>.kinds_,<span class=\"code-attr\">kind</span>:<span class=\"code-keyword\">this</span>.kind_,<span class=\"code-attr\">selectable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">multiSelectable</span>:!<span class=\"code-number\">1</span>})).addClass(<span class=\"code-string\">\"vjs-\"</span>+s.kind+<span class=\"code-string\">\"-menu-item\"</span>),e.push(a))}<span class=\"code-keyword\">return</span> e},e}(Ft);pt.registerComponent(<span class=\"code-string\">\"TextTrackButton\"</span>,j);<span class=\"code-keyword\">var</span> gn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.track,n=t.cue,r=e.currentTime();<span class=\"code-keyword\">return</span> t.selectable=!<span class=\"code-number\">0</span>,t.multiSelectable=!<span class=\"code-number\">1</span>,t.label=n.text,t.selected=n.startTime&lt;=r&amp;&amp;r&lt;n.endTime,(t=a.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).track=i,t.cue=n,t}<span class=\"code-keyword\">return</span> mt(e,a),e.prototype.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.prototype.handleClick.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.player_.currentTime(<span class=\"code-keyword\">this</span>.cue.startTime)},e}(jt);pt.registerComponent(<span class=\"code-string\">\"ChaptersTrackMenuItem\"</span>,gn);k=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=r.call(<span class=\"code-keyword\">this</span>,e,t,i)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> n.selectCurrentItem_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.items.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.selected(n.track_.activeCues[<span class=\"code-number\">0</span>]===e.cue)})},n}mt(e,r);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-chapters-button \"</span>+r.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-chapters-button \"</span>+r.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e&amp;&amp;e.track&amp;&amp;<span class=\"code-string\">\"chapters\"</span>!==e.track.kind||((e=<span class=\"code-keyword\">this</span>.findChaptersTrack())!==<span class=\"code-keyword\">this</span>.track_?(<span class=\"code-keyword\">this</span>.setTrack(e),r.prototype.update.call(<span class=\"code-keyword\">this</span>)):(!<span class=\"code-keyword\">this</span>.items||e&amp;&amp;e.cues&amp;&amp;e.cues.length!==<span class=\"code-keyword\">this</span>.items.length)&amp;&amp;r.prototype.update.call(<span class=\"code-keyword\">this</span>))},t.setTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">this</span>.track_!==e&amp;&amp;(<span class=\"code-keyword\">this</span>.updateHandler_||(<span class=\"code-keyword\">this</span>.updateHandler_=<span class=\"code-keyword\">this</span>.update.bind(<span class=\"code-keyword\">this</span>)),<span class=\"code-keyword\">this</span>.track_&amp;&amp;((t=<span class=\"code-keyword\">this</span>.player_.remoteTextTrackEls().getTrackElementByTrack_(<span class=\"code-keyword\">this</span>.track_))&amp;&amp;t.removeEventListener(<span class=\"code-string\">\"load\"</span>,<span class=\"code-keyword\">this</span>.updateHandler_),<span class=\"code-keyword\">this</span>.track_.removeEventListener(<span class=\"code-string\">\"cuechange\"</span>,<span class=\"code-keyword\">this</span>.selectCurrentItem_),<span class=\"code-keyword\">this</span>.track_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.track_=e,<span class=\"code-keyword\">this</span>.track_&amp;&amp;(<span class=\"code-keyword\">this</span>.track_.mode=<span class=\"code-string\">\"hidden\"</span>,(e=<span class=\"code-keyword\">this</span>.player_.remoteTextTrackEls().getTrackElementByTrack_(<span class=\"code-keyword\">this</span>.track_))&amp;&amp;e.addEventListener(<span class=\"code-string\">\"load\"</span>,<span class=\"code-keyword\">this</span>.updateHandler_),<span class=\"code-keyword\">this</span>.track_.addEventListener(<span class=\"code-string\">\"cuechange\"</span>,<span class=\"code-keyword\">this</span>.selectCurrentItem_)))},t.findChaptersTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.textTracks()||[],t=e.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=t;t--){<span class=\"code-keyword\">var</span> i=e[t];<span class=\"code-keyword\">if</span>(i.kind===<span class=\"code-keyword\">this</span>.kind_)<span class=\"code-keyword\">return</span> i}},t.getMenuCaption=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.track_&amp;&amp;<span class=\"code-keyword\">this</span>.track_.label?<span class=\"code-keyword\">this</span>.track_.label:<span class=\"code-keyword\">this</span>.localize(ut(<span class=\"code-keyword\">this</span>.kind_))},t.createMenu=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options_.title=<span class=\"code-keyword\">this</span>.getMenuCaption(),r.prototype.createMenu.call(<span class=\"code-keyword\">this</span>)},t.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.track_)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.track_.cues;<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,n=t.length;i&lt;n;i++){<span class=\"code-keyword\">var</span> r=t[i],r=<span class=\"code-keyword\">new</span> gn(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">track</span>:<span class=\"code-keyword\">this</span>.track_,<span class=\"code-attr\">cue</span>:r});e.push(r)}<span class=\"code-keyword\">return</span> e},e}(j);k.prototype.kind_=<span class=\"code-string\">\"chapters\"</span>,k.prototype.controlText_=<span class=\"code-string\">\"Chapters\"</span>,pt.registerComponent(<span class=\"code-string\">\"ChaptersButton\"</span>,k);li=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> i=a.call(<span class=\"code-keyword\">this</span>,e,t,i)||<span class=\"code-keyword\">this</span>,n=e.textTracks(),r=Ve(ft(i),i.handleTracksChange);<span class=\"code-keyword\">return</span> n.addEventListener(<span class=\"code-string\">\"change\"</span>,r),i.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.removeEventListener(<span class=\"code-string\">\"change\"</span>,r)}),i}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.handleTracksChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player().textTracks(),i=!<span class=\"code-number\">1</span>,n=<span class=\"code-number\">0</span>,r=t.length;n&lt;r;n++){<span class=\"code-keyword\">var</span> a=t[n];<span class=\"code-keyword\">if</span>(a.kind!==<span class=\"code-keyword\">this</span>.kind_&amp;&amp;<span class=\"code-string\">\"showing\"</span>===a.mode){i=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}}i?<span class=\"code-keyword\">this</span>.disable():<span class=\"code-keyword\">this</span>.enable()},t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-descriptions-button \"</span>+a.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-descriptions-button \"</span>+a.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},e}(j);li.prototype.kind_=<span class=\"code-string\">\"descriptions\"</span>,li.prototype.controlText_=<span class=\"code-string\">\"Descriptions\"</span>,pt.registerComponent(<span class=\"code-string\">\"DescriptionsButton\"</span>,li);f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> n.call(<span class=\"code-keyword\">this</span>,e,t,i)||<span class=\"code-keyword\">this</span>}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-subtitles-button \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-subtitles-button \"</span>+n.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},e}(j);f.prototype.kind_=<span class=\"code-string\">\"subtitles\"</span>,f.prototype.controlText_=<span class=\"code-string\">\"Subtitles\"</span>,pt.registerComponent(<span class=\"code-string\">\"SubtitlesButton\"</span>,f);<span class=\"code-keyword\">var</span> yn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.track={<span class=\"code-attr\">player</span>:e,<span class=\"code-attr\">kind</span>:t.kind,<span class=\"code-attr\">label</span>:t.kind+<span class=\"code-string\">\" settings\"</span>,<span class=\"code-attr\">selectable</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">default</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"disabled\"</span>},t.selectable=!<span class=\"code-number\">1</span>,t.name=<span class=\"code-string\">\"CaptionSettingsMenuItem\"</span>,(e=i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).addClass(<span class=\"code-string\">\"vjs-texttrack-settings\"</span>),e.controlText(<span class=\"code-string\">\", opens \"</span>+t.kind+<span class=\"code-string\">\" settings dialog\"</span>),e}<span class=\"code-keyword\">return</span> mt(e,i),e.prototype.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player().getChild(<span class=\"code-string\">\"textTrackSettings\"</span>).open()},e}(fn);pt.registerComponent(<span class=\"code-string\">\"CaptionSettingsMenuItem\"</span>,yn);ui=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> n.call(<span class=\"code-keyword\">this</span>,e,t,i)||<span class=\"code-keyword\">this</span>}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-captions-button \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-captions-button \"</span>+n.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},t.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.player().tech_&amp;&amp;<span class=\"code-keyword\">this</span>.player().tech_.featuresNativeTextTracks||!<span class=\"code-keyword\">this</span>.player().getChild(<span class=\"code-string\">\"textTrackSettings\"</span>)||(e.push(<span class=\"code-keyword\">new</span> yn(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">kind</span>:<span class=\"code-keyword\">this</span>.kind_})),<span class=\"code-keyword\">this</span>.hideThreshold_+=<span class=\"code-number\">1</span>),n.prototype.createItems.call(<span class=\"code-keyword\">this</span>,e)},e}(j);ui.prototype.kind_=<span class=\"code-string\">\"captions\"</span>,ui.prototype.controlText_=<span class=\"code-string\">\"Captions\"</span>,pt.registerComponent(<span class=\"code-string\">\"CaptionsButton\"</span>,ui);<span class=\"code-keyword\">var</span> vn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> mt(e,n),e.prototype.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{t=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,e,t,i),i=t.querySelector(<span class=\"code-string\">\".vjs-menu-item-text\"</span>);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"captions\"</span>===<span class=\"code-keyword\">this</span>.options_.track.kind&amp;&amp;(i.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-icon-placeholder\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:!<span class=\"code-number\">0</span>})),i.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-string\">\" \"</span>+<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Captions\"</span>)}))),t},e}(fn);pt.registerComponent(<span class=\"code-string\">\"SubsCapsMenuItem\"</span>,vn);Xt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(t=i.call(<span class=\"code-keyword\">this</span>,e,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t)||<span class=\"code-keyword\">this</span>).label_=<span class=\"code-string\">\"subtitles\"</span>,<span class=\"code-number\">-1</span>&lt;[<span class=\"code-string\">\"en\"</span>,<span class=\"code-string\">\"en-us\"</span>,<span class=\"code-string\">\"en-ca\"</span>,<span class=\"code-string\">\"fr-ca\"</span>].indexOf(t.player_.language_)&amp;&amp;(t.label_=<span class=\"code-string\">\"captions\"</span>),t.menuButton_.controlText(ut(t.label_)),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-subs-caps-button \"</span>+i.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-subs-caps-button \"</span>+i.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},t.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=[];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.player().tech_&amp;&amp;<span class=\"code-keyword\">this</span>.player().tech_.featuresNativeTextTracks||!<span class=\"code-keyword\">this</span>.player().getChild(<span class=\"code-string\">\"textTrackSettings\"</span>)||(e.push(<span class=\"code-keyword\">new</span> yn(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">kind</span>:<span class=\"code-keyword\">this</span>.label_})),<span class=\"code-keyword\">this</span>.hideThreshold_+=<span class=\"code-number\">1</span>),e=i.prototype.createItems.call(<span class=\"code-keyword\">this</span>,e,vn)},e}(j);Xt.prototype.kinds_=[<span class=\"code-string\">\"captions\"</span>,<span class=\"code-string\">\"subtitles\"</span>],Xt.prototype.controlText_=<span class=\"code-string\">\"Subtitles\"</span>,pt.registerComponent(<span class=\"code-string\">\"SubsCapsButton\"</span>,Xt);<span class=\"code-keyword\">var</span> _n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n,i=t.track,r=e.audioTracks();t.label=i.label||i.language||<span class=\"code-string\">\"Unknown\"</span>,t.selected=i.enabled,(n=s.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).track=i,n.addClass(<span class=\"code-string\">\"vjs-\"</span>+i.kind+<span class=\"code-string\">\"-menu-item\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];n.handleTracksChange.apply(ft(n),t)}<span class=\"code-keyword\">return</span> r.addEventListener(<span class=\"code-string\">\"change\"</span>,a),n.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.removeEventListener(<span class=\"code-string\">\"change\"</span>,a)}),n}mt(e,s);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{t=s.prototype.createEl.call(<span class=\"code-keyword\">this</span>,e,t,i),i=t.querySelector(<span class=\"code-string\">\".vjs-menu-item-text\"</span>);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"main-desc\"</span>===<span class=\"code-keyword\">this</span>.options_.track.kind&amp;&amp;(i.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-icon-placeholder\"</span>},{<span class=\"code-string\">\"aria-hidden\"</span>:!<span class=\"code-number\">0</span>})),i.appendChild($(<span class=\"code-string\">\"span\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>,<span class=\"code-attr\">textContent</span>:<span class=\"code-string\">\" \"</span>+<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Descriptions\"</span>)}))),t},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(s.prototype.handleClick.call(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.track.enabled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.player_.tech_.featuresNativeAudioTracks)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.audioTracks(),i=<span class=\"code-number\">0</span>;i&lt;t.length;i++){<span class=\"code-keyword\">var</span> n=t[i];n!==<span class=\"code-keyword\">this</span>.track&amp;&amp;(n.enabled=n===<span class=\"code-keyword\">this</span>.track)}},t.handleTracksChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.selected(<span class=\"code-keyword\">this</span>.track.enabled)},e}(jt);pt.registerComponent(<span class=\"code-string\">\"AudioTrackMenuItem\"</span>,_n);I=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).tracks=e.audioTracks(),i.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-audio-button \"</span>+i.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-audio-button \"</span>+i.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},t.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=[]),<span class=\"code-keyword\">this</span>.hideThreshold_=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player_.audioTracks(),i=<span class=\"code-number\">0</span>;i&lt;t.length;i++){<span class=\"code-keyword\">var</span> n=t[i];e.push(<span class=\"code-keyword\">new</span> _n(<span class=\"code-keyword\">this</span>.player_,{<span class=\"code-attr\">track</span>:n,<span class=\"code-attr\">selectable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">multiSelectable</span>:!<span class=\"code-number\">1</span>}))}<span class=\"code-keyword\">return</span> e},e}(Ft);I.prototype.controlText_=<span class=\"code-string\">\"Audio Track\"</span>,pt.registerComponent(<span class=\"code-string\">\"AudioTrackButton\"</span>,I);<span class=\"code-keyword\">var</span> bn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=t.rate,r=<span class=\"code-built_in\">parseFloat</span>(n,<span class=\"code-number\">10</span>);<span class=\"code-keyword\">return</span> t.label=n,t.selected=r===e.playbackRate(),t.selectable=!<span class=\"code-number\">0</span>,t.multiSelectable=!<span class=\"code-number\">1</span>,(i=a.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).label=n,i.rate=r,i.on(e,<span class=\"code-string\">\"ratechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.update(e)}),i}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.prototype.handleClick.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.player().playbackRate(<span class=\"code-keyword\">this</span>.rate)},t.update=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.selected(<span class=\"code-keyword\">this</span>.player().playbackRate()===<span class=\"code-keyword\">this</span>.rate)},e}(jt);bn.prototype.contentElType=<span class=\"code-string\">\"button\"</span>,pt.registerComponent(<span class=\"code-string\">\"PlaybackRateMenuItem\"</span>,bn);C=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.menuButton_.el_.setAttribute(<span class=\"code-string\">\"aria-describedby\"</span>,i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(e,<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateVisibility(e)}),i.on(e,<span class=\"code-string\">\"ratechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.updateLabel(e)}),i.on(e,<span class=\"code-string\">\"playbackrateschange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handlePlaybackRateschange(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.prototype.createEl.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.labelElId_=<span class=\"code-string\">\"vjs-playback-rate-value-label-\"</span>+<span class=\"code-keyword\">this</span>.id_,<span class=\"code-keyword\">this</span>.labelEl_=$(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-playback-rate-value\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-keyword\">this</span>.labelElId_,<span class=\"code-attr\">textContent</span>:<span class=\"code-string\">\"1x\"</span>}),e.appendChild(<span class=\"code-keyword\">this</span>.labelEl_),e},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.labelEl_=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-playback-rate \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.buildWrapperCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-playback-rate \"</span>+n.prototype.buildWrapperCSSClass.call(<span class=\"code-keyword\">this</span>)},t.createItems=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.playbackRates(),t=[],i=e.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=i;i--)t.push(<span class=\"code-keyword\">new</span> bn(<span class=\"code-keyword\">this</span>.player(),{<span class=\"code-attr\">rate</span>:e[i]+<span class=\"code-string\">\"x\"</span>}));<span class=\"code-keyword\">return</span> t},t.updateARIAAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.el().setAttribute(<span class=\"code-string\">\"aria-valuenow\"</span>,<span class=\"code-keyword\">this</span>.player().playbackRate())},t.handleClick=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.player().playbackRate(),i=<span class=\"code-keyword\">this</span>.playbackRates(),t=(i.indexOf(t)+<span class=\"code-number\">1</span>)%i.length;<span class=\"code-keyword\">this</span>.player().playbackRate(i[t])},t.handlePlaybackRateschange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.update()},t.playbackRates=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player();<span class=\"code-keyword\">return</span> e.playbackRates&amp;&amp;e.playbackRates()||[]},t.playbackRateSupported=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.player().tech_&amp;&amp;<span class=\"code-keyword\">this</span>.player().tech_.featuresPlaybackRate&amp;&amp;<span class=\"code-keyword\">this</span>.playbackRates()&amp;&amp;<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.playbackRates().length},t.updateVisibility=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.playbackRateSupported()?<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-hidden\"</span>):<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-hidden\"</span>)},t.updateLabel=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.playbackRateSupported()&amp;&amp;(<span class=\"code-keyword\">this</span>.labelEl_.textContent=<span class=\"code-keyword\">this</span>.player().playbackRate()+<span class=\"code-string\">\"x\"</span>)},e}(Bt);C.prototype.controlText_=<span class=\"code-string\">\"Playback Rate\"</span>,pt.registerComponent(<span class=\"code-string\">\"PlaybackRateMenuButton\"</span>,C);k=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-spacer \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"div\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={}),(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).className||(t.className=<span class=\"code-keyword\">this</span>.buildCSSClass()),n.prototype.createEl.call(<span class=\"code-keyword\">this</span>,e,t,i)},e}(pt);pt.registerComponent(<span class=\"code-string\">\"Spacer\"</span>,k),pt.registerComponent(<span class=\"code-string\">\"CustomControlSpacer\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}mt(t,e);<span class=\"code-keyword\">var</span> i=t.prototype;<span class=\"code-keyword\">return</span> i.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-custom-control-spacer \"</span>+e.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},i.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-keyword\">this</span>.buildCSSClass(),<span class=\"code-attr\">textContent</span>:<span class=\"code-string\">\"\u00A0\"</span>})},t}(k));li=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)||<span class=\"code-keyword\">this</span>}<span class=\"code-keyword\">return</span> mt(t,e),t.prototype.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-bar\"</span>,<span class=\"code-attr\">dir</span>:<span class=\"code-string\">\"ltr\"</span>})},t}(pt);li.prototype.options_={<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"playToggle\"</span>,<span class=\"code-string\">\"volumePanel\"</span>,<span class=\"code-string\">\"currentTimeDisplay\"</span>,<span class=\"code-string\">\"timeDivider\"</span>,<span class=\"code-string\">\"durationDisplay\"</span>,<span class=\"code-string\">\"progressControl\"</span>,<span class=\"code-string\">\"liveDisplay\"</span>,<span class=\"code-string\">\"seekToLive\"</span>,<span class=\"code-string\">\"remainingTimeDisplay\"</span>,<span class=\"code-string\">\"customControlSpacer\"</span>,<span class=\"code-string\">\"playbackRateMenuButton\"</span>,<span class=\"code-string\">\"chaptersButton\"</span>,<span class=\"code-string\">\"descriptionsButton\"</span>,<span class=\"code-string\">\"subsCapsButton\"</span>,<span class=\"code-string\">\"audioTrackButton\"</span>,<span class=\"code-string\">\"fullscreenToggle\"</span>]},<span class=\"code-string\">\"exitPictureInPicture\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;li.prototype.options_.children.splice(li.prototype.options_.children.length<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,<span class=\"code-string\">\"pictureInPictureToggle\"</span>),pt.registerComponent(<span class=\"code-string\">\"ControlBar\"</span>,li);f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.on(e,<span class=\"code-string\">\"error\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.open(e)}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"vjs-error-display \"</span>+n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)},t.content=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player().error();<span class=\"code-keyword\">return</span> e?<span class=\"code-keyword\">this</span>.localize(e.message):<span class=\"code-string\">\"\"</span>},e}(At);f.prototype.options_=g({},At.prototype.options_,{<span class=\"code-attr\">pauseOnOpen</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">fillAlways</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">temporary</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">uncloseable</span>:!<span class=\"code-number\">0</span>}),pt.registerComponent(<span class=\"code-string\">\"ErrorDisplay\"</span>,f);<span class=\"code-keyword\">var</span> Tn=<span class=\"code-string\">\"vjs-text-track-settings\"</span>,ui=[<span class=\"code-string\">\"#000\"</span>,<span class=\"code-string\">\"Black\"</span>],j=[<span class=\"code-string\">\"#00F\"</span>,<span class=\"code-string\">\"Blue\"</span>],Xt=[<span class=\"code-string\">\"#0FF\"</span>,<span class=\"code-string\">\"Cyan\"</span>],Ft=[<span class=\"code-string\">\"#0F0\"</span>,<span class=\"code-string\">\"Green\"</span>],I=[<span class=\"code-string\">\"#F0F\"</span>,<span class=\"code-string\">\"Magenta\"</span>],jt=[<span class=\"code-string\">\"#F00\"</span>,<span class=\"code-string\">\"Red\"</span>],Bt=[<span class=\"code-string\">\"#FFF\"</span>,<span class=\"code-string\">\"White\"</span>],C=[<span class=\"code-string\">\"#FF0\"</span>,<span class=\"code-string\">\"Yellow\"</span>],k=[<span class=\"code-string\">\"1\"</span>,<span class=\"code-string\">\"Opaque\"</span>],li=[<span class=\"code-string\">\"0.5\"</span>,<span class=\"code-string\">\"Semi-Transparent\"</span>],f=[<span class=\"code-string\">\"0\"</span>,<span class=\"code-string\">\"Transparent\"</span>],Sn={<span class=\"code-attr\">backgroundColor</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-bg-color &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-background-color-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Color\"</span>,<span class=\"code-attr\">options</span>:[ui,Bt,jt,Ft,j,C,I,Xt]},<span class=\"code-attr\">backgroundOpacity</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-bg-opacity &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-background-opacity-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Transparency\"</span>,<span class=\"code-attr\">options</span>:[k,li,f]},<span class=\"code-attr\">color</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-fg-color &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-foreground-color-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Color\"</span>,<span class=\"code-attr\">options</span>:[Bt,ui,jt,Ft,j,C,I,Xt]},<span class=\"code-attr\">edgeStyle</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-edge-style &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Text Edge Style\"</span>,<span class=\"code-attr\">options</span>:[[<span class=\"code-string\">\"none\"</span>,<span class=\"code-string\">\"None\"</span>],[<span class=\"code-string\">\"raised\"</span>,<span class=\"code-string\">\"Raised\"</span>],[<span class=\"code-string\">\"depressed\"</span>,<span class=\"code-string\">\"Depressed\"</span>],[<span class=\"code-string\">\"uniform\"</span>,<span class=\"code-string\">\"Uniform\"</span>],[<span class=\"code-string\">\"dropshadow\"</span>,<span class=\"code-string\">\"Dropshadow\"</span>]]},<span class=\"code-attr\">fontFamily</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-font-family &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-font-family-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Font Family\"</span>,<span class=\"code-attr\">options</span>:[[<span class=\"code-string\">\"proportionalSansSerif\"</span>,<span class=\"code-string\">\"Proportional Sans-Serif\"</span>],[<span class=\"code-string\">\"monospaceSansSerif\"</span>,<span class=\"code-string\">\"Monospace Sans-Serif\"</span>],[<span class=\"code-string\">\"proportionalSerif\"</span>,<span class=\"code-string\">\"Proportional Serif\"</span>],[<span class=\"code-string\">\"monospaceSerif\"</span>,<span class=\"code-string\">\"Monospace Serif\"</span>],[<span class=\"code-string\">\"casual\"</span>,<span class=\"code-string\">\"Casual\"</span>],[<span class=\"code-string\">\"script\"</span>,<span class=\"code-string\">\"Script\"</span>],[<span class=\"code-string\">\"small-caps\"</span>,<span class=\"code-string\">\"Small Caps\"</span>]]},<span class=\"code-attr\">fontPercent</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-font-percent &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-font-size-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Font Size\"</span>,<span class=\"code-attr\">options</span>:[[<span class=\"code-string\">\"0.50\"</span>,<span class=\"code-string\">\"50%\"</span>],[<span class=\"code-string\">\"0.75\"</span>,<span class=\"code-string\">\"75%\"</span>],[<span class=\"code-string\">\"1.00\"</span>,<span class=\"code-string\">\"100%\"</span>],[<span class=\"code-string\">\"1.25\"</span>,<span class=\"code-string\">\"125%\"</span>],[<span class=\"code-string\">\"1.50\"</span>,<span class=\"code-string\">\"150%\"</span>],[<span class=\"code-string\">\"1.75\"</span>,<span class=\"code-string\">\"175%\"</span>],[<span class=\"code-string\">\"2.00\"</span>,<span class=\"code-string\">\"200%\"</span>],[<span class=\"code-string\">\"3.00\"</span>,<span class=\"code-string\">\"300%\"</span>],[<span class=\"code-string\">\"4.00\"</span>,<span class=\"code-string\">\"400%\"</span>]],<span class=\"code-attr\">default</span>:<span class=\"code-number\">2</span>,<span class=\"code-attr\">parser</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"1.00\"</span>===e?<span class=\"code-literal\">null</span>:<span class=\"code-built_in\">Number</span>(e)}},<span class=\"code-attr\">textOpacity</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-text-opacity &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-foreground-opacity-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Transparency\"</span>,<span class=\"code-attr\">options</span>:[k,li]},<span class=\"code-attr\">windowColor</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-window-color &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-window-color-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Color\"</span>},<span class=\"code-attr\">windowOpacity</span>:{<span class=\"code-attr\">selector</span>:<span class=\"code-string\">\".vjs-window-opacity &gt; select\"</span>,<span class=\"code-attr\">id</span>:<span class=\"code-string\">\"captions-window-opacity-%s\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Transparency\"</span>,<span class=\"code-attr\">options</span>:[f,li,k]}};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wn</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>((e=t?t(e):e)&amp;&amp;<span class=\"code-string\">\"none\"</span>!==e)<span class=\"code-keyword\">return</span> e}Sn.windowColor.options=Sn.backgroundColor.options,pt.registerComponent(<span class=\"code-string\">\"TextTrackSettings\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span> t.temporary=!<span class=\"code-number\">1</span>,(i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>).updateDisplay=i.updateDisplay.bind(ft(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!<span class=\"code-number\">0</span>,i.endDialog=$(<span class=\"code-string\">\"p\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-control-text\"</span>,<span class=\"code-attr\">textContent</span>:i.localize(<span class=\"code-string\">\"End of dialog window.\"</span>)}),i.el().appendChild(i.endDialog),i.setDefaults(),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.persistTextTrackSettings&amp;&amp;(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(<span class=\"code-string\">\".vjs-done-button\"</span>),<span class=\"code-string\">\"click\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.saveSettings(),i.close()}),i.on(i.$(<span class=\"code-string\">\".vjs-default-button\"</span>),<span class=\"code-string\">\"click\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.setDefaults(),i.updateDisplay()}),_(Sn,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.on(i.$(e.selector),<span class=\"code-string\">\"change\"</span>,i.updateDisplay)}),i.options_.persistTextTrackSettings&amp;&amp;i.restoreSettings(),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.endDialog=<span class=\"code-literal\">null</span>,n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.createElSelect_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-string\">\"label\"</span>);<span class=\"code-keyword\">var</span> e=Sn[e],r=e.id.replace(<span class=\"code-string\">\"%s\"</span>,<span class=\"code-keyword\">this</span>.id_),a=[t,r].join(<span class=\"code-string\">\" \"</span>).trim();<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"&lt;\"</span>+i+<span class=\"code-string\">' id=\"'</span>+r+<span class=\"code-string\">'\" class=\"'</span>+(<span class=\"code-string\">\"label\"</span>===i?<span class=\"code-string\">\"vjs-label\"</span>:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">'\"&gt;'</span>,<span class=\"code-keyword\">this</span>.localize(e.label),<span class=\"code-string\">\"&lt;/\"</span>+i+<span class=\"code-string\">\"&gt;\"</span>,<span class=\"code-string\">'&lt;select aria-labelledby=\"'</span>+a+<span class=\"code-string\">'\"&gt;'</span>].concat(e.options.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r+<span class=\"code-string\">\"-\"</span>+e[<span class=\"code-number\">1</span>].replace(<span class=\"code-regexp\">/\\W+/g</span>,<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">return</span>[<span class=\"code-string\">'&lt;option id=\"'</span>+t+<span class=\"code-string\">'\" value=\"'</span>+e[<span class=\"code-number\">0</span>]+<span class=\"code-string\">'\" '</span>,<span class=\"code-string\">'aria-labelledby=\"'</span>+a+<span class=\"code-string\">\" \"</span>+t+<span class=\"code-string\">'\"&gt;'</span>,n.localize(e[<span class=\"code-number\">1</span>]),<span class=\"code-string\">\"&lt;/option&gt;\"</span>].join(<span class=\"code-string\">\"\"</span>)})).concat(<span class=\"code-string\">\"&lt;/select&gt;\"</span>).join(<span class=\"code-string\">\"\"</span>)},t.createElFgColor_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"captions-text-legend-\"</span>+<span class=\"code-keyword\">this</span>.id_;<span class=\"code-keyword\">return</span>[<span class=\"code-string\">'&lt;fieldset class=\"vjs-fg-color vjs-track-setting\"&gt;'</span>,<span class=\"code-string\">'&lt;legend id=\"'</span>+e+<span class=\"code-string\">'\"&gt;'</span>,<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Text\"</span>),<span class=\"code-string\">\"&lt;/legend&gt;\"</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"color\"</span>,e),<span class=\"code-string\">'&lt;span class=\"vjs-text-opacity vjs-opacity\"&gt;'</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"textOpacity\"</span>,e),<span class=\"code-string\">\"&lt;/span&gt;\"</span>,<span class=\"code-string\">\"&lt;/fieldset&gt;\"</span>].join(<span class=\"code-string\">\"\"</span>)},t.createElBgColor_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"captions-background-\"</span>+<span class=\"code-keyword\">this</span>.id_;<span class=\"code-keyword\">return</span>[<span class=\"code-string\">'&lt;fieldset class=\"vjs-bg-color vjs-track-setting\"&gt;'</span>,<span class=\"code-string\">'&lt;legend id=\"'</span>+e+<span class=\"code-string\">'\"&gt;'</span>,<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Background\"</span>),<span class=\"code-string\">\"&lt;/legend&gt;\"</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"backgroundColor\"</span>,e),<span class=\"code-string\">'&lt;span class=\"vjs-bg-opacity vjs-opacity\"&gt;'</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"backgroundOpacity\"</span>,e),<span class=\"code-string\">\"&lt;/span&gt;\"</span>,<span class=\"code-string\">\"&lt;/fieldset&gt;\"</span>].join(<span class=\"code-string\">\"\"</span>)},t.createElWinColor_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"captions-window-\"</span>+<span class=\"code-keyword\">this</span>.id_;<span class=\"code-keyword\">return</span>[<span class=\"code-string\">'&lt;fieldset class=\"vjs-window-color vjs-track-setting\"&gt;'</span>,<span class=\"code-string\">'&lt;legend id=\"'</span>+e+<span class=\"code-string\">'\"&gt;'</span>,<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Window\"</span>),<span class=\"code-string\">\"&lt;/legend&gt;\"</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"windowColor\"</span>,e),<span class=\"code-string\">'&lt;span class=\"vjs-window-opacity vjs-opacity\"&gt;'</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"windowOpacity\"</span>,e),<span class=\"code-string\">\"&lt;/span&gt;\"</span>,<span class=\"code-string\">\"&lt;/fieldset&gt;\"</span>].join(<span class=\"code-string\">\"\"</span>)},t.createElColors_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> $(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-track-settings-colors\"</span>,<span class=\"code-attr\">innerHTML</span>:[<span class=\"code-keyword\">this</span>.createElFgColor_(),<span class=\"code-keyword\">this</span>.createElBgColor_(),<span class=\"code-keyword\">this</span>.createElWinColor_()].join(<span class=\"code-string\">\"\"</span>)})},t.createElFont_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> $(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-track-settings-font\"</span>,<span class=\"code-attr\">innerHTML</span>:[<span class=\"code-string\">'&lt;fieldset class=\"vjs-font-percent vjs-track-setting\"&gt;'</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"fontPercent\"</span>,<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"legend\"</span>),<span class=\"code-string\">\"&lt;/fieldset&gt;\"</span>,<span class=\"code-string\">'&lt;fieldset class=\"vjs-edge-style vjs-track-setting\"&gt;'</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"edgeStyle\"</span>,<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"legend\"</span>),<span class=\"code-string\">\"&lt;/fieldset&gt;\"</span>,<span class=\"code-string\">'&lt;fieldset class=\"vjs-font-family vjs-track-setting\"&gt;'</span>,<span class=\"code-keyword\">this</span>.createElSelect_(<span class=\"code-string\">\"fontFamily\"</span>,<span class=\"code-string\">\"\"</span>,<span class=\"code-string\">\"legend\"</span>),<span class=\"code-string\">\"&lt;/fieldset&gt;\"</span>].join(<span class=\"code-string\">\"\"</span>)})},t.createElControls_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"restore all settings to the default values\"</span>);<span class=\"code-keyword\">return</span> $(<span class=\"code-string\">\"div\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-track-settings-controls\"</span>,<span class=\"code-attr\">innerHTML</span>:[<span class=\"code-string\">'&lt;button type=\"button\" class=\"vjs-default-button\" title=\"'</span>+e+<span class=\"code-string\">'\"&gt;'</span>,<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Reset\"</span>),<span class=\"code-string\">'&lt;span class=\"vjs-control-text\"&gt; '</span>+e+<span class=\"code-string\">\"&lt;/span&gt;\"</span>,<span class=\"code-string\">\"&lt;/button&gt;\"</span>,<span class=\"code-string\">'&lt;button type=\"button\" class=\"vjs-done-button\"&gt;'</span>+<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Done\"</span>)+<span class=\"code-string\">\"&lt;/button&gt;\"</span>].join(<span class=\"code-string\">\"\"</span>)})},t.content=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>[<span class=\"code-keyword\">this</span>.createElColors_(),<span class=\"code-keyword\">this</span>.createElFont_(),<span class=\"code-keyword\">this</span>.createElControls_()]},t.label=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Caption Settings Dialog\"</span>)},t.description=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"Beginning of dialog window. Escape will cancel and close the window.\"</span>)},t.buildCSSClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.prototype.buildCSSClass.call(<span class=\"code-keyword\">this</span>)+<span class=\"code-string\">\" vjs-text-track-settings\"</span>},t.getValues=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i,n,e,r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,t=(n=r.$(t.selector),t=t.parser,wn(n.options[n.options.selectedIndex].value,t));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;(e[i]=t),e},<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(e={})&amp;&amp;(e=<span class=\"code-number\">0</span>),v(i=Sn).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> n(e,i[t],t)},e)},t.setValues=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;_(Sn,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;e.options.length;n++)<span class=\"code-keyword\">if</span>(wn(e.options[n].value,i)===t){e.selectedIndex=n;<span class=\"code-keyword\">break</span>}}(n.$(e.selector),i[t],e.parser)})},t.setDefaults=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;_(Sn,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.hasOwnProperty(<span class=\"code-string\">\"default\"</span>)?e.default:<span class=\"code-number\">0</span>;i.$(e.selector).selectedIndex=t})},t.restoreSettings=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">try</span>{e=<span class=\"code-built_in\">JSON</span>.parse(<span class=\"code-built_in\">window</span>.localStorage.getItem(Tn))}<span class=\"code-keyword\">catch</span>(e){h.warn(e)}e&amp;&amp;<span class=\"code-keyword\">this</span>.setValues(e)},t.saveSettings=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.options_.persistTextTrackSettings){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getValues();<span class=\"code-keyword\">try</span>{<span class=\"code-built_in\">Object</span>.keys(e).length?<span class=\"code-built_in\">window</span>.localStorage.setItem(Tn,<span class=\"code-built_in\">JSON</span>.stringify(e)):<span class=\"code-built_in\">window</span>.localStorage.removeItem(Tn)}<span class=\"code-keyword\">catch</span>(e){h.warn(e)}}},t.updateDisplay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.getChild(<span class=\"code-string\">\"textTrackDisplay\"</span>);e&amp;&amp;e.updateDisplay()},t.conditionalBlur_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.previouslyActiveEl_=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.controlBar,t=e&amp;&amp;e.subsCapsButton,e=e&amp;&amp;e.captionsButton;t?t.focus():e&amp;&amp;e.focus()},e}(At)),pt.registerComponent(<span class=\"code-string\">\"ResizeManager\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=t.ResizeObserver||<span class=\"code-built_in\">window</span>.ResizeObserver,r=lt({<span class=\"code-attr\">createEl</span>:!(n=<span class=\"code-literal\">null</span>===t.ResizeObserver?!<span class=\"code-number\">1</span>:n),<span class=\"code-attr\">reportTouchActivity</span>:!<span class=\"code-number\">1</span>},t);<span class=\"code-keyword\">return</span>(i=a.call(<span class=\"code-keyword\">this</span>,e,r)||<span class=\"code-keyword\">this</span>).ResizeObserver=t.ResizeObserver||<span class=\"code-built_in\">window</span>.ResizeObserver,i.loadListener_=<span class=\"code-literal\">null</span>,i.resizeObserver_=<span class=\"code-literal\">null</span>,i.debouncedHandler_=Ge(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.resizeHandler()},<span class=\"code-number\">100</span>,!<span class=\"code-number\">1</span>,ft(i)),n?(i.resizeObserver_=<span class=\"code-keyword\">new</span> i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t;i.el_&amp;&amp;i.el_.contentWindow&amp;&amp;(e=i.debouncedHandler_,t=i.unloadListener_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Fe(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"resize\"</span>,e),Fe(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"unload\"</span>,t),t=<span class=\"code-literal\">null</span>},Be(i.el_.contentWindow,<span class=\"code-string\">\"unload\"</span>,t),Be(i.el_.contentWindow,<span class=\"code-string\">\"resize\"</span>,e))},i.one(<span class=\"code-string\">\"load\"</span>,i.loadListener_)),i}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> a.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"iframe\"</span>,{<span class=\"code-attr\">className</span>:<span class=\"code-string\">\"vjs-resize-manager\"</span>,<span class=\"code-attr\">tabIndex</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">title</span>:<span class=\"code-keyword\">this</span>.localize(<span class=\"code-string\">\"No content\"</span>)},{<span class=\"code-string\">\"aria-hidden\"</span>:<span class=\"code-string\">\"true\"</span>})},t.resizeHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_&amp;&amp;<span class=\"code-keyword\">this</span>.player_.trigger&amp;&amp;<span class=\"code-keyword\">this</span>.player_.trigger(<span class=\"code-string\">\"playerresize\"</span>)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.debouncedHandler_&amp;&amp;<span class=\"code-keyword\">this</span>.debouncedHandler_.cancel(),<span class=\"code-keyword\">this</span>.resizeObserver_&amp;&amp;(<span class=\"code-keyword\">this</span>.player_.el()&amp;&amp;<span class=\"code-keyword\">this</span>.resizeObserver_.unobserve(<span class=\"code-keyword\">this</span>.player_.el()),<span class=\"code-keyword\">this</span>.resizeObserver_.disconnect()),<span class=\"code-keyword\">this</span>.loadListener_&amp;&amp;<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"load\"</span>,<span class=\"code-keyword\">this</span>.loadListener_),<span class=\"code-keyword\">this</span>.el_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.contentWindow&amp;&amp;<span class=\"code-keyword\">this</span>.unloadListener_&amp;&amp;<span class=\"code-keyword\">this</span>.unloadListener_.call(<span class=\"code-keyword\">this</span>.el_.contentWindow),<span class=\"code-keyword\">this</span>.ResizeObserver=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.resizeObserver=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.debouncedHandler_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.loadListener_=<span class=\"code-literal\">null</span>,a.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e}(pt));<span class=\"code-keyword\">var</span> En={<span class=\"code-attr\">trackingThreshold</span>:<span class=\"code-number\">20</span>,<span class=\"code-attr\">liveTolerance</span>:<span class=\"code-number\">15</span>};pt.registerComponent(<span class=\"code-string\">\"LiveTracker\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> t=lt(En,t,{<span class=\"code-attr\">createEl</span>:!<span class=\"code-number\">1</span>}),i=n.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> i.handleVisibilityChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleVisibilityChange(e)},i.trackLiveHandler_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.trackLive_()},i.handlePlay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handlePlay(e)},i.handleFirstTimeupdate_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleFirstTimeupdate(e)},i.handleSeeked_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleSeeked(e)},i.seekToLiveEdge_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleDurationchange(e)}),i.on(i.player_,<span class=\"code-string\">\"canplay\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.toggleTracking()}),N&amp;&amp;<span class=\"code-string\">\"hidden\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-string\">\"visibilityState\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;i.on(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"visibilitychange\"</span>,i.handleVisibilityChange_),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.handleVisibilityChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_.duration()===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;(<span class=\"code-built_in\">document</span>.hidden?<span class=\"code-keyword\">this</span>.stopTracking():<span class=\"code-keyword\">this</span>.startTracking())},t.trackLive_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>.player_.seekable();t&amp;&amp;t.length&amp;&amp;(e=<span class=\"code-built_in\">Number</span>(<span class=\"code-built_in\">window</span>.performance.now().toFixed(<span class=\"code-number\">4</span>)),t=<span class=\"code-number\">-1</span>===<span class=\"code-keyword\">this</span>.lastTime_?<span class=\"code-number\">0</span>:(e-<span class=\"code-keyword\">this</span>.lastTime_)/<span class=\"code-number\">1e3</span>,<span class=\"code-keyword\">this</span>.lastTime_=e,<span class=\"code-keyword\">this</span>.pastSeekEnd_=<span class=\"code-keyword\">this</span>.pastSeekEnd()+t,e=<span class=\"code-keyword\">this</span>.liveCurrentTime(),t=<span class=\"code-keyword\">this</span>.player_.currentTime(),t=<span class=\"code-keyword\">this</span>.player_.paused()||<span class=\"code-keyword\">this</span>.seekedBehindLive_||<span class=\"code-built_in\">Math</span>.abs(e-t)&gt;<span class=\"code-keyword\">this</span>.options_.liveTolerance,(t=!<span class=\"code-keyword\">this</span>.timeupdateSeen_||e===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?!<span class=\"code-number\">1</span>:t)!==<span class=\"code-keyword\">this</span>.behindLiveEdge_&amp;&amp;(<span class=\"code-keyword\">this</span>.behindLiveEdge_=t,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"liveedgechange\"</span>)))},t.handleDurationchange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.toggleTracking()},t.toggleTracking=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.player_.duration()===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>.liveWindow()&gt;=<span class=\"code-keyword\">this</span>.options_.trackingThreshold?(<span class=\"code-keyword\">this</span>.player_.options_.liveui&amp;&amp;<span class=\"code-keyword\">this</span>.player_.addClass(<span class=\"code-string\">\"vjs-liveui\"</span>),<span class=\"code-keyword\">this</span>.startTracking()):(<span class=\"code-keyword\">this</span>.player_.removeClass(<span class=\"code-string\">\"vjs-liveui\"</span>),<span class=\"code-keyword\">this</span>.stopTracking())},t.startTracking=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isTracking()||(<span class=\"code-keyword\">this</span>.timeupdateSeen_||(<span class=\"code-keyword\">this</span>.timeupdateSeen_=<span class=\"code-keyword\">this</span>.player_.hasStarted()),<span class=\"code-keyword\">this</span>.trackingInterval_=<span class=\"code-keyword\">this</span>.setInterval(<span class=\"code-keyword\">this</span>.trackLiveHandler_,<span class=\"code-number\">30</span>),<span class=\"code-keyword\">this</span>.trackLive_(),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"play\"</span>,<span class=\"code-string\">\"pause\"</span>],<span class=\"code-keyword\">this</span>.trackLiveHandler_),<span class=\"code-keyword\">this</span>.timeupdateSeen_?<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-keyword\">this</span>.handleSeeked_):(<span class=\"code-keyword\">this</span>.one(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"play\"</span>,<span class=\"code-keyword\">this</span>.handlePlay_),<span class=\"code-keyword\">this</span>.one(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-keyword\">this</span>.handleFirstTimeupdate_)))},t.handleFirstTimeupdate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.timeupdateSeen_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-keyword\">this</span>.handleSeeked_)},t.handleSeeked=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Math</span>.abs(<span class=\"code-keyword\">this</span>.liveCurrentTime()-<span class=\"code-keyword\">this</span>.player_.currentTime());<span class=\"code-keyword\">this</span>.seekedBehindLive_=<span class=\"code-keyword\">this</span>.nextSeekedFromUser_&amp;&amp;<span class=\"code-number\">2</span>&lt;e,<span class=\"code-keyword\">this</span>.nextSeekedFromUser_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.trackLive_()},t.handlePlay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.one(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-keyword\">this</span>.seekToLiveEdge_)},t.reset_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.lastTime_=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.pastSeekEnd_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.lastSeekEnd_=<span class=\"code-number\">-1</span>,<span class=\"code-keyword\">this</span>.behindLiveEdge_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.timeupdateSeen_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.seekedBehindLive_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.nextSeekedFromUser_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.clearInterval(<span class=\"code-keyword\">this</span>.trackingInterval_),<span class=\"code-keyword\">this</span>.trackingInterval_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,[<span class=\"code-string\">\"play\"</span>,<span class=\"code-string\">\"pause\"</span>],<span class=\"code-keyword\">this</span>.trackLiveHandler_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-keyword\">this</span>.handleSeeked_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"play\"</span>,<span class=\"code-keyword\">this</span>.handlePlay_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-keyword\">this</span>.handleFirstTimeupdate_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.player_,<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-keyword\">this</span>.seekToLiveEdge_)},t.nextSeekedFromUser=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.nextSeekedFromUser_=!<span class=\"code-number\">0</span>},t.stopTracking=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isTracking()&amp;&amp;(<span class=\"code-keyword\">this</span>.reset_(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"liveedgechange\"</span>))},t.seekableEnd=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.seekable(),t=[],i=e?e.length:<span class=\"code-number\">0</span>;i--;)t.push(e.end(i));<span class=\"code-keyword\">return</span> t.length?t.sort()[t.length<span class=\"code-number\">-1</span>]:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>},t.seekableStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.player_.seekable(),t=[],i=e?e.length:<span class=\"code-number\">0</span>;i--;)t.push(e.start(i));<span class=\"code-keyword\">return</span> t.length?t.sort()[<span class=\"code-number\">0</span>]:<span class=\"code-number\">0</span>},t.liveWindow=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.liveCurrentTime();<span class=\"code-keyword\">return</span> e===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?<span class=\"code-number\">0</span>:e-<span class=\"code-keyword\">this</span>.seekableStart()},t.isLive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isTracking()},t.atLiveEdge=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-keyword\">this</span>.behindLiveEdge()},t.liveCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pastSeekEnd()+<span class=\"code-keyword\">this</span>.seekableEnd()},t.pastSeekEnd=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.seekableEnd();<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==<span class=\"code-keyword\">this</span>.lastSeekEnd_&amp;&amp;e!==<span class=\"code-keyword\">this</span>.lastSeekEnd_&amp;&amp;(<span class=\"code-keyword\">this</span>.pastSeekEnd_=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.lastSeekEnd_=e,<span class=\"code-keyword\">this</span>.pastSeekEnd_},t.behindLiveEdge=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.behindLiveEdge_},t.isTracking=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.trackingInterval_},t.seekToLiveEdge=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.seekedBehindLive_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.atLiveEdge()||(<span class=\"code-keyword\">this</span>.nextSeekedFromUser_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.player_.currentTime(<span class=\"code-keyword\">this</span>.liveCurrentTime()))},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.off(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"visibilitychange\"</span>,<span class=\"code-keyword\">this</span>.handleVisibilityChange_),<span class=\"code-keyword\">this</span>.stopTracking(),n.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e}(pt));<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kn</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>((n=e.el()).hasAttribute(<span class=\"code-string\">\"src\"</span>))<span class=\"code-keyword\">return</span> e.triggerSourceset(n.src),<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t=e.$$(<span class=\"code-string\">\"source\"</span>),i=[],n=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(t.length){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;t.length;r++){<span class=\"code-keyword\">var</span> a=t[r].src;a&amp;&amp;<span class=\"code-number\">-1</span>===i.indexOf(a)&amp;&amp;i.push(a)}<span class=\"code-keyword\">return</span>!!i.length&amp;&amp;(<span class=\"code-number\">1</span>===i.length&amp;&amp;(n=i[<span class=\"code-number\">0</span>]),e.triggerSourceset(n),!<span class=\"code-number\">0</span>)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Cn</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i={},n=<span class=\"code-number\">0</span>;n&lt;e.length&amp;&amp;!((i=<span class=\"code-built_in\">Object</span>.getOwnPropertyDescriptor(e[n],t))&amp;&amp;i.set&amp;&amp;i.get);n++);<span class=\"code-keyword\">return</span> i.enumerable=!<span class=\"code-number\">0</span>,i.configurable=!<span class=\"code-number\">0</span>,i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">In</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-keyword\">var</span> t,e,i,s=a.el();s.resetSourceWatch_||(t={},e=Cn([a.el(),<span class=\"code-built_in\">window</span>.HTMLMediaElement.prototype,<span class=\"code-built_in\">window</span>.Element.prototype,Ln],<span class=\"code-string\">\"innerHTML\"</span>),i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">var</span> n=r.apply(s,t);<span class=\"code-keyword\">return</span> kn(a),n}},[<span class=\"code-string\">\"append\"</span>,<span class=\"code-string\">\"appendChild\"</span>,<span class=\"code-string\">\"insertAdjacentHTML\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s[e]&amp;&amp;(t[e]=s[e],s[e]=i(t[e]))}),<span class=\"code-built_in\">Object</span>.defineProperty(s,<span class=\"code-string\">\"innerHTML\"</span>,lt(e,{<span class=\"code-attr\">set</span>:i(e.set)})),s.resetSourceWatch_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.resetSourceWatch_=<span class=\"code-literal\">null</span>,<span class=\"code-built_in\">Object</span>.keys(t).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s[e]=t[e]}),<span class=\"code-built_in\">Object</span>.defineProperty(s,<span class=\"code-string\">\"innerHTML\"</span>,e)},a.one(<span class=\"code-string\">\"sourceset\"</span>,s.resetSourceWatch_))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xn</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n,t,r,a;i.featuresSourceset&amp;&amp;((n=i.el()).resetSourceset_||(t=Cn([i.el(),<span class=\"code-built_in\">window</span>.HTMLMediaElement.prototype,Dn],<span class=\"code-string\">\"src\"</span>),r=n.setAttribute,a=n.load,<span class=\"code-built_in\">Object</span>.defineProperty(n,<span class=\"code-string\">\"src\"</span>,lt(t,{<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=t.set.call(n,e);<span class=\"code-keyword\">return</span> i.triggerSourceset(n.src),e}})),n.setAttribute=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=r.call(n,e,t);<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/src/i</span>.test(e)&amp;&amp;i.triggerSourceset(n.src),t},n.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=a.call(n);<span class=\"code-keyword\">return</span> kn(i)||(i.triggerSourceset(<span class=\"code-string\">\"\"</span>),In(i)),e},n.currentSrc?i.triggerSourceset(n.currentSrc):kn(i)||In(i),n.resetSourceset_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.resetSourceset_=<span class=\"code-literal\">null</span>,n.load=a,n.setAttribute=r,<span class=\"code-built_in\">Object</span>.defineProperty(n,<span class=\"code-string\">\"src\"</span>,t),n.resetSourceWatch_&amp;&amp;n.resetSourceWatch_()}))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">An</span>(<span class=\"code-params\">t,i,n,e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.defineProperty(t,i,{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">writable</span>:!<span class=\"code-number\">0</span>})}<span class=\"code-keyword\">var</span> a={<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n();<span class=\"code-keyword\">return</span> r(e),e}};<span class=\"code-keyword\">return</span>(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?!<span class=\"code-number\">0</span>:e)&amp;&amp;(a.set=r),<span class=\"code-built_in\">Object</span>.defineProperty(t,i,a)}<span class=\"code-keyword\">var</span> Pn,Ln=<span class=\"code-built_in\">Object</span>.defineProperty({},<span class=\"code-string\">\"innerHTML\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cloneNode(!<span class=\"code-number\">0</span>).innerHTML},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-keyword\">this</span>.nodeName.toLowerCase());t.innerHTML=e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">document</span>.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.innerText=<span class=\"code-string\">\"\"</span>,<span class=\"code-built_in\">window</span>.Element.prototype.appendChild.call(<span class=\"code-keyword\">this</span>,i),<span class=\"code-keyword\">this</span>.innerHTML}}),Dn=<span class=\"code-built_in\">Object</span>.defineProperty({},<span class=\"code-string\">\"src\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasAttribute(<span class=\"code-string\">\"src\"</span>)?Rt(<span class=\"code-built_in\">window</span>.Element.prototype.getAttribute.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"src\"</span>)):<span class=\"code-string\">\"\"</span>},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.Element.prototype.setAttribute.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"src\"</span>,e),e}}),On=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">l</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=l.call(<span class=\"code-keyword\">this</span>,e,t)||<span class=\"code-keyword\">this</span>,t=e.source,n=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(t&amp;&amp;(i.el_.currentSrc!==t.src||e.tag&amp;&amp;<span class=\"code-number\">3</span>===e.tag.initNetworkState_)?i.setSource(t):i.handleLateInit_(i.el_),e.enableSourceset&amp;&amp;i.setupSourcesetHandling_(),i.isScrubbing_=!<span class=\"code-number\">1</span>,i.el_.hasChildNodes()){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=i.el_.childNodes,a=r.length,s=[];a--;){<span class=\"code-keyword\">var</span> o=r[a];<span class=\"code-string\">\"track\"</span>===o.nodeName.toLowerCase()&amp;&amp;(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(o),i.remoteTextTracks().addTrack(o.track),i.textTracks().addTrack(o.track),n||i.el_.hasAttribute(<span class=\"code-string\">\"crossorigin\"</span>)||!Ut(o.src)||(n=!<span class=\"code-number\">0</span>)):s.push(o))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;s.length;u++)i.el_.removeChild(s[u])}<span class=\"code-keyword\">return</span> i.proxyNativeTracks_(),i.featuresNativeTextTracks&amp;&amp;n&amp;&amp;h.warn(<span class=\"code-string\">\"Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\\nThis may prevent text tracks from loading.\"</span>),i.restoreMetadataTracksInIOSNativePlayer_(),(F||H||L)&amp;&amp;!<span class=\"code-number\">0</span>===e.nativeControlsForTouch&amp;&amp;i.setControls(!<span class=\"code-number\">0</span>),i.proxyWebkitFullscreen_(),i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&amp;&amp;<span class=\"code-string\">\"VIDEO\"</span>===i.el_.tagName,i.triggerReady(),i}mt(s,l);<span class=\"code-keyword\">var</span> e=s.prototype;<span class=\"code-keyword\">return</span> e.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.el_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.resetSourceset_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.resetSourceset_(),s.disposeMediaElement(<span class=\"code-keyword\">this</span>.el_),<span class=\"code-keyword\">this</span>.options_=<span class=\"code-literal\">null</span>,l.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},e.setupSourcesetHandling_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{xn(<span class=\"code-keyword\">this</span>)},e.restoreMetadataTracksInIOSNativePlayer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{i=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;n.length;e++){<span class=\"code-keyword\">var</span> t=n[e];<span class=\"code-string\">\"metadata\"</span>===t.kind&amp;&amp;i.push({<span class=\"code-attr\">track</span>:t,<span class=\"code-attr\">storedMode</span>:t.mode})}}<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>.textTracks();e(),n.addEventListener(<span class=\"code-string\">\"change\"</span>,e),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.removeEventListener(<span class=\"code-string\">\"change\"</span>,e)});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;i.length;e++){<span class=\"code-keyword\">var</span> t=i[e];<span class=\"code-string\">\"disabled\"</span>===t.track.mode&amp;&amp;t.track.mode!==t.storedMode&amp;&amp;(t.track.mode=t.storedMode)}n.removeEventListener(<span class=\"code-string\">\"change\"</span>,r)}<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"webkitbeginfullscreen\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.removeEventListener(<span class=\"code-string\">\"change\"</span>,e),n.removeEventListener(<span class=\"code-string\">\"change\"</span>,r),n.addEventListener(<span class=\"code-string\">\"change\"</span>,r)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"webkitendfullscreen\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.removeEventListener(<span class=\"code-string\">\"change\"</span>,e),n.addEventListener(<span class=\"code-string\">\"change\"</span>,e),n.removeEventListener(<span class=\"code-string\">\"change\"</span>,r)})},e.overrideNative_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>;t===<span class=\"code-keyword\">this</span>[<span class=\"code-string\">\"featuresNative\"</span>+e+<span class=\"code-string\">\"Tracks\"</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>[(i=e.toLowerCase())+<span class=\"code-string\">\"TracksListeners_\"</span>]&amp;&amp;<span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>[i+<span class=\"code-string\">\"TracksListeners_\"</span>]).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.el()[i+<span class=\"code-string\">\"Tracks\"</span>].removeEventListener(e,n[i+<span class=\"code-string\">\"TracksListeners_\"</span>][e])}),<span class=\"code-keyword\">this</span>[<span class=\"code-string\">\"featuresNative\"</span>+e+<span class=\"code-string\">\"Tracks\"</span>]=!t,<span class=\"code-keyword\">this</span>[i+<span class=\"code-string\">\"TracksListeners_\"</span>]=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.proxyNativeTracksForType_(i))},e.overrideNativeAudioTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.overrideNative_(<span class=\"code-string\">\"Audio\"</span>,e)},e.overrideNativeVideoTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.overrideNative_(<span class=\"code-string\">\"Video\"</span>,e)},e.proxyNativeTracksForType_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> e,t,n=<span class=\"code-keyword\">this</span>,r=ai[i],a=<span class=\"code-keyword\">this</span>.el()[r.getterName],s=<span class=\"code-keyword\">this</span>[r.getterName]();<span class=\"code-keyword\">this</span>[<span class=\"code-string\">\"featuresNative\"</span>+r.capitalName+<span class=\"code-string\">\"Tracks\"</span>]&amp;&amp;a&amp;&amp;a.addEventListener&amp;&amp;(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],t=<span class=\"code-number\">0</span>;t&lt;s.length;t++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=!<span class=\"code-number\">1</span>,n=<span class=\"code-number\">0</span>;n&lt;a.length;n++)<span class=\"code-keyword\">if</span>(a[n]===s[t]){i=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}i||e.push(s[t])}<span class=\"code-keyword\">for</span>(;e.length;)s.removeTrack(e.shift())},<span class=\"code-keyword\">this</span>[r.getterName+<span class=\"code-string\">\"Listeners_\"</span>]=e={<span class=\"code-attr\">change</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"change\"</span>,<span class=\"code-attr\">target</span>:s,<span class=\"code-attr\">currentTarget</span>:s,<span class=\"code-attr\">srcElement</span>:s};s.trigger(t),<span class=\"code-string\">\"text\"</span>===i&amp;&amp;n[si.remoteText.getterName]().trigger(t)},<span class=\"code-attr\">addtrack</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s.addTrack(e.track)},<span class=\"code-attr\">removetrack</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s.removeTrack(e.track)}},<span class=\"code-built_in\">Object</span>.keys(e).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=e[t];a.addEventListener(t,i),n.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> a.removeEventListener(t,i)})}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"loadstart\"</span>,t),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.off(<span class=\"code-string\">\"loadstart\"</span>,t)}))},e.proxyNativeTracks_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;ai.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.proxyNativeTracksForType_(e)})},e.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>.options_.tag;t&amp;&amp;(<span class=\"code-keyword\">this</span>.options_.playerElIngest||<span class=\"code-keyword\">this</span>.movingMediaElementInDOM)||(t?(e=t.cloneNode(!<span class=\"code-number\">0</span>),t.parentNode&amp;&amp;t.parentNode.insertBefore(e,t),s.disposeMediaElement(t),t=e):(t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>),e=lt({},<span class=\"code-keyword\">this</span>.options_.tag&amp;&amp;ae(<span class=\"code-keyword\">this</span>.options_.tag)),F&amp;&amp;!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.options_.nativeControlsForTouch||<span class=\"code-keyword\">delete</span> e.controls,re(t,b(e,{<span class=\"code-attr\">id</span>:<span class=\"code-keyword\">this</span>.options_.techId,<span class=\"code-attr\">class</span>:<span class=\"code-string\">\"vjs-tech\"</span>}))),t.playerId=<span class=\"code-keyword\">this</span>.options_.playerId),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options_.preload&amp;&amp;oe(t,<span class=\"code-string\">\"preload\"</span>,<span class=\"code-keyword\">this</span>.options_.preload),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.disablePictureInPicture&amp;&amp;(t.disablePictureInPicture=<span class=\"code-keyword\">this</span>.options_.disablePictureInPicture);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=[<span class=\"code-string\">\"loop\"</span>,<span class=\"code-string\">\"muted\"</span>,<span class=\"code-string\">\"playsinline\"</span>,<span class=\"code-string\">\"autoplay\"</span>],n=<span class=\"code-number\">0</span>;n&lt;i.length;n++){<span class=\"code-keyword\">var</span> r=i[n],a=<span class=\"code-keyword\">this</span>.options_[r];<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> a&amp;&amp;(a?oe(t,r,r):ue(t,r),t[r]=a)}<span class=\"code-keyword\">return</span> t},e.handleLateInit_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==e.networkState&amp;&amp;<span class=\"code-number\">3</span>!==e.networkState){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e.readyState){<span class=\"code-keyword\">var</span> t=!<span class=\"code-number\">1</span>,i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t=!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"loadstart\"</span>,i);<span class=\"code-keyword\">var</span> n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t||<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadstart\"</span>)};<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"loadedmetadata\"</span>,n),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"loadstart\"</span>,i),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"loadedmetadata\"</span>,n),t||<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadstart\"</span>)})}<span class=\"code-keyword\">var</span> r=[<span class=\"code-string\">\"loadstart\"</span>];r.push(<span class=\"code-string\">\"loadedmetadata\"</span>),<span class=\"code-number\">2</span>&lt;=e.readyState&amp;&amp;r.push(<span class=\"code-string\">\"loadeddata\"</span>),<span class=\"code-number\">3</span>&lt;=e.readyState&amp;&amp;r.push(<span class=\"code-string\">\"canplay\"</span>),<span class=\"code-number\">4</span>&lt;=e.readyState&amp;&amp;r.push(<span class=\"code-string\">\"canplaythrough\"</span>),<span class=\"code-keyword\">this</span>.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(e)},<span class=\"code-keyword\">this</span>)})}},e.setScrubbing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.isScrubbing_=e},e.scrubbing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isScrubbing_},e.setCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">this</span>.isScrubbing_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.fastSeek&amp;&amp;V?<span class=\"code-keyword\">this</span>.el_.fastSeek(e):<span class=\"code-keyword\">this</span>.el_.currentTime=e}<span class=\"code-keyword\">catch</span>(e){h(e,<span class=\"code-string\">\"Video is not ready. (Video.js)\"</span>)}},e.duration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_.duration===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;A&amp;&amp;M&amp;&amp;<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.el_.currentTime?(<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">0</span>&lt;t.el_.currentTime&amp;&amp;(t.el_.duration===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;t.trigger(<span class=\"code-string\">\"durationchange\"</span>),t.off(<span class=\"code-string\">\"timeupdate\"</span>,e))}),<span class=\"code-literal\">NaN</span>):<span class=\"code-keyword\">this</span>.el_.duration||<span class=\"code-literal\">NaN</span>},e.width=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_.offsetWidth},e.height=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_.offsetHeight},e.proxyWebkitFullscreen_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,i=<span class=\"code-keyword\">this</span>;<span class=\"code-string\">\"webkitDisplayingFullscreen\"</span><span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.el_&amp;&amp;(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenchange\"</span>,{<span class=\"code-attr\">isFullscreen</span>:!<span class=\"code-number\">1</span>}),<span class=\"code-keyword\">this</span>.el_.controls&amp;&amp;!<span class=\"code-keyword\">this</span>.options_.nativeControlsForTouch&amp;&amp;<span class=\"code-keyword\">this</span>.controls()&amp;&amp;(<span class=\"code-keyword\">this</span>.el_.controls=!<span class=\"code-number\">1</span>)},t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"webkitPresentationMode\"</span><span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.el_&amp;&amp;<span class=\"code-string\">\"picture-in-picture\"</span>!==<span class=\"code-keyword\">this</span>.el_.webkitPresentationMode&amp;&amp;(<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"webkitendfullscreen\"</span>,e),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenchange\"</span>,{<span class=\"code-attr\">isFullscreen</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">nativeIOSFullscreen</span>:!<span class=\"code-number\">0</span>}))},<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"webkitbeginfullscreen\"</span>,t),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.off(<span class=\"code-string\">\"webkitbeginfullscreen\"</span>,t),i.off(<span class=\"code-string\">\"webkitendfullscreen\"</span>,e)}))},e.supportsFullScreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.el_.webkitEnterFullScreen){<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">window</span>.navigator&amp;&amp;<span class=\"code-built_in\">window</span>.navigator.userAgent||<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/Android/</span>.test(e)||!<span class=\"code-regexp\">/Chrome|Mac OS X 10.5/</span>.test(e))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>},e.enterFullScreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.el_;<span class=\"code-keyword\">if</span>(e.paused&amp;&amp;e.networkState&lt;=e.HAVE_METADATA)Et(<span class=\"code-keyword\">this</span>.el_.play()),<span class=\"code-keyword\">this</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.pause();<span class=\"code-keyword\">try</span>{e.webkitEnterFullScreen()}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenerror\"</span>,e)}},<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">try</span>{e.webkitEnterFullScreen()}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenerror\"</span>,e)}},e.exitFullScreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.el_.webkitDisplayingFullscreen?<span class=\"code-keyword\">this</span>.el_.webkitExitFullScreen():<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenerror\"</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"The video is not fullscreen\"</span>))},e.requestPictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_.requestPictureInPicture()},e.requestVideoFrameCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.featuresVideoFrameCallback?<span class=\"code-keyword\">this</span>.el_.requestVideoFrameCallback(e):l.prototype.requestVideoFrameCallback.call(<span class=\"code-keyword\">this</span>,e)},e.cancelVideoFrameCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.featuresVideoFrameCallback?<span class=\"code-keyword\">this</span>.el_.cancelVideoFrameCallback(e):l.prototype.cancelVideoFrameCallback.call(<span class=\"code-keyword\">this</span>,e)},e.src=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_.src;<span class=\"code-keyword\">this</span>.setSrc(e)},e.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.resetMediaElement(<span class=\"code-keyword\">this</span>.el_)},e.currentSrc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentSource_?<span class=\"code-keyword\">this</span>.currentSource_.src:<span class=\"code-keyword\">this</span>.el_.currentSrc},e.setControls=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.el_.controls=!!e},e.addTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.featuresNativeTextTracks?<span class=\"code-keyword\">this</span>.el_.addTextTrack(e,t,i):l.prototype.addTextTrack.call(<span class=\"code-keyword\">this</span>,e,t,i)},e.createRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.featuresNativeTextTracks)<span class=\"code-keyword\">return</span> l.prototype.createRemoteTextTrack.call(<span class=\"code-keyword\">this</span>,e);<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"track\"</span>);<span class=\"code-keyword\">return</span> e.kind&amp;&amp;(t.kind=e.kind),e.label&amp;&amp;(t.label=e.label),(e.language||e.srclang)&amp;&amp;(t.srclang=e.language||e.srclang),e.default&amp;&amp;(t.default=e.default),e.id&amp;&amp;(t.id=e.id),e.src&amp;&amp;(t.src=e.src),t},e.addRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=l.prototype.addRemoteTextTrack.call(<span class=\"code-keyword\">this</span>,e,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.featuresNativeTextTracks&amp;&amp;<span class=\"code-keyword\">this</span>.el().appendChild(t),t},e.removeRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(l.prototype.removeRemoteTextTrack.call(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">this</span>.featuresNativeTextTracks)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.$$(<span class=\"code-string\">\"track\"</span>),i=t.length;i--;)e!==t[i]&amp;&amp;e!==t[i].track||<span class=\"code-keyword\">this</span>.el().removeChild(t[i])},e.getVideoPlaybackQuality=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.el().getVideoPlaybackQuality)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el().getVideoPlaybackQuality();<span class=\"code-keyword\">var</span> e={};<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.el().webkitDroppedFrameCount&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.el().webkitDecodedFrameCount&amp;&amp;(e.droppedVideoFrames=<span class=\"code-keyword\">this</span>.el().webkitDroppedFrameCount,e.totalVideoFrames=<span class=\"code-keyword\">this</span>.el().webkitDecodedFrameCount),<span class=\"code-built_in\">window</span>.performance&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.performance.now?e.creationTime=<span class=\"code-built_in\">window</span>.performance.now():<span class=\"code-built_in\">window</span>.performance&amp;&amp;<span class=\"code-built_in\">window</span>.performance.timing&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.performance.timing.navigationStart&amp;&amp;(e.creationTime=<span class=\"code-built_in\">window</span>.Date.now()-<span class=\"code-built_in\">window</span>.performance.timing.navigationStart),e},s}(ji);An(On,<span class=\"code-string\">\"TEST_VID\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(X()){<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>),t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"track\"</span>);<span class=\"code-keyword\">return</span> t.kind=<span class=\"code-string\">\"captions\"</span>,t.srclang=<span class=\"code-string\">\"en\"</span>,t.label=<span class=\"code-string\">\"English\"</span>,e.appendChild(t),e}}),On.isSupported=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{On.TEST_VID.volume=<span class=\"code-number\">.5</span>}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!(!On.TEST_VID||!On.TEST_VID.canPlayType)},On.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> On.TEST_VID.canPlayType(e)},On.canPlaySource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> On.canPlayType(e.type)},On.canControlVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> e=On.TEST_VID.volume;On.TEST_VID.volume=e/<span class=\"code-number\">2</span>+<span class=\"code-number\">.1</span>;<span class=\"code-keyword\">var</span> t=e!==On.TEST_VID.volume;<span class=\"code-keyword\">return</span> t&amp;&amp;q?(<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{On&amp;&amp;On.prototype&amp;&amp;(On.prototype.featuresVolumeControl=e!==On.TEST_VID.volume)}),!<span class=\"code-number\">1</span>):t}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}},On.canMuteVolume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> e=On.TEST_VID.muted;<span class=\"code-keyword\">return</span> On.TEST_VID.muted=!e,On.TEST_VID.muted?oe(On.TEST_VID,<span class=\"code-string\">\"muted\"</span>,<span class=\"code-string\">\"muted\"</span>):ue(On.TEST_VID,<span class=\"code-string\">\"muted\"</span>),e!==On.TEST_VID.muted}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}},On.canControlPlaybackRate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(A&amp;&amp;M&amp;&amp;R&lt;<span class=\"code-number\">58</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> e=On.TEST_VID.playbackRate;<span class=\"code-keyword\">return</span> On.TEST_VID.playbackRate=e/<span class=\"code-number\">2</span>+<span class=\"code-number\">.1</span>,e!==On.TEST_VID.playbackRate}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}},On.canOverrideAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{};<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>),<span class=\"code-string\">\"src\"</span>,{<span class=\"code-attr\">get</span>:e,<span class=\"code-attr\">set</span>:e}),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"audio\"</span>),<span class=\"code-string\">\"src\"</span>,{<span class=\"code-attr\">get</span>:e,<span class=\"code-attr\">set</span>:e}),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>),<span class=\"code-string\">\"innerHTML\"</span>,{<span class=\"code-attr\">get</span>:e,<span class=\"code-attr\">set</span>:e}),<span class=\"code-built_in\">Object</span>.defineProperty(<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"audio\"</span>),<span class=\"code-string\">\"innerHTML\"</span>,{<span class=\"code-attr\">get</span>:e,<span class=\"code-attr\">set</span>:e})}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},On.supportsNativeTextTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> V||q&amp;&amp;M},On.supportsNativeVideoTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!(!On.TEST_VID||!On.TEST_VID.videoTracks)},On.supportsNativeAudioTracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!(!On.TEST_VID||!On.TEST_VID.audioTracks)},On.Events=[<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-string\">\"suspend\"</span>,<span class=\"code-string\">\"abort\"</span>,<span class=\"code-string\">\"error\"</span>,<span class=\"code-string\">\"emptied\"</span>,<span class=\"code-string\">\"stalled\"</span>,<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-string\">\"loadeddata\"</span>,<span class=\"code-string\">\"canplay\"</span>,<span class=\"code-string\">\"canplaythrough\"</span>,<span class=\"code-string\">\"playing\"</span>,<span class=\"code-string\">\"waiting\"</span>,<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-string\">\"progress\"</span>,<span class=\"code-string\">\"play\"</span>,<span class=\"code-string\">\"pause\"</span>,<span class=\"code-string\">\"ratechange\"</span>,<span class=\"code-string\">\"resize\"</span>,<span class=\"code-string\">\"volumechange\"</span>],[[<span class=\"code-string\">\"featuresMuteControl\"</span>,<span class=\"code-string\">\"canMuteVolume\"</span>],[<span class=\"code-string\">\"featuresPlaybackRate\"</span>,<span class=\"code-string\">\"canControlPlaybackRate\"</span>],[<span class=\"code-string\">\"featuresSourceset\"</span>,<span class=\"code-string\">\"canOverrideAttributes\"</span>],[<span class=\"code-string\">\"featuresNativeTextTracks\"</span>,<span class=\"code-string\">\"supportsNativeTextTracks\"</span>],[<span class=\"code-string\">\"featuresNativeVideoTracks\"</span>,<span class=\"code-string\">\"supportsNativeVideoTracks\"</span>],[<span class=\"code-string\">\"featuresNativeAudioTracks\"</span>,<span class=\"code-string\">\"supportsNativeAudioTracks\"</span>]].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e[<span class=\"code-number\">0</span>],i=e[<span class=\"code-number\">1</span>];An(On.prototype,t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> On[i]()},!<span class=\"code-number\">0</span>)}),On.prototype.featuresVolumeControl=On.canControlVolume(),On.prototype.movingMediaElementInDOM=!q,On.prototype.featuresFullscreenResize=!<span class=\"code-number\">0</span>,On.prototype.featuresProgressEvents=!<span class=\"code-number\">0</span>,On.prototype.featuresTimeupdateEvents=!<span class=\"code-number\">0</span>,On.prototype.featuresVideoFrameCallback=!(!On.TEST_VID||!On.TEST_VID.requestVideoFrameCallback),On.patchCanPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">4</span>&lt;=P&amp;&amp;!D&amp;&amp;!M&amp;&amp;(Pn=On.TEST_VID&amp;&amp;On.TEST_VID.constructor.prototype.canPlayType,On.TEST_VID.constructor.prototype.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;<span class=\"code-regexp\">/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i</span>.test(e)?<span class=\"code-string\">\"maybe\"</span>:Pn.call(<span class=\"code-keyword\">this</span>,e)})},On.unpatchCanPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=On.TEST_VID.constructor.prototype.canPlayType;<span class=\"code-keyword\">return</span> Pn&amp;&amp;(On.TEST_VID.constructor.prototype.canPlayType=Pn),e},On.patchCanPlayType(),On.disposeMediaElement=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">for</span>(e.parentNode&amp;&amp;e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute(<span class=\"code-string\">\"src\"</span>),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.load&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{e.load()}<span class=\"code-keyword\">catch</span>(e){}}()}},On.resetMediaElement=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.querySelectorAll(<span class=\"code-string\">\"source\"</span>),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute(<span class=\"code-string\">\"src\"</span>),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.load&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">try</span>{e.load()}<span class=\"code-keyword\">catch</span>(e){}}()}},[<span class=\"code-string\">\"muted\"</span>,<span class=\"code-string\">\"defaultMuted\"</span>,<span class=\"code-string\">\"autoplay\"</span>,<span class=\"code-string\">\"controls\"</span>,<span class=\"code-string\">\"loop\"</span>,<span class=\"code-string\">\"playsinline\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{On.prototype[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_[e]||<span class=\"code-keyword\">this</span>.el_.hasAttribute(e)}}),[<span class=\"code-string\">\"muted\"</span>,<span class=\"code-string\">\"defaultMuted\"</span>,<span class=\"code-string\">\"autoplay\"</span>,<span class=\"code-string\">\"loop\"</span>,<span class=\"code-string\">\"playsinline\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{On.prototype[<span class=\"code-string\">\"set\"</span>+ut(t)]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{(<span class=\"code-keyword\">this</span>.el_[t]=e)?<span class=\"code-keyword\">this</span>.el_.setAttribute(t,t):<span class=\"code-keyword\">this</span>.el_.removeAttribute(t)}}),[<span class=\"code-string\">\"paused\"</span>,<span class=\"code-string\">\"currentTime\"</span>,<span class=\"code-string\">\"buffered\"</span>,<span class=\"code-string\">\"volume\"</span>,<span class=\"code-string\">\"poster\"</span>,<span class=\"code-string\">\"preload\"</span>,<span class=\"code-string\">\"error\"</span>,<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-string\">\"seekable\"</span>,<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"playbackRate\"</span>,<span class=\"code-string\">\"defaultPlaybackRate\"</span>,<span class=\"code-string\">\"disablePictureInPicture\"</span>,<span class=\"code-string\">\"played\"</span>,<span class=\"code-string\">\"networkState\"</span>,<span class=\"code-string\">\"readyState\"</span>,<span class=\"code-string\">\"videoWidth\"</span>,<span class=\"code-string\">\"videoHeight\"</span>,<span class=\"code-string\">\"crossOrigin\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{On.prototype[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_[e]}}),[<span class=\"code-string\">\"volume\"</span>,<span class=\"code-string\">\"src\"</span>,<span class=\"code-string\">\"poster\"</span>,<span class=\"code-string\">\"preload\"</span>,<span class=\"code-string\">\"playbackRate\"</span>,<span class=\"code-string\">\"defaultPlaybackRate\"</span>,<span class=\"code-string\">\"disablePictureInPicture\"</span>,<span class=\"code-string\">\"crossOrigin\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{On.prototype[<span class=\"code-string\">\"set\"</span>+ut(t)]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.el_[t]=e}}),[<span class=\"code-string\">\"pause\"</span>,<span class=\"code-string\">\"load\"</span>,<span class=\"code-string\">\"play\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{On.prototype[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.el_[e]()}}),ji.withSourceHandlers(On),On.nativeSourceHandler={},On.nativeSourceHandler.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> On.TEST_VID.canPlayType(e)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>}},On.nativeSourceHandler.canHandleSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e.type)<span class=\"code-keyword\">return</span> On.nativeSourceHandler.canPlayType(e.type);<span class=\"code-keyword\">if</span>(e.src){e=Nt(e.src);<span class=\"code-keyword\">return</span> On.nativeSourceHandler.canPlayType(<span class=\"code-string\">\"video/\"</span>+e)}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>},On.nativeSourceHandler.handleSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{t.setSrc(e.src)},On.nativeSourceHandler.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},On.registerSourceHandler(On.nativeSourceHandler),ji.registerTech(<span class=\"code-string\">\"Html5\"</span>,On);<span class=\"code-keyword\">var</span> Mn=[<span class=\"code-string\">\"progress\"</span>,<span class=\"code-string\">\"abort\"</span>,<span class=\"code-string\">\"suspend\"</span>,<span class=\"code-string\">\"emptied\"</span>,<span class=\"code-string\">\"stalled\"</span>,<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-string\">\"loadeddata\"</span>,<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-string\">\"resize\"</span>,<span class=\"code-string\">\"volumechange\"</span>,<span class=\"code-string\">\"texttrackchange\"</span>],Rn={<span class=\"code-attr\">canplay</span>:<span class=\"code-string\">\"CanPlay\"</span>,<span class=\"code-attr\">canplaythrough</span>:<span class=\"code-string\">\"CanPlayThrough\"</span>,<span class=\"code-attr\">playing</span>:<span class=\"code-string\">\"Playing\"</span>,<span class=\"code-attr\">seeked</span>:<span class=\"code-string\">\"Seeked\"</span>},Nn=[<span class=\"code-string\">\"tiny\"</span>,<span class=\"code-string\">\"xsmall\"</span>,<span class=\"code-string\">\"small\"</span>,<span class=\"code-string\">\"medium\"</span>,<span class=\"code-string\">\"large\"</span>,<span class=\"code-string\">\"xlarge\"</span>,<span class=\"code-string\">\"huge\"</span>],Un={};Nn.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"x\"</span>===e.charAt(<span class=\"code-number\">0</span>)?<span class=\"code-string\">\"x-\"</span>+e.substring(<span class=\"code-number\">1</span>):e;Un[e]=<span class=\"code-string\">\"vjs-layout-\"</span>+t});<span class=\"code-keyword\">var</span> Bn={<span class=\"code-attr\">tiny</span>:<span class=\"code-number\">210</span>,<span class=\"code-attr\">xsmall</span>:<span class=\"code-number\">320</span>,<span class=\"code-attr\">small</span>:<span class=\"code-number\">425</span>,<span class=\"code-attr\">medium</span>:<span class=\"code-number\">768</span>,<span class=\"code-attr\">large</span>:<span class=\"code-number\">1440</span>,<span class=\"code-attr\">xlarge</span>:<span class=\"code-number\">2560</span>,<span class=\"code-attr\">huge</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>},Fn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">c</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r;<span class=\"code-keyword\">if</span>(e.id=e.id||t.id||<span class=\"code-string\">\"vjs_video_\"</span>+Pe++,(t=b(o.getTagSettings(e),t)).initChildren=!<span class=\"code-number\">1</span>,t.createEl=!<span class=\"code-number\">1</span>,t.evented=!<span class=\"code-number\">1</span>,t.reportTouchActivity=!<span class=\"code-number\">1</span>,!t.language)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.closest){<span class=\"code-keyword\">var</span> a=e.closest(<span class=\"code-string\">\"[lang]\"</span>);a&amp;&amp;a.getAttribute&amp;&amp;(t.language=a.getAttribute(<span class=\"code-string\">\"lang\"</span>))}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=e;s&amp;&amp;<span class=\"code-number\">1</span>===s.nodeType;){<span class=\"code-keyword\">if</span>(ae(s).hasOwnProperty(<span class=\"code-string\">\"lang\"</span>)){t.language=s.getAttribute(<span class=\"code-string\">\"lang\"</span>);<span class=\"code-keyword\">break</span>}s=s.parentNode}<span class=\"code-keyword\">if</span>((n=c.call(<span class=\"code-keyword\">this</span>,<span class=\"code-literal\">null</span>,t,i)||<span class=\"code-keyword\">this</span>).boundDocumentFullscreenChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.documentFullscreenChange_(e)},n.boundFullWindowOnEscKey_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.fullWindowOnEscKey(e)},n.boundUpdateStyleEl_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.updateStyleEl_(e)},n.boundApplyInitTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.applyInitTime_(e)},n.boundUpdateCurrentBreakpoint_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.updateCurrentBreakpoint_(e)},n.boundHandleTechClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleTechClick_(e)},n.boundHandleTechDoubleClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleTechDoubleClick_(e)},n.boundHandleTechTouchStart_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleTechTouchStart_(e)},n.boundHandleTechTouchMove_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleTechTouchMove_(e)},n.boundHandleTechTouchEnd_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleTechTouchEnd_(e)},n.boundHandleTechTap_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleTechTap_(e)},n.isFullscreen_=!<span class=\"code-number\">1</span>,n.log=p(n.id_),n.fsApi_=l,n.isPosterFromTech_=!<span class=\"code-number\">1</span>,n.queuedCallbacks_=[],n.isReady_=!<span class=\"code-number\">1</span>,n.hasStarted_=!<span class=\"code-number\">1</span>,n.userActive_=!<span class=\"code-number\">1</span>,n.debugEnabled_=!<span class=\"code-number\">1</span>,n.audioOnlyMode_=!<span class=\"code-number\">1</span>,n.audioPosterMode_=!<span class=\"code-number\">1</span>,n.audioOnlyCache_={<span class=\"code-attr\">playerHeight</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">hiddenChildren</span>:[]},!n.options_||!n.options_.techOrder||!n.options_.techOrder.length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?\"</span>);n.tag=e,n.tagAttributes=e&amp;&amp;ae(e),n.language(n.options_.language),t.languages?(r={},<span class=\"code-built_in\">Object</span>.getOwnPropertyNames(t.languages).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r[e.toLowerCase()]=t.languages[e]}),n.languages_=r):n.languages_=o.prototype.options_.languages,n.resetCache_(),n.poster_=t.poster||<span class=\"code-string\">\"\"</span>,n.controls_=!!t.controls,e.controls=!<span class=\"code-number\">1</span>,e.removeAttribute(<span class=\"code-string\">\"controls\"</span>),n.changingSrc_=!<span class=\"code-number\">1</span>,n.playCallbacks_=[],n.playTerminatedQueue_=[],e.hasAttribute(<span class=\"code-string\">\"autoplay\"</span>)?n.autoplay(!<span class=\"code-number\">0</span>):n.autoplay(n.options_.autoplay),t.plugins&amp;&amp;<span class=\"code-built_in\">Object</span>.keys(t.plugins).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> n[e])<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'plugin \"'</span>+e+<span class=\"code-string\">'\" does not exist'</span>)}),n.scrubbing_=!<span class=\"code-number\">1</span>,n.el_=n.createEl(),rt(ft(n),{<span class=\"code-attr\">eventBusKey</span>:<span class=\"code-string\">\"el_\"</span>}),n.fsApi_.requestFullscreen&amp;&amp;(Be(<span class=\"code-built_in\">document</span>,n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_),n.on(n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_)),n.fluid_&amp;&amp;n.on([<span class=\"code-string\">\"playerreset\"</span>,<span class=\"code-string\">\"resize\"</span>],n.boundUpdateStyleEl_);i=lt(n.options_);t.plugins&amp;&amp;<span class=\"code-built_in\">Object</span>.keys(t.plugins).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n[e](t.plugins[e])}),t.debug&amp;&amp;n.debug(!<span class=\"code-number\">0</span>),n.options_.playerOptions=i,n.middleware_=[],n.playbackRates(t.playbackRates),n.initChildren(),n.isAudio(<span class=\"code-string\">\"audio\"</span>===e.nodeName.toLowerCase()),n.controls()?n.addClass(<span class=\"code-string\">\"vjs-controls-enabled\"</span>):n.addClass(<span class=\"code-string\">\"vjs-controls-disabled\"</span>),n.el_.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"region\"</span>),n.isAudio()?n.el_.setAttribute(<span class=\"code-string\">\"aria-label\"</span>,n.localize(<span class=\"code-string\">\"Audio Player\"</span>)):n.el_.setAttribute(<span class=\"code-string\">\"aria-label\"</span>,n.localize(<span class=\"code-string\">\"Video Player\"</span>)),n.isAudio()&amp;&amp;n.addClass(<span class=\"code-string\">\"vjs-audio\"</span>),n.flexNotSupported_()&amp;&amp;n.addClass(<span class=\"code-string\">\"vjs-no-flex\"</span>),F&amp;&amp;n.addClass(<span class=\"code-string\">\"vjs-touch-enabled\"</span>),q||n.addClass(<span class=\"code-string\">\"vjs-workinghover\"</span>),o.players[n.id_]=ft(n);e=u.split(<span class=\"code-string\">\".\"</span>)[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span> n.addClass(<span class=\"code-string\">\"vjs-v\"</span>+e),n.userActive(!<span class=\"code-number\">0</span>),n.reportUserActivity(),n.one(<span class=\"code-string\">\"play\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.listenForUserActivity_(e)}),n.on(<span class=\"code-string\">\"stageclick\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleStageClick_(e)}),n.on(<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleKeyDown(e)}),n.on(<span class=\"code-string\">\"languagechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n.handleLanguagechange(e)}),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n.on(<span class=\"code-string\">\"ready\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.audioPosterMode(n.options_.audioPosterMode),n.audioOnlyMode(n.options_.audioOnlyMode)}),n}mt(o,c);<span class=\"code-keyword\">var</span> e=o.prototype;<span class=\"code-keyword\">return</span> e.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"dispose\"</span>),Fe(<span class=\"code-built_in\">document</span>,<span class=\"code-keyword\">this</span>.fsApi_.fullscreenchange,<span class=\"code-keyword\">this</span>.boundDocumentFullscreenChange_),Fe(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.boundFullWindowOnEscKey_),<span class=\"code-keyword\">this</span>.styleEl_&amp;&amp;<span class=\"code-keyword\">this</span>.styleEl_.parentNode&amp;&amp;(<span class=\"code-keyword\">this</span>.styleEl_.parentNode.removeChild(<span class=\"code-keyword\">this</span>.styleEl_),<span class=\"code-keyword\">this</span>.styleEl_=<span class=\"code-literal\">null</span>),o.players[<span class=\"code-keyword\">this</span>.id_]=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.tag&amp;&amp;<span class=\"code-keyword\">this</span>.tag.player&amp;&amp;(<span class=\"code-keyword\">this</span>.tag.player=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.el_&amp;&amp;<span class=\"code-keyword\">this</span>.el_.player&amp;&amp;(<span class=\"code-keyword\">this</span>.el_.player=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.tech_&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.dispose(),<span class=\"code-keyword\">this</span>.isPosterFromTech_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.poster_=<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">this</span>.playerElIngest_&amp;&amp;(<span class=\"code-keyword\">this</span>.playerElIngest_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.tag&amp;&amp;(<span class=\"code-keyword\">this</span>.tag=<span class=\"code-literal\">null</span>),qi[<span class=\"code-keyword\">this</span>.id()]=<span class=\"code-literal\">null</span>,oi.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=oi[e],e=t[e.getterName]();e&amp;&amp;e.off&amp;&amp;e.off()}),c.prototype.dispose.call(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">restoreEl</span>:<span class=\"code-keyword\">this</span>.options_.restoreEl})},e.createEl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-keyword\">this</span>.tag,e=<span class=\"code-keyword\">this</span>.playerElIngest_=i.parentNode&amp;&amp;i.parentNode.hasAttribute&amp;&amp;i.parentNode.hasAttribute(<span class=\"code-string\">\"data-vjs-player\"</span>),n=<span class=\"code-string\">\"video-js\"</span>===<span class=\"code-keyword\">this</span>.tag.tagName.toLowerCase();e?t=<span class=\"code-keyword\">this</span>.el_=i.parentNode:n||(t=<span class=\"code-keyword\">this</span>.el_=c.prototype.createEl.call(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"div\"</span>));<span class=\"code-keyword\">var</span> r,a,s=ae(i);<span class=\"code-keyword\">if</span>(n){<span class=\"code-keyword\">for</span>(t=<span class=\"code-keyword\">this</span>.el_=i,i=<span class=\"code-keyword\">this</span>.tag=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>);t.children.length;)i.appendChild(t.firstChild);ee(t,<span class=\"code-string\">\"video-js\"</span>)||te(t,<span class=\"code-string\">\"video-js\"</span>),t.appendChild(i),e=<span class=\"code-keyword\">this</span>.playerElIngest_=t,<span class=\"code-built_in\">Object</span>.keys(t).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">try</span>{i[e]=t[e]}<span class=\"code-keyword\">catch</span>(e){}})}i.setAttribute(<span class=\"code-string\">\"tabindex\"</span>,<span class=\"code-string\">\"-1\"</span>),s.tabindex=<span class=\"code-string\">\"-1\"</span>,(N||M&amp;&amp;B)&amp;&amp;(i.setAttribute(<span class=\"code-string\">\"role\"</span>,<span class=\"code-string\">\"application\"</span>),s.role=<span class=\"code-string\">\"application\"</span>),i.removeAttribute(<span class=\"code-string\">\"width\"</span>),i.removeAttribute(<span class=\"code-string\">\"height\"</span>),<span class=\"code-string\">\"width\"</span><span class=\"code-keyword\">in</span> s&amp;&amp;<span class=\"code-keyword\">delete</span> s.width,<span class=\"code-string\">\"height\"</span><span class=\"code-keyword\">in</span> s&amp;&amp;<span class=\"code-keyword\">delete</span> s.height,<span class=\"code-built_in\">Object</span>.getOwnPropertyNames(s).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n&amp;&amp;<span class=\"code-string\">\"class\"</span>===e||t.setAttribute(e,s[e]),n&amp;&amp;i.setAttribute(e,s[e])}),i.playerId=i.id,i.id+=<span class=\"code-string\">\"_html5_api\"</span>,i.className=<span class=\"code-string\">\"vjs-tech\"</span>,(i.player=t.player=<span class=\"code-keyword\">this</span>).addClass(<span class=\"code-string\">\"vjs-paused\"</span>),!<span class=\"code-number\">0</span>!==<span class=\"code-built_in\">window</span>.VIDEOJS_NO_DYNAMIC_STYLE&amp;&amp;(<span class=\"code-keyword\">this</span>.styleEl_=xe(<span class=\"code-string\">\"vjs-styles-dimensions\"</span>),r=Te(<span class=\"code-string\">\".vjs-styles-defaults\"</span>),(a=Te(<span class=\"code-string\">\"head\"</span>)).insertBefore(<span class=\"code-keyword\">this</span>.styleEl_,r?r.nextSibling:a.firstChild)),<span class=\"code-keyword\">this</span>.fill_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.fluid_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.width(<span class=\"code-keyword\">this</span>.options_.width),<span class=\"code-keyword\">this</span>.height(<span class=\"code-keyword\">this</span>.options_.height),<span class=\"code-keyword\">this</span>.fill(<span class=\"code-keyword\">this</span>.options_.fill),<span class=\"code-keyword\">this</span>.fluid(<span class=\"code-keyword\">this</span>.options_.fluid),<span class=\"code-keyword\">this</span>.aspectRatio(<span class=\"code-keyword\">this</span>.options_.aspectRatio),<span class=\"code-keyword\">this</span>.crossOrigin(<span class=\"code-keyword\">this</span>.options_.crossOrigin||<span class=\"code-keyword\">this</span>.options_.crossorigin);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=i.getElementsByTagName(<span class=\"code-string\">\"a\"</span>),u=<span class=\"code-number\">0</span>;u&lt;o.length;u++){<span class=\"code-keyword\">var</span> l=o.item(u);te(l,<span class=\"code-string\">\"vjs-hidden\"</span>),l.setAttribute(<span class=\"code-string\">\"hidden\"</span>,<span class=\"code-string\">\"hidden\"</span>)}<span class=\"code-keyword\">return</span> i.initNetworkState_=i.networkState,i.parentNode&amp;&amp;!e&amp;&amp;i.parentNode.insertBefore(t,i),Z(i,t),<span class=\"code-keyword\">this</span>.children_.unshift(i),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"lang\"</span>,<span class=\"code-keyword\">this</span>.language_),<span class=\"code-keyword\">this</span>.el_.setAttribute(<span class=\"code-string\">\"translate\"</span>,<span class=\"code-string\">\"no\"</span>),<span class=\"code-keyword\">this</span>.el_=t},e.crossOrigin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"crossOrigin\"</span>);<span class=\"code-string\">\"anonymous\"</span>===e||<span class=\"code-string\">\"use-credentials\"</span>===e?<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setCrossOrigin\"</span>,e):h.warn(<span class=\"code-string\">'crossOrigin must be \"anonymous\" or \"use-credentials\", given \"'</span>+e+<span class=\"code-string\">'\"'</span>)},e.width=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dimension(<span class=\"code-string\">\"width\"</span>,e)},e.height=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.dimension(<span class=\"code-string\">\"height\"</span>,e)},e.dimension=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e+<span class=\"code-string\">\"_\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[i]||<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\"</span>===t||<span class=\"code-string\">\"auto\"</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[i]=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.updateStyleEl_();<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">parseFloat</span>(t);<span class=\"code-built_in\">isNaN</span>(n)?h.error(<span class=\"code-string\">'Improper value \"'</span>+t+<span class=\"code-string\">'\" supplied for for '</span>+e):(<span class=\"code-keyword\">this</span>[i]=n,<span class=\"code-keyword\">this</span>.updateStyleEl_())},e.fluid=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>.fluid_;<span class=\"code-keyword\">this</span>.fluid_=!!e,it(<span class=\"code-keyword\">this</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.off([<span class=\"code-string\">\"playerreset\"</span>,<span class=\"code-string\">\"resize\"</span>],<span class=\"code-keyword\">this</span>.boundUpdateStyleEl_),e?(<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-fluid\"</span>),<span class=\"code-keyword\">this</span>.fill(!<span class=\"code-number\">1</span>),t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.on([<span class=\"code-string\">\"playerreset\"</span>,<span class=\"code-string\">\"resize\"</span>],i.boundUpdateStyleEl_)},it(e=<span class=\"code-keyword\">this</span>)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-fluid\"</span>),<span class=\"code-keyword\">this</span>.updateStyleEl_()},e.fill=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>.fill_;<span class=\"code-keyword\">this</span>.fill_=!!e,e?(<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-fill\"</span>),<span class=\"code-keyword\">this</span>.fluid(!<span class=\"code-number\">1</span>)):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-fill\"</span>)},e.aspectRatio=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.aspectRatio_;<span class=\"code-keyword\">if</span>(!<span class=\"code-regexp\">/^\\d+\\:\\d+$/</span>.test(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.\"</span>);<span class=\"code-keyword\">this</span>.aspectRatio_=e,<span class=\"code-keyword\">this</span>.fluid(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.updateStyleEl_()},e.updateStyleEl_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,i,n;!<span class=\"code-number\">0</span>!==<span class=\"code-built_in\">window</span>.VIDEOJS_NO_DYNAMIC_STYLE?(n=(i=(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.aspectRatio_&amp;&amp;<span class=\"code-string\">\"auto\"</span>!==<span class=\"code-keyword\">this</span>.aspectRatio_?<span class=\"code-keyword\">this</span>.aspectRatio_:<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.videoWidth()?<span class=\"code-keyword\">this</span>.videoWidth()+<span class=\"code-string\">\":\"</span>+<span class=\"code-keyword\">this</span>.videoHeight():<span class=\"code-string\">\"16:9\"</span>).split(<span class=\"code-string\">\":\"</span>))[<span class=\"code-number\">1</span>]/i[<span class=\"code-number\">0</span>],e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.width_?<span class=\"code-keyword\">this</span>.width_:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.height_?<span class=\"code-keyword\">this</span>.height_/n:<span class=\"code-keyword\">this</span>.videoWidth()||<span class=\"code-number\">300</span>,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.height_?<span class=\"code-keyword\">this</span>.height_:e*n,i=<span class=\"code-regexp\">/^[^a-zA-Z]/</span>.test(<span class=\"code-keyword\">this</span>.id())?<span class=\"code-string\">\"dimensions-\"</span>+<span class=\"code-keyword\">this</span>.id():<span class=\"code-keyword\">this</span>.id()+<span class=\"code-string\">\"-dimensions\"</span>,<span class=\"code-keyword\">this</span>.addClass(i),Ae(<span class=\"code-keyword\">this</span>.styleEl_,<span class=\"code-string\">\"\\n      .\"</span>+i+<span class=\"code-string\">\" {\\n        width: \"</span>+e+<span class=\"code-string\">\"px;\\n        height: \"</span>+t+<span class=\"code-string\">\"px;\\n      }\\n\\n      .\"</span>+i+<span class=\"code-string\">\".vjs-fluid:not(.vjs-audio-only-mode) {\\n        padding-top: \"</span>+<span class=\"code-number\">100</span>*n+<span class=\"code-string\">\"%;\\n      }\\n    \"</span>)):(t=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.width_?<span class=\"code-keyword\">this</span>.width_:<span class=\"code-keyword\">this</span>.options_.width,i=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.height_?<span class=\"code-keyword\">this</span>.height_:<span class=\"code-keyword\">this</span>.options_.height,(n=<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.el())&amp;&amp;(<span class=\"code-number\">0</span>&lt;=t&amp;&amp;(n.width=t),<span class=\"code-number\">0</span>&lt;=i&amp;&amp;(n.height=i)))},e.loadTech_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.unloadTech_();<span class=\"code-keyword\">var</span> n=ut(e),r=e.charAt(<span class=\"code-number\">0</span>).toLowerCase()+e.slice(<span class=\"code-number\">1</span>);<span class=\"code-string\">\"Html5\"</span>!==n&amp;&amp;<span class=\"code-keyword\">this</span>.tag&amp;&amp;(ji.getTech(<span class=\"code-string\">\"Html5\"</span>).disposeMediaElement(<span class=\"code-keyword\">this</span>.tag),<span class=\"code-keyword\">this</span>.tag.player=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.tag=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.techName_=n,<span class=\"code-keyword\">this</span>.isReady_=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.autoplay(),s={<span class=\"code-attr\">source</span>:t,<span class=\"code-attr\">autoplay</span>:a=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.autoplay()||!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.autoplay()&amp;&amp;<span class=\"code-keyword\">this</span>.options_.normalizeAutoplay?!<span class=\"code-number\">1</span>:a,<span class=\"code-attr\">nativeControlsForTouch</span>:<span class=\"code-keyword\">this</span>.options_.nativeControlsForTouch,<span class=\"code-attr\">playerId</span>:<span class=\"code-keyword\">this</span>.id(),<span class=\"code-attr\">techId</span>:<span class=\"code-keyword\">this</span>.id()+<span class=\"code-string\">\"_\"</span>+r+<span class=\"code-string\">\"_api\"</span>,<span class=\"code-attr\">playsinline</span>:<span class=\"code-keyword\">this</span>.options_.playsinline,<span class=\"code-attr\">preload</span>:<span class=\"code-keyword\">this</span>.options_.preload,<span class=\"code-attr\">loop</span>:<span class=\"code-keyword\">this</span>.options_.loop,<span class=\"code-attr\">disablePictureInPicture</span>:<span class=\"code-keyword\">this</span>.options_.disablePictureInPicture,<span class=\"code-attr\">muted</span>:<span class=\"code-keyword\">this</span>.options_.muted,<span class=\"code-attr\">poster</span>:<span class=\"code-keyword\">this</span>.poster(),<span class=\"code-attr\">language</span>:<span class=\"code-keyword\">this</span>.language(),<span class=\"code-attr\">playerElIngest</span>:<span class=\"code-keyword\">this</span>.playerElIngest_||!<span class=\"code-number\">1</span>,<span class=\"code-string\">\"vtt.js\"</span>:<span class=\"code-keyword\">this</span>.options_[<span class=\"code-string\">\"vtt.js\"</span>],<span class=\"code-attr\">canOverridePoster</span>:!!<span class=\"code-keyword\">this</span>.options_.techCanOverridePoster,<span class=\"code-attr\">enableSourceset</span>:<span class=\"code-keyword\">this</span>.options_.enableSourceset,<span class=\"code-attr\">Promise</span>:<span class=\"code-keyword\">this</span>.options_.Promise};oi.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=oi[e];s[e.getterName]=i[e.privateName]}),b(s,<span class=\"code-keyword\">this</span>.options_[n]),b(s,<span class=\"code-keyword\">this</span>.options_[r]),b(s,<span class=\"code-keyword\">this</span>.options_[e.toLowerCase()]),<span class=\"code-keyword\">this</span>.tag&amp;&amp;(s.tag=<span class=\"code-keyword\">this</span>.tag),t&amp;&amp;t.src===<span class=\"code-keyword\">this</span>.cache_.src&amp;&amp;<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.cache_.currentTime&amp;&amp;(s.startTime=<span class=\"code-keyword\">this</span>.cache_.currentTime);e=ji.getTech(e);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"No Tech named '\"</span>+n+<span class=\"code-string\">\"' exists! '\"</span>+n+<span class=\"code-string\">\"' should be registered using videojs.registerTech()'\"</span>);<span class=\"code-keyword\">this</span>.tech_=<span class=\"code-keyword\">new</span> e(s),<span class=\"code-keyword\">this</span>.tech_.ready(Ve(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.handleTechReady_),!<span class=\"code-number\">0</span>),It(<span class=\"code-keyword\">this</span>.textTracksJson_||[],<span class=\"code-keyword\">this</span>.tech_),Mn.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i.on(i.tech_,t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i[<span class=\"code-string\">\"handleTech\"</span>+ut(t)+<span class=\"code-string\">\"_\"</span>](e)})}),<span class=\"code-built_in\">Object</span>.keys(Rn).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{i.on(i.tech_,t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-number\">0</span>===i.tech_.playbackRate()&amp;&amp;i.tech_.seeking()?i.queuedCallbacks_.push({<span class=\"code-attr\">callback</span>:i[<span class=\"code-string\">\"handleTech\"</span>+Rn[t]+<span class=\"code-string\">\"_\"</span>].bind(i),<span class=\"code-attr\">event</span>:e}):i[<span class=\"code-string\">\"handleTech\"</span>+Rn[t]+<span class=\"code-string\">\"_\"</span>](e)})}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechLoadStart_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"sourceset\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechSourceset_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"waiting\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechWaiting_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"ended\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechEnded_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechSeeking_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"play\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechPlay_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"firstplay\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechFirstPlay_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"pause\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechPause_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechDurationChange_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"fullscreenchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechFullscreenChange_(e,t)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"fullscreenerror\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechFullscreenError_(e,t)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"enterpictureinpicture\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechEnterPictureInPicture_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"leavepictureinpicture\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechLeavePictureInPicture_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"error\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechError_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"posterchange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechPosterChange_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"textdata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechTextData_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"ratechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i.handleTechRateChange_(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-keyword\">this</span>.boundUpdateStyleEl_),<span class=\"code-keyword\">this</span>.usingNativeControls(<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"controls\"</span>)),<span class=\"code-keyword\">this</span>.controls()&amp;&amp;!<span class=\"code-keyword\">this</span>.usingNativeControls()&amp;&amp;<span class=\"code-keyword\">this</span>.addTechControlsListeners_(),<span class=\"code-keyword\">this</span>.tech_.el().parentNode===<span class=\"code-keyword\">this</span>.el()||<span class=\"code-string\">\"Html5\"</span>===n&amp;&amp;<span class=\"code-keyword\">this</span>.tag||Z(<span class=\"code-keyword\">this</span>.tech_.el(),<span class=\"code-keyword\">this</span>.el()),<span class=\"code-keyword\">this</span>.tag&amp;&amp;(<span class=\"code-keyword\">this</span>.tag.player=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.tag=<span class=\"code-literal\">null</span>)},e.unloadTech_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;oi.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=oi[e];t[e.privateName]=t[e.getterName]()}),<span class=\"code-keyword\">this</span>.textTracksJson_=Ct(<span class=\"code-keyword\">this</span>.tech_),<span class=\"code-keyword\">this</span>.isReady_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.tech_.dispose(),<span class=\"code-keyword\">this</span>.tech_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.isPosterFromTech_&amp;&amp;(<span class=\"code-keyword\">this</span>.poster_=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"posterchange\"</span>)),<span class=\"code-keyword\">this</span>.isPosterFromTech_=!<span class=\"code-number\">1</span>},e.tech=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;h.warn(<span class=\"code-string\">\"Using the tech directly can be dangerous. I hope you know what you're doing.\\nSee https://github.com/videojs/video.js/issues/2617 for more info.\\n\"</span>),<span class=\"code-keyword\">this</span>.tech_},e.addTechControlsListeners_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeTechControlsListeners_(),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"click\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechClick_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"dblclick\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechDoubleClick_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTouchStart_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTouchMove_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTouchEnd_),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"tap\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTap_)},e.removeTechControlsListeners_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"tap\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTap_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"touchstart\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTouchStart_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"touchmove\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTouchMove_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"touchend\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechTouchEnd_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"click\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechClick_),<span class=\"code-keyword\">this</span>.off(<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-string\">\"dblclick\"</span>,<span class=\"code-keyword\">this</span>.boundHandleTechDoubleClick_)},e.handleTechReady_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.triggerReady(),<span class=\"code-keyword\">this</span>.cache_.volume&amp;&amp;<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setVolume\"</span>,<span class=\"code-keyword\">this</span>.cache_.volume),<span class=\"code-keyword\">this</span>.handleTechPosterChange_(),<span class=\"code-keyword\">this</span>.handleTechDurationChange_()},e.handleTechLoadStart_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-seeking\"</span>),<span class=\"code-keyword\">this</span>.error(<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.handleTechDurationChange_(),<span class=\"code-keyword\">this</span>.paused()?(<span class=\"code-keyword\">this</span>.hasStarted(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadstart\"</span>)):(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadstart\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"firstplay\"</span>)),<span class=\"code-keyword\">this</span>.manualAutoplay_(!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.autoplay()&amp;&amp;<span class=\"code-keyword\">this</span>.options_.normalizeAutoplay?<span class=\"code-string\">\"play\"</span>:<span class=\"code-keyword\">this</span>.autoplay())},e.manualAutoplay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">var</span> t,i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.muted();n.muted(!<span class=\"code-number\">0</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{n.muted(e)}n.playTerminatedQueue_.push(t);<span class=\"code-keyword\">var</span> i=n.play();<span class=\"code-keyword\">if</span>(wt(i))<span class=\"code-keyword\">return</span> i.catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">throw</span> t(),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Rejection at manualAutoplay. Restoring muted value. \"</span>+(e||<span class=\"code-string\">\"\"</span>))})};<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"any\"</span>!==e||<span class=\"code-keyword\">this</span>.muted()?t=<span class=\"code-string\">\"muted\"</span>!==e||<span class=\"code-keyword\">this</span>.muted()?<span class=\"code-keyword\">this</span>.play():i():wt(t=<span class=\"code-keyword\">this</span>.play())&amp;&amp;(t=t.catch(i)),wt(t))<span class=\"code-keyword\">return</span> t.then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"autoplay-success\"</span>,<span class=\"code-attr\">autoplay</span>:e})}).catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"autoplay-failure\"</span>,<span class=\"code-attr\">autoplay</span>:e})})}},e.updateSourceCaches_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-string\">\"\"</span>:e,i=<span class=\"code-string\">\"\"</span>;<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> t&amp;&amp;(t=e.src,i=e.type),<span class=\"code-keyword\">this</span>.cache_.source=<span class=\"code-keyword\">this</span>.cache_.source||{},<span class=\"code-keyword\">this</span>.cache_.sources=<span class=\"code-keyword\">this</span>.cache_.sources||[],t&amp;&amp;!i&amp;&amp;(i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">if</span>(e.cache_.source.src===t&amp;&amp;e.cache_.source.type)<span class=\"code-keyword\">return</span> e.cache_.source.type;<span class=\"code-keyword\">var</span> i=e.cache_.sources.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.src===t});<span class=\"code-keyword\">if</span>(i.length)<span class=\"code-keyword\">return</span> i[<span class=\"code-number\">0</span>].type;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.$$(<span class=\"code-string\">\"source\"</span>),r=<span class=\"code-number\">0</span>;r&lt;n.length;r++){<span class=\"code-keyword\">var</span> a=n[r];<span class=\"code-keyword\">if</span>(a.type&amp;&amp;a.src&amp;&amp;a.src===t)<span class=\"code-keyword\">return</span> a.type}<span class=\"code-keyword\">return</span> $i(t)}(<span class=\"code-keyword\">this</span>,t)),<span class=\"code-keyword\">this</span>.cache_.source=lt({},e,{<span class=\"code-attr\">src</span>:t,<span class=\"code-attr\">type</span>:i});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.cache_.sources.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.src&amp;&amp;e.src===t}),n=[],r=<span class=\"code-keyword\">this</span>.$$(<span class=\"code-string\">\"source\"</span>),a=[],s=<span class=\"code-number\">0</span>;s&lt;r.length;s++){<span class=\"code-keyword\">var</span> o=ae(r[s]);n.push(o),o.src&amp;&amp;o.src===t&amp;&amp;a.push(o.src)}a.length&amp;&amp;!i.length?<span class=\"code-keyword\">this</span>.cache_.sources=n:i.length||(<span class=\"code-keyword\">this</span>.cache_.sources=[<span class=\"code-keyword\">this</span>.cache_.source]),<span class=\"code-keyword\">this</span>.cache_.src=t},e.handleTechSourceset_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.changingSrc_||(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> r.updateSourceCaches_(e)},i=<span class=\"code-keyword\">this</span>.currentSource().src,n=e.src,i&amp;&amp;!<span class=\"code-regexp\">/^blob:/</span>.test(i)&amp;&amp;<span class=\"code-regexp\">/^blob:/</span>.test(n)&amp;&amp;(<span class=\"code-keyword\">this</span>.lastSource_&amp;&amp;(<span class=\"code-keyword\">this</span>.lastSource_.tech===n||<span class=\"code-keyword\">this</span>.lastSource_.player===i)||(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{})),t(n),e.src||<span class=\"code-keyword\">this</span>.tech_.any([<span class=\"code-string\">\"sourceset\"</span>,<span class=\"code-string\">\"loadstart\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"sourceset\"</span>!==e.type&amp;&amp;(e=r.techGet(<span class=\"code-string\">\"currentSrc\"</span>),r.lastSource_.tech=e,r.updateSourceCaches_(e))})),<span class=\"code-keyword\">this</span>.lastSource_={<span class=\"code-attr\">player</span>:<span class=\"code-keyword\">this</span>.currentSource().src,<span class=\"code-attr\">tech</span>:e.src},<span class=\"code-keyword\">this</span>.trigger({<span class=\"code-attr\">src</span>:e.src,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"sourceset\"</span>})},e.hasStarted=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasStarted_;e!==<span class=\"code-keyword\">this</span>.hasStarted_&amp;&amp;(<span class=\"code-keyword\">this</span>.hasStarted_=e,<span class=\"code-keyword\">this</span>.hasStarted_?(<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-has-started\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"firstplay\"</span>)):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-has-started\"</span>))},e.handleTechPlay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-paused\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-playing\"</span>),<span class=\"code-keyword\">this</span>.hasStarted(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"play\"</span>)},e.handleTechRateChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.tech_.playbackRate()&amp;&amp;<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.cache_.lastPlaybackRate&amp;&amp;(<span class=\"code-keyword\">this</span>.queuedCallbacks_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.callback(e.event)}),<span class=\"code-keyword\">this</span>.queuedCallbacks_=[]),<span class=\"code-keyword\">this</span>.cache_.lastPlaybackRate=<span class=\"code-keyword\">this</span>.tech_.playbackRate(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"ratechange\"</span>)},e.handleTechWaiting_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-waiting\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"waiting\"</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.currentTime();<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"timeupdate\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{i!==t.currentTime()&amp;&amp;(t.removeClass(<span class=\"code-string\">\"vjs-waiting\"</span>),t.off(<span class=\"code-string\">\"timeupdate\"</span>,e))})},e.handleTechCanPlay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-waiting\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"canplay\"</span>)},e.handleTechCanPlayThrough_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-waiting\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"canplaythrough\"</span>)},e.handleTechPlaying_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-waiting\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"playing\"</span>)},e.handleTechSeeking_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-seeking\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"seeking\"</span>)},e.handleTechSeeked_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-seeking\"</span>),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"seeked\"</span>)},e.handleTechFirstPlay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.options_.starttime&amp;&amp;(h.warn(<span class=\"code-string\">\"Passing the `starttime` option to the player will be deprecated in 6.0\"</span>),<span class=\"code-keyword\">this</span>.currentTime(<span class=\"code-keyword\">this</span>.options_.starttime)),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-has-started\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"firstplay\"</span>)},e.handleTechPause_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-playing\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-paused\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"pause\"</span>)},e.handleTechEnded_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-ended\"</span>),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-waiting\"</span>),<span class=\"code-keyword\">this</span>.options_.loop?(<span class=\"code-keyword\">this</span>.currentTime(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.play()):<span class=\"code-keyword\">this</span>.paused()||<span class=\"code-keyword\">this</span>.pause(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"ended\"</span>)},e.handleTechDurationChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.duration(<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"duration\"</span>))},e.handleTechClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.controls_&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.userActions&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.userActions.click&amp;&amp;!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.options_.userActions.click||(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.userActions&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options_.userActions.click?<span class=\"code-keyword\">this</span>.options_.userActions.click.call(<span class=\"code-keyword\">this</span>,e):<span class=\"code-keyword\">this</span>.paused()?Et(<span class=\"code-keyword\">this</span>.play()):<span class=\"code-keyword\">this</span>.pause()))},e.handleTechDoubleClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.controls_&amp;&amp;(<span class=\"code-built_in\">Array</span>.prototype.some.call(<span class=\"code-keyword\">this</span>.$$(<span class=\"code-string\">\".vjs-control-bar, .vjs-modal-dialog\"</span>),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.contains(t.target)})||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.userActions&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.userActions.doubleClick&amp;&amp;!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.options_.userActions.doubleClick||(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.options_.userActions&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options_.userActions.doubleClick?<span class=\"code-keyword\">this</span>.options_.userActions.doubleClick.call(<span class=\"code-keyword\">this</span>,t):<span class=\"code-keyword\">this</span>.isFullscreen()?<span class=\"code-keyword\">this</span>.exitFullscreen():<span class=\"code-keyword\">this</span>.requestFullscreen()))},e.handleTechTap_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.userActive(!<span class=\"code-keyword\">this</span>.userActive())},e.handleTechTouchStart_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.userWasActive=<span class=\"code-keyword\">this</span>.userActive()},e.handleTechTouchMove_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.userWasActive&amp;&amp;<span class=\"code-keyword\">this</span>.reportUserActivity()},e.handleTechTouchEnd_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.cancelable&amp;&amp;e.preventDefault()},e.handleStageClick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.reportUserActivity()},e.toggleFullscreenClass_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isFullscreen()?<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-fullscreen\"</span>):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-fullscreen\"</span>)},e.documentFullscreenChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.target.player;t&amp;&amp;t!==<span class=\"code-keyword\">this</span>||(e=<span class=\"code-keyword\">this</span>.el(),!(t=<span class=\"code-built_in\">document</span>[<span class=\"code-keyword\">this</span>.fsApi_.fullscreenElement]===e)&amp;&amp;e.matches?t=e.matches(<span class=\"code-string\">\":\"</span>+<span class=\"code-keyword\">this</span>.fsApi_.fullscreen):!t&amp;&amp;e.msMatchesSelector&amp;&amp;(t=e.msMatchesSelector(<span class=\"code-string\">\":\"</span>+<span class=\"code-keyword\">this</span>.fsApi_.fullscreen)),<span class=\"code-keyword\">this</span>.isFullscreen(t))},e.handleTechFullscreenChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;t&amp;&amp;(t.nativeIOSFullscreen&amp;&amp;(<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-ios-native-fs\"</span>),<span class=\"code-keyword\">this</span>.tech_.one(<span class=\"code-string\">\"webkitendfullscreen\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.removeClass(<span class=\"code-string\">\"vjs-ios-native-fs\"</span>)})),<span class=\"code-keyword\">this</span>.isFullscreen(t.isFullscreen))},e.handleTechFullscreenError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenerror\"</span>,t)},e.togglePictureInPictureClass_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isInPictureInPicture()?<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-picture-in-picture\"</span>):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-picture-in-picture\"</span>)},e.handleTechEnterPictureInPicture_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.isInPictureInPicture(!<span class=\"code-number\">0</span>)},e.handleTechLeavePictureInPicture_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.isInPictureInPicture(!<span class=\"code-number\">1</span>)},e.handleTechError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.tech_.error();<span class=\"code-keyword\">this</span>.error(e)},e.handleTechTextData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"textdata\"</span>,<span class=\"code-number\">1</span>&lt;<span class=\"code-built_in\">arguments</span>.length?<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]:<span class=\"code-literal\">null</span>)},e.getCache=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cache_},e.resetCache_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.cache_={<span class=\"code-attr\">currentTime</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">initTime</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">inactivityTimeout</span>:<span class=\"code-keyword\">this</span>.options_.inactivityTimeout,<span class=\"code-attr\">duration</span>:<span class=\"code-literal\">NaN</span>,<span class=\"code-attr\">lastVolume</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">lastPlaybackRate</span>:<span class=\"code-keyword\">this</span>.defaultPlaybackRate(),<span class=\"code-attr\">media</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">src</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">source</span>:{},<span class=\"code-attr\">sources</span>:[],<span class=\"code-attr\">playbackRates</span>:[],<span class=\"code-attr\">volume</span>:<span class=\"code-number\">1</span>}},e.techCall_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">this</span>.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(n <span class=\"code-keyword\">in</span> Xi)<span class=\"code-keyword\">return</span> e=<span class=\"code-keyword\">this</span>.middleware_,t=<span class=\"code-keyword\">this</span>.tech_,i=r,t[t=n](e.reduce(Yi(t),i));<span class=\"code-keyword\">if</span>(n <span class=\"code-keyword\">in</span> Ki)<span class=\"code-keyword\">return</span> Gi(<span class=\"code-keyword\">this</span>.middleware_,<span class=\"code-keyword\">this</span>.tech_,n,r);<span class=\"code-keyword\">var</span> e,t,i;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_[n](r)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">throw</span> h(e),e}},!<span class=\"code-number\">0</span>)},e.techGet_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.isReady_){<span class=\"code-keyword\">if</span>(t <span class=\"code-keyword\">in</span> zi)<span class=\"code-keyword\">return</span> e=<span class=\"code-keyword\">this</span>.middleware_,i=<span class=\"code-keyword\">this</span>.tech_,n=t,e.reduceRight(Yi(n),i[n]());<span class=\"code-keyword\">if</span>(t <span class=\"code-keyword\">in</span> Ki)<span class=\"code-keyword\">return</span> Gi(<span class=\"code-keyword\">this</span>.middleware_,<span class=\"code-keyword\">this</span>.tech_,t);<span class=\"code-keyword\">var</span> e,i,n;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_[t]()}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.tech_[t])<span class=\"code-keyword\">throw</span> h(<span class=\"code-string\">\"Video.js: \"</span>+t+<span class=\"code-string\">\" method not defined for \"</span>+<span class=\"code-keyword\">this</span>.techName_+<span class=\"code-string\">\" playback technology.\"</span>,e),e;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"TypeError\"</span>===e.name)<span class=\"code-keyword\">throw</span> h(<span class=\"code-string\">\"Video.js: \"</span>+t+<span class=\"code-string\">\" unavailable on \"</span>+<span class=\"code-keyword\">this</span>.techName_+<span class=\"code-string\">\" playback technology element.\"</span>,e),<span class=\"code-keyword\">this</span>.tech_.isReady_=!<span class=\"code-number\">1</span>,e;<span class=\"code-keyword\">throw</span> h(e),e}}},e.play=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,e=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">return</span> e?<span class=\"code-keyword\">new</span> e(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.play_(e)}):<span class=\"code-keyword\">this</span>.play_()},e.play_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.playCallbacks_.push(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?Et:e);e=<span class=\"code-built_in\">Boolean</span>(!<span class=\"code-keyword\">this</span>.changingSrc_&amp;&amp;(<span class=\"code-keyword\">this</span>.src()||<span class=\"code-keyword\">this</span>.currentSrc()));<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.waitToPlay_&amp;&amp;(<span class=\"code-keyword\">this</span>.off([<span class=\"code-string\">\"ready\"</span>,<span class=\"code-string\">\"loadstart\"</span>],<span class=\"code-keyword\">this</span>.waitToPlay_),<span class=\"code-keyword\">this</span>.waitToPlay_=<span class=\"code-literal\">null</span>),!<span class=\"code-keyword\">this</span>.isReady_||!e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.waitToPlay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.play_()},<span class=\"code-keyword\">this</span>.one([<span class=\"code-string\">\"ready\"</span>,<span class=\"code-string\">\"loadstart\"</span>],<span class=\"code-keyword\">this</span>.waitToPlay_),<span class=\"code-keyword\">void</span>(e||!V&amp;&amp;!q||<span class=\"code-keyword\">this</span>.load());e=<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"play\"</span>);<span class=\"code-literal\">null</span>===e?<span class=\"code-keyword\">this</span>.runPlayTerminatedQueue_():<span class=\"code-keyword\">this</span>.runPlayCallbacks_(e)},e.runPlayTerminatedQueue_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.playTerminatedQueue_.slice(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">this</span>.playTerminatedQueue_=[],e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e()})},e.runPlayCallbacks_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.playCallbacks_.slice(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">this</span>.playCallbacks_=[],<span class=\"code-keyword\">this</span>.playTerminatedQueue_=[],e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e(t)})},e.pause=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"pause\"</span>)},e.paused=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"paused\"</span>)},e.played=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"played\"</span>)||vt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)},e.scrubbing=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.scrubbing_;<span class=\"code-keyword\">this</span>.scrubbing_=!!e,<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setScrubbing\"</span>,<span class=\"code-keyword\">this</span>.scrubbing_),e?<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-scrubbing\"</span>):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-scrubbing\"</span>)},e.currentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e?(e&lt;<span class=\"code-number\">0</span>&amp;&amp;(e=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.isReady_&amp;&amp;!<span class=\"code-keyword\">this</span>.changingSrc_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.isReady_?(<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setCurrentTime\"</span>,e),<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.cache_.initTime=<span class=\"code-number\">0</span>)):(<span class=\"code-keyword\">this</span>.cache_.initTime=e,<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"canplay\"</span>,<span class=\"code-keyword\">this</span>.boundApplyInitTime_),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"canplay\"</span>,<span class=\"code-keyword\">this</span>.boundApplyInitTime_))):(<span class=\"code-keyword\">this</span>.cache_.currentTime=<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"currentTime\"</span>)||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.cache_.currentTime)},e.applyInitTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.currentTime(<span class=\"code-keyword\">this</span>.cache_.initTime)},e.duration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.cache_.duration?<span class=\"code-keyword\">this</span>.cache_.duration:<span class=\"code-literal\">NaN</span>;(e=(e=<span class=\"code-built_in\">parseFloat</span>(e))&lt;<span class=\"code-number\">0</span>?<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>:e)!==<span class=\"code-keyword\">this</span>.cache_.duration&amp;&amp;((<span class=\"code-keyword\">this</span>.cache_.duration=e)===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-live\"</span>):<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-live\"</span>),<span class=\"code-built_in\">isNaN</span>(e)||<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"durationchange\"</span>))},e.remainingTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.duration()-<span class=\"code-keyword\">this</span>.currentTime()},e.remainingTimeDisplay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.duration())-<span class=\"code-built_in\">Math</span>.floor(<span class=\"code-keyword\">this</span>.currentTime())},e.buffered=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">return</span> e=!(e=<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"buffered\"</span>))||!e.length?vt(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>):e},e.bufferedPercent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> _t(<span class=\"code-keyword\">this</span>.buffered(),<span class=\"code-keyword\">this</span>.duration())},e.bufferedEnd=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.buffered(),t=<span class=\"code-keyword\">this</span>.duration(),e=e.end(e.length<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">return</span> e=t&lt;e?t:e},e.volume=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(t=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">1</span>,<span class=\"code-built_in\">parseFloat</span>(e))),<span class=\"code-keyword\">this</span>.cache_.volume=t,<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setVolume\"</span>,t),<span class=\"code-keyword\">void</span>(<span class=\"code-number\">0</span>&lt;t&amp;&amp;<span class=\"code-keyword\">this</span>.lastVolume_(t))):(t=<span class=\"code-built_in\">parseFloat</span>(<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"volume\"</span>)),<span class=\"code-built_in\">isNaN</span>(t)?<span class=\"code-number\">1</span>:t)},e.muted=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"muted\"</span>)||!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setMuted\"</span>,e)},e.defaultMuted=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setDefaultMuted\"</span>,e):<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"defaultMuted\"</span>)||!<span class=\"code-number\">1</span>},e.lastVolume_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cache_.lastVolume;<span class=\"code-keyword\">this</span>.cache_.lastVolume=e},e.supportsFullScreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"supportsFullScreen\"</span>)||!<span class=\"code-number\">1</span>},e.isFullscreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isFullscreen_;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.isFullscreen_;<span class=\"code-keyword\">this</span>.isFullscreen_=<span class=\"code-built_in\">Boolean</span>(e),<span class=\"code-keyword\">this</span>.isFullscreen_!==t&amp;&amp;<span class=\"code-keyword\">this</span>.fsApi_.prefixed&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fullscreenchange\"</span>),<span class=\"code-keyword\">this</span>.toggleFullscreenClass_()},e.requestFullscreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> e(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{o.off(<span class=\"code-string\">\"fullscreenerror\"</span>,r),o.off(<span class=\"code-string\">\"fullscreenchange\"</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{n(),e()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e,t</span>)</span>{n(),i(t)}o.one(<span class=\"code-string\">\"fullscreenchange\"</span>,t),o.one(<span class=\"code-string\">\"fullscreenerror\"</span>,r);<span class=\"code-keyword\">var</span> a=o.requestFullscreenHelper_(s);a&amp;&amp;(a.then(n,n),a.then(e,i))})}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.requestFullscreenHelper_()},e.requestFullscreenHelper_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.fsApi_.prefixed||(i=<span class=\"code-keyword\">this</span>.options_.fullscreen&amp;&amp;<span class=\"code-keyword\">this</span>.options_.fullscreen.options||{},<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;(i=e)),<span class=\"code-keyword\">this</span>.fsApi_.requestFullscreen){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.el_[<span class=\"code-keyword\">this</span>.fsApi_.requestFullscreen](i);<span class=\"code-keyword\">return</span> i&amp;&amp;i.then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.isFullscreen(!<span class=\"code-number\">0</span>)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.isFullscreen(!<span class=\"code-number\">1</span>)}),i}<span class=\"code-keyword\">this</span>.tech_.supportsFullScreen()&amp;&amp;!<span class=\"code-number\">0</span>==!<span class=\"code-keyword\">this</span>.options_.preferFullWindow?<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"enterFullScreen\"</span>):<span class=\"code-keyword\">this</span>.enterFullWindow()},e.exitFullscreen=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> e(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{s.off(<span class=\"code-string\">\"fullscreenerror\"</span>,r),s.off(<span class=\"code-string\">\"fullscreenchange\"</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{n(),e()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e,t</span>)</span>{n(),i(t)}s.one(<span class=\"code-string\">\"fullscreenchange\"</span>,t),s.one(<span class=\"code-string\">\"fullscreenerror\"</span>,r);<span class=\"code-keyword\">var</span> a=s.exitFullscreenHelper_();a&amp;&amp;(a.then(n,n),a.then(e,i))})}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.exitFullscreenHelper_()},e.exitFullscreenHelper_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.fsApi_.requestFullscreen){<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>[<span class=\"code-keyword\">this</span>.fsApi_.exitFullscreen]();<span class=\"code-keyword\">return</span> t&amp;&amp;Et(t.then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.isFullscreen(!<span class=\"code-number\">1</span>)})),t}<span class=\"code-keyword\">this</span>.tech_.supportsFullScreen()&amp;&amp;!<span class=\"code-number\">0</span>==!<span class=\"code-keyword\">this</span>.options_.preferFullWindow?<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"exitFullScreen\"</span>):<span class=\"code-keyword\">this</span>.exitFullWindow()},e.enterFullWindow=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isFullscreen(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.isFullWindow=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.docOrigOverflow=<span class=\"code-built_in\">document</span>.documentElement.style.overflow,Be(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.boundFullWindowOnEscKey_),<span class=\"code-built_in\">document</span>.documentElement.style.overflow=<span class=\"code-string\">\"hidden\"</span>,te(<span class=\"code-built_in\">document</span>.body,<span class=\"code-string\">\"vjs-full-window\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"enterFullWindow\"</span>)},e.fullWindowOnEscKey=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{ht.isEventKey(e,<span class=\"code-string\">\"Esc\"</span>)&amp;&amp;!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.isFullscreen()&amp;&amp;(<span class=\"code-keyword\">this</span>.isFullWindow?<span class=\"code-keyword\">this</span>.exitFullWindow():<span class=\"code-keyword\">this</span>.exitFullscreen())},e.exitFullWindow=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.isFullscreen(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.isFullWindow=!<span class=\"code-number\">1</span>,Fe(<span class=\"code-built_in\">document</span>,<span class=\"code-string\">\"keydown\"</span>,<span class=\"code-keyword\">this</span>.boundFullWindowOnEscKey_),<span class=\"code-built_in\">document</span>.documentElement.style.overflow=<span class=\"code-keyword\">this</span>.docOrigOverflow,ie(<span class=\"code-built_in\">document</span>.body,<span class=\"code-string\">\"vjs-full-window\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"exitFullWindow\"</span>)},e.disablePictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"disablePictureInPicture\"</span>);<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setDisablePictureInPicture\"</span>,e),<span class=\"code-keyword\">this</span>.options_.disablePictureInPicture=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"disablepictureinpicturechanged\"</span>)},e.isInPictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-keyword\">this</span>.isInPictureInPicture_=!!e,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.togglePictureInPictureClass_()):!!<span class=\"code-keyword\">this</span>.isInPictureInPicture_},e.requestPictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"pictureInPictureEnabled\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>&amp;&amp;!<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.disablePictureInPicture())<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"requestPictureInPicture\"</span>)},e.exitPictureInPicture=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"pictureInPictureEnabled\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">document</span>.exitPictureInPicture()},e.handleKeyDown=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.options_.userActions;t&amp;&amp;t.hotkeys&amp;&amp;(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.tagName.toLowerCase();<span class=\"code-keyword\">if</span>(e.isContentEditable)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"input\"</span>===t)<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===[<span class=\"code-string\">\"button\"</span>,<span class=\"code-string\">\"checkbox\"</span>,<span class=\"code-string\">\"hidden\"</span>,<span class=\"code-string\">\"radio\"</span>,<span class=\"code-string\">\"reset\"</span>,<span class=\"code-string\">\"submit\"</span>].indexOf(e.type);<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>!==[<span class=\"code-string\">\"textarea\"</span>].indexOf(t)}(<span class=\"code-keyword\">this</span>.el_.ownerDocument.activeElement)||(<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t.hotkeys?t.hotkeys.call(<span class=\"code-keyword\">this</span>,e):<span class=\"code-keyword\">this</span>.handleHotkeys(e)))},e.handleHotkeys=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.options_.userActions?<span class=\"code-keyword\">this</span>.options_.userActions.hotkeys:{},i=t.fullscreenKey,n=t.muteKey,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ht.isEventKey(e,<span class=\"code-string\">\"m\"</span>)}:n,t=t.playPauseKey,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ht.isEventKey(e,<span class=\"code-string\">\"k\"</span>)||ht.isEventKey(e,<span class=\"code-string\">\"Space\"</span>)}:t;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ht.isEventKey(e,<span class=\"code-string\">\"f\"</span>)}:i).call(<span class=\"code-keyword\">this</span>,e)?(e.preventDefault(),e.stopPropagation(),i=pt.getComponent(<span class=\"code-string\">\"FullscreenToggle\"</span>),!<span class=\"code-number\">1</span>!==<span class=\"code-built_in\">document</span>[<span class=\"code-keyword\">this</span>.fsApi_.fullscreenEnabled]&amp;&amp;i.prototype.handleClick.call(<span class=\"code-keyword\">this</span>,e)):n.call(<span class=\"code-keyword\">this</span>,e)?(e.preventDefault(),e.stopPropagation(),pt.getComponent(<span class=\"code-string\">\"MuteToggle\"</span>).prototype.handleClick.call(<span class=\"code-keyword\">this</span>,e)):t.call(<span class=\"code-keyword\">this</span>,e)&amp;&amp;(e.preventDefault(),e.stopPropagation(),pt.getComponent(<span class=\"code-string\">\"PlayToggle\"</span>).prototype.handleClick.call(<span class=\"code-keyword\">this</span>,e))},e.canPlayType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">this</span>.options_.techOrder;i&lt;n.length;i++){<span class=\"code-keyword\">var</span> r=n[i],a=ji.getTech(r);<span class=\"code-keyword\">if</span>(a=a||pt.getComponent(r)){<span class=\"code-keyword\">if</span>(a.isSupported()&amp;&amp;(t=a.canPlayType(e)))<span class=\"code-keyword\">return</span> t}<span class=\"code-keyword\">else</span> h.error(<span class=\"code-string\">'The \"'</span>+r+<span class=\"code-string\">'\" tech is undefined. Skipped browser support check for that tech.'</span>)}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>},e.selectSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">return</span> e.some(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> i.some(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(r=n(t,e))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>})}),r}<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.options_.techOrder.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>[e,ji.getTech(e)]}).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e[<span class=\"code-number\">0</span>],e=e[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span> e?e.isSupported():(h.error(<span class=\"code-string\">'The \"'</span>+t+<span class=\"code-string\">'\" tech is undefined. Skipped browser support check for that tech.'</span>),!<span class=\"code-number\">1</span>)}),a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(e[<span class=\"code-number\">1</span>].canPlaySource(t,n.options_[i.toLowerCase()]))<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">source</span>:t,<span class=\"code-attr\">tech</span>:i}},a=<span class=\"code-keyword\">this</span>.options_.sourceOrder?t(e,r,(i=a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i(t,e)})):t(r,e,a);<span class=\"code-keyword\">return</span> a||!<span class=\"code-number\">1</span>},e.handleSrc_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cache_.src||<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">this</span>.resetRetryOnError_&amp;&amp;<span class=\"code-keyword\">this</span>.resetRetryOnError_();<span class=\"code-keyword\">var</span> t,i,a=Ji(e);a.length?(<span class=\"code-keyword\">this</span>.changingSrc_=!<span class=\"code-number\">0</span>,n||(<span class=\"code-keyword\">this</span>.cache_.sources=a),<span class=\"code-keyword\">this</span>.updateSourceCaches_(a[<span class=\"code-number\">0</span>]),Wi(<span class=\"code-keyword\">this</span>,a[<span class=\"code-number\">0</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span> r.middleware_=t,n||(r.cache_.sources=a),r.updateSourceCaches_(e),r.src_(e)?<span class=\"code-number\">1</span>&lt;a.length?r.handleSrc_(a.slice(<span class=\"code-number\">1</span>)):(r.changingSrc_=!<span class=\"code-number\">1</span>,r.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.error({<span class=\"code-attr\">code</span>:<span class=\"code-number\">4</span>,<span class=\"code-attr\">message</span>:<span class=\"code-keyword\">this</span>.options_.notSupportedMessage})},<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> r.triggerReady()):(t=t,i=r.tech_,<span class=\"code-keyword\">void</span> t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.setTech&amp;&amp;e.setTech(i)}))}),<span class=\"code-keyword\">this</span>.options_.retryOnError&amp;&amp;<span class=\"code-number\">1</span>&lt;a.length&amp;&amp;(i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.off(<span class=\"code-string\">\"error\"</span>,t)},<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"error\"</span>,t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.error(<span class=\"code-literal\">null</span>),r.handleSrc_(a.slice(<span class=\"code-number\">1</span>),!<span class=\"code-number\">0</span>)}),<span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"playing\"</span>,i),<span class=\"code-keyword\">this</span>.resetRetryOnError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.off(<span class=\"code-string\">\"error\"</span>,t),r.off(<span class=\"code-string\">\"playing\"</span>,i)})):<span class=\"code-keyword\">this</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.error({<span class=\"code-attr\">code</span>:<span class=\"code-number\">4</span>,<span class=\"code-attr\">message</span>:<span class=\"code-keyword\">this</span>.options_.notSupportedMessage})},<span class=\"code-number\">0</span>)},e.src=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.handleSrc_(e,!<span class=\"code-number\">1</span>)},e.src_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.selectSource([e]);<span class=\"code-keyword\">return</span>!r||(t=r.tech,i=<span class=\"code-keyword\">this</span>.techName_,ut(t)!==ut(i)?(<span class=\"code-keyword\">this</span>.changingSrc_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.loadTech_(r.tech,r.source),<span class=\"code-keyword\">this</span>.tech_.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.changingSrc_=!<span class=\"code-number\">1</span>})):<span class=\"code-keyword\">this</span>.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_.constructor.prototype.hasOwnProperty(<span class=\"code-string\">\"setSource\"</span>)?<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setSource\"</span>,e):<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"src\"</span>,e.src),<span class=\"code-keyword\">this</span>.changingSrc_=!<span class=\"code-number\">1</span>},!<span class=\"code-number\">0</span>),!<span class=\"code-number\">1</span>)},e.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"load\"</span>)},e.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">this</span>.paused()||!t?<span class=\"code-keyword\">this</span>.doReset_():Et(<span class=\"code-keyword\">this</span>.play().then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.doReset_()}))},e.doReset_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.clearTracks(<span class=\"code-string\">\"text\"</span>),<span class=\"code-keyword\">this</span>.resetCache_(),<span class=\"code-keyword\">this</span>.poster(<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">this</span>.loadTech_(<span class=\"code-keyword\">this</span>.options_.techOrder[<span class=\"code-number\">0</span>],<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"reset\"</span>),<span class=\"code-keyword\">this</span>.resetControlBarUI_(),it(<span class=\"code-keyword\">this</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"playerreset\"</span>)},e.resetControlBarUI_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.resetProgressBar_(),<span class=\"code-keyword\">this</span>.resetPlaybackRate_(),<span class=\"code-keyword\">this</span>.resetVolumeBar_()},e.resetProgressBar_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.currentTime(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.controlBar||{},t=e.durationDisplay,e=e.remainingTimeDisplay;t&amp;&amp;t.updateContent(),e&amp;&amp;e.updateContent()},e.resetPlaybackRate_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.playbackRate(<span class=\"code-keyword\">this</span>.defaultPlaybackRate()),<span class=\"code-keyword\">this</span>.handleTechRateChange_()},e.resetVolumeBar_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.volume(<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"volumechange\"</span>)},e.currentSources=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.currentSource(),t=[];<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==<span class=\"code-built_in\">Object</span>.keys(e).length&amp;&amp;t.push(e),<span class=\"code-keyword\">this</span>.cache_.sources||t},e.currentSource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cache_.source||{}},e.currentSrc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentSource()&amp;&amp;<span class=\"code-keyword\">this</span>.currentSource().src||<span class=\"code-string\">\"\"</span>},e.currentType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.currentSource()&amp;&amp;<span class=\"code-keyword\">this</span>.currentSource().type||<span class=\"code-string\">\"\"</span>},e.preload=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setPreload\"</span>,e),<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.options_.preload=e)):<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"preload\"</span>)},e.autoplay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options_.autoplay||!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-regexp\">/(any|play|muted)/</span>.test(e)||!<span class=\"code-number\">0</span>===e&amp;&amp;<span class=\"code-keyword\">this</span>.options_.normalizeAutoplay?(<span class=\"code-keyword\">this</span>.options_.autoplay=e,<span class=\"code-keyword\">this</span>.manualAutoplay_(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?e:<span class=\"code-string\">\"play\"</span>),t=!<span class=\"code-number\">1</span>):<span class=\"code-keyword\">this</span>.options_.autoplay=!!e,t=<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t?<span class=\"code-keyword\">this</span>.options_.autoplay:t,<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setAutoplay\"</span>,t)},e.playsinline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setPlaysinline\"</span>,e),<span class=\"code-keyword\">this</span>.options_.playsinline=e,<span class=\"code-keyword\">this</span>):<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"playsinline\"</span>)},e.loop=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?(<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setLoop\"</span>,e),<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.options_.loop=e)):<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"loop\"</span>)},e.poster=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.poster_;(e=e||<span class=\"code-string\">\"\"</span>)!==<span class=\"code-keyword\">this</span>.poster_&amp;&amp;(<span class=\"code-keyword\">this</span>.poster_=e,<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setPoster\"</span>,e),<span class=\"code-keyword\">this</span>.isPosterFromTech_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"posterchange\"</span>))},e.handleTechPosterChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.poster_&amp;&amp;!<span class=\"code-keyword\">this</span>.options_.techCanOverridePoster||!<span class=\"code-keyword\">this</span>.tech_||!<span class=\"code-keyword\">this</span>.tech_.poster||(e=<span class=\"code-keyword\">this</span>.tech_.poster()||<span class=\"code-string\">\"\"</span>)!==<span class=\"code-keyword\">this</span>.poster_&amp;&amp;(<span class=\"code-keyword\">this</span>.poster_=e,<span class=\"code-keyword\">this</span>.isPosterFromTech_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"posterchange\"</span>))},e.controls=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>.controls_;<span class=\"code-keyword\">this</span>.controls_!==(e=!!e)&amp;&amp;(<span class=\"code-keyword\">this</span>.controls_=e,<span class=\"code-keyword\">this</span>.usingNativeControls()&amp;&amp;<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setControls\"</span>,e),<span class=\"code-keyword\">this</span>.controls_?(<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-controls-disabled\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-controls-enabled\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"controlsenabled\"</span>),<span class=\"code-keyword\">this</span>.usingNativeControls()||<span class=\"code-keyword\">this</span>.addTechControlsListeners_()):(<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-controls-enabled\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-controls-disabled\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"controlsdisabled\"</span>),<span class=\"code-keyword\">this</span>.usingNativeControls()||<span class=\"code-keyword\">this</span>.removeTechControlsListeners_()))},e.usingNativeControls=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>.usingNativeControls_;<span class=\"code-keyword\">this</span>.usingNativeControls_!==(e=!!e)&amp;&amp;(<span class=\"code-keyword\">this</span>.usingNativeControls_=e,<span class=\"code-keyword\">this</span>.usingNativeControls_?(<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-using-native-controls\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"usingnativecontrols\"</span>)):(<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-using-native-controls\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"usingcustomcontrols\"</span>)))},e.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.error_||<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(a(<span class=\"code-string\">\"beforeerror\"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e(i,t);T(e)&amp;&amp;!<span class=\"code-built_in\">Array</span>.isArray(e)||<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e||<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e||<span class=\"code-literal\">null</span>===e?t=e:i.log.error(<span class=\"code-string\">\"please return a value that MediaError expects in beforeerror hooks\"</span>)}),<span class=\"code-keyword\">this</span>.options_.suppressNotSupportedError&amp;&amp;t&amp;&amp;<span class=\"code-number\">4</span>===t.code){<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.error(t)};<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.options_.suppressNotSupportedError=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.any([<span class=\"code-string\">\"click\"</span>,<span class=\"code-string\">\"touchstart\"</span>],e),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.one(<span class=\"code-string\">\"loadstart\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.off([<span class=\"code-string\">\"click\"</span>,<span class=\"code-string\">\"touchstart\"</span>],e)})}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.error_=t,<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-error\"</span>),<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.errorDisplay&amp;&amp;<span class=\"code-keyword\">this</span>.errorDisplay.close());<span class=\"code-keyword\">this</span>.error_=<span class=\"code-keyword\">new</span> bt(t),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-error\"</span>),h.error(<span class=\"code-string\">\"(CODE:\"</span>+<span class=\"code-keyword\">this</span>.error_.code+<span class=\"code-string\">\" \"</span>+bt.errorTypes[<span class=\"code-keyword\">this</span>.error_.code]+<span class=\"code-string\">\")\"</span>,<span class=\"code-keyword\">this</span>.error_.message,<span class=\"code-keyword\">this</span>.error_),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>),a(<span class=\"code-string\">\"error\"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e(i,i.error_)})},e.reportUserActivity=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.userActivity_=!<span class=\"code-number\">0</span>},e.userActive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.userActive_;<span class=\"code-keyword\">if</span>((e=!!e)!==<span class=\"code-keyword\">this</span>.userActive_){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.userActive_=e,<span class=\"code-keyword\">this</span>.userActive_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.userActivity_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-user-inactive\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-user-active\"</span>),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"useractive\"</span>);<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.one(<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.stopPropagation(),e.preventDefault()}),<span class=\"code-keyword\">this</span>.userActivity_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-user-active\"</span>),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-user-inactive\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"userinactive\"</span>)}},e.listenForUserActivity_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r=Ve(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.reportUserActivity),e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r(),<span class=\"code-keyword\">this</span>.clearInterval(t)};<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"mousedown\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r(),<span class=\"code-keyword\">this</span>.clearInterval(t),t=<span class=\"code-keyword\">this</span>.setInterval(r,<span class=\"code-number\">250</span>)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"mousemove\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.screenX===i&amp;&amp;e.screenY===n||(i=e.screenX,n=e.screenY,r())}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"mouseup\"</span>,e),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"mouseleave\"</span>,e);<span class=\"code-keyword\">var</span> a,e=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"controlBar\"</span>);!e||q||A||(e.on(<span class=\"code-string\">\"mouseenter\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.player().options_.inactivityTimeout&amp;&amp;(<span class=\"code-keyword\">this</span>.player().cache_.inactivityTimeout=<span class=\"code-keyword\">this</span>.player().options_.inactivityTimeout),<span class=\"code-keyword\">this</span>.player().options_.inactivityTimeout=<span class=\"code-number\">0</span>}),e.on(<span class=\"code-string\">\"mouseleave\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.player().options_.inactivityTimeout=<span class=\"code-keyword\">this</span>.player().cache_.inactivityTimeout})),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"keydown\"</span>,r),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"keyup\"</span>,r),<span class=\"code-keyword\">this</span>.setInterval(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.userActivity_&amp;&amp;(<span class=\"code-keyword\">this</span>.userActivity_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.userActive(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.clearTimeout(a),(e=<span class=\"code-keyword\">this</span>.options_.inactivityTimeout)&lt;=<span class=\"code-number\">0</span>||(a=<span class=\"code-keyword\">this</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.userActivity_||<span class=\"code-keyword\">this</span>.userActive(!<span class=\"code-number\">1</span>)},e)))},<span class=\"code-number\">250</span>)},e.playbackRate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.featuresPlaybackRate?<span class=\"code-keyword\">this</span>.cache_.lastPlaybackRate||<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"playbackRate\"</span>):<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setPlaybackRate\"</span>,e)},e.defaultPlaybackRate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e?<span class=\"code-keyword\">this</span>.techCall_(<span class=\"code-string\">\"setDefaultPlaybackRate\"</span>,e):<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.featuresPlaybackRate?<span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"defaultPlaybackRate\"</span>):<span class=\"code-number\">1</span>},e.isAudio=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>.isAudio_;<span class=\"code-keyword\">this</span>.isAudio_=!!e},e.enableAudioOnlyUI_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-audio-only-mode\"</span>);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.children(),i=<span class=\"code-keyword\">this</span>.getChild(<span class=\"code-string\">\"ControlBar\"</span>),n=i&amp;&amp;i.currentHeight();e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e!==i&amp;&amp;e.el_&amp;&amp;!e.hasClass(<span class=\"code-string\">\"vjs-hidden\"</span>)&amp;&amp;(e.hide(),t.audioOnlyCache_.hiddenChildren.push(e))}),<span class=\"code-keyword\">this</span>.audioOnlyCache_.playerHeight=<span class=\"code-keyword\">this</span>.currentHeight(),<span class=\"code-keyword\">this</span>.height(n),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"audioonlymodechange\"</span>)},e.disableAudioOnlyUI_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-audio-only-mode\"</span>),<span class=\"code-keyword\">this</span>.audioOnlyCache_.hiddenChildren.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.show()}),<span class=\"code-keyword\">this</span>.height(<span class=\"code-keyword\">this</span>.audioOnlyCache_.playerHeight),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"audioonlymodechange\"</span>)},e.audioOnlyMode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"boolean\"</span>!=<span class=\"code-keyword\">typeof</span> e||e===<span class=\"code-keyword\">this</span>.audioOnlyMode_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.audioOnlyMode_;<span class=\"code-keyword\">this</span>.audioOnlyMode_=e;<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">if</span>(i){<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> n=[];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isInPictureInPicture()&amp;&amp;n.push(<span class=\"code-keyword\">this</span>.exitPictureInPicture()),<span class=\"code-keyword\">this</span>.isFullscreen()&amp;&amp;n.push(<span class=\"code-keyword\">this</span>.exitFullscreen()),<span class=\"code-keyword\">this</span>.audioPosterMode()&amp;&amp;n.push(<span class=\"code-keyword\">this</span>.audioPosterMode(!<span class=\"code-number\">1</span>)),i.all(n).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.enableAudioOnlyUI_()})}<span class=\"code-keyword\">return</span> i.resolve().then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.disableAudioOnlyUI_()})}e?(<span class=\"code-keyword\">this</span>.isInPictureInPicture()&amp;&amp;<span class=\"code-keyword\">this</span>.exitPictureInPicture(),<span class=\"code-keyword\">this</span>.isFullscreen()&amp;&amp;<span class=\"code-keyword\">this</span>.exitFullscreen(),<span class=\"code-keyword\">this</span>.enableAudioOnlyUI_()):<span class=\"code-keyword\">this</span>.disableAudioOnlyUI_()},e.enablePosterModeUI_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{(<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_).hide(),<span class=\"code-keyword\">this</span>.addClass(<span class=\"code-string\">\"vjs-audio-poster-mode\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"audiopostermodechange\"</span>)},e.disablePosterModeUI_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{(<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_).show(),<span class=\"code-keyword\">this</span>.removeClass(<span class=\"code-string\">\"vjs-audio-poster-mode\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"audiopostermodechange\"</span>)},e.audioPosterMode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"boolean\"</span>!=<span class=\"code-keyword\">typeof</span> e||e===<span class=\"code-keyword\">this</span>.audioPosterMode_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.audioPosterMode_;<span class=\"code-keyword\">this</span>.audioPosterMode_=e;<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.options_.Promise||<span class=\"code-built_in\">window</span>.Promise;<span class=\"code-keyword\">return</span> i?e?(<span class=\"code-keyword\">this</span>.audioOnlyMode()?<span class=\"code-keyword\">this</span>.audioOnlyMode(!<span class=\"code-number\">1</span>):i.resolve()).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.enablePosterModeUI_()}):i.resolve().then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.disablePosterModeUI_()}):e?(<span class=\"code-keyword\">this</span>.audioOnlyMode()&amp;&amp;<span class=\"code-keyword\">this</span>.audioOnlyMode(!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.enablePosterModeUI_()):<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.disablePosterModeUI_()},e.addTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.tech_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_.addTextTrack(e,t,i)},e.addRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.tech_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=(t=(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e).track)||e;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.tech_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(<span class=\"code-string\">\"getVideoPlaybackQuality\"</span>)},e.videoWidth=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.videoWidth&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.videoWidth()||<span class=\"code-number\">0</span>},e.videoHeight=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.videoHeight&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.videoHeight()||<span class=\"code-number\">0</span>},e.language=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.language_;<span class=\"code-keyword\">this</span>.language_!==<span class=\"code-built_in\">String</span>(e).toLowerCase()&amp;&amp;(<span class=\"code-keyword\">this</span>.language_=<span class=\"code-built_in\">String</span>(e).toLowerCase(),it(<span class=\"code-keyword\">this</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"languagechange\"</span>))},e.languages=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> lt(o.prototype.options_.languages,<span class=\"code-keyword\">this</span>.languages_)},e.toJSON=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=lt(<span class=\"code-keyword\">this</span>.options_),t=e.tracks;e.tracks=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;t.length;i++){<span class=\"code-keyword\">var</span> n=t[i];(n=lt(n)).player=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,e.tracks[i]=n}<span class=\"code-keyword\">return</span> e},e.createModal=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;(t=t||{}).content=e||<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> At(<span class=\"code-keyword\">this</span>,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.addChild(n),n.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.removeChild(n)}),n.open(),n},e.updateCurrentBreakpoint_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.responsive())<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.currentBreakpoint(),t=<span class=\"code-keyword\">this</span>.currentWidth(),i=<span class=\"code-number\">0</span>;i&lt;Nn.length;i++){<span class=\"code-keyword\">var</span> n=Nn[i];<span class=\"code-keyword\">if</span>(t&lt;=<span class=\"code-keyword\">this</span>.breakpoints_[n]){<span class=\"code-keyword\">if</span>(e===n)<span class=\"code-keyword\">return</span>;e&amp;&amp;<span class=\"code-keyword\">this</span>.removeClass(Un[e]),<span class=\"code-keyword\">this</span>.addClass(Un[n]),<span class=\"code-keyword\">this</span>.breakpoint_=n;<span class=\"code-keyword\">break</span>}}},e.removeCurrentBreakpoint_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.currentBreakpointClass();<span class=\"code-keyword\">this</span>.breakpoint_=<span class=\"code-string\">\"\"</span>,e&amp;&amp;<span class=\"code-keyword\">this</span>.removeClass(e)},e.breakpoints=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e||(<span class=\"code-keyword\">this</span>.breakpoint_=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.breakpoints_=b({},Bn,e),<span class=\"code-keyword\">this</span>.updateCurrentBreakpoint_()),b(<span class=\"code-keyword\">this</span>.breakpoints_)},e.responsive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-keyword\">this</span>.responsive_:(e=<span class=\"code-built_in\">Boolean</span>(e))!==<span class=\"code-keyword\">this</span>.responsive_?((<span class=\"code-keyword\">this</span>.responsive_=e)?(<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"playerresize\"</span>,<span class=\"code-keyword\">this</span>.boundUpdateCurrentBreakpoint_),<span class=\"code-keyword\">this</span>.updateCurrentBreakpoint_()):(<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"playerresize\"</span>,<span class=\"code-keyword\">this</span>.boundUpdateCurrentBreakpoint_),<span class=\"code-keyword\">this</span>.removeCurrentBreakpoint_()),e):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},e.currentBreakpoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.breakpoint_},e.currentBreakpointClass=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Un[<span class=\"code-keyword\">this</span>.breakpoint_]||<span class=\"code-string\">\"\"</span>},e.loadMedia=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r,a=<span class=\"code-keyword\">this</span>;e&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(<span class=\"code-keyword\">this</span>.reset(),<span class=\"code-keyword\">this</span>.cache_.media=lt(e),i=(r=<span class=\"code-keyword\">this</span>.cache_.media).artwork,n=r.poster,e=r.src,r=r.textTracks,!i&amp;&amp;n&amp;&amp;(<span class=\"code-keyword\">this</span>.cache_.media.artwork=[{<span class=\"code-attr\">src</span>:n,<span class=\"code-attr\">type</span>:$i(n)}]),e&amp;&amp;<span class=\"code-keyword\">this</span>.src(e),n&amp;&amp;<span class=\"code-keyword\">this</span>.poster(n),<span class=\"code-built_in\">Array</span>.isArray(r)&amp;&amp;r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> a.addRemoteTextTrack(e,!<span class=\"code-number\">1</span>)}),<span class=\"code-keyword\">this</span>.ready(t))},e.getMedia=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.cache_.media)<span class=\"code-keyword\">return</span> lt(<span class=\"code-keyword\">this</span>.cache_.media);<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.poster(),t={<span class=\"code-attr\">src</span>:<span class=\"code-keyword\">this</span>.currentSources(),<span class=\"code-attr\">textTracks</span>:<span class=\"code-built_in\">Array</span>.prototype.map.call(<span class=\"code-keyword\">this</span>.remoteTextTracks(),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">kind</span>:e.kind,<span class=\"code-attr\">label</span>:e.label,<span class=\"code-attr\">language</span>:e.language,<span class=\"code-attr\">src</span>:e.src}})};<span class=\"code-keyword\">return</span> e&amp;&amp;(t.poster=e,t.artwork=[{<span class=\"code-attr\">src</span>:t.poster,<span class=\"code-attr\">type</span>:$i(t.poster)}]),t},o.getTagSettings=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i={<span class=\"code-attr\">sources</span>:[],<span class=\"code-attr\">tracks</span>:[]},n=ae(e),r=n[<span class=\"code-string\">\"data-setup\"</span>];<span class=\"code-keyword\">if</span>(ee(e,<span class=\"code-string\">\"vjs-fill\"</span>)&amp;&amp;(n.fill=!<span class=\"code-number\">0</span>),ee(e,<span class=\"code-string\">\"vjs-fluid\"</span>)&amp;&amp;(n.fluid=!<span class=\"code-number\">0</span>),<span class=\"code-literal\">null</span>!==r&amp;&amp;(r=(t=St(r||<span class=\"code-string\">\"{}\"</span>))[<span class=\"code-number\">0</span>],t=t[<span class=\"code-number\">1</span>],r&amp;&amp;h.error(r),b(n,t)),b(i,n),e.hasChildNodes())<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=e.childNodes,s=<span class=\"code-number\">0</span>,o=a.length;s&lt;o;s++){<span class=\"code-keyword\">var</span> u=a[s],l=u.nodeName.toLowerCase();<span class=\"code-string\">\"source\"</span>===l?i.sources.push(ae(u)):<span class=\"code-string\">\"track\"</span>===l&amp;&amp;i.tracks.push(ae(u))}<span class=\"code-keyword\">return</span> i},e.flexNotSupported_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"i\"</span>);<span class=\"code-keyword\">return</span>!(<span class=\"code-string\">\"flexBasis\"</span><span class=\"code-keyword\">in</span> e.style||<span class=\"code-string\">\"webkitFlexBasis\"</span><span class=\"code-keyword\">in</span> e.style||<span class=\"code-string\">\"mozFlexBasis\"</span><span class=\"code-keyword\">in</span> e.style||<span class=\"code-string\">\"msFlexBasis\"</span><span class=\"code-keyword\">in</span> e.style||<span class=\"code-string\">\"msFlexOrder\"</span><span class=\"code-keyword\">in</span> e.style)},e.debug=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.debugEnabled_;e?(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"debugon\"</span>),<span class=\"code-keyword\">this</span>.previousLogLevel_=<span class=\"code-keyword\">this</span>.log.level,<span class=\"code-keyword\">this</span>.log.level(<span class=\"code-string\">\"debug\"</span>),<span class=\"code-keyword\">this</span>.debugEnabled_=!<span class=\"code-number\">0</span>):(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"debugoff\"</span>),<span class=\"code-keyword\">this</span>.log.level(<span class=\"code-keyword\">this</span>.previousLogLevel_),<span class=\"code-keyword\">this</span>.previousLogLevel_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.debugEnabled_=!<span class=\"code-number\">1</span>)},e.playbackRates=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cache_.playbackRates;<span class=\"code-built_in\">Array</span>.isArray(e)&amp;&amp;e.every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e})&amp;&amp;(<span class=\"code-keyword\">this</span>.cache_.playbackRates=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"playbackrateschange\"</span>))},o}(pt);oi.names.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=oi[e];Fn.prototype[t.getterName]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_?<span class=\"code-keyword\">this</span>.tech_[t.getterName]():(<span class=\"code-keyword\">this</span>[t.privateName]=<span class=\"code-keyword\">this</span>[t.privateName]||<span class=\"code-keyword\">new</span> t.ListClass,<span class=\"code-keyword\">this</span>[t.privateName])}}),Fn.prototype.crossorigin=Fn.prototype.crossOrigin,Fn.players={};k=<span class=\"code-built_in\">window</span>.navigator;Fn.prototype.options_={<span class=\"code-attr\">techOrder</span>:ji.defaultTechOrder_,<span class=\"code-attr\">html5</span>:{},<span class=\"code-attr\">inactivityTimeout</span>:<span class=\"code-number\">2e3</span>,<span class=\"code-attr\">playbackRates</span>:[],<span class=\"code-attr\">liveui</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">children</span>:[<span class=\"code-string\">\"mediaLoader\"</span>,<span class=\"code-string\">\"posterImage\"</span>,<span class=\"code-string\">\"textTrackDisplay\"</span>,<span class=\"code-string\">\"loadingSpinner\"</span>,<span class=\"code-string\">\"bigPlayButton\"</span>,<span class=\"code-string\">\"liveTracker\"</span>,<span class=\"code-string\">\"controlBar\"</span>,<span class=\"code-string\">\"errorDisplay\"</span>,<span class=\"code-string\">\"textTrackSettings\"</span>,<span class=\"code-string\">\"resizeManager\"</span>],<span class=\"code-attr\">language</span>:k&amp;&amp;(k.languages&amp;&amp;k.languages[<span class=\"code-number\">0</span>]||k.userLanguage||k.language)||<span class=\"code-string\">\"en\"</span>,<span class=\"code-attr\">languages</span>:{},<span class=\"code-attr\">notSupportedMessage</span>:<span class=\"code-string\">\"No compatible source was found for this media.\"</span>,<span class=\"code-attr\">normalizeAutoplay</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">fullscreen</span>:{<span class=\"code-attr\">options</span>:{<span class=\"code-attr\">navigationUI</span>:<span class=\"code-string\">\"hide\"</span>}},<span class=\"code-attr\">breakpoints</span>:{},<span class=\"code-attr\">responsive</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">audioOnlyMode</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">audioPosterMode</span>:!<span class=\"code-number\">1</span>},[<span class=\"code-string\">\"ended\"</span>,<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-string\">\"seekable\"</span>,<span class=\"code-string\">\"networkState\"</span>,<span class=\"code-string\">\"readyState\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Fn.prototype[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techGet_(e)}}),Mn.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Fn.prototype[<span class=\"code-string\">\"handleTech\"</span>+ut(e)+<span class=\"code-string\">\"_\"</span>]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.trigger(e)}}),pt.registerComponent(<span class=\"code-string\">\"Player\"</span>,Fn);<span class=\"code-keyword\">var</span> jn=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i.exports=n=<span class=\"code-built_in\">Object</span>.setPrototypeOf||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.__proto__=t,e},n(e,t)}i.exports=n});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hn</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> Qn.hasOwnProperty(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qn</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> Hn(e)?Qn[e]:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vn</span>(<span class=\"code-params\">e,t,i</span>)</span>{i=(i?<span class=\"code-string\">\"before\"</span>:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"pluginsetup\"</span>,e.trigger(i,t),e.trigger(i+<span class=\"code-string\">\":\"</span>+t.name,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wn</span>(<span class=\"code-params\">t,i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{Vn(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">name</span>:t,<span class=\"code-attr\">plugin</span>:i,<span class=\"code-attr\">instance</span>:<span class=\"code-literal\">null</span>},!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> e=i.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>);<span class=\"code-keyword\">return</span> $n(<span class=\"code-keyword\">this</span>,t),Vn(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">name</span>:t,<span class=\"code-attr\">plugin</span>:i,<span class=\"code-attr\">instance</span>:e}),e}<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(i).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n[e]=i[e]}),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gn</span>(<span class=\"code-params\">r,a</span>)</span>{<span class=\"code-keyword\">return</span> a.prototype.name=r,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Vn(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">name</span>:r,<span class=\"code-attr\">plugin</span>:a,<span class=\"code-attr\">instance</span>:<span class=\"code-literal\">null</span>},!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">var</span> n=Xn(a,[<span class=\"code-keyword\">this</span>].concat(t));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[r]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n},Vn(<span class=\"code-keyword\">this</span>,n.getEventHash()),n}}<span class=\"code-keyword\">var</span> zn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Reflect</span>||!<span class=\"code-built_in\">Reflect</span>.construct)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Reflect</span>.construct.sham)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Proxy</span>)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Date</span>.prototype.toString.call(<span class=\"code-built_in\">Reflect</span>.construct(<span class=\"code-built_in\">Date</span>,[],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{})),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}},Xn=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> zn()?n.exports=r=<span class=\"code-built_in\">Reflect</span>.construct:n.exports=r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=[<span class=\"code-literal\">null</span>];n.push.apply(n,t);n=<span class=\"code-keyword\">new</span>(<span class=\"code-built_in\">Function</span>.bind.apply(e,n));<span class=\"code-keyword\">return</span> i&amp;&amp;jn(n,i.prototype),n},r.apply(<span class=\"code-literal\">null</span>,<span class=\"code-built_in\">arguments</span>)}n.exports=r}),Kn=<span class=\"code-string\">\"plugin\"</span>,Yn=<span class=\"code-string\">\"activePlugins_\"</span>,Qn={},$n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e[Yn]=e[Yn]||{},e[Yn][t]=!<span class=\"code-number\">0</span>},Jn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.constructor===i)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Plugin must be sub-classed; not directly instantiated.\"</span>);<span class=\"code-keyword\">this</span>.player=e,<span class=\"code-keyword\">this</span>.log||(<span class=\"code-keyword\">this</span>.log=<span class=\"code-keyword\">this</span>.player.log.createLogger(<span class=\"code-keyword\">this</span>.name)),rt(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.trigger,st(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.constructor.defaultState),$n(e,<span class=\"code-keyword\">this</span>.name),<span class=\"code-keyword\">this</span>.dispose=<span class=\"code-keyword\">this</span>.dispose.bind(<span class=\"code-keyword\">this</span>),e.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-keyword\">this</span>.dispose)}<span class=\"code-keyword\">var</span> e=i.prototype;<span class=\"code-keyword\">return</span> e.version=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.constructor.VERSION},e.getEventHash=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e).name=<span class=\"code-keyword\">this</span>.name,e.plugin=<span class=\"code-keyword\">this</span>.constructor,e.instance=<span class=\"code-keyword\">this</span>,e},e.trigger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> je(<span class=\"code-keyword\">this</span>.eventBusEl_,e,<span class=\"code-keyword\">this</span>.getEventHash(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t))},e.handleStateChanged=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},e.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.name,t=<span class=\"code-keyword\">this</span>.player;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.off(),t.off(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-keyword\">this</span>.dispose),t[Yn][e]=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.player=<span class=\"code-keyword\">this</span>.state=<span class=\"code-literal\">null</span>,t[e]=Gn(e,Qn[e])},i.isBasic=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?qn(e):e;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;!i.prototype.isPrototypeOf(e.prototype)},i.registerPlugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Illegal plugin name, \"'</span>+e+<span class=\"code-string\">'\", must be a string, was '</span>+<span class=\"code-keyword\">typeof</span> e+<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">if</span>(Hn(e))h.warn(<span class=\"code-string\">'A plugin named \"'</span>+e+<span class=\"code-string\">'\" already exists. You may want to avoid re-registering plugins!'</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(Fn.prototype.hasOwnProperty(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Illegal plugin name, \"'</span>+e+<span class=\"code-string\">'\", cannot share a name with an existing player method!'</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'Illegal plugin for \"'</span>+e+<span class=\"code-string\">'\", must be a function, was '</span>+<span class=\"code-keyword\">typeof</span> t+<span class=\"code-string\">\".\"</span>);<span class=\"code-keyword\">return</span> Qn[e]=t,e!==Kn&amp;&amp;(i.isBasic(t)?Fn.prototype[e]=Wn(e,t):Fn.prototype[e]=Gn(e,t)),t},i.deregisterPlugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e===Kn)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot de-register base plugin.\"</span>);Hn(e)&amp;&amp;(<span class=\"code-keyword\">delete</span> Qn[e],<span class=\"code-keyword\">delete</span> Fn.prototype[e])},i.getPlugins=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span>(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-built_in\">Object</span>.keys(Qn):e).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=qn(e);t&amp;&amp;((i=i||{})[e]=t)}),i},i.getPluginVersion=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=qn(e);<span class=\"code-keyword\">return</span> e&amp;&amp;e.VERSION||<span class=\"code-string\">\"\"</span>},i}();Jn.getPlugin=qn,Jn.BASE_PLUGIN_NAME=Kn,Jn.registerPlugin(Kn,Jn),Fn.prototype.usingPlugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!<span class=\"code-keyword\">this</span>[Yn]&amp;&amp;!<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>[Yn][e]},Fn.prototype.hasPlugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!Hn(e)};<span class=\"code-keyword\">var</span> Zn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> t&amp;&amp;<span class=\"code-literal\">null</span>!==t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Super expression must either be null or a function\"</span>);e.prototype=<span class=\"code-built_in\">Object</span>.create(t&amp;&amp;t.prototype,{<span class=\"code-attr\">constructor</span>:{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">writable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}}),t&amp;&amp;jn(e,t)},er=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e.indexOf(<span class=\"code-string\">\"#\"</span>)?e.slice(<span class=\"code-number\">1</span>):e};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tr</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(r=tr.getPlayer(e))<span class=\"code-keyword\">return</span> t&amp;&amp;h.warn(<span class=\"code-string\">'Player \"'</span>+e+<span class=\"code-string\">'\" is already initialised. Options will not be applied.'</span>),i&amp;&amp;r.ready(i),r;<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?Te(<span class=\"code-string\">\"#\"</span>+er(e)):e;<span class=\"code-keyword\">if</span>(!K(n))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"The element or ID supplied is not valid. (videojs)\"</span>);n.ownerDocument.defaultView&amp;&amp;n.ownerDocument.body.contains(n)||h.warn(<span class=\"code-string\">\"The element supplied is not included in the DOM\"</span>),!<span class=\"code-number\">0</span>===(t=t||{}).restoreEl&amp;&amp;(t.restoreEl=(n.parentNode&amp;&amp;n.parentNode.hasAttribute(<span class=\"code-string\">\"data-vjs-player\"</span>)?n.parentNode:n).cloneNode(!<span class=\"code-number\">0</span>)),a(<span class=\"code-string\">\"beforesetup\"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e(n,lt(t));T(e)&amp;&amp;!<span class=\"code-built_in\">Array</span>.isArray(e)?t=lt(t,e):h.error(<span class=\"code-string\">\"please return an object in beforesetup hooks\"</span>)});<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span>(pt.getComponent(<span class=\"code-string\">\"Player\"</span>))(n,t,i);<span class=\"code-keyword\">return</span> a(<span class=\"code-string\">\"setup\"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e(r)}),r}tr.hooks_=i,tr.hooks=a,tr.hook=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{a(e,t)},tr.hookOnce=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,e</span>)</span>{a(i,[].concat(e).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n(i,e),t.apply(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-built_in\">arguments</span>)}}))},tr.removeHook=n,!<span class=\"code-number\">0</span>!==<span class=\"code-built_in\">window</span>.VIDEOJS_NO_DYNAMIC_STYLE&amp;&amp;X()&amp;&amp;((ar=Te(<span class=\"code-string\">\".vjs-styles-defaults\"</span>))||(ar=xe(<span class=\"code-string\">\"vjs-styles-defaults\"</span>),(k=Te(<span class=\"code-string\">\"head\"</span>))&amp;&amp;k.insertBefore(ar,k.firstChild),Ae(ar,<span class=\"code-string\">\"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid:not(.vjs-audio-only-mode) {\\n        padding-top: 56.25%\\n      }\\n    \"</span>))),Ce(<span class=\"code-number\">1</span>,tr),tr.VERSION=u,tr.options=Fn.prototype.options_,tr.getPlayers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Fn.players},tr.getPlayer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Fn.players;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">var</span> i=er(e),n=t[i];<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">return</span> n;i=Te(<span class=\"code-string\">\"#\"</span>+i)}<span class=\"code-keyword\">else</span> i=e;<span class=\"code-keyword\">if</span>(K(i)){e=i.player,i=i.playerId;<span class=\"code-keyword\">if</span>(e||t[i])<span class=\"code-keyword\">return</span> e||t[i]}},tr.getAllPlayers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(Fn.players).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> Fn.players[e]}).filter(<span class=\"code-built_in\">Boolean</span>)},tr.players=Fn.players,tr.getComponent=pt.getComponent,tr.registerComponent=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{ji.isTech(t)&amp;&amp;h.warn(<span class=\"code-string\">\"The \"</span>+e+<span class=\"code-string\">\" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\"</span>),pt.registerComponent.call(pt,e,t)},tr.getTech=ji.getTech,tr.registerTech=ji.registerTech,tr.use=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{Hi[e]=Hi[e]||[],Hi[e].push(t)},<span class=\"code-built_in\">Object</span>.defineProperty(tr,<span class=\"code-string\">\"middleware\"</span>,{<span class=\"code-attr\">value</span>:{},<span class=\"code-attr\">writeable</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(tr.middleware,<span class=\"code-string\">\"TERMINATOR\"</span>,{<span class=\"code-attr\">value</span>:Vi,<span class=\"code-attr\">writeable</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>}),tr.browser=W,tr.TOUCH_ENABLED=F,tr.extend=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>)},r={};<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span><span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t)?(t.constructor!==<span class=\"code-built_in\">Object</span>.prototype.constructor&amp;&amp;(n=t.constructor),r=t):<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;(n=t),Zn(n,e),e&amp;&amp;(n.super_=e),r)r.hasOwnProperty(i)&amp;&amp;(n.prototype[i]=r[i]);<span class=\"code-keyword\">return</span> n},tr.mergeOptions=lt,tr.bind=Ve,tr.registerPlugin=Jn.registerPlugin,tr.deregisterPlugin=Jn.deregisterPlugin,tr.plugin=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> h.warn(<span class=\"code-string\">\"videojs.plugin() is deprecated; use videojs.registerPlugin() instead\"</span>),Jn.registerPlugin(e,t)},tr.getPlugins=Jn.getPlugins,tr.getPlugin=Jn.getPlugin,tr.getPluginVersion=Jn.getPluginVersion,tr.addLanguage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span> e=(<span class=\"code-string\">\"\"</span>+e).toLowerCase(),tr.options.languages=lt(tr.options.languages,((i={})[e]=t,i)),tr.options.languages[e]},tr.log=h,tr.createLogger=p,tr.createTimeRange=tr.createTimeRanges=vt,tr.formatTime=ln,tr.setFormatTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{un=e},tr.resetFormatTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{un=on},tr.parseUrl=Mt,tr.isCrossOrigin=Ut,tr.EventTarget=ze,tr.on=Be,tr.one=He,tr.off=Fe,tr.trigger=je,tr.xhr=Jt,tr.TextTrack=ri,tr.AudioTrack=x,tr.VideoTrack=U,[<span class=\"code-string\">\"isEl\"</span>,<span class=\"code-string\">\"isTextNode\"</span>,<span class=\"code-string\">\"createEl\"</span>,<span class=\"code-string\">\"hasClass\"</span>,<span class=\"code-string\">\"addClass\"</span>,<span class=\"code-string\">\"removeClass\"</span>,<span class=\"code-string\">\"toggleClass\"</span>,<span class=\"code-string\">\"setAttributes\"</span>,<span class=\"code-string\">\"getAttributes\"</span>,<span class=\"code-string\">\"emptyEl\"</span>,<span class=\"code-string\">\"appendContent\"</span>,<span class=\"code-string\">\"insertContent\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{tr[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> h.warn(<span class=\"code-string\">\"videojs.\"</span>+e+<span class=\"code-string\">\"() is deprecated; use videojs.dom.\"</span>+e+<span class=\"code-string\">\"() instead\"</span>),we[e].apply(<span class=\"code-literal\">null</span>,<span class=\"code-built_in\">arguments</span>)}}),tr.computedStyle=w,tr.dom=we,tr.url=zt,tr.defineLazyProperty=An,tr.addLanguage(<span class=\"code-string\">\"en\"</span>,{<span class=\"code-string\">\"Non-Fullscreen\"</span>:<span class=\"code-string\">\"Exit Fullscreen\"</span>});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ir</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/^[a-z]+:/i</span>.test(t))<span class=\"code-keyword\">return</span> t;<span class=\"code-regexp\">/^data:/</span>.test(e)&amp;&amp;(e=<span class=\"code-built_in\">window</span>.location&amp;&amp;<span class=\"code-built_in\">window</span>.location.href||<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.URL,n=<span class=\"code-regexp\">/^\\/\\//</span>.test(e),r=!<span class=\"code-built_in\">window</span>.location&amp;&amp;!<span class=\"code-regexp\">/\\/\\//i</span>.test(e);<span class=\"code-keyword\">if</span>(i?e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.URL(e,<span class=\"code-built_in\">window</span>.location||rr):<span class=\"code-regexp\">/\\/\\//i</span>.test(e)||(e=nr.buildAbsoluteURL(<span class=\"code-built_in\">window</span>.location&amp;&amp;<span class=\"code-built_in\">window</span>.location.href||<span class=\"code-string\">\"\"</span>,e)),i){i=<span class=\"code-keyword\">new</span> URL(t,e);<span class=\"code-keyword\">return</span> r?i.href.slice(rr.length):n?i.href.slice(i.protocol.length):i.href}<span class=\"code-keyword\">return</span> nr.buildAbsoluteURL(e,t)}<span class=\"code-keyword\">var</span> nr=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,a,n,r,s;i=<span class=\"code-regexp\">/^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/?#]*\\/)*[^;?#]*)?(;[^?#]*)?(\\?[^#]*)?(#[^]*)?$/</span>,a=<span class=\"code-regexp\">/^([^\\/?#]*)([^]*)$/</span>,n=<span class=\"code-regexp\">/(?:\\/|^)\\.(?=\\/)/g</span>,r=<span class=\"code-regexp\">/(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/)[^\\/]*(?=\\/)/g</span>,s={<span class=\"code-attr\">buildAbsoluteURL</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(i=i||{},e=e.trim(),!(t=t.trim())){<span class=\"code-keyword\">if</span>(!i.alwaysNormalize)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> n=s.parseURL(e);<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error trying to parse base URL.\"</span>);<span class=\"code-keyword\">return</span> n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}n=s.parseURL(t);<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error trying to parse relative URL.\"</span>);<span class=\"code-keyword\">if</span>(n.scheme)<span class=\"code-keyword\">return</span> i.alwaysNormalize?(n.path=s.normalizePath(n.path),s.buildURLFromParts(n)):t;t=s.parseURL(e);<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Error trying to parse base URL.\"</span>);!t.netLoc&amp;&amp;t.path&amp;&amp;<span class=\"code-string\">\"/\"</span>!==t.path[<span class=\"code-number\">0</span>]&amp;&amp;(r=a.exec(t.path),t.netLoc=r[<span class=\"code-number\">1</span>],t.path=r[<span class=\"code-number\">2</span>]),t.netLoc&amp;&amp;!t.path&amp;&amp;(t.path=<span class=\"code-string\">\"/\"</span>);<span class=\"code-keyword\">var</span> r,e={<span class=\"code-attr\">scheme</span>:t.scheme,<span class=\"code-attr\">netLoc</span>:n.netLoc,<span class=\"code-attr\">path</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">params</span>:n.params,<span class=\"code-attr\">query</span>:n.query,<span class=\"code-attr\">fragment</span>:n.fragment};<span class=\"code-keyword\">return</span> n.netLoc||(e.netLoc=t.netLoc,<span class=\"code-string\">\"/\"</span>!==n.path[<span class=\"code-number\">0</span>]&amp;&amp;(n.path?(r=(r=t.path).substring(<span class=\"code-number\">0</span>,r.lastIndexOf(<span class=\"code-string\">\"/\"</span>)+<span class=\"code-number\">1</span>)+n.path,e.path=s.normalizePath(r)):(e.path=t.path,n.params||(e.params=t.params,n.query||(e.query=t.query))))),<span class=\"code-literal\">null</span>===e.path&amp;&amp;(e.path=i.alwaysNormalize?s.normalizePath(n.path):n.path),s.buildURLFromParts(e)},<span class=\"code-attr\">parseURL</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=i.exec(e);<span class=\"code-keyword\">return</span> e?{<span class=\"code-attr\">scheme</span>:e[<span class=\"code-number\">1</span>]||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">netLoc</span>:e[<span class=\"code-number\">2</span>]||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">path</span>:e[<span class=\"code-number\">3</span>]||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">params</span>:e[<span class=\"code-number\">4</span>]||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">query</span>:e[<span class=\"code-number\">5</span>]||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">fragment</span>:e[<span class=\"code-number\">6</span>]||<span class=\"code-string\">\"\"</span>}:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">normalizePath</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(e=e.split(<span class=\"code-string\">\"\"</span>).reverse().join(<span class=\"code-string\">\"\"</span>).replace(n,<span class=\"code-string\">\"\"</span>);e.length!==(e=e.replace(r,<span class=\"code-string\">\"\"</span>)).length;);<span class=\"code-keyword\">return</span> e.split(<span class=\"code-string\">\"\"</span>).reverse().join(<span class=\"code-string\">\"\"</span>)},<span class=\"code-attr\">buildURLFromParts</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s}),rr=<span class=\"code-string\">\"http://example.com\"</span>,ar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.listeners={}}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.on=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.listeners[e]||(<span class=\"code-keyword\">this</span>.listeners[e]=[]),<span class=\"code-keyword\">this</span>.listeners[e].push(t)},t.off=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.listeners[e])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;t=<span class=\"code-keyword\">this</span>.listeners[e].indexOf(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.listeners[e]=<span class=\"code-keyword\">this</span>.listeners[e].slice(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.listeners[e].splice(t,<span class=\"code-number\">1</span>),<span class=\"code-number\">-1</span>&lt;t},t.trigger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.listeners[e];<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">2</span>===<span class=\"code-built_in\">arguments</span>.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.length,n=<span class=\"code-number\">0</span>;n&lt;i;++n)t[n].call(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>,<span class=\"code-number\">1</span>),a=t.length,s=<span class=\"code-number\">0</span>;s&lt;a;++s)t[s].apply(<span class=\"code-keyword\">this</span>,r)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.listeners={}},t.pipe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.push(e)})},e}(),sr=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.atob?<span class=\"code-built_in\">window</span>.atob(e):Buffer.from(e,<span class=\"code-string\">\"base64\"</span>).toString(<span class=\"code-string\">\"binary\"</span>)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">or</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=sr(e),i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.length),n=<span class=\"code-number\">0</span>;n&lt;t.length;n++)i[n]=t.charCodeAt(n);<span class=\"code-keyword\">return</span> i}\n","<span class=\"code-comment\">/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */</span><span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ur</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-regexp\">/([0-9.]*)?@?([0-9.]*)?/</span>.exec(e||<span class=\"code-string\">\"\"</span>),e={};<span class=\"code-keyword\">return</span> t[<span class=\"code-number\">1</span>]&amp;&amp;(e.length=<span class=\"code-built_in\">parseInt</span>(t[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)),t[<span class=\"code-number\">2</span>]&amp;&amp;(e.offset=<span class=\"code-built_in\">parseInt</span>(t[<span class=\"code-number\">2</span>],<span class=\"code-number\">10</span>)),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=e.split(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">'(?:^|,)((?:[^=]*)=(?:\"[^\"]*\"|[^,]*))'</span>)),n={},r=i.length;r--;)<span class=\"code-string\">\"\"</span>!==i[r]&amp;&amp;((t=<span class=\"code-regexp\">/([^=]*)=(.*)/</span>.exec(i[r]).slice(<span class=\"code-number\">1</span>))[<span class=\"code-number\">0</span>]=t[<span class=\"code-number\">0</span>].replace(<span class=\"code-regexp\">/^\\s+|\\s+$/g</span>,<span class=\"code-string\">\"\"</span>),t[<span class=\"code-number\">1</span>]=t[<span class=\"code-number\">1</span>].replace(<span class=\"code-regexp\">/^\\s+|\\s+$/g</span>,<span class=\"code-string\">\"\"</span>),t[<span class=\"code-number\">1</span>]=t[<span class=\"code-number\">1</span>].replace(<span class=\"code-regexp\">/^['\"](.*)['\"]$/g</span>,<span class=\"code-string\">\"$1\"</span>),n[t[<span class=\"code-number\">0</span>]]=t[<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cr</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i={};<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(t).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i[e.toLowerCase().replace(<span class=\"code-regexp\">/-(\\w)/g</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">1</span>].toUpperCase()})]=t[e]}),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">dr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a=e.serverControl,s=e.targetDuration,o=e.partTargetDuration;a&amp;&amp;(t=<span class=\"code-string\">\"#EXT-X-SERVER-CONTROL\"</span>,i=<span class=\"code-string\">\"holdBack\"</span>,n=<span class=\"code-string\">\"partHoldBack\"</span>,r=s&amp;&amp;<span class=\"code-number\">3</span>*s,e=o&amp;&amp;<span class=\"code-number\">2</span>*o,s&amp;&amp;!a.hasOwnProperty(i)&amp;&amp;(a[i]=r,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:t+<span class=\"code-string\">\" defaulting HOLD-BACK to targetDuration * 3 (\"</span>+r+<span class=\"code-string\">\").\"</span>})),r&amp;&amp;a[i]&lt;r&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:t+<span class=\"code-string\">\" clamping HOLD-BACK (\"</span>+a[i]+<span class=\"code-string\">\") to targetDuration * 3 (\"</span>+r+<span class=\"code-string\">\")\"</span>}),a[i]=r),o&amp;&amp;!a.hasOwnProperty(n)&amp;&amp;(a[n]=<span class=\"code-number\">3</span>*o,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:t+<span class=\"code-string\">\" defaulting PART-HOLD-BACK to partTargetDuration * 3 (\"</span>+a[n]+<span class=\"code-string\">\").\"</span>})),o&amp;&amp;a[n]&lt;e&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:t+<span class=\"code-string\">\" clamping PART-HOLD-BACK (\"</span>+a[n]+<span class=\"code-string\">\") to partTargetDuration * 2 (\"</span>+e+<span class=\"code-string\">\").\"</span>}),a[n]=e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.replace(<span class=\"code-regexp\">/avc1\\.(\\d+)\\.(\\d+)/i</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"avc1.\"</span>+(<span class=\"code-string\">\"00\"</span>+<span class=\"code-built_in\">Number</span>(t).toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-2</span>)+<span class=\"code-string\">\"00\"</span>+(<span class=\"code-string\">\"00\"</span>+<span class=\"code-built_in\">Number</span>(i).toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-2</span>)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> e=(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-string\">\"\"</span>:e).split(<span class=\"code-string\">\",\"</span>),a=[];<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> r;n=n.trim(),Ar.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=xr[e].exec(n.toLowerCase());!i||i.length&lt;=<span class=\"code-number\">1</span>||(r=e,t=n.substring(<span class=\"code-number\">0</span>,i[<span class=\"code-number\">1</span>].length),i=n.replace(t,<span class=\"code-string\">\"\"</span>),a.push({<span class=\"code-attr\">type</span>:t,<span class=\"code-attr\">details</span>:i,<span class=\"code-attr\">mediaType</span>:e}))}),r||a.push({<span class=\"code-attr\">type</span>:n,<span class=\"code-attr\">details</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">mediaType</span>:<span class=\"code-string\">\"unknown\"</span>})}),a}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> xr.audio.test((e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-string\">\"\"</span>:e).trim().toLowerCase())}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e){<span class=\"code-keyword\">var</span> t=e.toLowerCase().split(<span class=\"code-string\">\",\"</span>).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> hr(e.trim())}),i=<span class=\"code-string\">\"video\"</span>;<span class=\"code-number\">1</span>===t.length&amp;&amp;fr(t[<span class=\"code-number\">0</span>])?i=<span class=\"code-string\">\"audio\"</span>:<span class=\"code-number\">1</span>===t.length&amp;&amp;(n=t[<span class=\"code-number\">0</span>],xr.text.test((n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-string\">\"\"</span>:n).trim().toLowerCase()))&amp;&amp;(i=<span class=\"code-string\">\"application\"</span>);<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"mp4\"</span>;<span class=\"code-keyword\">return</span> t.every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> xr.mp4.test(e)})?n=<span class=\"code-string\">\"mp4\"</span>:t.every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> xr.webm.test(e)})?n=<span class=\"code-string\">\"webm\"</span>:t.every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> xr.ogg.test(e)})&amp;&amp;(n=<span class=\"code-string\">\"ogg\"</span>),i+<span class=\"code-string\">\"/\"</span>+n+<span class=\"code-string\">';codecs=\"'</span>+e+<span class=\"code-string\">'\"'</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-string\">\"\"</span>),<span class=\"code-built_in\">window</span>.MediaSource&amp;&amp;<span class=\"code-built_in\">window</span>.MediaSource.isTypeSupported&amp;&amp;<span class=\"code-built_in\">window</span>.MediaSource.isTypeSupported(mr(e))||!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-string\">\"\"</span>:e).toLowerCase().split(<span class=\"code-string\">\",\"</span>).every(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.trim();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;Pr.length;t++)<span class=\"code-keyword\">if</span>(xr[<span class=\"code-string\">\"muxer\"</span>+Pr[t]].test(e))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> Dr.test(e)?<span class=\"code-string\">\"hls\"</span>:Or.test(e)?<span class=\"code-string\">\"dash\"</span>:<span class=\"code-string\">\"application/vnd.videojs.vhs+json\"</span>===e?<span class=\"code-string\">\"vhs-json\"</span>:<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_r</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"function\"</span>===<span class=\"code-built_in\">ArrayBuffer</span>.isView?<span class=\"code-built_in\">ArrayBuffer</span>.isView(e):e&amp;&amp;e.buffer <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">ArrayBuffer</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">br</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Uint8Array</span>?e:(<span class=\"code-built_in\">Array</span>.isArray(e)||Mr(e)||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">ArrayBuffer</span>||(e=<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e||<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e!=e?<span class=\"code-number\">0</span>:[e]),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e&amp;&amp;e.buffer||e,e&amp;&amp;e.byteOffset||<span class=\"code-number\">0</span>,e&amp;&amp;e.byteLength||<span class=\"code-number\">0</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Tr</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==(t=(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).le)&amp;&amp;t;e=Rr(e=<span class=\"code-string\">\"bigint\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e||<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e!=e?<span class=\"code-number\">0</span>:e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=(t=e,<span class=\"code-built_in\">Math</span>.ceil(t.toString(<span class=\"code-number\">2</span>).length/<span class=\"code-number\">8</span>)),r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">ArrayBuffer</span>(n)),a=<span class=\"code-number\">0</span>;a&lt;n;a++){<span class=\"code-keyword\">var</span> s=i?a:<span class=\"code-built_in\">Math</span>.abs(a+<span class=\"code-number\">1</span>-r.length);r[s]=<span class=\"code-built_in\">Number</span>(e/Nr[a]&amp;Rr(<span class=\"code-number\">255</span>)),e&lt;<span class=\"code-number\">0</span>&amp;&amp;(r[s]=<span class=\"code-built_in\">Math</span>.abs(~r[s]),r[s]-=<span class=\"code-number\">0</span>===a?<span class=\"code-number\">1</span>:<span class=\"code-number\">2</span>)}<span class=\"code-keyword\">return</span> r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Sr</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span>(e=<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;e&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.toString?e.toString():e))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>;t||(e=<span class=\"code-built_in\">unescape</span>(<span class=\"code-built_in\">encodeURIComponent</span>(e)));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.length),n=<span class=\"code-number\">0</span>;n&lt;e.length;n++)i[n]=e.charCodeAt(n);<span class=\"code-keyword\">return</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wr</span>(<span class=\"code-params\">i,e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(t=n.offset)?<span class=\"code-number\">0</span>:t,a=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(n=n.mask)?[]:n;<span class=\"code-keyword\">return</span> i=br(i),n=(e=br(e)).every||<span class=\"code-built_in\">Array</span>.prototype.every,e.length&amp;&amp;i.length-r&gt;=e.length&amp;&amp;n.call(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e===(a[t]?a[t]&amp;i[r+t]:i[r+t])})}<span class=\"code-keyword\">var</span> Er=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e.buffer=<span class=\"code-string\">\"\"</span>,e}<span class=\"code-keyword\">return</span> mt(e,t),e.prototype.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">this</span>.buffer+=e,t=<span class=\"code-keyword\">this</span>.buffer.indexOf(<span class=\"code-string\">\"\\n\"</span>);<span class=\"code-number\">-1</span>&lt;t;t=<span class=\"code-keyword\">this</span>.buffer.indexOf(<span class=\"code-string\">\"\\n\"</span>))<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,<span class=\"code-keyword\">this</span>.buffer.substring(<span class=\"code-number\">0</span>,t)),<span class=\"code-keyword\">this</span>.buffer=<span class=\"code-keyword\">this</span>.buffer.substring(t+<span class=\"code-number\">1</span>)},e}(ar),kr=<span class=\"code-built_in\">String</span>.fromCharCode(<span class=\"code-number\">9</span>),Cr=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e.customParsers=[],e.tagMappers=[],e}mt(e,t);<span class=\"code-keyword\">var</span> i=e.prototype;<span class=\"code-keyword\">return</span> i.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> r,a,s=<span class=\"code-keyword\">this</span>;<span class=\"code-number\">0</span>!==(i=i.trim()).length&amp;&amp;(<span class=\"code-string\">\"#\"</span>===i[<span class=\"code-number\">0</span>]?<span class=\"code-keyword\">this</span>.tagMappers.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=t(i);<span class=\"code-keyword\">return</span> t===i?e:e.concat([t])},[i]).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n=<span class=\"code-number\">0</span>;n&lt;s.customParsers.length;n++)<span class=\"code-keyword\">if</span>(s.customParsers[n].call(s,e))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e.indexOf(<span class=\"code-string\">\"#EXT\"</span>))<span class=\"code-keyword\">if</span>(e=e.replace(<span class=\"code-string\">\"\\r\"</span>,<span class=\"code-string\">\"\"</span>),r=<span class=\"code-regexp\">/^#EXTM3U/</span>.exec(e))s.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"m3u\"</span>});<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXTINF:?([0-9\\.]*)?,?(.*)?$/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"inf\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.duration=<span class=\"code-built_in\">parseFloat</span>(r[<span class=\"code-number\">1</span>])),r[<span class=\"code-number\">2</span>]&amp;&amp;(a.title=r[<span class=\"code-number\">2</span>]),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-TARGETDURATION:?([0-9.]*)?/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"targetduration\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.duration=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-VERSION:?([0-9.]*)?/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"version\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.version=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"media-sequence\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.number=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"discontinuity-sequence\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.number=<span class=\"code-built_in\">parseInt</span>(r[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"playlist-type\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.playlistType=r[<span class=\"code-number\">1</span>]),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-BYTERANGE:?(.*)?$/</span>.exec(e))<span class=\"code-keyword\">return</span> a=g(ur(r[<span class=\"code-number\">1</span>]),{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"byterange\"</span>}),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"allow-cache\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.allowed=!<span class=\"code-regexp\">/NO/</span>.test(r[<span class=\"code-number\">1</span>])),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-MAP:?(.*)$/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"map\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;((t=lr(r[<span class=\"code-number\">1</span>])).URI&amp;&amp;(a.uri=t.URI),t.BYTERANGE&amp;&amp;(a.byterange=ur(t.BYTERANGE))),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-STREAM-INF:?(.*)$/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"stream-inf\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.attributes=lr(r[<span class=\"code-number\">1</span>]),a.attributes.RESOLUTION&amp;&amp;(i={},(t=a.attributes.RESOLUTION.split(<span class=\"code-string\">\"x\"</span>))[<span class=\"code-number\">0</span>]&amp;&amp;(i.width=<span class=\"code-built_in\">parseInt</span>(t[<span class=\"code-number\">0</span>],<span class=\"code-number\">10</span>)),t[<span class=\"code-number\">1</span>]&amp;&amp;(i.height=<span class=\"code-built_in\">parseInt</span>(t[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>)),a.attributes.RESOLUTION=i),a.attributes.BANDWIDTH&amp;&amp;(a.attributes.BANDWIDTH=<span class=\"code-built_in\">parseInt</span>(a.attributes.BANDWIDTH,<span class=\"code-number\">10</span>)),a.attributes[<span class=\"code-string\">\"PROGRAM-ID\"</span>]&amp;&amp;(a.attributes[<span class=\"code-string\">\"PROGRAM-ID\"</span>]=<span class=\"code-built_in\">parseInt</span>(a.attributes[<span class=\"code-string\">\"PROGRAM-ID\"</span>],<span class=\"code-number\">10</span>))),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-MEDIA:?(.*)$/</span>.exec(e))<span class=\"code-keyword\">return</span> a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"media\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.attributes=lr(r[<span class=\"code-number\">1</span>])),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a);<span class=\"code-keyword\">if</span>(r=<span class=\"code-regexp\">/^#EXT-X-ENDLIST/</span>.exec(e))s.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"endlist\"</span>});<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!(r=<span class=\"code-regexp\">/^#EXT-X-DISCONTINUITY/</span>.exec(e)))<span class=\"code-keyword\">return</span>(r=<span class=\"code-regexp\">/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/</span>.exec(e))?(a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"program-date-time\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.dateTimeString=r[<span class=\"code-number\">1</span>],a.dateTimeObject=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(r[<span class=\"code-number\">1</span>])),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-KEY:?(.*)$/</span>.exec(e))?(a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"key\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.attributes=lr(r[<span class=\"code-number\">1</span>]),a.attributes.IV&amp;&amp;(<span class=\"code-string\">\"0x\"</span>===a.attributes.IV.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>).toLowerCase()&amp;&amp;(a.attributes.IV=a.attributes.IV.substring(<span class=\"code-number\">2</span>)),a.attributes.IV=a.attributes.IV.match(<span class=\"code-regexp\">/.{8}/g</span>),a.attributes.IV[<span class=\"code-number\">0</span>]=<span class=\"code-built_in\">parseInt</span>(a.attributes.IV[<span class=\"code-number\">0</span>],<span class=\"code-number\">16</span>),a.attributes.IV[<span class=\"code-number\">1</span>]=<span class=\"code-built_in\">parseInt</span>(a.attributes.IV[<span class=\"code-number\">1</span>],<span class=\"code-number\">16</span>),a.attributes.IV[<span class=\"code-number\">2</span>]=<span class=\"code-built_in\">parseInt</span>(a.attributes.IV[<span class=\"code-number\">2</span>],<span class=\"code-number\">16</span>),a.attributes.IV[<span class=\"code-number\">3</span>]=<span class=\"code-built_in\">parseInt</span>(a.attributes.IV[<span class=\"code-number\">3</span>],<span class=\"code-number\">16</span>),a.attributes.IV=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(a.attributes.IV))),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-START:?(.*)$/</span>.exec(e))?(a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"start\"</span>},r[<span class=\"code-number\">1</span>]&amp;&amp;(a.attributes=lr(r[<span class=\"code-number\">1</span>]),a.attributes[<span class=\"code-string\">\"TIME-OFFSET\"</span>]=<span class=\"code-built_in\">parseFloat</span>(a.attributes[<span class=\"code-string\">\"TIME-OFFSET\"</span>]),a.attributes.PRECISE=<span class=\"code-regexp\">/YES/</span>.test(a.attributes.PRECISE)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-CUE-OUT-CONT:?(.*)?$/</span>.exec(e))?(a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"cue-out-cont\"</span>},r[<span class=\"code-number\">1</span>]?a.data=r[<span class=\"code-number\">1</span>]:a.data=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-CUE-OUT:?(.*)?$/</span>.exec(e))?(a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"cue-out\"</span>},r[<span class=\"code-number\">1</span>]?a.data=r[<span class=\"code-number\">1</span>]:a.data=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-CUE-IN:?(.*)?$/</span>.exec(e))?(a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"cue-in\"</span>},r[<span class=\"code-number\">1</span>]?a.data=r[<span class=\"code-number\">1</span>]:a.data=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-SKIP:(.*)$/</span>.exec(e))&amp;&amp;r[<span class=\"code-number\">1</span>]?((a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"skip\"</span>}).attributes=lr(r[<span class=\"code-number\">1</span>]),a.attributes.hasOwnProperty(<span class=\"code-string\">\"SKIPPED-SEGMENTS\"</span>)&amp;&amp;(a.attributes[<span class=\"code-string\">\"SKIPPED-SEGMENTS\"</span>]=<span class=\"code-built_in\">parseInt</span>(a.attributes[<span class=\"code-string\">\"SKIPPED-SEGMENTS\"</span>],<span class=\"code-number\">10</span>)),a.attributes.hasOwnProperty(<span class=\"code-string\">\"RECENTLY-REMOVED-DATERANGES\"</span>)&amp;&amp;(a.attributes[<span class=\"code-string\">\"RECENTLY-REMOVED-DATERANGES\"</span>]=a.attributes[<span class=\"code-string\">\"RECENTLY-REMOVED-DATERANGES\"</span>].split(kr)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-PART:(.*)$/</span>.exec(e))&amp;&amp;r[<span class=\"code-number\">1</span>]?((a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"part\"</span>}).attributes=lr(r[<span class=\"code-number\">1</span>]),[<span class=\"code-string\">\"DURATION\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-built_in\">parseFloat</span>(a.attributes[e]))}),[<span class=\"code-string\">\"INDEPENDENT\"</span>,<span class=\"code-string\">\"GAP\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-regexp\">/YES/</span>.test(a.attributes[e]))}),a.attributes.hasOwnProperty(<span class=\"code-string\">\"BYTERANGE\"</span>)&amp;&amp;(a.attributes.byterange=ur(a.attributes.BYTERANGE)),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-SERVER-CONTROL:(.*)$/</span>.exec(e))&amp;&amp;r[<span class=\"code-number\">1</span>]?((a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"server-control\"</span>}).attributes=lr(r[<span class=\"code-number\">1</span>]),[<span class=\"code-string\">\"CAN-SKIP-UNTIL\"</span>,<span class=\"code-string\">\"PART-HOLD-BACK\"</span>,<span class=\"code-string\">\"HOLD-BACK\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-built_in\">parseFloat</span>(a.attributes[e]))}),[<span class=\"code-string\">\"CAN-SKIP-DATERANGES\"</span>,<span class=\"code-string\">\"CAN-BLOCK-RELOAD\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-regexp\">/YES/</span>.test(a.attributes[e]))}),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-PART-INF:(.*)$/</span>.exec(e))&amp;&amp;r[<span class=\"code-number\">1</span>]?((a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"part-inf\"</span>}).attributes=lr(r[<span class=\"code-number\">1</span>]),[<span class=\"code-string\">\"PART-TARGET\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-built_in\">parseFloat</span>(a.attributes[e]))}),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-PRELOAD-HINT:(.*)$/</span>.exec(e))&amp;&amp;r[<span class=\"code-number\">1</span>]?((a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"preload-hint\"</span>}).attributes=lr(r[<span class=\"code-number\">1</span>]),[<span class=\"code-string\">\"BYTERANGE-START\"</span>,<span class=\"code-string\">\"BYTERANGE-LENGTH\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-built_in\">parseInt</span>(a.attributes[e],<span class=\"code-number\">10</span>),t=<span class=\"code-string\">\"BYTERANGE-LENGTH\"</span>===e?<span class=\"code-string\">\"length\"</span>:<span class=\"code-string\">\"offset\"</span>,a.attributes.byterange=a.attributes.byterange||{},a.attributes.byterange[t]=a.attributes[e],<span class=\"code-keyword\">delete</span> a.attributes[e])}),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):(r=<span class=\"code-regexp\">/^#EXT-X-RENDITION-REPORT:(.*)$/</span>.exec(e))&amp;&amp;r[<span class=\"code-number\">1</span>]?((a={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"rendition-report\"</span>}).attributes=lr(r[<span class=\"code-number\">1</span>]),[<span class=\"code-string\">\"LAST-MSN\"</span>,<span class=\"code-string\">\"LAST-PART\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class=\"code-built_in\">parseInt</span>(a.attributes[e],<span class=\"code-number\">10</span>))}),<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,a)):<span class=\"code-keyword\">void</span> s.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">data</span>:e.slice(<span class=\"code-number\">4</span>)});s.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"tag\"</span>,<span class=\"code-attr\">tagType</span>:<span class=\"code-string\">\"discontinuity\"</span>})}}<span class=\"code-keyword\">else</span> s.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"comment\"</span>,<span class=\"code-attr\">text</span>:e.slice(<span class=\"code-number\">1</span>)})}):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"uri\"</span>,<span class=\"code-attr\">uri</span>:i}))},i.addParser=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,i=e.expression,n=e.customType,r=e.dataParser,a=e.segment;<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> r&amp;&amp;(r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e}),<span class=\"code-keyword\">this</span>.customParsers.push(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(i.exec(e))<span class=\"code-keyword\">return</span> t.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"custom\"</span>,<span class=\"code-attr\">data</span>:r(e),<span class=\"code-attr\">customType</span>:n,<span class=\"code-attr\">segment</span>:a}),!<span class=\"code-number\">0</span>})},i.addTagMapper=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.expression,i=e.map;<span class=\"code-keyword\">this</span>.tagMappers.push(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.test(e)?i(e):e})},e}(ar),Ir=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;e.lineStream=<span class=\"code-keyword\">new</span> Er,e.parseStream=<span class=\"code-keyword\">new</span> Cr,e.lineStream.pipe(e.parseStream);<span class=\"code-keyword\">var</span> n,r,a=ft(e),o=[],u={},l=!<span class=\"code-number\">1</span>,c={<span class=\"code-attr\">AUDIO</span>:{},<span class=\"code-attr\">VIDEO</span>:{},<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>:{},<span class=\"code-attr\">SUBTITLES</span>:{}},d=<span class=\"code-number\">0</span>;e.manifest={<span class=\"code-attr\">allowCache</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">discontinuityStarts</span>:[],<span class=\"code-attr\">segments</span>:[]};<span class=\"code-keyword\">var</span> h=<span class=\"code-number\">0</span>,p=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> e.on(<span class=\"code-string\">\"end\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{u.uri||!u.parts&amp;&amp;!u.preloadHints||(!u.map&amp;&amp;n&amp;&amp;(u.map=n),!u.key&amp;&amp;r&amp;&amp;(u.key=r),u.timeline||<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> d||(u.timeline=d),e.manifest.preloadSegment=u)}),e.parseStream.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-keyword\">var</span> t,i;({<span class=\"code-attr\">tag</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{({<span class=\"code-attr\">version</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.version&amp;&amp;(<span class=\"code-keyword\">this</span>.manifest.version=s.version)},<span class=\"code-string\">\"allow-cache\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manifest.allowCache=s.allowed,<span class=\"code-string\">\"allowed\"</span><span class=\"code-keyword\">in</span> s||(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"defaulting allowCache to YES\"</span>}),<span class=\"code-keyword\">this</span>.manifest.allowCache=!<span class=\"code-number\">0</span>)},<span class=\"code-attr\">byterange</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e={};<span class=\"code-string\">\"length\"</span><span class=\"code-keyword\">in</span> s&amp;&amp;((u.byterange=e).length=s.length,<span class=\"code-string\">\"offset\"</span><span class=\"code-keyword\">in</span> s||(s.offset=h)),<span class=\"code-string\">\"offset\"</span><span class=\"code-keyword\">in</span> s&amp;&amp;((u.byterange=e).offset=s.offset),h=e.offset+e.length},<span class=\"code-attr\">endlist</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manifest.endList=!<span class=\"code-number\">0</span>},<span class=\"code-attr\">inf</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"mediaSequence\"</span><span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.manifest||(<span class=\"code-keyword\">this</span>.manifest.mediaSequence=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"defaulting media sequence to zero\"</span>})),<span class=\"code-string\">\"discontinuitySequence\"</span><span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.manifest||(<span class=\"code-keyword\">this</span>.manifest.discontinuitySequence=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"defaulting discontinuity sequence to zero\"</span>})),<span class=\"code-number\">0</span>&lt;s.duration&amp;&amp;(u.duration=s.duration),<span class=\"code-number\">0</span>===s.duration&amp;&amp;(u.duration=<span class=\"code-number\">.01</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"updating zero segment duration to a small value\"</span>})),<span class=\"code-keyword\">this</span>.manifest.segments=o},<span class=\"code-attr\">key</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(s.attributes)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"NONE\"</span>!==s.attributes.METHOD)<span class=\"code-keyword\">if</span>(s.attributes.URI){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"com.apple.streamingkeydelivery\"</span>===s.attributes.KEYFORMAT)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.manifest.contentProtection=<span class=\"code-keyword\">this</span>.manifest.contentProtection||{},<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.manifest.contentProtection[<span class=\"code-string\">\"com.apple.fps.1_0\"</span>]={<span class=\"code-attr\">attributes</span>:s.attributes});<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"com.microsoft.playready\"</span>===s.attributes.KEYFORMAT)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.manifest.contentProtection=<span class=\"code-keyword\">this</span>.manifest.contentProtection||{},<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.manifest.contentProtection[<span class=\"code-string\">\"com.microsoft.playready\"</span>]={<span class=\"code-attr\">uri</span>:s.attributes.URI});<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\"</span>===s.attributes.KEYFORMAT)<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===[<span class=\"code-string\">\"SAMPLE-AES\"</span>,<span class=\"code-string\">\"SAMPLE-AES-CTR\"</span>,<span class=\"code-string\">\"SAMPLE-AES-CENC\"</span>].indexOf(s.attributes.METHOD)?<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"invalid key method provided for Widevine\"</span>}):(<span class=\"code-string\">\"SAMPLE-AES-CENC\"</span>===s.attributes.METHOD&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead\"</span>}),<span class=\"code-string\">\"data:text/plain;base64,\"</span>!==s.attributes.URI.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">23</span>)?<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"invalid key URI provided for Widevine\"</span>}):s.attributes.KEYID&amp;&amp;<span class=\"code-string\">\"0x\"</span>===s.attributes.KEYID.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>)?(<span class=\"code-keyword\">this</span>.manifest.contentProtection=<span class=\"code-keyword\">this</span>.manifest.contentProtection||{},<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.manifest.contentProtection[<span class=\"code-string\">\"com.widevine.alpha\"</span>]={<span class=\"code-attr\">attributes</span>:{<span class=\"code-attr\">schemeIdUri</span>:s.attributes.KEYFORMAT,<span class=\"code-attr\">keyId</span>:s.attributes.KEYID.substring(<span class=\"code-number\">2</span>)},<span class=\"code-attr\">pssh</span>:or(s.attributes.URI.split(<span class=\"code-string\">\",\"</span>)[<span class=\"code-number\">1</span>])})):<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"invalid key ID provided for Widevine\"</span>}));s.attributes.METHOD||<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"defaulting key method to AES-128\"</span>}),r={<span class=\"code-attr\">method</span>:s.attributes.METHOD||<span class=\"code-string\">\"AES-128\"</span>,<span class=\"code-attr\">uri</span>:s.attributes.URI},<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> s.attributes.IV&amp;&amp;(r.iv=s.attributes.IV)}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring key declaration without URI\"</span>});<span class=\"code-keyword\">else</span> r=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring key declaration without attribute list\"</span>})},<span class=\"code-string\">\"media-sequence\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">isFinite</span>(s.number)?<span class=\"code-keyword\">this</span>.manifest.mediaSequence=s.number:<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring invalid media sequence: \"</span>+s.number})},<span class=\"code-string\">\"discontinuity-sequence\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-built_in\">isFinite</span>(s.number)?(<span class=\"code-keyword\">this</span>.manifest.discontinuitySequence=s.number,d=s.number):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring invalid discontinuity sequence: \"</span>+s.number})},<span class=\"code-string\">\"playlist-type\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{/VOD|EVENT/.test(s.playlistType)?<span class=\"code-keyword\">this</span>.manifest.playlistType=s.playlistType:<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring unknown playlist type: \"</span>+s.playlist})},<span class=\"code-attr\">map</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n={},s.uri&amp;&amp;(n.uri=s.uri),s.byterange&amp;&amp;(n.byterange=s.byterange),r&amp;&amp;(n.key=r)},<span class=\"code-string\">\"stream-inf\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manifest.playlists=o,<span class=\"code-keyword\">this</span>.manifest.mediaGroups=<span class=\"code-keyword\">this</span>.manifest.mediaGroups||c,s.attributes?(u.attributes||(u.attributes={}),g(u.attributes,s.attributes)):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring empty stream-inf attributes\"</span>})},<span class=\"code-attr\">media</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.manifest.mediaGroups=<span class=\"code-keyword\">this</span>.manifest.mediaGroups||c,s.attributes&amp;&amp;s.attributes.TYPE&amp;&amp;s.attributes[<span class=\"code-string\">\"GROUP-ID\"</span>]&amp;&amp;s.attributes.NAME?((e=<span class=\"code-keyword\">this</span>.manifest.mediaGroups[s.attributes.TYPE])[s.attributes[<span class=\"code-string\">\"GROUP-ID\"</span>]]=e[s.attributes[<span class=\"code-string\">\"GROUP-ID\"</span>]]||{},t=e[s.attributes[<span class=\"code-string\">\"GROUP-ID\"</span>]],(i={<span class=\"code-attr\">default</span>:<span class=\"code-regexp\">/yes/i</span>.test(s.attributes.DEFAULT)}).default?i.autoselect=!<span class=\"code-number\">0</span>:i.autoselect=<span class=\"code-regexp\">/yes/i</span>.test(s.attributes.AUTOSELECT),s.attributes.LANGUAGE&amp;&amp;(i.language=s.attributes.LANGUAGE),s.attributes.URI&amp;&amp;(i.uri=s.attributes.URI),s.attributes[<span class=\"code-string\">\"INSTREAM-ID\"</span>]&amp;&amp;(i.instreamId=s.attributes[<span class=\"code-string\">\"INSTREAM-ID\"</span>]),s.attributes.CHARACTERISTICS&amp;&amp;(i.characteristics=s.attributes.CHARACTERISTICS),s.attributes.FORCED&amp;&amp;(i.forced=<span class=\"code-regexp\">/yes/i</span>.test(s.attributes.FORCED)),t[s.attributes.NAME]=i):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring incomplete or missing media group\"</span>})},<span class=\"code-attr\">discontinuity</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{d+=<span class=\"code-number\">1</span>,u.discontinuity=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.manifest.discontinuityStarts.push(o.length)},<span class=\"code-string\">\"program-date-time\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.manifest.dateTimeString&amp;&amp;(<span class=\"code-keyword\">this</span>.manifest.dateTimeString=s.dateTimeString,<span class=\"code-keyword\">this</span>.manifest.dateTimeObject=s.dateTimeObject),u.dateTimeString=s.dateTimeString,u.dateTimeObject=s.dateTimeObject},<span class=\"code-attr\">targetduration</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{!<span class=\"code-built_in\">isFinite</span>(s.duration)||s.duration&lt;<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring invalid target duration: \"</span>+s.duration}):(<span class=\"code-keyword\">this</span>.manifest.targetDuration=s.duration,dr.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.manifest))},<span class=\"code-attr\">start</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.attributes&amp;&amp;!<span class=\"code-built_in\">isNaN</span>(s.attributes[<span class=\"code-string\">\"TIME-OFFSET\"</span>])?<span class=\"code-keyword\">this</span>.manifest.start={<span class=\"code-attr\">timeOffset</span>:s.attributes[<span class=\"code-string\">\"TIME-OFFSET\"</span>],<span class=\"code-attr\">precise</span>:s.attributes.PRECISE}:<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"ignoring start declaration without appropriate attribute list\"</span>})},<span class=\"code-string\">\"cue-out\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{u.cueOut=s.data},<span class=\"code-string\">\"cue-out-cont\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{u.cueOutCont=s.data},<span class=\"code-string\">\"cue-in\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{u.cueIn=s.data},<span class=\"code-attr\">skip</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manifest.skip=cr(s.attributes),<span class=\"code-keyword\">this</span>.warnOnMissingAttributes_(<span class=\"code-string\">\"#EXT-X-SKIP\"</span>,s.attributes,[<span class=\"code-string\">\"SKIPPED-SEGMENTS\"</span>])},<span class=\"code-attr\">part</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;l=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.manifest.segments.length,t=cr(s.attributes);u.parts=u.parts||[],u.parts.push(t),t.byterange&amp;&amp;(t.byterange.hasOwnProperty(<span class=\"code-string\">\"offset\"</span>)||(t.byterange.offset=p),p=t.byterange.offset+t.byterange.length);<span class=\"code-keyword\">var</span> n=u.parts.length<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">this</span>.warnOnMissingAttributes_(<span class=\"code-string\">\"#EXT-X-PART #\"</span>+n+<span class=\"code-string\">\" for segment #\"</span>+e,s.attributes,[<span class=\"code-string\">\"URI\"</span>,<span class=\"code-string\">\"DURATION\"</span>]),<span class=\"code-keyword\">this</span>.manifest.renditionReports&amp;&amp;<span class=\"code-keyword\">this</span>.manifest.renditionReports.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.hasOwnProperty(<span class=\"code-string\">\"lastPart\"</span>)||i.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"#EXT-X-RENDITION-REPORT #\"</span>+t+<span class=\"code-string\">\" lacks required attribute(s): LAST-PART\"</span>})})},<span class=\"code-string\">\"server-control\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.manifest.serverControl=cr(s.attributes);e.hasOwnProperty(<span class=\"code-string\">\"canBlockReload\"</span>)||(e.canBlockReload=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"info\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false\"</span>})),dr.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.manifest),e.canSkipDateranges&amp;&amp;!e.hasOwnProperty(<span class=\"code-string\">\"canSkipUntil\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set\"</span>})},<span class=\"code-string\">\"preload-hint\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.manifest.segments.length,t=cr(s.attributes),i=t.type&amp;&amp;<span class=\"code-string\">\"PART\"</span>===t.type;u.preloadHints=u.preloadHints||[],u.preloadHints.push(t),t.byterange&amp;&amp;(t.byterange.hasOwnProperty(<span class=\"code-string\">\"offset\"</span>)||(t.byterange.offset=i?p:<span class=\"code-number\">0</span>,i&amp;&amp;(p=t.byterange.offset+t.byterange.length)));<span class=\"code-keyword\">var</span> n=u.preloadHints.length<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.warnOnMissingAttributes_(<span class=\"code-string\">\"#EXT-X-PRELOAD-HINT #\"</span>+n+<span class=\"code-string\">\" for segment #\"</span>+e,s.attributes,[<span class=\"code-string\">\"TYPE\"</span>,<span class=\"code-string\">\"URI\"</span>]),t.type)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;u.preloadHints.length<span class=\"code-number\">-1</span>;r++){<span class=\"code-keyword\">var</span> a=u.preloadHints[r];a.type&amp;&amp;a.type===t.type&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"#EXT-X-PRELOAD-HINT #\"</span>+n+<span class=\"code-string\">\" for segment #\"</span>+e+<span class=\"code-string\">\" has the same TYPE \"</span>+t.type+<span class=\"code-string\">\" as preload hint #\"</span>+r})}},<span class=\"code-string\">\"rendition-report\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=cr(s.attributes);<span class=\"code-keyword\">this</span>.manifest.renditionReports=<span class=\"code-keyword\">this</span>.manifest.renditionReports||[],<span class=\"code-keyword\">this</span>.manifest.renditionReports.push(e);<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.manifest.renditionReports.length<span class=\"code-number\">-1</span>,e=[<span class=\"code-string\">\"LAST-MSN\"</span>,<span class=\"code-string\">\"URI\"</span>];l&amp;&amp;e.push(<span class=\"code-string\">\"LAST-PART\"</span>),<span class=\"code-keyword\">this</span>.warnOnMissingAttributes_(<span class=\"code-string\">\"#EXT-X-RENDITION-REPORT #\"</span>+t,s.attributes,e)},<span class=\"code-string\">\"part-inf\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.manifest.partInf=cr(s.attributes),<span class=\"code-keyword\">this</span>.warnOnMissingAttributes_(<span class=\"code-string\">\"#EXT-X-PART-INF\"</span>,s.attributes,[<span class=\"code-string\">\"PART-TARGET\"</span>]),<span class=\"code-keyword\">this</span>.manifest.partInf.partTarget&amp;&amp;(<span class=\"code-keyword\">this</span>.manifest.partTargetDuration=<span class=\"code-keyword\">this</span>.manifest.partInf.partTarget),dr.call(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.manifest)}}[s.tagType]||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}).call(a)},<span class=\"code-attr\">uri</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{u.uri=s.uri,o.push(u),!<span class=\"code-keyword\">this</span>.manifest.targetDuration||<span class=\"code-string\">\"duration\"</span><span class=\"code-keyword\">in</span> u||(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"defaulting segment duration to the target duration\"</span>}),u.duration=<span class=\"code-keyword\">this</span>.manifest.targetDuration),r&amp;&amp;(u.key=r),u.timeline=d,n&amp;&amp;(u.map=n),p=<span class=\"code-number\">0</span>,u={}},<span class=\"code-attr\">comment</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">custom</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{s.segment?(u.custom=u.custom||{},u.custom[s.customType]=s.data):(<span class=\"code-keyword\">this</span>.manifest.custom=<span class=\"code-keyword\">this</span>.manifest.custom||{},<span class=\"code-keyword\">this</span>.manifest.custom[s.customType]=s.data)}})[s.type].call(a)}),e}mt(e,t);<span class=\"code-keyword\">var</span> i=e.prototype;<span class=\"code-keyword\">return</span> i.warnOnMissingAttributes_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=[];i.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.hasOwnProperty(e)||n.push(e)}),n.length&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"warn\"</span>,{<span class=\"code-attr\">message</span>:e+<span class=\"code-string\">\" lacks required attribute(s): \"</span>+n.join(<span class=\"code-string\">\", \"</span>)})},i.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.lineStream.push(e)},i.end=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.lineStream.push(<span class=\"code-string\">\"\\n\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"end\"</span>)},i.addParser=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.parseStream.addParser(e)},i.addTagMapper=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.parseStream.addTagMapper(e)},e}(ar),xr={<span class=\"code-attr\">mp4</span>:<span class=\"code-regexp\">/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/</span>,<span class=\"code-attr\">webm</span>:<span class=\"code-regexp\">/^(vp0?[89]|av0?1|opus|vorbis)/</span>,<span class=\"code-attr\">ogg</span>:<span class=\"code-regexp\">/^(vp0?[89]|theora|flac|opus|vorbis)/</span>,<span class=\"code-attr\">video</span>:<span class=\"code-regexp\">/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/</span>,<span class=\"code-attr\">audio</span>:<span class=\"code-regexp\">/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/</span>,<span class=\"code-attr\">text</span>:<span class=\"code-regexp\">/^(stpp.ttml.im1t)/</span>,<span class=\"code-attr\">muxerVideo</span>:<span class=\"code-regexp\">/^(avc0?1)/</span>,<span class=\"code-attr\">muxerAudio</span>:<span class=\"code-regexp\">/^(mp4a)/</span>,<span class=\"code-attr\">muxerText</span>:<span class=\"code-regexp\">/a^/</span>},Ar=[<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"audio\"</span>,<span class=\"code-string\">\"text\"</span>],Pr=[<span class=\"code-string\">\"Video\"</span>,<span class=\"code-string\">\"Audio\"</span>,<span class=\"code-string\">\"Text\"</span>],Lr=<span class=\"code-string\">\"mp4a.40.2\"</span>,Dr=<span class=\"code-regexp\">/^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i</span>,Or=<span class=\"code-regexp\">/^application\\/dash\\+xml/i</span>,Mr=_r,Rr=<span class=\"code-built_in\">window</span>.BigInt||<span class=\"code-built_in\">Number</span>,Nr=[Rr(<span class=\"code-string\">\"0x1\"</span>),Rr(<span class=\"code-string\">\"0x100\"</span>),Rr(<span class=\"code-string\">\"0x10000\"</span>),Rr(<span class=\"code-string\">\"0x1000000\"</span>),Rr(<span class=\"code-string\">\"0x100000000\"</span>),Rr(<span class=\"code-string\">\"0x10000000000\"</span>),Rr(<span class=\"code-string\">\"0x1000000000000\"</span>),Rr(<span class=\"code-string\">\"0x100000000000000\"</span>),Rr(<span class=\"code-string\">\"0x10000000000000000\"</span>)];<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ur</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?<span class=\"code-built_in\">Object</span>:t)&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t.freeze?t.freeze(e):e}<span class=\"code-keyword\">var</span> Br=Ur({<span class=\"code-attr\">HTML</span>:<span class=\"code-string\">\"text/html\"</span>,<span class=\"code-attr\">isHTML</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e===Br.HTML},<span class=\"code-attr\">XML_APPLICATION</span>:<span class=\"code-string\">\"application/xml\"</span>,<span class=\"code-attr\">XML_TEXT</span>:<span class=\"code-string\">\"text/xml\"</span>,<span class=\"code-attr\">XML_XHTML_APPLICATION</span>:<span class=\"code-string\">\"application/xhtml+xml\"</span>,<span class=\"code-attr\">XML_SVG_IMAGE</span>:<span class=\"code-string\">\"image/svg+xml\"</span>}),Fr=Ur({<span class=\"code-attr\">HTML</span>:<span class=\"code-string\">\"http://www.w3.org/1999/xhtml\"</span>,<span class=\"code-attr\">isHTML</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e===Fr.HTML},<span class=\"code-attr\">SVG</span>:<span class=\"code-string\">\"http://www.w3.org/2000/svg\"</span>,<span class=\"code-attr\">XML</span>:<span class=\"code-string\">\"http://www.w3.org/XML/1998/namespace\"</span>,<span class=\"code-attr\">XMLNS</span>:<span class=\"code-string\">\"http://www.w3.org/2000/xmlns/\"</span>}),jr={<span class=\"code-attr\">freeze</span>:Ur,<span class=\"code-attr\">MIME_TYPE</span>:Br,<span class=\"code-attr\">NAMESPACE</span>:Fr},Hr=jr.NAMESPACE;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>!==e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vr</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.hasOwnProperty(t)||(e[t]=!<span class=\"code-number\">0</span>),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wr</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span>[];e=(e=e)?e.split(<span class=\"code-regexp\">/[\\t\\n\\f\\r ]+/</span>).filter(qr):[];<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(e.reduce(Vr,{}))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gr</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> e)t[i]=e[i]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zr</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=e.prototype;n <span class=\"code-keyword\">instanceof</span> t||((i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}).prototype=t.prototype,Gr(n,i=<span class=\"code-keyword\">new</span> i),e.prototype=n=i),n.constructor!=e&amp;&amp;(n.constructor=e)}<span class=\"code-keyword\">var</span> W={},Xr=W.ELEMENT_NODE=<span class=\"code-number\">1</span>,Kr=W.ATTRIBUTE_NODE=<span class=\"code-number\">2</span>,Yr=W.TEXT_NODE=<span class=\"code-number\">3</span>,Qr=W.CDATA_SECTION_NODE=<span class=\"code-number\">4</span>,$r=W.ENTITY_REFERENCE_NODE=<span class=\"code-number\">5</span>,Jr=(W.ENTITY_NODE=<span class=\"code-number\">6</span>,W.PROCESSING_INSTRUCTION_NODE=<span class=\"code-number\">7</span>),Zr=W.COMMENT_NODE=<span class=\"code-number\">8</span>,ea=W.DOCUMENT_NODE=<span class=\"code-number\">9</span>,ta=W.DOCUMENT_TYPE_NODE=<span class=\"code-number\">10</span>,ia=W.DOCUMENT_FRAGMENT_NODE=<span class=\"code-number\">11</span>,x=(W.NOTATION_NODE=<span class=\"code-number\">12</span>,{}),na={};x.INDEX_SIZE_ERR=(na[<span class=\"code-number\">1</span>]=<span class=\"code-string\">\"Index size error\"</span>,<span class=\"code-number\">1</span>),x.DOMSTRING_SIZE_ERR=(na[<span class=\"code-number\">2</span>]=<span class=\"code-string\">\"DOMString size error\"</span>,<span class=\"code-number\">2</span>);x.HIERARCHY_REQUEST_ERR=(na[<span class=\"code-number\">3</span>]=<span class=\"code-string\">\"Hierarchy request error\"</span>,<span class=\"code-number\">3</span>);x.WRONG_DOCUMENT_ERR=(na[<span class=\"code-number\">4</span>]=<span class=\"code-string\">\"Wrong document\"</span>,<span class=\"code-number\">4</span>),x.INVALID_CHARACTER_ERR=(na[<span class=\"code-number\">5</span>]=<span class=\"code-string\">\"Invalid character\"</span>,<span class=\"code-number\">5</span>),x.NO_DATA_ALLOWED_ERR=(na[<span class=\"code-number\">6</span>]=<span class=\"code-string\">\"No data allowed\"</span>,<span class=\"code-number\">6</span>),x.NO_MODIFICATION_ALLOWED_ERR=(na[<span class=\"code-number\">7</span>]=<span class=\"code-string\">\"No modification allowed\"</span>,<span class=\"code-number\">7</span>);x.NOT_FOUND_ERR=(na[<span class=\"code-number\">8</span>]=<span class=\"code-string\">\"Not found\"</span>,<span class=\"code-number\">8</span>);x.NOT_SUPPORTED_ERR=(na[<span class=\"code-number\">9</span>]=<span class=\"code-string\">\"Not supported\"</span>,<span class=\"code-number\">9</span>);<span class=\"code-keyword\">var</span> ra;x.INUSE_ATTRIBUTE_ERR=(na[<span class=\"code-number\">10</span>]=<span class=\"code-string\">\"Attribute in use\"</span>,<span class=\"code-number\">10</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">aa</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">return</span> t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>?i=t:(i=<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">Error</span>.call(<span class=\"code-keyword\">this</span>,na[e]),<span class=\"code-keyword\">this</span>.message=na[e],<span class=\"code-built_in\">Error</span>.captureStackTrace&amp;&amp;<span class=\"code-built_in\">Error</span>.captureStackTrace(<span class=\"code-keyword\">this</span>,aa)),i.code=e,t&amp;&amp;(<span class=\"code-keyword\">this</span>.message=<span class=\"code-keyword\">this</span>.message+<span class=\"code-string\">\": \"</span>+t),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oa</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>._node=e,<span class=\"code-keyword\">this</span>._refresh=t,ua(<span class=\"code-keyword\">this</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ua</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=e._node._inc||e._node.ownerDocument._inc;e._inc!=i&amp;&amp;(t=e._refresh(e._node),Fa(e,<span class=\"code-string\">\"length\"</span>,t.length),Gr(t,e),e._inc=i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">la</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ca</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e.length;i--;)<span class=\"code-keyword\">if</span>(e[i]===t)<span class=\"code-keyword\">return</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">da</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{n?t[ca(t,n)]=i:t[t.length++]=i,!e||(t=(i.ownerElement=e).ownerDocument)&amp;&amp;(n&amp;&amp;va(t,e,n),e=e,i=i,(t=t)&amp;&amp;t._inc++,i.namespaceURI===Hr.XMLNS&amp;&amp;(e._nsMap[i.prefix?i.localName:<span class=\"code-string\">\"\"</span>]=i.value))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ha</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=ca(t,i);<span class=\"code-keyword\">if</span>(!(<span class=\"code-number\">0</span>&lt;=n))<span class=\"code-keyword\">throw</span> aa(<span class=\"code-number\">8</span>,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(e.tagName+<span class=\"code-string\">\"@\"</span>+i));<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,a=t.length<span class=\"code-number\">-1</span>;n&lt;a;)t[n]=t[++n];t.length=a,!e||(r=e.ownerDocument)&amp;&amp;(va(r,e,i),i.ownerElement=<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ma</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-string\">\"&lt;\"</span>==e?<span class=\"code-string\">\"&amp;lt;\"</span>:<span class=\"code-string\">\"&gt;\"</span>==e&amp;&amp;<span class=\"code-string\">\"&amp;gt;\"</span>)||<span class=\"code-string\">\"&amp;\"</span>==e&amp;&amp;<span class=\"code-string\">\"&amp;amp;\"</span>||<span class=\"code-string\">'\"'</span>==e&amp;&amp;<span class=\"code-string\">\"&amp;quot;\"</span>||<span class=\"code-string\">\"&amp;#\"</span>+e.charCodeAt()+<span class=\"code-string\">\";\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ga</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(t(e))<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(e=e.firstChild)<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>(ga(e,t))<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}<span class=\"code-keyword\">while</span>(e=e.nextSibling)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ya</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">va</span>(<span class=\"code-params\">e,t,i</span>)</span>{e&amp;&amp;e._inc++,i.namespaceURI===Hr.XMLNS&amp;&amp;<span class=\"code-keyword\">delete</span> t._nsMap[i.prefix?i.localName:<span class=\"code-string\">\"\"</span>]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_a</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e._inc){e._inc++;<span class=\"code-keyword\">var</span> n=t.childNodes;<span class=\"code-keyword\">if</span>(i)n[n.length++]=i;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=t.firstChild,a=<span class=\"code-number\">0</span>;r;)r=(n[a++]=r).nextSibling;n.length=a}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ba</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.previousSibling,n=t.nextSibling;<span class=\"code-keyword\">return</span> i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,_a(e.ownerDocument,e),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ta</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=t.parentNode;<span class=\"code-keyword\">if</span>(n&amp;&amp;n.removeChild(t),t.nodeType===ia){<span class=\"code-keyword\">var</span> r=t.firstChild;<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>==r)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> a=t.lastChild}<span class=\"code-keyword\">else</span> r=a=t;n=i?i.previousSibling:e.lastChild;<span class=\"code-keyword\">for</span>(r.previousSibling=n,a.nextSibling=i,n?n.nextSibling=r:e.firstChild=r,<span class=\"code-literal\">null</span>==i?e.lastChild=a:i.previousSibling=a;r.parentNode=e,r!==a&amp;&amp;(r=r.nextSibling););<span class=\"code-keyword\">return</span> _a(e.ownerDocument||e,e),t.nodeType==ia&amp;&amp;(t.firstChild=t.lastChild=<span class=\"code-literal\">null</span>),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Sa</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._nsMap={}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ea</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ka</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ca</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ia</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Aa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">La</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Da</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oa</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ma</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ra</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=[],r=<span class=\"code-number\">9</span>==<span class=\"code-keyword\">this</span>.nodeType&amp;&amp;<span class=\"code-keyword\">this</span>.documentElement||<span class=\"code-keyword\">this</span>,a=r.prefix,s=r.namespaceURI;<span class=\"code-keyword\">return</span> Ba(<span class=\"code-keyword\">this</span>,n,e,t,i=s&amp;&amp;<span class=\"code-literal\">null</span>==a&amp;&amp;<span class=\"code-literal\">null</span>==(a=r.lookupPrefix(s))?[{<span class=\"code-attr\">namespace</span>:s,<span class=\"code-attr\">prefix</span>:<span class=\"code-literal\">null</span>}]:i),n.join(<span class=\"code-string\">\"\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Na</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=e.prefix||<span class=\"code-string\">\"\"</span>,r=e.namespaceURI;<span class=\"code-keyword\">if</span>(r&amp;&amp;(<span class=\"code-string\">\"xml\"</span>!==n||r!==Hr.XML)&amp;&amp;r!==Hr.XMLNS){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=i.length;a--;){<span class=\"code-keyword\">var</span> s=i[a];<span class=\"code-keyword\">if</span>(s.prefix===n)<span class=\"code-keyword\">return</span> s.namespace!==r}<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ua</span>(<span class=\"code-params\">e,t,i</span>)</span>{e.push(<span class=\"code-string\">\" \"</span>,t,<span class=\"code-string\">'=\"'</span>,i.replace(<span class=\"code-regexp\">/[&lt;&amp;\"]/g</span>,ma),<span class=\"code-string\">'\"'</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ba</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(r=r||[],n){<span class=\"code-keyword\">if</span>(!(e=n(e)))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> t.push(e)}<span class=\"code-keyword\">switch</span>(e.nodeType){<span class=\"code-keyword\">case</span> Xr:<span class=\"code-keyword\">var</span> a=e.attributes,s=a.length,o=e.firstChild,u=e.tagName,l=u;<span class=\"code-keyword\">if</span>(!(i=Hr.isHTML(e.namespaceURI)||i)&amp;&amp;!e.prefix&amp;&amp;e.namespaceURI){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c,d=<span class=\"code-number\">0</span>;d&lt;a.length;d++)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"xmlns\"</span>===a.item(d).name){c=a.item(d).value;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(!c)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=r.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=h;h--)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\"</span>===(p=r[h]).prefix&amp;&amp;p.namespace===e.namespaceURI){c=p.namespace;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(c!==e.namespaceURI)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p,h=r.length<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=h;h--)<span class=\"code-keyword\">if</span>((p=r[h]).namespace===e.namespaceURI){p.prefix&amp;&amp;(l=p.prefix+<span class=\"code-string\">\":\"</span>+u);<span class=\"code-keyword\">break</span>}}t.push(<span class=\"code-string\">\"&lt;\"</span>,l);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>;f&lt;s;f++)<span class=\"code-string\">\"xmlns\"</span>==(m=a.item(f)).prefix?r.push({<span class=\"code-attr\">prefix</span>:m.localName,<span class=\"code-attr\">namespace</span>:m.value}):<span class=\"code-string\">\"xmlns\"</span>==m.nodeName&amp;&amp;r.push({<span class=\"code-attr\">prefix</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">namespace</span>:m.value});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m,g,y,f=<span class=\"code-number\">0</span>;f&lt;s;f++)Na(m=a.item(f),<span class=\"code-number\">0</span>,r)&amp;&amp;(Ua(t,(g=m.prefix||<span class=\"code-string\">\"\"</span>)?<span class=\"code-string\">\"xmlns:\"</span>+g:<span class=\"code-string\">\"xmlns\"</span>,y=m.namespaceURI),r.push({<span class=\"code-attr\">prefix</span>:g,<span class=\"code-attr\">namespace</span>:y})),Ba(m,t,i,n,r);<span class=\"code-keyword\">if</span>(u===l&amp;&amp;Na(e,<span class=\"code-number\">0</span>,r)&amp;&amp;(Ua(t,(g=e.prefix||<span class=\"code-string\">\"\"</span>)?<span class=\"code-string\">\"xmlns:\"</span>+g:<span class=\"code-string\">\"xmlns\"</span>,y=e.namespaceURI),r.push({<span class=\"code-attr\">prefix</span>:g,<span class=\"code-attr\">namespace</span>:y})),o||i&amp;&amp;!<span class=\"code-regexp\">/^(?:meta|link|img|br|hr|input)$/i</span>.test(u)){<span class=\"code-keyword\">if</span>(t.push(<span class=\"code-string\">\"&gt;\"</span>),i&amp;&amp;<span class=\"code-regexp\">/^script$/i</span>.test(u))<span class=\"code-keyword\">for</span>(;o;)o.data?t.push(o.data):Ba(o,t,i,n,r.slice()),o=o.nextSibling;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(;o;)Ba(o,t,i,n,r.slice()),o=o.nextSibling;t.push(<span class=\"code-string\">\"&lt;/\"</span>,l,<span class=\"code-string\">\"&gt;\"</span>)}<span class=\"code-keyword\">else</span> t.push(<span class=\"code-string\">\"/&gt;\"</span>);<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">case</span> ea:<span class=\"code-keyword\">case</span> ia:<span class=\"code-keyword\">for</span>(o=e.firstChild;o;)Ba(o,t,i,n,r.slice()),o=o.nextSibling;<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">case</span> Kr:<span class=\"code-keyword\">return</span> Ua(t,e.name,e.value),<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> Yr:<span class=\"code-keyword\">return</span> t.push(e.data.replace(<span class=\"code-regexp\">/[&lt;&amp;]/g</span>,ma).replace(<span class=\"code-regexp\">/]]&gt;/g</span>,<span class=\"code-string\">\"]]&amp;gt;\"</span>));<span class=\"code-keyword\">case</span> Qr:<span class=\"code-keyword\">return</span> t.push(<span class=\"code-string\">\"&lt;![CDATA[\"</span>,e.data,<span class=\"code-string\">\"]]&gt;\"</span>);<span class=\"code-keyword\">case</span> Zr:<span class=\"code-keyword\">return</span> t.push(<span class=\"code-string\">\"\\x3c!--\"</span>,e.data,<span class=\"code-string\">\"--\\x3e\"</span>);<span class=\"code-keyword\">case</span> ta:<span class=\"code-keyword\">var</span> v=e.publicId,_=e.systemId;<span class=\"code-keyword\">return</span> t.push(<span class=\"code-string\">\"&lt;!DOCTYPE \"</span>,e.name),<span class=\"code-keyword\">void</span>(v?(t.push(<span class=\"code-string\">\" PUBLIC \"</span>,v),_&amp;&amp;<span class=\"code-string\">\".\"</span>!=_&amp;&amp;t.push(<span class=\"code-string\">\" \"</span>,_),t.push(<span class=\"code-string\">\"&gt;\"</span>)):_&amp;&amp;<span class=\"code-string\">\".\"</span>!=_?t.push(<span class=\"code-string\">\" SYSTEM \"</span>,_,<span class=\"code-string\">\"&gt;\"</span>):((_=e.internalSubset)&amp;&amp;t.push(<span class=\"code-string\">\" [\"</span>,_,<span class=\"code-string\">\"]\"</span>),t.push(<span class=\"code-string\">\"&gt;\"</span>)));<span class=\"code-keyword\">case</span> Jr:<span class=\"code-keyword\">return</span> t.push(<span class=\"code-string\">\"&lt;?\"</span>,e.target,<span class=\"code-string\">\" \"</span>,e.data,<span class=\"code-string\">\"?&gt;\"</span>);<span class=\"code-keyword\">case</span> $r:<span class=\"code-keyword\">return</span> t.push(<span class=\"code-string\">\"&amp;\"</span>,e.nodeName,<span class=\"code-string\">\";\"</span>);<span class=\"code-keyword\">default</span>:t.push(<span class=\"code-string\">\"??\"</span>,e.nodeName)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fa</span>(<span class=\"code-params\">e,t,i</span>)</span>{e[t]=i}x.INVALID_STATE_ERR=(na[<span class=\"code-number\">11</span>]=<span class=\"code-string\">\"Invalid state\"</span>,<span class=\"code-number\">11</span>),x.SYNTAX_ERR=(na[<span class=\"code-number\">12</span>]=<span class=\"code-string\">\"Syntax error\"</span>,<span class=\"code-number\">12</span>),x.INVALID_MODIFICATION_ERR=(na[<span class=\"code-number\">13</span>]=<span class=\"code-string\">\"Invalid modification\"</span>,<span class=\"code-number\">13</span>),x.NAMESPACE_ERR=(na[<span class=\"code-number\">14</span>]=<span class=\"code-string\">\"Invalid namespace\"</span>,<span class=\"code-number\">14</span>),x.INVALID_ACCESS_ERR=(na[<span class=\"code-number\">15</span>]=<span class=\"code-string\">\"Invalid access\"</span>,<span class=\"code-number\">15</span>),aa.prototype=<span class=\"code-built_in\">Error</span>.prototype,Gr(x,aa),sa.prototype={<span class=\"code-attr\">length</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">item</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e]||<span class=\"code-literal\">null</span>},<span class=\"code-attr\">toString</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=[],n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.length;n++)Ba(<span class=\"code-keyword\">this</span>[n],i,e,t);<span class=\"code-keyword\">return</span> i.join(<span class=\"code-string\">\"\"</span>)}},oa.prototype.item=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ua(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>[e]},zr(oa,sa),la.prototype={<span class=\"code-attr\">length</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">item</span>:sa.prototype.item,<span class=\"code-attr\">getNamedItem</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.length;t--;){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>[t];<span class=\"code-keyword\">if</span>(i.nodeName==e)<span class=\"code-keyword\">return</span> i}},<span class=\"code-attr\">setNamedItem</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.ownerElement;<span class=\"code-keyword\">if</span>(t&amp;&amp;t!=<span class=\"code-keyword\">this</span>._ownerElement)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> aa(<span class=\"code-number\">10</span>);t=<span class=\"code-keyword\">this</span>.getNamedItem(e.nodeName);<span class=\"code-keyword\">return</span> da(<span class=\"code-keyword\">this</span>._ownerElement,<span class=\"code-keyword\">this</span>,e,t),t},<span class=\"code-attr\">setNamedItemNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.ownerElement;<span class=\"code-keyword\">if</span>(t&amp;&amp;t!=<span class=\"code-keyword\">this</span>._ownerElement)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> aa(<span class=\"code-number\">10</span>);<span class=\"code-keyword\">return</span> t=<span class=\"code-keyword\">this</span>.getNamedItemNS(e.namespaceURI,e.localName),da(<span class=\"code-keyword\">this</span>._ownerElement,<span class=\"code-keyword\">this</span>,e,t),t},<span class=\"code-attr\">removeNamedItem</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">this</span>.getNamedItem(e);<span class=\"code-keyword\">return</span> ha(<span class=\"code-keyword\">this</span>._ownerElement,<span class=\"code-keyword\">this</span>,e),e},<span class=\"code-attr\">removeNamedItemNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=<span class=\"code-keyword\">this</span>.getNamedItemNS(e,t);<span class=\"code-keyword\">return</span> ha(<span class=\"code-keyword\">this</span>._ownerElement,<span class=\"code-keyword\">this</span>,t),t},<span class=\"code-attr\">getNamedItemNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.length;i--;){<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>[i];<span class=\"code-keyword\">if</span>(n.localName==t&amp;&amp;n.namespaceURI==e)<span class=\"code-keyword\">return</span> n}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}},pa.prototype={<span class=\"code-attr\">hasFeature</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>},<span class=\"code-attr\">createDocument</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> ya;<span class=\"code-keyword\">return</span> n.implementation=<span class=\"code-keyword\">this</span>,n.childNodes=<span class=\"code-keyword\">new</span> sa,n.doctype=i||<span class=\"code-literal\">null</span>,i&amp;&amp;n.appendChild(i),t&amp;&amp;(t=n.createElementNS(e,t),n.appendChild(t)),n},<span class=\"code-attr\">createDocumentType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">new</span> xa;<span class=\"code-keyword\">return</span> n.name=e,n.nodeName=e,n.publicId=t||<span class=\"code-string\">\"\"</span>,n.systemId=i||<span class=\"code-string\">\"\"</span>,n}},fa.prototype={<span class=\"code-attr\">firstChild</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">lastChild</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">previousSibling</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">nextSibling</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">attributes</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">parentNode</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">childNodes</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">ownerDocument</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">nodeValue</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">namespaceURI</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">prefix</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">localName</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">insertBefore</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> Ta(<span class=\"code-keyword\">this</span>,e,t)},<span class=\"code-attr\">replaceChild</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.insertBefore(e,t),t&amp;&amp;<span class=\"code-keyword\">this</span>.removeChild(t)},<span class=\"code-attr\">removeChild</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ba(<span class=\"code-keyword\">this</span>,e)},<span class=\"code-attr\">appendChild</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.insertBefore(e,<span class=\"code-literal\">null</span>)},<span class=\"code-attr\">hasChildNodes</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=<span class=\"code-keyword\">this</span>.firstChild},<span class=\"code-attr\">cloneNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> i.constructor;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> i){<span class=\"code-keyword\">var</span> s=i[a];<span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> s&amp;&amp;s!=r[a]&amp;&amp;(r[a]=s)}i.childNodes&amp;&amp;(r.childNodes=<span class=\"code-keyword\">new</span> sa);r.ownerDocument=t;<span class=\"code-keyword\">switch</span>(r.nodeType){<span class=\"code-keyword\">case</span> Xr:<span class=\"code-keyword\">var</span> o=i.attributes,u=r.attributes=<span class=\"code-keyword\">new</span> la,l=o.length;u._ownerElement=r;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;l;c++)r.setAttributeNode(e(t,o.item(c),!<span class=\"code-number\">0</span>));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Kr:n=!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> d=i.firstChild;d;)r.appendChild(e(t,d,n)),d=d.nextSibling;<span class=\"code-keyword\">return</span> r}(<span class=\"code-keyword\">this</span>.ownerDocument||<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>,e)},<span class=\"code-attr\">normalize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.firstChild;e;){<span class=\"code-keyword\">var</span> t=e.nextSibling;t&amp;&amp;t.nodeType==Yr&amp;&amp;e.nodeType==Yr?(<span class=\"code-keyword\">this</span>.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},<span class=\"code-attr\">isSupported</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.ownerDocument.implementation.hasFeature(e,t)},<span class=\"code-attr\">hasAttributes</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.attributes.length},<span class=\"code-attr\">lookupPrefix</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;t;){<span class=\"code-keyword\">var</span> i=t._nsMap;<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> i)<span class=\"code-keyword\">if</span>(i[n]==e)<span class=\"code-keyword\">return</span> n;t=t.nodeType==Kr?t.ownerDocument:t.parentNode}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">lookupNamespaceURI</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;t;){<span class=\"code-keyword\">var</span> i=t._nsMap;<span class=\"code-keyword\">if</span>(i&amp;&amp;e <span class=\"code-keyword\">in</span> i)<span class=\"code-keyword\">return</span> i[e];t=t.nodeType==Kr?t.ownerDocument:t.parentNode}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">isDefaultNamespace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>==<span class=\"code-keyword\">this</span>.lookupPrefix(e)}},Gr(W,fa),Gr(W,fa.prototype),ya.prototype={<span class=\"code-attr\">nodeName</span>:<span class=\"code-string\">\"#document\"</span>,<span class=\"code-attr\">nodeType</span>:ea,<span class=\"code-attr\">doctype</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">documentElement</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">_inc</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">insertBefore</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e.nodeType!=ia)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>==<span class=\"code-keyword\">this</span>.documentElement&amp;&amp;e.nodeType==Xr&amp;&amp;(<span class=\"code-keyword\">this</span>.documentElement=e),Ta(<span class=\"code-keyword\">this</span>,e,t),e.ownerDocument=<span class=\"code-keyword\">this</span>,e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e.firstChild;i;){<span class=\"code-keyword\">var</span> n=i.nextSibling;<span class=\"code-keyword\">this</span>.insertBefore(i,t),i=n}<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">removeChild</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.documentElement==e&amp;&amp;(<span class=\"code-keyword\">this</span>.documentElement=<span class=\"code-literal\">null</span>),ba(<span class=\"code-keyword\">this</span>,e)},<span class=\"code-attr\">importNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">switch</span>(i.nodeType){<span class=\"code-keyword\">case</span> Xr:(r=i.cloneNode(!<span class=\"code-number\">1</span>)).ownerDocument=t;<span class=\"code-keyword\">case</span> ia:<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Kr:n=!<span class=\"code-number\">0</span>}r=r||i.cloneNode(!<span class=\"code-number\">1</span>);r.ownerDocument=t;r.parentNode=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=i.firstChild;a;)r.appendChild(e(t,a,n)),a=a.nextSibling;<span class=\"code-keyword\">return</span> r}(<span class=\"code-keyword\">this</span>,e,t)},<span class=\"code-attr\">getElementById</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span> ga(<span class=\"code-keyword\">this</span>.documentElement,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.nodeType==Xr&amp;&amp;e.getAttribute(<span class=\"code-string\">\"id\"</span>)==t)<span class=\"code-keyword\">return</span> i=e,!<span class=\"code-number\">0</span>}),i},<span class=\"code-attr\">getElementsByClassName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-keyword\">var</span> o=Wr(s);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> oa(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">var</span> a=[];<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>&lt;o.length&amp;&amp;ga(r.documentElement,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n;e===r||e.nodeType!==Xr||(t=e.getAttribute(<span class=\"code-string\">\"class\"</span>))&amp;&amp;((i=s===t)||(t=Wr(t),i=o.every((n=t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> n&amp;&amp;<span class=\"code-number\">-1</span>!==n.indexOf(e)}))),i&amp;&amp;a.push(e))}),a})},<span class=\"code-attr\">createElement</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Sa;<span class=\"code-keyword\">return</span> t.ownerDocument=<span class=\"code-keyword\">this</span>,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=<span class=\"code-keyword\">new</span> sa,(t.attributes=<span class=\"code-keyword\">new</span> la)._ownerElement=t},<span class=\"code-attr\">createDocumentFragment</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">new</span> Da;<span class=\"code-keyword\">return</span> e.ownerDocument=<span class=\"code-keyword\">this</span>,e.childNodes=<span class=\"code-keyword\">new</span> sa,e},<span class=\"code-attr\">createTextNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> ka;<span class=\"code-keyword\">return</span> t.ownerDocument=<span class=\"code-keyword\">this</span>,t.appendData(e),t},<span class=\"code-attr\">createComment</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Ca;<span class=\"code-keyword\">return</span> t.ownerDocument=<span class=\"code-keyword\">this</span>,t.appendData(e),t},<span class=\"code-attr\">createCDATASection</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> Ia;<span class=\"code-keyword\">return</span> t.ownerDocument=<span class=\"code-keyword\">this</span>,t.appendData(e),t},<span class=\"code-attr\">createProcessingInstruction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Oa;<span class=\"code-keyword\">return</span> i.ownerDocument=<span class=\"code-keyword\">this</span>,i.tagName=i.target=e,i.nodeValue=i.data=t,i},<span class=\"code-attr\">createAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> wa;<span class=\"code-keyword\">return</span> t.ownerDocument=<span class=\"code-keyword\">this</span>,t.name=e,t.nodeName=e,t.localName=e,t.specified=!<span class=\"code-number\">0</span>,t},<span class=\"code-attr\">createEntityReference</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> La;<span class=\"code-keyword\">return</span> t.ownerDocument=<span class=\"code-keyword\">this</span>,t.nodeName=e,t},<span class=\"code-attr\">createElementNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> Sa,n=t.split(<span class=\"code-string\">\":\"</span>),r=i.attributes=<span class=\"code-keyword\">new</span> la;<span class=\"code-keyword\">return</span> i.childNodes=<span class=\"code-keyword\">new</span> sa,i.ownerDocument=<span class=\"code-keyword\">this</span>,i.nodeName=t,i.tagName=t,i.namespaceURI=e,<span class=\"code-number\">2</span>==n.length?(i.prefix=n[<span class=\"code-number\">0</span>],i.localName=n[<span class=\"code-number\">1</span>]):i.localName=t,r._ownerElement=i},<span class=\"code-attr\">createAttributeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> wa,n=t.split(<span class=\"code-string\">\":\"</span>);<span class=\"code-keyword\">return</span> i.ownerDocument=<span class=\"code-keyword\">this</span>,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>==n.length?(i.prefix=n[<span class=\"code-number\">0</span>],i.localName=n[<span class=\"code-number\">1</span>]):i.localName=t,i}},zr(ya,fa),ya.prototype.getElementsByTagName=(Sa.prototype={<span class=\"code-attr\">nodeType</span>:Xr,<span class=\"code-attr\">hasAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=<span class=\"code-keyword\">this</span>.getAttributeNode(e)},<span class=\"code-attr\">getAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">this</span>.getAttributeNode(e);<span class=\"code-keyword\">return</span> e&amp;&amp;e.value||<span class=\"code-string\">\"\"</span>},<span class=\"code-attr\">getAttributeNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes.getNamedItem(e)},<span class=\"code-attr\">setAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e=<span class=\"code-keyword\">this</span>.ownerDocument.createAttribute(e);e.value=e.nodeValue=<span class=\"code-string\">\"\"</span>+t,<span class=\"code-keyword\">this</span>.setAttributeNode(e)},<span class=\"code-attr\">removeAttribute</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">this</span>.getAttributeNode(e);e&amp;&amp;<span class=\"code-keyword\">this</span>.removeAttributeNode(e)},<span class=\"code-attr\">appendChild</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.nodeType===ia?<span class=\"code-keyword\">this</span>.insertBefore(e,<span class=\"code-literal\">null</span>):<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.parentNode;i&amp;&amp;(n=e.lastChild,i.removeChild(t),n=e.lastChild);<span class=\"code-keyword\">var</span> n=e.lastChild;<span class=\"code-keyword\">return</span> t.parentNode=e,t.previousSibling=n,t.nextSibling=<span class=\"code-literal\">null</span>,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,_a(e.ownerDocument,e,t),t}(<span class=\"code-keyword\">this</span>,e)},<span class=\"code-attr\">setAttributeNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes.setNamedItem(e)},<span class=\"code-attr\">setAttributeNodeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes.setNamedItemNS(e)},<span class=\"code-attr\">removeAttributeNode</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes.removeNamedItem(e.nodeName)},<span class=\"code-attr\">removeAttributeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=<span class=\"code-keyword\">this</span>.getAttributeNodeNS(e,t);t&amp;&amp;<span class=\"code-keyword\">this</span>.removeAttributeNode(t)},<span class=\"code-attr\">hasAttributeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!=<span class=\"code-keyword\">this</span>.getAttributeNodeNS(e,t)},<span class=\"code-attr\">getAttributeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=<span class=\"code-keyword\">this</span>.getAttributeNodeNS(e,t);<span class=\"code-keyword\">return</span> t&amp;&amp;t.value||<span class=\"code-string\">\"\"</span>},<span class=\"code-attr\">setAttributeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{t=<span class=\"code-keyword\">this</span>.ownerDocument.createAttributeNS(e,t);t.value=t.nodeValue=<span class=\"code-string\">\"\"</span>+i,<span class=\"code-keyword\">this</span>.setAttributeNode(t)},<span class=\"code-attr\">getAttributeNodeNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.attributes.getNamedItemNS(e,t)},<span class=\"code-attr\">getElementsByTagName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> oa(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=[];<span class=\"code-keyword\">return</span> ga(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e===t||e.nodeType!=Xr||<span class=\"code-string\">\"*\"</span>!==n&amp;&amp;e.tagName!=n||i.push(e)}),i})},<span class=\"code-attr\">getElementsByTagNameNS</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> oa(<span class=\"code-keyword\">this</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=[];<span class=\"code-keyword\">return</span> ga(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e===t||e.nodeType!==Xr||<span class=\"code-string\">\"*\"</span>!==n&amp;&amp;e.namespaceURI!==n||<span class=\"code-string\">\"*\"</span>!==r&amp;&amp;e.localName!=r||i.push(e)}),i})}}).getElementsByTagName,ya.prototype.getElementsByTagNameNS=Sa.prototype.getElementsByTagNameNS,zr(Sa,fa),wa.prototype.nodeType=Kr,zr(wa,fa),Ea.prototype={<span class=\"code-attr\">data</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">substringData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.data.substring(e,e+t)},<span class=\"code-attr\">appendData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">this</span>.data+e,<span class=\"code-keyword\">this</span>.nodeValue=<span class=\"code-keyword\">this</span>.data=e,<span class=\"code-keyword\">this</span>.length=e.length},<span class=\"code-attr\">insertData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.replaceData(e,<span class=\"code-number\">0</span>,t)},<span class=\"code-attr\">appendChild</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(na[<span class=\"code-number\">3</span>])},<span class=\"code-attr\">deleteData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.replaceData(e,t,<span class=\"code-string\">\"\"</span>)},<span class=\"code-attr\">replaceData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.data.substring(<span class=\"code-number\">0</span>,e),t=<span class=\"code-keyword\">this</span>.data.substring(e+t);<span class=\"code-keyword\">this</span>.nodeValue=<span class=\"code-keyword\">this</span>.data=i=n+i+t,<span class=\"code-keyword\">this</span>.length=i.length}},zr(Ea,fa),ka.prototype={<span class=\"code-attr\">nodeName</span>:<span class=\"code-string\">\"#text\"</span>,<span class=\"code-attr\">nodeType</span>:Yr,<span class=\"code-attr\">splitText</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=(i=<span class=\"code-keyword\">this</span>.data).substring(e),i=i.substring(<span class=\"code-number\">0</span>,e);<span class=\"code-keyword\">this</span>.data=<span class=\"code-keyword\">this</span>.nodeValue=i,<span class=\"code-keyword\">this</span>.length=i.length;t=<span class=\"code-keyword\">this</span>.ownerDocument.createTextNode(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.parentNode&amp;&amp;<span class=\"code-keyword\">this</span>.parentNode.insertBefore(t,<span class=\"code-keyword\">this</span>.nextSibling),t}},zr(ka,Ea),Ca.prototype={<span class=\"code-attr\">nodeName</span>:<span class=\"code-string\">\"#comment\"</span>,<span class=\"code-attr\">nodeType</span>:Zr},zr(Ca,Ea),Ia.prototype={<span class=\"code-attr\">nodeName</span>:<span class=\"code-string\">\"#cdata-section\"</span>,<span class=\"code-attr\">nodeType</span>:Qr},zr(Ia,Ea),xa.prototype.nodeType=ta,zr(xa,fa),Aa.prototype.nodeType=<span class=\"code-number\">12</span>,zr(Aa,fa),Pa.prototype.nodeType=<span class=\"code-number\">6</span>,zr(Pa,fa),La.prototype.nodeType=$r,zr(La,fa),Da.prototype.nodeName=<span class=\"code-string\">\"#document-fragment\"</span>,Da.prototype.nodeType=ia,zr(Da,fa),Oa.prototype.nodeType=Jr,zr(Oa,fa),Ma.prototype.serializeToString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> Ra.call(e,t,i)},fa.prototype.toString=Ra;<span class=\"code-keyword\">try</span>{<span class=\"code-built_in\">Object</span>.defineProperty&amp;&amp;(ra=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">switch</span>(t.nodeType){<span class=\"code-keyword\">case</span> Xr:<span class=\"code-keyword\">case</span> ia:<span class=\"code-keyword\">var</span> i=[];<span class=\"code-keyword\">for</span>(t=t.firstChild;t;)<span class=\"code-number\">7</span>!==t.nodeType&amp;&amp;<span class=\"code-number\">8</span>!==t.nodeType&amp;&amp;i.push(e(t)),t=t.nextSibling;<span class=\"code-keyword\">return</span> i.join(<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span> t.nodeValue}},<span class=\"code-built_in\">Object</span>.defineProperty(oa.prototype,<span class=\"code-string\">\"length\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> ua(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.$$length}}),<span class=\"code-built_in\">Object</span>.defineProperty(fa.prototype,<span class=\"code-string\">\"textContent\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> ra(<span class=\"code-keyword\">this</span>)},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">switch</span>(<span class=\"code-keyword\">this</span>.nodeType){<span class=\"code-keyword\">case</span> Xr:<span class=\"code-keyword\">case</span> ia:<span class=\"code-keyword\">for</span>(;<span class=\"code-keyword\">this</span>.firstChild;)<span class=\"code-keyword\">this</span>.removeChild(<span class=\"code-keyword\">this</span>.firstChild);(e||<span class=\"code-built_in\">String</span>(e))&amp;&amp;<span class=\"code-keyword\">this</span>.appendChild(<span class=\"code-keyword\">this</span>.ownerDocument.createTextNode(e));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">this</span>.data=e,<span class=\"code-keyword\">this</span>.value=e,<span class=\"code-keyword\">this</span>.nodeValue=e}}}),Fa=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{e[<span class=\"code-string\">\"$$\"</span>+t]=i})}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">var</span> U={<span class=\"code-attr\">DocumentType</span>:xa,<span class=\"code-attr\">DOMException</span>:aa,<span class=\"code-attr\">DOMImplementation</span>:pa,<span class=\"code-attr\">Element</span>:Sa,<span class=\"code-attr\">Node</span>:fa,<span class=\"code-attr\">NodeList</span>:sa,<span class=\"code-attr\">XMLSerializer</span>:Ma},ja=m(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=jr.freeze;t.XML_ENTITIES=i({<span class=\"code-attr\">amp</span>:<span class=\"code-string\">\"&amp;\"</span>,<span class=\"code-attr\">apos</span>:<span class=\"code-string\">\"'\"</span>,<span class=\"code-attr\">gt</span>:<span class=\"code-string\">\"&gt;\"</span>,<span class=\"code-attr\">lt</span>:<span class=\"code-string\">\"&lt;\"</span>,<span class=\"code-attr\">quot</span>:<span class=\"code-string\">'\"'</span>}),t.HTML_ENTITIES=i({<span class=\"code-attr\">lt</span>:<span class=\"code-string\">\"&lt;\"</span>,<span class=\"code-attr\">gt</span>:<span class=\"code-string\">\"&gt;\"</span>,<span class=\"code-attr\">amp</span>:<span class=\"code-string\">\"&amp;\"</span>,<span class=\"code-attr\">quot</span>:<span class=\"code-string\">'\"'</span>,<span class=\"code-attr\">apos</span>:<span class=\"code-string\">\"'\"</span>,<span class=\"code-attr\">Agrave</span>:<span class=\"code-string\">\"\u00C0\"</span>,<span class=\"code-attr\">Aacute</span>:<span class=\"code-string\">\"\u00C1\"</span>,<span class=\"code-attr\">Acirc</span>:<span class=\"code-string\">\"\u00C2\"</span>,<span class=\"code-attr\">Atilde</span>:<span class=\"code-string\">\"\u00C3\"</span>,<span class=\"code-attr\">Auml</span>:<span class=\"code-string\">\"\u00C4\"</span>,<span class=\"code-attr\">Aring</span>:<span class=\"code-string\">\"\u00C5\"</span>,<span class=\"code-attr\">AElig</span>:<span class=\"code-string\">\"\u00C6\"</span>,<span class=\"code-attr\">Ccedil</span>:<span class=\"code-string\">\"\u00C7\"</span>,<span class=\"code-attr\">Egrave</span>:<span class=\"code-string\">\"\u00C8\"</span>,<span class=\"code-attr\">Eacute</span>:<span class=\"code-string\">\"\u00C9\"</span>,<span class=\"code-attr\">Ecirc</span>:<span class=\"code-string\">\"\u00CA\"</span>,<span class=\"code-attr\">Euml</span>:<span class=\"code-string\">\"\u00CB\"</span>,<span class=\"code-attr\">Igrave</span>:<span class=\"code-string\">\"\u00CC\"</span>,<span class=\"code-attr\">Iacute</span>:<span class=\"code-string\">\"\u00CD\"</span>,<span class=\"code-attr\">Icirc</span>:<span class=\"code-string\">\"\u00CE\"</span>,<span class=\"code-attr\">Iuml</span>:<span class=\"code-string\">\"\u00CF\"</span>,<span class=\"code-attr\">ETH</span>:<span class=\"code-string\">\"\u00D0\"</span>,<span class=\"code-attr\">Ntilde</span>:<span class=\"code-string\">\"\u00D1\"</span>,<span class=\"code-attr\">Ograve</span>:<span class=\"code-string\">\"\u00D2\"</span>,<span class=\"code-attr\">Oacute</span>:<span class=\"code-string\">\"\u00D3\"</span>,<span class=\"code-attr\">Ocirc</span>:<span class=\"code-string\">\"\u00D4\"</span>,<span class=\"code-attr\">Otilde</span>:<span class=\"code-string\">\"\u00D5\"</span>,<span class=\"code-attr\">Ouml</span>:<span class=\"code-string\">\"\u00D6\"</span>,<span class=\"code-attr\">Oslash</span>:<span class=\"code-string\">\"\u00D8\"</span>,<span class=\"code-attr\">Ugrave</span>:<span class=\"code-string\">\"\u00D9\"</span>,<span class=\"code-attr\">Uacute</span>:<span class=\"code-string\">\"\u00DA\"</span>,<span class=\"code-attr\">Ucirc</span>:<span class=\"code-string\">\"\u00DB\"</span>,<span class=\"code-attr\">Uuml</span>:<span class=\"code-string\">\"\u00DC\"</span>,<span class=\"code-attr\">Yacute</span>:<span class=\"code-string\">\"\u00DD\"</span>,<span class=\"code-attr\">THORN</span>:<span class=\"code-string\">\"\u00DE\"</span>,<span class=\"code-attr\">szlig</span>:<span class=\"code-string\">\"\u00DF\"</span>,<span class=\"code-attr\">agrave</span>:<span class=\"code-string\">\"\u00E0\"</span>,<span class=\"code-attr\">aacute</span>:<span class=\"code-string\">\"\u00E1\"</span>,<span class=\"code-attr\">acirc</span>:<span class=\"code-string\">\"\u00E2\"</span>,<span class=\"code-attr\">atilde</span>:<span class=\"code-string\">\"\u00E3\"</span>,<span class=\"code-attr\">auml</span>:<span class=\"code-string\">\"\u00E4\"</span>,<span class=\"code-attr\">aring</span>:<span class=\"code-string\">\"\u00E5\"</span>,<span class=\"code-attr\">aelig</span>:<span class=\"code-string\">\"\u00E6\"</span>,<span class=\"code-attr\">ccedil</span>:<span class=\"code-string\">\"\u00E7\"</span>,<span class=\"code-attr\">egrave</span>:<span class=\"code-string\">\"\u00E8\"</span>,<span class=\"code-attr\">eacute</span>:<span class=\"code-string\">\"\u00E9\"</span>,<span class=\"code-attr\">ecirc</span>:<span class=\"code-string\">\"\u00EA\"</span>,<span class=\"code-attr\">euml</span>:<span class=\"code-string\">\"\u00EB\"</span>,<span class=\"code-attr\">igrave</span>:<span class=\"code-string\">\"\u00EC\"</span>,<span class=\"code-attr\">iacute</span>:<span class=\"code-string\">\"\u00ED\"</span>,<span class=\"code-attr\">icirc</span>:<span class=\"code-string\">\"\u00EE\"</span>,<span class=\"code-attr\">iuml</span>:<span class=\"code-string\">\"\u00EF\"</span>,<span class=\"code-attr\">eth</span>:<span class=\"code-string\">\"\u00F0\"</span>,<span class=\"code-attr\">ntilde</span>:<span class=\"code-string\">\"\u00F1\"</span>,<span class=\"code-attr\">ograve</span>:<span class=\"code-string\">\"\u00F2\"</span>,<span class=\"code-attr\">oacute</span>:<span class=\"code-string\">\"\u00F3\"</span>,<span class=\"code-attr\">ocirc</span>:<span class=\"code-string\">\"\u00F4\"</span>,<span class=\"code-attr\">otilde</span>:<span class=\"code-string\">\"\u00F5\"</span>,<span class=\"code-attr\">ouml</span>:<span class=\"code-string\">\"\u00F6\"</span>,<span class=\"code-attr\">oslash</span>:<span class=\"code-string\">\"\u00F8\"</span>,<span class=\"code-attr\">ugrave</span>:<span class=\"code-string\">\"\u00F9\"</span>,<span class=\"code-attr\">uacute</span>:<span class=\"code-string\">\"\u00FA\"</span>,<span class=\"code-attr\">ucirc</span>:<span class=\"code-string\">\"\u00FB\"</span>,<span class=\"code-attr\">uuml</span>:<span class=\"code-string\">\"\u00FC\"</span>,<span class=\"code-attr\">yacute</span>:<span class=\"code-string\">\"\u00FD\"</span>,<span class=\"code-attr\">thorn</span>:<span class=\"code-string\">\"\u00FE\"</span>,<span class=\"code-attr\">yuml</span>:<span class=\"code-string\">\"\u00FF\"</span>,<span class=\"code-attr\">nbsp</span>:<span class=\"code-string\">\"\u00A0\"</span>,<span class=\"code-attr\">iexcl</span>:<span class=\"code-string\">\"\u00A1\"</span>,<span class=\"code-attr\">cent</span>:<span class=\"code-string\">\"\u00A2\"</span>,<span class=\"code-attr\">pound</span>:<span class=\"code-string\">\"\u00A3\"</span>,<span class=\"code-attr\">curren</span>:<span class=\"code-string\">\"\u00A4\"</span>,<span class=\"code-attr\">yen</span>:<span class=\"code-string\">\"\u00A5\"</span>,<span class=\"code-attr\">brvbar</span>:<span class=\"code-string\">\"\u00A6\"</span>,<span class=\"code-attr\">sect</span>:<span class=\"code-string\">\"\u00A7\"</span>,<span class=\"code-attr\">uml</span>:<span class=\"code-string\">\"\u00A8\"</span>,<span class=\"code-attr\">copy</span>:<span class=\"code-string\">\"\u00A9\"</span>,<span class=\"code-attr\">ordf</span>:<span class=\"code-string\">\"\u00AA\"</span>,<span class=\"code-attr\">laquo</span>:<span class=\"code-string\">\"\u00AB\"</span>,<span class=\"code-attr\">not</span>:<span class=\"code-string\">\"\u00AC\"</span>,<span class=\"code-attr\">shy</span>:<span class=\"code-string\">\"\u00AD\u00AD\"</span>,<span class=\"code-attr\">reg</span>:<span class=\"code-string\">\"\u00AE\"</span>,<span class=\"code-attr\">macr</span>:<span class=\"code-string\">\"\u00AF\"</span>,<span class=\"code-attr\">deg</span>:<span class=\"code-string\">\"\u00B0\"</span>,<span class=\"code-attr\">plusmn</span>:<span class=\"code-string\">\"\u00B1\"</span>,<span class=\"code-attr\">sup2</span>:<span class=\"code-string\">\"\u00B2\"</span>,<span class=\"code-attr\">sup3</span>:<span class=\"code-string\">\"\u00B3\"</span>,<span class=\"code-attr\">acute</span>:<span class=\"code-string\">\"\u00B4\"</span>,<span class=\"code-attr\">micro</span>:<span class=\"code-string\">\"\u00B5\"</span>,<span class=\"code-attr\">para</span>:<span class=\"code-string\">\"\u00B6\"</span>,<span class=\"code-attr\">middot</span>:<span class=\"code-string\">\"\u00B7\"</span>,<span class=\"code-attr\">cedil</span>:<span class=\"code-string\">\"\u00B8\"</span>,<span class=\"code-attr\">sup1</span>:<span class=\"code-string\">\"\u00B9\"</span>,<span class=\"code-attr\">ordm</span>:<span class=\"code-string\">\"\u00BA\"</span>,<span class=\"code-attr\">raquo</span>:<span class=\"code-string\">\"\u00BB\"</span>,<span class=\"code-attr\">frac14</span>:<span class=\"code-string\">\"\u00BC\"</span>,<span class=\"code-attr\">frac12</span>:<span class=\"code-string\">\"\u00BD\"</span>,<span class=\"code-attr\">frac34</span>:<span class=\"code-string\">\"\u00BE\"</span>,<span class=\"code-attr\">iquest</span>:<span class=\"code-string\">\"\u00BF\"</span>,<span class=\"code-attr\">times</span>:<span class=\"code-string\">\"\u00D7\"</span>,<span class=\"code-attr\">divide</span>:<span class=\"code-string\">\"\u00F7\"</span>,<span class=\"code-attr\">forall</span>:<span class=\"code-string\">\"\u2200\"</span>,<span class=\"code-attr\">part</span>:<span class=\"code-string\">\"\u2202\"</span>,<span class=\"code-attr\">exist</span>:<span class=\"code-string\">\"\u2203\"</span>,<span class=\"code-attr\">empty</span>:<span class=\"code-string\">\"\u2205\"</span>,<span class=\"code-attr\">nabla</span>:<span class=\"code-string\">\"\u2207\"</span>,<span class=\"code-attr\">isin</span>:<span class=\"code-string\">\"\u2208\"</span>,<span class=\"code-attr\">notin</span>:<span class=\"code-string\">\"\u2209\"</span>,<span class=\"code-attr\">ni</span>:<span class=\"code-string\">\"\u220B\"</span>,<span class=\"code-attr\">prod</span>:<span class=\"code-string\">\"\u220F\"</span>,<span class=\"code-attr\">sum</span>:<span class=\"code-string\">\"\u2211\"</span>,<span class=\"code-attr\">minus</span>:<span class=\"code-string\">\"\u2212\"</span>,<span class=\"code-attr\">lowast</span>:<span class=\"code-string\">\"\u2217\"</span>,<span class=\"code-attr\">radic</span>:<span class=\"code-string\">\"\u221A\"</span>,<span class=\"code-attr\">prop</span>:<span class=\"code-string\">\"\u221D\"</span>,<span class=\"code-attr\">infin</span>:<span class=\"code-string\">\"\u221E\"</span>,<span class=\"code-attr\">ang</span>:<span class=\"code-string\">\"\u2220\"</span>,<span class=\"code-attr\">and</span>:<span class=\"code-string\">\"\u2227\"</span>,<span class=\"code-attr\">or</span>:<span class=\"code-string\">\"\u2228\"</span>,<span class=\"code-attr\">cap</span>:<span class=\"code-string\">\"\u2229\"</span>,<span class=\"code-attr\">cup</span>:<span class=\"code-string\">\"\u222A\"</span>,<span class=\"code-attr\">int</span>:<span class=\"code-string\">\"\u222B\"</span>,<span class=\"code-attr\">there4</span>:<span class=\"code-string\">\"\u2234\"</span>,<span class=\"code-attr\">sim</span>:<span class=\"code-string\">\"\u223C\"</span>,<span class=\"code-attr\">cong</span>:<span class=\"code-string\">\"\u2245\"</span>,<span class=\"code-attr\">asymp</span>:<span class=\"code-string\">\"\u2248\"</span>,<span class=\"code-attr\">ne</span>:<span class=\"code-string\">\"\u2260\"</span>,<span class=\"code-attr\">equiv</span>:<span class=\"code-string\">\"\u2261\"</span>,<span class=\"code-attr\">le</span>:<span class=\"code-string\">\"\u2264\"</span>,<span class=\"code-attr\">ge</span>:<span class=\"code-string\">\"\u2265\"</span>,<span class=\"code-attr\">sub</span>:<span class=\"code-string\">\"\u2282\"</span>,<span class=\"code-attr\">sup</span>:<span class=\"code-string\">\"\u2283\"</span>,<span class=\"code-attr\">nsub</span>:<span class=\"code-string\">\"\u2284\"</span>,<span class=\"code-attr\">sube</span>:<span class=\"code-string\">\"\u2286\"</span>,<span class=\"code-attr\">supe</span>:<span class=\"code-string\">\"\u2287\"</span>,<span class=\"code-attr\">oplus</span>:<span class=\"code-string\">\"\u2295\"</span>,<span class=\"code-attr\">otimes</span>:<span class=\"code-string\">\"\u2297\"</span>,<span class=\"code-attr\">perp</span>:<span class=\"code-string\">\"\u22A5\"</span>,<span class=\"code-attr\">sdot</span>:<span class=\"code-string\">\"\u22C5\"</span>,<span class=\"code-attr\">Alpha</span>:<span class=\"code-string\">\"\u0391\"</span>,<span class=\"code-attr\">Beta</span>:<span class=\"code-string\">\"\u0392\"</span>,<span class=\"code-attr\">Gamma</span>:<span class=\"code-string\">\"\u0393\"</span>,<span class=\"code-attr\">Delta</span>:<span class=\"code-string\">\"\u0394\"</span>,<span class=\"code-attr\">Epsilon</span>:<span class=\"code-string\">\"\u0395\"</span>,<span class=\"code-attr\">Zeta</span>:<span class=\"code-string\">\"\u0396\"</span>,<span class=\"code-attr\">Eta</span>:<span class=\"code-string\">\"\u0397\"</span>,<span class=\"code-attr\">Theta</span>:<span class=\"code-string\">\"\u0398\"</span>,<span class=\"code-attr\">Iota</span>:<span class=\"code-string\">\"\u0399\"</span>,<span class=\"code-attr\">Kappa</span>:<span class=\"code-string\">\"\u039A\"</span>,<span class=\"code-attr\">Lambda</span>:<span class=\"code-string\">\"\u039B\"</span>,<span class=\"code-attr\">Mu</span>:<span class=\"code-string\">\"\u039C\"</span>,<span class=\"code-attr\">Nu</span>:<span class=\"code-string\">\"\u039D\"</span>,<span class=\"code-attr\">Xi</span>:<span class=\"code-string\">\"\u039E\"</span>,<span class=\"code-attr\">Omicron</span>:<span class=\"code-string\">\"\u039F\"</span>,<span class=\"code-attr\">Pi</span>:<span class=\"code-string\">\"\u03A0\"</span>,<span class=\"code-attr\">Rho</span>:<span class=\"code-string\">\"\u03A1\"</span>,<span class=\"code-attr\">Sigma</span>:<span class=\"code-string\">\"\u03A3\"</span>,<span class=\"code-attr\">Tau</span>:<span class=\"code-string\">\"\u03A4\"</span>,<span class=\"code-attr\">Upsilon</span>:<span class=\"code-string\">\"\u03A5\"</span>,<span class=\"code-attr\">Phi</span>:<span class=\"code-string\">\"\u03A6\"</span>,<span class=\"code-attr\">Chi</span>:<span class=\"code-string\">\"\u03A7\"</span>,<span class=\"code-attr\">Psi</span>:<span class=\"code-string\">\"\u03A8\"</span>,<span class=\"code-attr\">Omega</span>:<span class=\"code-string\">\"\u03A9\"</span>,<span class=\"code-attr\">alpha</span>:<span class=\"code-string\">\"\u03B1\"</span>,<span class=\"code-attr\">beta</span>:<span class=\"code-string\">\"\u03B2\"</span>,<span class=\"code-attr\">gamma</span>:<span class=\"code-string\">\"\u03B3\"</span>,<span class=\"code-attr\">delta</span>:<span class=\"code-string\">\"\u03B4\"</span>,<span class=\"code-attr\">epsilon</span>:<span class=\"code-string\">\"\u03B5\"</span>,<span class=\"code-attr\">zeta</span>:<span class=\"code-string\">\"\u03B6\"</span>,<span class=\"code-attr\">eta</span>:<span class=\"code-string\">\"\u03B7\"</span>,<span class=\"code-attr\">theta</span>:<span class=\"code-string\">\"\u03B8\"</span>,<span class=\"code-attr\">iota</span>:<span class=\"code-string\">\"\u03B9\"</span>,<span class=\"code-attr\">kappa</span>:<span class=\"code-string\">\"\u03BA\"</span>,<span class=\"code-attr\">lambda</span>:<span class=\"code-string\">\"\u03BB\"</span>,<span class=\"code-attr\">mu</span>:<span class=\"code-string\">\"\u03BC\"</span>,<span class=\"code-attr\">nu</span>:<span class=\"code-string\">\"\u03BD\"</span>,<span class=\"code-attr\">xi</span>:<span class=\"code-string\">\"\u03BE\"</span>,<span class=\"code-attr\">omicron</span>:<span class=\"code-string\">\"\u03BF\"</span>,<span class=\"code-attr\">pi</span>:<span class=\"code-string\">\"\u03C0\"</span>,<span class=\"code-attr\">rho</span>:<span class=\"code-string\">\"\u03C1\"</span>,<span class=\"code-attr\">sigmaf</span>:<span class=\"code-string\">\"\u03C2\"</span>,<span class=\"code-attr\">sigma</span>:<span class=\"code-string\">\"\u03C3\"</span>,<span class=\"code-attr\">tau</span>:<span class=\"code-string\">\"\u03C4\"</span>,<span class=\"code-attr\">upsilon</span>:<span class=\"code-string\">\"\u03C5\"</span>,<span class=\"code-attr\">phi</span>:<span class=\"code-string\">\"\u03C6\"</span>,<span class=\"code-attr\">chi</span>:<span class=\"code-string\">\"\u03C7\"</span>,<span class=\"code-attr\">psi</span>:<span class=\"code-string\">\"\u03C8\"</span>,<span class=\"code-attr\">omega</span>:<span class=\"code-string\">\"\u03C9\"</span>,<span class=\"code-attr\">thetasym</span>:<span class=\"code-string\">\"\u03D1\"</span>,<span class=\"code-attr\">upsih</span>:<span class=\"code-string\">\"\u03D2\"</span>,<span class=\"code-attr\">piv</span>:<span class=\"code-string\">\"\u03D6\"</span>,<span class=\"code-attr\">OElig</span>:<span class=\"code-string\">\"\u0152\"</span>,<span class=\"code-attr\">oelig</span>:<span class=\"code-string\">\"\u0153\"</span>,<span class=\"code-attr\">Scaron</span>:<span class=\"code-string\">\"\u0160\"</span>,<span class=\"code-attr\">scaron</span>:<span class=\"code-string\">\"\u0161\"</span>,<span class=\"code-attr\">Yuml</span>:<span class=\"code-string\">\"\u0178\"</span>,<span class=\"code-attr\">fnof</span>:<span class=\"code-string\">\"\u0192\"</span>,<span class=\"code-attr\">circ</span>:<span class=\"code-string\">\"\u02C6\"</span>,<span class=\"code-attr\">tilde</span>:<span class=\"code-string\">\"\u02DC\"</span>,<span class=\"code-attr\">ensp</span>:<span class=\"code-string\">\"\u2002\"</span>,<span class=\"code-attr\">emsp</span>:<span class=\"code-string\">\"\u2003\"</span>,<span class=\"code-attr\">thinsp</span>:<span class=\"code-string\">\"\u2009\"</span>,<span class=\"code-attr\">zwnj</span>:<span class=\"code-string\">\"\u200C\"</span>,<span class=\"code-attr\">zwj</span>:<span class=\"code-string\">\"\u200D\"</span>,<span class=\"code-attr\">lrm</span>:<span class=\"code-string\">\"\u200E\"</span>,<span class=\"code-attr\">rlm</span>:<span class=\"code-string\">\"\u200F\"</span>,<span class=\"code-attr\">ndash</span>:<span class=\"code-string\">\"\u2013\"</span>,<span class=\"code-attr\">mdash</span>:<span class=\"code-string\">\"\u2014\"</span>,<span class=\"code-attr\">lsquo</span>:<span class=\"code-string\">\"\u2018\"</span>,<span class=\"code-attr\">rsquo</span>:<span class=\"code-string\">\"\u2019\"</span>,<span class=\"code-attr\">sbquo</span>:<span class=\"code-string\">\"\u201A\"</span>,<span class=\"code-attr\">ldquo</span>:<span class=\"code-string\">\"\u201C\"</span>,<span class=\"code-attr\">rdquo</span>:<span class=\"code-string\">\"\u201D\"</span>,<span class=\"code-attr\">bdquo</span>:<span class=\"code-string\">\"\u201E\"</span>,<span class=\"code-attr\">dagger</span>:<span class=\"code-string\">\"\u2020\"</span>,<span class=\"code-attr\">Dagger</span>:<span class=\"code-string\">\"\u2021\"</span>,<span class=\"code-attr\">bull</span>:<span class=\"code-string\">\"\u2022\"</span>,<span class=\"code-attr\">hellip</span>:<span class=\"code-string\">\"\u2026\"</span>,<span class=\"code-attr\">permil</span>:<span class=\"code-string\">\"\u2030\"</span>,<span class=\"code-attr\">prime</span>:<span class=\"code-string\">\"\u2032\"</span>,<span class=\"code-attr\">Prime</span>:<span class=\"code-string\">\"\u2033\"</span>,<span class=\"code-attr\">lsaquo</span>:<span class=\"code-string\">\"\u2039\"</span>,<span class=\"code-attr\">rsaquo</span>:<span class=\"code-string\">\"\u203A\"</span>,<span class=\"code-attr\">oline</span>:<span class=\"code-string\">\"\u203E\"</span>,<span class=\"code-attr\">euro</span>:<span class=\"code-string\">\"\u20AC\"</span>,<span class=\"code-attr\">trade</span>:<span class=\"code-string\">\"\u2122\"</span>,<span class=\"code-attr\">larr</span>:<span class=\"code-string\">\"\u2190\"</span>,<span class=\"code-attr\">uarr</span>:<span class=\"code-string\">\"\u2191\"</span>,<span class=\"code-attr\">rarr</span>:<span class=\"code-string\">\"\u2192\"</span>,<span class=\"code-attr\">darr</span>:<span class=\"code-string\">\"\u2193\"</span>,<span class=\"code-attr\">harr</span>:<span class=\"code-string\">\"\u2194\"</span>,<span class=\"code-attr\">crarr</span>:<span class=\"code-string\">\"\u21B5\"</span>,<span class=\"code-attr\">lceil</span>:<span class=\"code-string\">\"\u2308\"</span>,<span class=\"code-attr\">rceil</span>:<span class=\"code-string\">\"\u2309\"</span>,<span class=\"code-attr\">lfloor</span>:<span class=\"code-string\">\"\u230A\"</span>,<span class=\"code-attr\">rfloor</span>:<span class=\"code-string\">\"\u230B\"</span>,<span class=\"code-attr\">loz</span>:<span class=\"code-string\">\"\u25CA\"</span>,<span class=\"code-attr\">spades</span>:<span class=\"code-string\">\"\u2660\"</span>,<span class=\"code-attr\">clubs</span>:<span class=\"code-string\">\"\u2663\"</span>,<span class=\"code-attr\">hearts</span>:<span class=\"code-string\">\"\u2665\"</span>,<span class=\"code-attr\">diams</span>:<span class=\"code-string\">\"\u2666\"</span>}),t.entityMap=t.HTML_ENTITIES});ja.XML_ENTITIES,ja.HTML_ENTITIES,ja.entityMap;<span class=\"code-keyword\">var</span> Ha=jr.NAMESPACE,zt=<span class=\"code-regexp\">/[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/</span>,ar=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"[\\\\-\\\\.0-9\"</span>+zt.source.slice(<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>)+<span class=\"code-string\">\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\"</span>),qa=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"^\"</span>+zt.source+ar.source+<span class=\"code-string\">\"*(?::\"</span>+zt.source+ar.source+<span class=\"code-string\">\"*)?$\"</span>),Va=<span class=\"code-number\">0</span>,Wa=<span class=\"code-number\">1</span>,Ga=<span class=\"code-number\">2</span>,za=<span class=\"code-number\">3</span>,Xa=<span class=\"code-number\">4</span>,Ka=<span class=\"code-number\">5</span>,Ya=<span class=\"code-number\">6</span>,Qa=<span class=\"code-number\">7</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$a</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.message=e,<span class=\"code-keyword\">this</span>.locator=t,<span class=\"code-built_in\">Error</span>.captureStackTrace&amp;&amp;<span class=\"code-built_in\">Error</span>.captureStackTrace(<span class=\"code-keyword\">this</span>,$a)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ja</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Za</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">es</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.tagName,r=<span class=\"code-literal\">null</span>,a=e.length;a--;){<span class=\"code-keyword\">var</span> s=e[a],o=s.qName,u=s.value,o=<span class=\"code-number\">0</span>&lt;(c=o.indexOf(<span class=\"code-string\">\":\"</span>))?(l=s.prefix=o.slice(<span class=\"code-number\">0</span>,c),d=o.slice(c+<span class=\"code-number\">1</span>),<span class=\"code-string\">\"xmlns\"</span>===l&amp;&amp;d):(l=<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"xmlns\"</span>===(d=o)&amp;&amp;<span class=\"code-string\">\"\"</span>);s.localName=d,!<span class=\"code-number\">1</span>!==o&amp;&amp;(<span class=\"code-literal\">null</span>==r&amp;&amp;(r={},ts(i,i={})),i[o]=r[o]=u,s.uri=Ha.XMLNS,t.startPrefixMapping(o,u))}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> l,a=e.length;a--;)(l=(s=e[a]).prefix)&amp;&amp;(<span class=\"code-string\">\"xml\"</span>===l&amp;&amp;(s.uri=Ha.XML),<span class=\"code-string\">\"xmlns\"</span>!==l&amp;&amp;(s.uri=i[l||<span class=\"code-string\">\"\"</span>]));<span class=\"code-keyword\">var</span> c,d=<span class=\"code-number\">0</span>&lt;(c=n.indexOf(<span class=\"code-string\">\":\"</span>))?(l=e.prefix=n.slice(<span class=\"code-number\">0</span>,c),e.localName=n.slice(c+<span class=\"code-number\">1</span>)):(l=<span class=\"code-literal\">null</span>,e.localName=n),h=e.uri=i[l||<span class=\"code-string\">\"\"</span>];<span class=\"code-keyword\">if</span>(t.startElement(h,d,n,e),!e.closed)<span class=\"code-keyword\">return</span> e.currentNSMap=i,e.localNSMap=r,<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(t.endElement(h,d,n),r)<span class=\"code-keyword\">for</span>(l <span class=\"code-keyword\">in</span> r)t.endPrefixMapping(l)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ts</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> e)t[i]=e[i]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">is</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.attributeNames={}}($a.prototype=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>).name=$a.name,Ja.prototype={<span class=\"code-attr\">parse</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.domBuilder;n.startDocument(),ts(t,t={}),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,e,n,r,a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.slice(<span class=\"code-number\">1</span>,<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">return</span> t <span class=\"code-keyword\">in</span> n?n[t]:<span class=\"code-string\">\"#\"</span>===t.charAt(<span class=\"code-number\">0</span>)?<span class=\"code-number\">65535</span>&lt;(t=<span class=\"code-built_in\">parseInt</span>(t.substr(<span class=\"code-number\">1</span>).replace(<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"0x\"</span>)))?(t-=<span class=\"code-number\">65536</span>,<span class=\"code-built_in\">String</span>.fromCharCode(<span class=\"code-number\">55296</span>+(t&gt;&gt;<span class=\"code-number\">10</span>),<span class=\"code-number\">56320</span>+(<span class=\"code-number\">1023</span>&amp;t))):<span class=\"code-built_in\">String</span>.fromCharCode(t):(a.error(<span class=\"code-string\">\"entity not found:\"</span>+e),e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;f&lt;e&amp;&amp;(t=i.substring(f,e).replace(<span class=\"code-regexp\">/&amp;#?\\w+;/g</span>,s),d&amp;&amp;o(f),r.characters(t,<span class=\"code-number\">0</span>,e-f),f=e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(;l&lt;=e&amp;&amp;(t=c.exec(i));)u=t.index,l=u+t[<span class=\"code-number\">0</span>].length,d.lineNumber++;d.columnNumber=e-u+<span class=\"code-number\">1</span>}<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>,l=<span class=\"code-number\">0</span>,c=<span class=\"code-regexp\">/.*(?:\\r\\n?|\\n)|.*$/g</span>,d=r.locator,h=[{<span class=\"code-attr\">currentNSMap</span>:e}],p={},f=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(;;){<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">var</span> m,g,y=i.indexOf(<span class=\"code-string\">\"&lt;\"</span>,f);<span class=\"code-keyword\">if</span>(y&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> i.substr(f).match(<span class=\"code-regexp\">/^\\s*$/</span>)||(m=r.doc,g=m.createTextNode(i.substr(f)),m.appendChild(g),r.currentElement=g);<span class=\"code-keyword\">switch</span>(f&lt;y&amp;&amp;t(y),i.charAt(y+<span class=\"code-number\">1</span>)){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"/\"</span>:<span class=\"code-keyword\">var</span> v=i.indexOf(<span class=\"code-string\">\"&gt;\"</span>,y+<span class=\"code-number\">3</span>),_=i.substring(y+<span class=\"code-number\">2</span>,v).replace(<span class=\"code-regexp\">/[ \\t\\n\\r]+$/g</span>,<span class=\"code-string\">\"\"</span>),b=h.pop();v&lt;<span class=\"code-number\">0</span>?(_=i.substring(y+<span class=\"code-number\">2</span>).replace(<span class=\"code-regexp\">/[\\s&lt;].*/</span>,<span class=\"code-string\">\"\"</span>),a.error(<span class=\"code-string\">\"end tag name: \"</span>+_+<span class=\"code-string\">\" is not complete:\"</span>+b.tagName),v=y+<span class=\"code-number\">1</span>+_.length):_.match(<span class=\"code-regexp\">/\\s&lt;/</span>)&amp;&amp;(_=_.replace(<span class=\"code-regexp\">/[\\s&lt;].*/</span>,<span class=\"code-string\">\"\"</span>),a.error(<span class=\"code-string\">\"end tag name: \"</span>+_+<span class=\"code-string\">\" maybe not complete\"</span>),v=y+<span class=\"code-number\">1</span>+_.length);<span class=\"code-keyword\">var</span> T=b.localNSMap,S=b.tagName==_;<span class=\"code-keyword\">if</span>(S||b.tagName&amp;&amp;b.tagName.toLowerCase()==_.toLowerCase()){<span class=\"code-keyword\">if</span>(r.endElement(b.uri,b.localName,_),T)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> w <span class=\"code-keyword\">in</span> T)r.endPrefixMapping(w);S||a.fatalError(<span class=\"code-string\">\"end tag name: \"</span>+_+<span class=\"code-string\">\" is not match the current start tagName:\"</span>+b.tagName)}<span class=\"code-keyword\">else</span> h.push(b);v++;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"?\"</span>:d&amp;&amp;o(y),v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=e.indexOf(<span class=\"code-string\">\"?&gt;\"</span>,t);<span class=\"code-keyword\">if</span>(n){t=e.substring(t,n).match(<span class=\"code-regexp\">/^&lt;\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/</span>);<span class=\"code-keyword\">return</span> t?(t[<span class=\"code-number\">0</span>].length,i.processingInstruction(t[<span class=\"code-number\">1</span>],t[<span class=\"code-number\">2</span>]),n+<span class=\"code-number\">2</span>):<span class=\"code-number\">-1</span>}<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>}(i,y,r);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"!\"</span>:d&amp;&amp;o(y),v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"-\"</span>===e.charAt(t+<span class=\"code-number\">2</span>)){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"-\"</span>!==e.charAt(t+<span class=\"code-number\">3</span>))<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>;<span class=\"code-keyword\">var</span> r=e.indexOf(<span class=\"code-string\">\"--\\x3e\"</span>,t+<span class=\"code-number\">4</span>);<span class=\"code-keyword\">return</span> t&lt;r?(i.comment(e,t+<span class=\"code-number\">4</span>,r-t<span class=\"code-number\">-4</span>),r+<span class=\"code-number\">3</span>):(n.error(<span class=\"code-string\">\"Unclosed comment\"</span>),<span class=\"code-number\">-1</span>)}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"CDATA[\"</span>==e.substr(t+<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>)){r=e.indexOf(<span class=\"code-string\">\"]]&gt;\"</span>,t+<span class=\"code-number\">9</span>);<span class=\"code-keyword\">return</span> i.startCDATA(),i.characters(e,t+<span class=\"code-number\">9</span>,r-t<span class=\"code-number\">-9</span>),i.endCDATA(),r+<span class=\"code-number\">3</span>}<span class=\"code-keyword\">var</span> a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=[],r=<span class=\"code-regexp\">/'[^']+'|\"[^\"]+\"|[^\\s&lt;&gt;\\/=]+=?|(\\/?\\s*&gt;|&lt;)/g</span>;r.lastIndex=t,r.exec(e);<span class=\"code-keyword\">for</span>(;i=r.exec(e);)<span class=\"code-keyword\">if</span>(n.push(i),i[<span class=\"code-number\">1</span>])<span class=\"code-keyword\">return</span> n}(e,t),n=a.length;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>&lt;n&amp;&amp;<span class=\"code-regexp\">/!doctype/i</span>.test(a[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>])){r=a[<span class=\"code-number\">1</span>][<span class=\"code-number\">0</span>],e=!<span class=\"code-number\">1</span>,t=!<span class=\"code-number\">1</span>;<span class=\"code-number\">3</span>&lt;n&amp;&amp;(<span class=\"code-regexp\">/^public$/i</span>.test(a[<span class=\"code-number\">2</span>][<span class=\"code-number\">0</span>])?(e=a[<span class=\"code-number\">3</span>][<span class=\"code-number\">0</span>],t=<span class=\"code-number\">4</span>&lt;n&amp;&amp;a[<span class=\"code-number\">4</span>][<span class=\"code-number\">0</span>]):<span class=\"code-regexp\">/^system$/i</span>.test(a[<span class=\"code-number\">2</span>][<span class=\"code-number\">0</span>])&amp;&amp;(t=a[<span class=\"code-number\">3</span>][<span class=\"code-number\">0</span>]));n=a[n<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">return</span> i.startDTD(r,e,t),i.endDTD(),n.index+n[<span class=\"code-number\">0</span>].length}}<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>}(i,y,r,a);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:d&amp;&amp;o(y);<span class=\"code-keyword\">var</span> E=<span class=\"code-keyword\">new</span> is,k=h[h.length<span class=\"code-number\">-1</span>].currentNSMap,v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,n,i,r,a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e,t,i</span>)</span>{n.attributeNames.hasOwnProperty(e)&amp;&amp;a.fatalError(<span class=\"code-string\">\"Attribute \"</span>+e+<span class=\"code-string\">\" redefined\"</span>),n.addValue(e,t,i)}<span class=\"code-keyword\">var</span> o,u=++t,l=Va;<span class=\"code-keyword\">for</span>(;;){<span class=\"code-keyword\">var</span> c=e.charAt(u);<span class=\"code-keyword\">switch</span>(c){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"=\"</span>:<span class=\"code-keyword\">if</span>(l===Wa)o=e.slice(t,u),l=za;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(l!==Ga)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"attribute equal must after attrName\"</span>);l=za}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"'\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">'\"'</span>:<span class=\"code-keyword\">if</span>(l===za||l===Wa){<span class=\"code-keyword\">if</span>(l===Wa&amp;&amp;(a.warning(<span class=\"code-string\">'attribute value must after \"=\"'</span>),o=e.slice(t,u)),t=u+<span class=\"code-number\">1</span>,!(<span class=\"code-number\">0</span>&lt;(u=e.indexOf(c,t))))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"attribute value no end '\"</span>+c+<span class=\"code-string\">\"' match\"</span>);d=e.slice(t,u).replace(<span class=\"code-regexp\">/&amp;#?\\w+;/g</span>,r),s(o,d,t<span class=\"code-number\">-1</span>),l=Ka}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(l!=Xa)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'attribute value must after \"=\"'</span>);d=e.slice(t,u).replace(<span class=\"code-regexp\">/&amp;#?\\w+;/g</span>,r),s(o,d,t),a.warning(<span class=\"code-string\">'attribute \"'</span>+o+<span class=\"code-string\">'\" missed start quot('</span>+c+<span class=\"code-string\">\")!!\"</span>),t=u+<span class=\"code-number\">1</span>,l=Ka}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"/\"</span>:<span class=\"code-keyword\">switch</span>(l){<span class=\"code-keyword\">case</span> Va:n.setTagName(e.slice(t,u));<span class=\"code-keyword\">case</span> Ka:<span class=\"code-keyword\">case</span> Ya:<span class=\"code-keyword\">case</span> Qa:l=Qa,n.closed=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">case</span> Xa:<span class=\"code-keyword\">case</span> Wa:<span class=\"code-keyword\">case</span> Ga:<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"attribute invalid close char('/')\"</span>)}<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"\"</span>:<span class=\"code-keyword\">return</span> a.error(<span class=\"code-string\">\"unexpected end of input\"</span>),l==Va&amp;&amp;n.setTagName(e.slice(t,u)),u;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"&gt;\"</span>:<span class=\"code-keyword\">switch</span>(l){<span class=\"code-keyword\">case</span> Va:n.setTagName(e.slice(t,u));<span class=\"code-keyword\">case</span> Ka:<span class=\"code-keyword\">case</span> Ya:<span class=\"code-keyword\">case</span> Qa:<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Xa:<span class=\"code-keyword\">case</span> Wa:<span class=\"code-string\">\"/\"</span>===(d=e.slice(t,u)).slice(<span class=\"code-number\">-1</span>)&amp;&amp;(n.closed=!<span class=\"code-number\">0</span>,d=d.slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>));<span class=\"code-keyword\">case</span> Ga:l===Ga&amp;&amp;(d=o),l==Xa?(a.warning(<span class=\"code-string\">'attribute \"'</span>+d+<span class=\"code-string\">'\" missed quot(\")!'</span>),s(o,d.replace(<span class=\"code-regexp\">/&amp;#?\\w+;/g</span>,r),t)):(Ha.isHTML(i[<span class=\"code-string\">\"\"</span>])&amp;&amp;d.match(<span class=\"code-regexp\">/^(?:disabled|checked|selected)$/i</span>)||a.warning(<span class=\"code-string\">'attribute \"'</span>+d+<span class=\"code-string\">'\" missed value!! \"'</span>+d+<span class=\"code-string\">'\" instead!!'</span>),s(d,d,t));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> za:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"attribute value missed!!\"</span>)}<span class=\"code-keyword\">return</span> u;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"\u0080\"</span>:c=<span class=\"code-string\">\" \"</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">if</span>(c&lt;=<span class=\"code-string\">\" \"</span>)<span class=\"code-keyword\">switch</span>(l){<span class=\"code-keyword\">case</span> Va:n.setTagName(e.slice(t,u)),l=Ya;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Wa:o=e.slice(t,u),l=Ga;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Xa:<span class=\"code-keyword\">var</span> d=e.slice(t,u).replace(<span class=\"code-regexp\">/&amp;#?\\w+;/g</span>,r);a.warning(<span class=\"code-string\">'attribute \"'</span>+d+<span class=\"code-string\">'\" missed quot(\")!!'</span>),s(o,d,t);<span class=\"code-keyword\">case</span> Ka:l=Ya}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">switch</span>(l){<span class=\"code-keyword\">case</span> Ga:n.tagName,Ha.isHTML(i[<span class=\"code-string\">\"\"</span>])&amp;&amp;o.match(<span class=\"code-regexp\">/^(?:disabled|checked|selected)$/i</span>)||a.warning(<span class=\"code-string\">'attribute \"'</span>+o+<span class=\"code-string\">'\" missed value!! \"'</span>+o+<span class=\"code-string\">'\" instead2!!'</span>),s(o,o,t),t=u,l=Wa;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Ka:a.warning(<span class=\"code-string\">'attribute space is required\"'</span>+o+<span class=\"code-string\">'\"!!'</span>);<span class=\"code-keyword\">case</span> Ya:l=Wa,t=u;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> za:l=Xa,t=u;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> Qa:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"elements closed character '/' and '&gt;' must be connected to\"</span>)}}u++}}(i,y,E,k,s,a),C=E.length;<span class=\"code-keyword\">if</span>(!E.closed&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r=n[i];<span class=\"code-literal\">null</span>==r&amp;&amp;((r=e.lastIndexOf(<span class=\"code-string\">\"&lt;/\"</span>+i+<span class=\"code-string\">\"&gt;\"</span>))&lt;t&amp;&amp;(r=e.lastIndexOf(<span class=\"code-string\">\"&lt;/\"</span>+i)),n[i]=r);<span class=\"code-keyword\">return</span> r&lt;t}(i,v,E.tagName,p)&amp;&amp;(E.closed=!<span class=\"code-number\">0</span>,n.nbsp||a.warning(<span class=\"code-string\">\"unclosed xml attribute\"</span>)),d&amp;&amp;C){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> I=Za(d,{}),x=<span class=\"code-number\">0</span>;x&lt;C;x++){<span class=\"code-keyword\">var</span> A=E[x];o(A.offset),A.locator=Za(d,{})}r.locator=I,es(E,r,k)&amp;&amp;h.push(E),r.locator=d}<span class=\"code-keyword\">else</span> es(E,r,k)&amp;&amp;h.push(E);Ha.isHTML(E.uri)&amp;&amp;!E.closed?v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/^(?:script|textarea)$/i</span>.test(i)){<span class=\"code-keyword\">var</span> a=e.indexOf(<span class=\"code-string\">\"&lt;/\"</span>+i+<span class=\"code-string\">\"&gt;\"</span>,t),e=e.substring(t+<span class=\"code-number\">1</span>,a);<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/[&amp;&lt;]/</span>.test(e))<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^script$/i</span>.test(i)||(e=e.replace(<span class=\"code-regexp\">/&amp;#?\\w+;/g</span>,n)),r.characters(e,<span class=\"code-number\">0</span>,e.length),a}<span class=\"code-keyword\">return</span> t+<span class=\"code-number\">1</span>}(i,v,E.tagName,s,r):v++}}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">if</span>(e <span class=\"code-keyword\">instanceof</span> $a)<span class=\"code-keyword\">throw</span> e;a.error(<span class=\"code-string\">\"element parse error: \"</span>+e),v=<span class=\"code-number\">-1</span>}f&lt;v?f=v:t(<span class=\"code-built_in\">Math</span>.max(y,f)+<span class=\"code-number\">1</span>)}}(e,t,i,n,<span class=\"code-keyword\">this</span>.errorHandler),n.endDocument()}},is.prototype={<span class=\"code-attr\">setTagName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!qa.test(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"invalid tagName:\"</span>+e);<span class=\"code-keyword\">this</span>.tagName=e},<span class=\"code-attr\">addValue</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!qa.test(e))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"invalid attribute:\"</span>+e);<span class=\"code-keyword\">this</span>.attributeNames[e]=<span class=\"code-keyword\">this</span>.length,<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.length++]={<span class=\"code-attr\">qName</span>:e,<span class=\"code-attr\">value</span>:t,<span class=\"code-attr\">offset</span>:i}},<span class=\"code-attr\">length</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">getLocalName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e].localName},<span class=\"code-attr\">getLocator</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e].locator},<span class=\"code-attr\">getQName</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e].qName},<span class=\"code-attr\">getURI</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e].uri},<span class=\"code-attr\">getValue</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>[e].value}};<span class=\"code-keyword\">var</span> x={<span class=\"code-attr\">XMLReader</span>:Ja,<span class=\"code-attr\">ParseError</span>:$a},ns=U.DOMImplementation,rs=jr.NAMESPACE,<span class=\"code-keyword\">as</span>=x.ParseError,ss=x.XMLReader;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">os</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.options=e||{<span class=\"code-attr\">locator</span>:{}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">us</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.cdata=!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ls</span>(<span class=\"code-params\">e,t</span>)</span>{t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\\n@\"</span>+(e.systemId||<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"#[line:\"</span>+e.lineNumber+<span class=\"code-string\">\",col:\"</span>+e.columnNumber+<span class=\"code-string\">\"]\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ds</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?e.substr(t,i):e.length&gt;=t+i||t?<span class=\"code-keyword\">new</span> java.lang.String(e,t,i)+<span class=\"code-string\">\"\"</span>:e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hs</span>(<span class=\"code-params\">e,t</span>)</span>{(e.currentElement||e.doc).appendChild(t)}os.prototype.parseFromString=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.options,n=<span class=\"code-keyword\">new</span> ss,r=i.domBuilder||<span class=\"code-keyword\">new</span> us,a=i.errorHandler,s=i.locator,o=i.xmlns||{},u=<span class=\"code-regexp\">/\\/x?html?$/</span>.test(t),t=u?ja.HTML_ENTITIES:ja.XML_ENTITIES;<span class=\"code-keyword\">return</span> s&amp;&amp;r.setDocumentLocator(s),n.errorHandler=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,e,r</span>)</span>{<span class=\"code-keyword\">if</span>(!n){<span class=\"code-keyword\">if</span>(e <span class=\"code-keyword\">instanceof</span> us)<span class=\"code-keyword\">return</span> e;n=e}<span class=\"code-keyword\">var</span> a={},s=n <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Function</span>;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=n[t];!i&amp;&amp;s&amp;&amp;(i=<span class=\"code-number\">2</span>==n.length?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n(t,e)}:n),a[t]=i?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i(<span class=\"code-string\">\"[xmldom \"</span>+t+<span class=\"code-string\">\"]\\t\"</span>+e+cs(r))}:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}<span class=\"code-keyword\">return</span> r=r||{},t(<span class=\"code-string\">\"warning\"</span>),t(<span class=\"code-string\">\"error\"</span>),t(<span class=\"code-string\">\"fatalError\"</span>),a}(a,r,s),n.domBuilder=i.domBuilder||r,u&amp;&amp;(o[<span class=\"code-string\">\"\"</span>]=rs.HTML),o.xml=o.xml||rs.XML,e&amp;&amp;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?n.parse(e,o,t):n.errorHandler.error(<span class=\"code-string\">\"invalid doc source\"</span>),r.doc},us.prototype={<span class=\"code-attr\">startDocument</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.doc=(<span class=\"code-keyword\">new</span> ns).createDocument(<span class=\"code-literal\">null</span>,<span class=\"code-literal\">null</span>,<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.locator&amp;&amp;(<span class=\"code-keyword\">this</span>.doc.documentURI=<span class=\"code-keyword\">this</span>.locator.systemId)},<span class=\"code-attr\">startElement</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.doc,a=r.createElementNS(e,i||t),s=n.length;hs(<span class=\"code-keyword\">this</span>,a),<span class=\"code-keyword\">this</span>.currentElement=a,<span class=\"code-keyword\">this</span>.locator&amp;&amp;ls(<span class=\"code-keyword\">this</span>.locator,a);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;s;o++){<span class=\"code-keyword\">var</span> e=n.getURI(o),u=n.getValue(o),i=n.getQName(o),l=r.createAttributeNS(e,i);<span class=\"code-keyword\">this</span>.locator&amp;&amp;ls(n.getLocator(o),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},<span class=\"code-attr\">endElement</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.currentElement;n.tagName,<span class=\"code-keyword\">this</span>.currentElement=n.parentNode},<span class=\"code-attr\">startPrefixMapping</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{},<span class=\"code-attr\">endPrefixMapping</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},<span class=\"code-attr\">processingInstruction</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=<span class=\"code-keyword\">this</span>.doc.createProcessingInstruction(e,t);<span class=\"code-keyword\">this</span>.locator&amp;&amp;ls(<span class=\"code-keyword\">this</span>.locator,t),hs(<span class=\"code-keyword\">this</span>,t)},<span class=\"code-attr\">ignorableWhitespace</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{},<span class=\"code-attr\">characters</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n;(e=ds.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>))&amp;&amp;(n=<span class=\"code-keyword\">this</span>.cdata?<span class=\"code-keyword\">this</span>.doc.createCDATASection(e):<span class=\"code-keyword\">this</span>.doc.createTextNode(e),<span class=\"code-keyword\">this</span>.currentElement?<span class=\"code-keyword\">this</span>.currentElement.appendChild(n):<span class=\"code-regexp\">/^\\s*$/</span>.test(e)&amp;&amp;<span class=\"code-keyword\">this</span>.doc.appendChild(n),<span class=\"code-keyword\">this</span>.locator&amp;&amp;ls(<span class=\"code-keyword\">this</span>.locator,n))},<span class=\"code-attr\">skippedEntity</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},<span class=\"code-attr\">endDocument</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.doc.normalize()},<span class=\"code-attr\">setDocumentLocator</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{(<span class=\"code-keyword\">this</span>.locator=e)&amp;&amp;(e.lineNumber=<span class=\"code-number\">0</span>)},<span class=\"code-attr\">comment</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{e=ds.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>);e=<span class=\"code-keyword\">this</span>.doc.createComment(e);<span class=\"code-keyword\">this</span>.locator&amp;&amp;ls(<span class=\"code-keyword\">this</span>.locator,e),hs(<span class=\"code-keyword\">this</span>,e)},<span class=\"code-attr\">startCDATA</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.cdata=!<span class=\"code-number\">0</span>},<span class=\"code-attr\">endCDATA</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.cdata=!<span class=\"code-number\">1</span>},<span class=\"code-attr\">startDTD</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.doc.implementation;n&amp;&amp;n.createDocumentType&amp;&amp;(i=n.createDocumentType(e,t,i),<span class=\"code-keyword\">this</span>.locator&amp;&amp;ls(<span class=\"code-keyword\">this</span>.locator,i),hs(<span class=\"code-keyword\">this</span>,i),<span class=\"code-keyword\">this</span>.doc.doctype=i)},<span class=\"code-attr\">warning</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},<span class=\"code-attr\">error</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{},<span class=\"code-attr\">fatalError</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-keyword\">as</span>(e,<span class=\"code-keyword\">this</span>.locator)}},<span class=\"code-string\">\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\"</span>.replace(<span class=\"code-regexp\">/\\w+/g</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{us.prototype[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ps</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!e&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fs</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">return</span> t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,i</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> i||<span class=\"code-built_in\">Object</span>.keys(i).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-built_in\">Array</span>.isArray(t[e])&amp;&amp;<span class=\"code-built_in\">Array</span>.isArray(i[e])?t[e]=t[e].concat(i[e]):ps(t[e])&amp;&amp;ps(i[e])?t[e]=fs(t[e],i[e]):t[e]=i[e]}),t},{})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ms</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(t).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t[e]})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.concat(t)},[])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ys</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e.length)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t.push(e[i]);<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vs</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)<span class=\"code-keyword\">if</span>(t(e[i]))<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_s</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.baseUrl,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(n=e.source)?<span class=\"code-string\">\"\"</span>:n,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(n=e.range)?<span class=\"code-string\">\"\"</span>:n,e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(e=e.indexRange)?<span class=\"code-string\">\"\"</span>:e,i={<span class=\"code-attr\">uri</span>:i,<span class=\"code-attr\">resolvedUri</span>:ir((<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?<span class=\"code-string\">\"\"</span>:t)||<span class=\"code-string\">\"\"</span>,i)};<span class=\"code-keyword\">return</span>(n||e)&amp;&amp;(n=(n||e).split(<span class=\"code-string\">\"-\"</span>),e=<span class=\"code-built_in\">window</span>.BigInt?<span class=\"code-built_in\">window</span>.BigInt(n[<span class=\"code-number\">0</span>]):<span class=\"code-built_in\">parseInt</span>(n[<span class=\"code-number\">0</span>],<span class=\"code-number\">10</span>),n=<span class=\"code-built_in\">window</span>.BigInt?<span class=\"code-built_in\">window</span>.BigInt(n[<span class=\"code-number\">1</span>]):<span class=\"code-built_in\">parseInt</span>(n[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>),e&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER&amp;&amp;<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(e=<span class=\"code-built_in\">Number</span>(e)),<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span>(n=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span>(n=n&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER&amp;&amp;<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> n?<span class=\"code-built_in\">Number</span>(n):n)||<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> e?<span class=\"code-built_in\">window</span>.BigInt(n)-<span class=\"code-built_in\">window</span>.BigInt(e)+<span class=\"code-built_in\">window</span>.BigInt(<span class=\"code-number\">1</span>):n-e+<span class=\"code-number\">1</span>)&amp;&amp;n&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER&amp;&amp;(n=<span class=\"code-built_in\">Number</span>(n)),i.byterange={<span class=\"code-attr\">length</span>:n,<span class=\"code-attr\">offset</span>:e}),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;(e=<span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)),<span class=\"code-built_in\">isNaN</span>(e)?<span class=\"code-literal\">null</span>:e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ts</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> a,t=e.type,i=e.duration,n=e.timescale,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-number\">1</span>:n,s=e.periodDuration,o=e.sourceDuration,e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=[],n=e;n&lt;t;n++)i.push(n);<span class=\"code-keyword\">return</span> i}((n=go[t](e)).start,n.end).map((a=e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=a.duration,i=a.timescale,n=a.periodStart,r=a.startNumber;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">number</span>:(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r?<span class=\"code-number\">1</span>:r)+e,<span class=\"code-attr\">duration</span>:t/(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i?<span class=\"code-number\">1</span>:i),<span class=\"code-attr\">timeline</span>:n,<span class=\"code-attr\">time</span>:e*t}}));<span class=\"code-keyword\">return</span><span class=\"code-string\">\"static\"</span>===t&amp;&amp;(e[t=e.length<span class=\"code-number\">-1</span>].duration=(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> s?s:o)-i/r*t),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ss</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.baseUrl,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(u=e.initialization)?{}:u,n=e.sourceDuration,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(o=e.indexRange)?<span class=\"code-string\">\"\"</span>:o,a=e.periodStart,s=e.presentationTime,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(u=e.number)?<span class=\"code-number\">0</span>:u,u=e.duration;<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(po);<span class=\"code-keyword\">return</span> i=_s({<span class=\"code-attr\">baseUrl</span>:t,<span class=\"code-attr\">source</span>:i.sourceURL,<span class=\"code-attr\">range</span>:i.range}),(r=_s({<span class=\"code-attr\">baseUrl</span>:t,<span class=\"code-attr\">source</span>:t,<span class=\"code-attr\">indexRange</span>:r})).map=i,u?(e=Ts(e)).length&amp;&amp;(r.duration=e[<span class=\"code-number\">0</span>].duration,r.timeline=e[<span class=\"code-number\">0</span>].timeline):n&amp;&amp;(r.duration=n,r.timeline=a),r.presentationTime=s||a,r.number=o,[r]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ws</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.sidx.map||<span class=\"code-literal\">null</span>,r=e.sidx.duration,a=e.timeline||<span class=\"code-number\">0</span>,s=(s=e.sidx.byterange).offset+s.length,o=t.timescale,u=t.references.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>!==e.referenceType}),l=[],c=e.endList?<span class=\"code-string\">\"static\"</span>:<span class=\"code-string\">\"dynamic\"</span>,d=e.sidx.timeline,h=d,p=e.mediaSequence||<span class=\"code-number\">0</span>,f=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t.firstOffset?<span class=\"code-built_in\">window</span>.BigInt(s)+t.firstOffset:s+t.firstOffset,m=<span class=\"code-number\">0</span>;m&lt;u.length;m++){<span class=\"code-keyword\">var</span> g=t.references[m],y=g.referencedSize,v=g.subsegmentDuration,g=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,g=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> f?f+<span class=\"code-built_in\">window</span>.BigInt(y)-<span class=\"code-built_in\">window</span>.BigInt(<span class=\"code-number\">1</span>):f+y<span class=\"code-number\">-1</span>,g=Ss({<span class=\"code-attr\">baseUrl</span>:i,<span class=\"code-attr\">timescale</span>:o,<span class=\"code-attr\">timeline</span>:a,<span class=\"code-attr\">periodStart</span>:d,<span class=\"code-attr\">presentationTime</span>:h,<span class=\"code-attr\">number</span>:p,<span class=\"code-attr\">duration</span>:v,<span class=\"code-attr\">sourceDuration</span>:r,<span class=\"code-attr\">indexRange</span>:f+<span class=\"code-string\">\"-\"</span>+g,<span class=\"code-attr\">type</span>:c})[<span class=\"code-number\">0</span>];n&amp;&amp;(g.map=n),l.push(g),f+=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> f?<span class=\"code-built_in\">window</span>.BigInt(y):y,h+=v/o,p++}<span class=\"code-keyword\">return</span> e.segments=l,e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Es</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.timeline},ms(e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t[i(e)]=e}),t},{})).sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.timeline&gt;t.timeline?<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>});<span class=\"code-keyword\">var</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ks</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r,a,s=[];<span class=\"code-keyword\">return</span> r=e,a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{s=s.concat(e.playlists||[])},yo.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> r.mediaGroups[e])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r.mediaGroups[e][t]){<span class=\"code-keyword\">var</span> n=r.mediaGroups[e][t][i];a(n,e,t,i)}}),s}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Cs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=e.playlist,e=e.mediaSequence;i.mediaSequence=e,i.segments.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.number=i.mediaSequence+t})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Is</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r,a,t=e.oldManifest,i=e.newManifest,n=t.playlists.concat(ks(t)),e=i.playlists.concat(ks(i));<span class=\"code-keyword\">return</span> i.timelineStarts=Es([t.timelineStarts,i.timelineStarts]),n={<span class=\"code-attr\">oldPlaylists</span>:n,<span class=\"code-attr\">newPlaylists</span>:e,<span class=\"code-attr\">timelineStarts</span>:i.timelineStarts},r=n.oldPlaylists,e=n.newPlaylists,a=n.timelineStarts,e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.discontinuitySequence=vs(a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.timeline===t.timeline});<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)<span class=\"code-keyword\">if</span>(e[i].attributes.NAME===t)<span class=\"code-keyword\">return</span> e[i];<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(r,t.attributes.NAME);<span class=\"code-keyword\">if</span>(e&amp;&amp;!t.sidx){<span class=\"code-keyword\">var</span> i=t.segments[<span class=\"code-number\">0</span>],n=vs(e.segments,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.abs(e.presentationTime-i.presentationTime)&lt;<span class=\"code-number\">1</span>/<span class=\"code-number\">60</span>});<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>===n)<span class=\"code-keyword\">return</span> Cs({<span class=\"code-attr\">playlist</span>:t,<span class=\"code-attr\">mediaSequence</span>:e.mediaSequence+e.segments.length}),t.segments[<span class=\"code-number\">0</span>].discontinuity=!<span class=\"code-number\">0</span>,t.discontinuityStarts.unshift(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span>((!e.segments.length&amp;&amp;t.timeline&gt;e.timeline||e.segments.length&amp;&amp;t.timeline&gt;e.segments[e.segments.length<span class=\"code-number\">-1</span>].timeline)&amp;&amp;t.discontinuitySequence--);e.segments[n].discontinuity&amp;&amp;!i.discontinuity&amp;&amp;(i.discontinuity=!<span class=\"code-number\">0</span>,t.discontinuityStarts.unshift(<span class=\"code-number\">0</span>),t.discontinuitySequence--),Cs({<span class=\"code-attr\">playlist</span>:t,<span class=\"code-attr\">mediaSequence</span>:e.segments[n].number})}}),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.uri+<span class=\"code-string\">\"-\"</span>+(t=e.byterange,e=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t.offset||<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t.length?<span class=\"code-built_in\">window</span>.BigInt(t.offset)+<span class=\"code-built_in\">window</span>.BigInt(t.length)-<span class=\"code-built_in\">window</span>.BigInt(<span class=\"code-number\">1</span>):t.offset+t.length<span class=\"code-number\">-1</span>,t.offset+<span class=\"code-string\">\"-\"</span>+e);<span class=\"code-keyword\">var</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">As</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ms(e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=t.attributes.id+(t.attributes.lang||<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">return</span> e[n]?(t.segments&amp;&amp;(t.segments[<span class=\"code-number\">0</span>]&amp;&amp;(t.segments[<span class=\"code-number\">0</span>].discontinuity=!<span class=\"code-number\">0</span>),(i=e[n].segments).push.apply(i,t.segments)),t.attributes.contentProtection&amp;&amp;(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({<span class=\"code-attr\">start</span>:t.attributes.periodStart,<span class=\"code-attr\">timeline</span>:t.attributes.periodStart}),e},{})).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,n;<span class=\"code-keyword\">return</span> e.discontinuityStarts=(t=e.segments||[],n=<span class=\"code-string\">\"discontinuity\"</span>,t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> t[n]&amp;&amp;e.push(i),e},[])),e})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ps</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=xs(e.sidx);<span class=\"code-keyword\">return</span>(i=i&amp;&amp;t[i]&amp;&amp;t[i].sidx)&amp;&amp;ws(e,i,e.sidx.resolvedUri),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ls</span>(<span class=\"code-params\">e,h,p</span>)</span>{<span class=\"code-keyword\">var</span> f;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===h&amp;&amp;(h={}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===p&amp;&amp;(p=!<span class=\"code-number\">1</span>),e=e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.attributes.role&amp;&amp;t.attributes.role.value||<span class=\"code-string\">\"\"</span>,n=t.attributes.lang||<span class=\"code-string\">\"\"</span>,r=t.attributes.label||<span class=\"code-string\">\"main\"</span>;e[r=n&amp;&amp;!t.attributes.label?t.attributes.lang+(i?<span class=\"code-string\">\" (\"</span>+i+<span class=\"code-string\">\")\"</span>:<span class=\"code-string\">\"\"</span>):r]||(e[r]={<span class=\"code-attr\">language</span>:n,<span class=\"code-attr\">autoselect</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">default</span>:<span class=\"code-string\">\"main\"</span>===i,<span class=\"code-attr\">playlists</span>:[],<span class=\"code-attr\">uri</span>:<span class=\"code-string\">\"\"</span>});<span class=\"code-keyword\">var</span> a,s,o,u,l,c,d,u=Ps((s=p,o=(a=t).attributes,u=a.segments,l=a.sidx,c=a.mediaSequence,d=a.discontinuitySequence,n=a.discontinuityStarts,u={<span class=\"code-attr\">attributes</span>:((a={<span class=\"code-attr\">NAME</span>:o.id,<span class=\"code-attr\">BANDWIDTH</span>:o.bandwidth,<span class=\"code-attr\">CODECS</span>:o.codecs})[<span class=\"code-string\">\"PROGRAM-ID\"</span>]=<span class=\"code-number\">1</span>,a),<span class=\"code-attr\">uri</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">endList</span>:<span class=\"code-string\">\"static\"</span>===o.type,<span class=\"code-attr\">timeline</span>:o.periodStart,<span class=\"code-attr\">resolvedUri</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">targetDuration</span>:o.duration,<span class=\"code-attr\">discontinuitySequence</span>:d,<span class=\"code-attr\">discontinuityStarts</span>:n,<span class=\"code-attr\">timelineStarts</span>:o.timelineStarts,<span class=\"code-attr\">mediaSequence</span>:c,<span class=\"code-attr\">segments</span>:u},o.contentProtection&amp;&amp;(u.contentProtection=o.contentProtection),l&amp;&amp;(u.sidx=l),s&amp;&amp;(u.attributes.AUDIO=<span class=\"code-string\">\"audio\"</span>,u.attributes.SUBTITLES=<span class=\"code-string\">\"subs\"</span>),u),h);<span class=\"code-keyword\">return</span> e[r].playlists.push(u),<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> f&amp;&amp;<span class=\"code-string\">\"main\"</span>===i&amp;&amp;((f=t).default=!<span class=\"code-number\">0</span>),e},{}),f||(e[<span class=\"code-built_in\">Object</span>.keys(e)[<span class=\"code-number\">0</span>]].default=!<span class=\"code-number\">0</span>),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ds</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.attributes,i=e.segments,n=e.sidx,r=e.discontinuityStarts,i={<span class=\"code-attr\">attributes</span>:((e={<span class=\"code-attr\">NAME</span>:t.id,<span class=\"code-attr\">AUDIO</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">SUBTITLES</span>:<span class=\"code-string\">\"subs\"</span>,<span class=\"code-attr\">RESOLUTION</span>:{<span class=\"code-attr\">width</span>:t.width,<span class=\"code-attr\">height</span>:t.height},<span class=\"code-attr\">CODECS</span>:t.codecs,<span class=\"code-attr\">BANDWIDTH</span>:t.bandwidth})[<span class=\"code-string\">\"PROGRAM-ID\"</span>]=<span class=\"code-number\">1</span>,e),<span class=\"code-attr\">uri</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">endList</span>:<span class=\"code-string\">\"static\"</span>===t.type,<span class=\"code-attr\">timeline</span>:t.periodStart,<span class=\"code-attr\">resolvedUri</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">targetDuration</span>:t.duration,<span class=\"code-attr\">discontinuityStarts</span>:r,<span class=\"code-attr\">timelineStarts</span>:t.timelineStarts,<span class=\"code-attr\">segments</span>:i};<span class=\"code-keyword\">return</span> t.contentProtection&amp;&amp;(i.contentProtection=t.contentProtection),n&amp;&amp;(i.sidx=n),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Os</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"video/mp4\"</span>===(e=e.attributes).mimeType||<span class=\"code-string\">\"video/webm\"</span>===e.mimeType||<span class=\"code-string\">\"video\"</span>===e.contentType}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ms</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"audio/mp4\"</span>===(e=e.attributes).mimeType||<span class=\"code-string\">\"audio/webm\"</span>===e.mimeType||<span class=\"code-string\">\"audio\"</span>===e.contentType}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Rs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"text/vtt\"</span>===(e=e.attributes).mimeType||<span class=\"code-string\">\"text\"</span>===e.contentType}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ns</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> i?<span class=\"code-built_in\">Object</span>.keys(i).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=i[t];<span class=\"code-keyword\">return</span> e.concat(t.playlists)},[]):[]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Us</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.dashPlaylists,i=e.locations,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(c=e.sidxMapping)?{}:c,r=e.previousManifest;<span class=\"code-keyword\">if</span>(!t.length)<span class=\"code-keyword\">return</span>{};<span class=\"code-keyword\">var</span> a=(d=t[<span class=\"code-number\">0</span>].attributes).sourceDuration,s=d.type,o=d.suggestedPresentationDelay,u=d.minimumUpdatePeriod,l=As(t.filter(Os)).map(Ds),c=As(t.filter(Ms)),e=As(t.filter(Rs)),d=t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.attributes.captionServices}).filter(<span class=\"code-built_in\">Boolean</span>),a={<span class=\"code-attr\">allowCache</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">discontinuityStarts</span>:[],<span class=\"code-attr\">segments</span>:[],<span class=\"code-attr\">endList</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">mediaGroups</span>:((t={<span class=\"code-attr\">AUDIO</span>:{},<span class=\"code-attr\">VIDEO</span>:{}})[<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>]={},t.SUBTITLES={},t),<span class=\"code-attr\">uri</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">duration</span>:a,<span class=\"code-attr\">playlists</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),!<span class=\"code-built_in\">Object</span>.keys(t).length)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> e)e[i]=Ps(e[i],t);<span class=\"code-keyword\">return</span> e}(l,n)};<span class=\"code-number\">0</span>&lt;=u&amp;&amp;(a.minimumUpdatePeriod=<span class=\"code-number\">1e3</span>*u),i&amp;&amp;(a.locations=i),<span class=\"code-string\">\"dynamic\"</span>===s&amp;&amp;(a.suggestedPresentationDelay=o);<span class=\"code-keyword\">var</span> h,p,o=<span class=\"code-number\">0</span>===a.playlists.length,o=c.length?Ls(c,n,o):<span class=\"code-literal\">null</span>,n=e.length?(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(h=n)&amp;&amp;(h={}),e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.attributes.lang||<span class=\"code-string\">\"text\"</span>;<span class=\"code-keyword\">return</span> e[i]||(e[i]={<span class=\"code-attr\">language</span>:i,<span class=\"code-attr\">default</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">autoselect</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">playlists</span>:[],<span class=\"code-attr\">uri</span>:<span class=\"code-string\">\"\"</span>}),e[i].playlists.push(Ps(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.attributes,i=e.segments,n=e.mediaSequence,r=e.discontinuityStarts,a=e.discontinuitySequence;<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> i&amp;&amp;(i=[{<span class=\"code-attr\">uri</span>:t.baseUrl,<span class=\"code-attr\">timeline</span>:t.periodStart,<span class=\"code-attr\">resolvedUri</span>:t.baseUrl||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">duration</span>:t.sourceDuration,<span class=\"code-attr\">number</span>:<span class=\"code-number\">0</span>}],t.duration=t.sourceDuration);(e={<span class=\"code-attr\">NAME</span>:t.id,<span class=\"code-attr\">BANDWIDTH</span>:t.bandwidth})[<span class=\"code-string\">\"PROGRAM-ID\"</span>]=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> t.codecs&amp;&amp;(e.CODECS=t.codecs),{<span class=\"code-attr\">attributes</span>:e,<span class=\"code-attr\">uri</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">endList</span>:<span class=\"code-string\">\"static\"</span>===t.type,<span class=\"code-attr\">timeline</span>:t.periodStart,<span class=\"code-attr\">resolvedUri</span>:t.baseUrl||<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">targetDuration</span>:t.duration,<span class=\"code-attr\">timelineStarts</span>:t.timelineStarts,<span class=\"code-attr\">discontinuityStarts</span>:r,<span class=\"code-attr\">discontinuitySequence</span>:a,<span class=\"code-attr\">mediaSequence</span>:n,<span class=\"code-attr\">segments</span>:i}}(t),h)),e},{})):<span class=\"code-literal\">null</span>,l=(e=l.concat(Ns(o),Ns(n))).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.timelineStarts});<span class=\"code-keyword\">return</span> a.timelineStarts=Es(l),e=e,p=a.timelineStarts,e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.mediaSequence=<span class=\"code-number\">0</span>,t.discontinuitySequence=vs(p,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.timeline===t.timeline}),t.segments&amp;&amp;t.segments.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.number=t})}),o&amp;&amp;(a.mediaGroups.AUDIO.audio=o),n&amp;&amp;(a.mediaGroups.SUBTITLES.subs=n),d.length&amp;&amp;(a.mediaGroups[<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>].cc=d.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.channel,i=e.language;n[i]={<span class=\"code-attr\">autoselect</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">default</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">instreamId</span>:t,<span class=\"code-attr\">language</span>:i},e.hasOwnProperty(<span class=\"code-string\">\"aspectRatio\"</span>)&amp;&amp;(n[i].aspectRatio=e.aspectRatio),e.hasOwnProperty(<span class=\"code-string\">\"easyReader\"</span>)&amp;&amp;(n[i].easyReader=e.easyReader),e.hasOwnProperty(<span class=\"code-string\">\"3D\"</span>)&amp;&amp;(n[i][<span class=\"code-string\">\"3D\"</span>]=e[<span class=\"code-string\">\"3D\"</span>])}),n},{})),r?Is({<span class=\"code-attr\">oldManifest</span>:r,<span class=\"code-attr\">newManifest</span>:a}):a}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bs</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n,r,a,s,o,u=e.type,l=e.minimumUpdatePeriod,c=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===l?<span class=\"code-number\">0</span>:l,d=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(l=e.media)?<span class=\"code-string\">\"\"</span>:l,h=e.sourceDuration,p=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(l=e.timescale)?<span class=\"code-number\">1</span>:l,f=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(l=e.startNumber)?<span class=\"code-number\">1</span>:l,m=e.periodStart,g=[],y=<span class=\"code-number\">-1</span>,v=<span class=\"code-number\">0</span>;v&lt;t.length;v++){<span class=\"code-keyword\">var</span> _=t[v],b=_.d,T=_.r||<span class=\"code-number\">0</span>,S=_.t||<span class=\"code-number\">0</span>;y&lt;<span class=\"code-number\">0</span>&amp;&amp;(y=S),S&amp;&amp;y&lt;S&amp;&amp;(y=S);<span class=\"code-keyword\">var</span> w,E=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;E=T&lt;<span class=\"code-number\">0</span>?(w=v+<span class=\"code-number\">1</span>)===t.length?<span class=\"code-string\">\"dynamic\"</span>===u&amp;&amp;<span class=\"code-number\">0</span>&lt;c&amp;&amp;<span class=\"code-number\">0</span>&lt;d.indexOf(<span class=\"code-string\">\"$Number$\"</span>)?(i=y,n=b,_=o=s=a=r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r=(S=e).NOW,a=S.clientOffset,s=S.availabilityStartTime,o=S.timescale,_=S.periodStart,S=S.minimumUpdatePeriod,<span class=\"code-built_in\">Math</span>.ceil((((r+a)/<span class=\"code-number\">1e3</span>+(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===S?<span class=\"code-number\">0</span>:S)-(s+(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===_?<span class=\"code-number\">0</span>:_)))*(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o?<span class=\"code-number\">1</span>:o)-i)/n)):(h*p-y)/b:(t[w].t-y)/b:T+<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> k=f+g.length+E,C=f+g.length;C&lt;k;)g.push({<span class=\"code-attr\">number</span>:C,<span class=\"code-attr\">duration</span>:b/p,<span class=\"code-attr\">time</span>:y,<span class=\"code-attr\">timeline</span>:m}),y+=b,C++}<span class=\"code-keyword\">return</span> g}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fs</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.replace(vo,(r=t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"$$\"</span>===e)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"$\"</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> r[t])<span class=\"code-keyword\">return</span> e;e=<span class=\"code-string\">\"\"</span>+r[t];<span class=\"code-keyword\">return</span><span class=\"code-string\">\"RepresentationID\"</span>===t||(n=i?<span class=\"code-built_in\">parseInt</span>(n,<span class=\"code-number\">10</span>):<span class=\"code-number\">1</span>)&lt;=e.length?e:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(n-e.length+<span class=\"code-number\">1</span>).join(<span class=\"code-string\">\"0\"</span>)+e}));<span class=\"code-keyword\">var</span> r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">js</span>(<span class=\"code-params\">r,e</span>)</span>{<span class=\"code-keyword\">var</span> a={<span class=\"code-attr\">RepresentationID</span>:r.id,<span class=\"code-attr\">Bandwidth</span>:r.bandwidth||<span class=\"code-number\">0</span>},t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(t=r.initialization)?{<span class=\"code-attr\">sourceURL</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">range</span>:<span class=\"code-string\">\"\"</span>}:t,s=_s({<span class=\"code-attr\">baseUrl</span>:r.baseUrl,<span class=\"code-attr\">source</span>:Fs(t.sourceURL,a),<span class=\"code-attr\">range</span>:t.range});<span class=\"code-keyword\">return</span>(t=e,(e=r).duration||t?e.duration?Ts(e):Bs(e,t):[{<span class=\"code-attr\">number</span>:e.startNumber||<span class=\"code-number\">1</span>,<span class=\"code-attr\">duration</span>:e.sourceDuration,<span class=\"code-attr\">time</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">timeline</span>:e.periodStart}]).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.Number=e.number,a.Time=e.time;<span class=\"code-keyword\">var</span> t=Fs(r.media||<span class=\"code-string\">\"\"</span>,a),i=r.timescale||<span class=\"code-number\">1</span>,n=r.presentationTimeOffset||<span class=\"code-number\">0</span>,i=r.periodStart+(e.time-n)/i;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">uri</span>:t,<span class=\"code-attr\">timeline</span>:e.timeline,<span class=\"code-attr\">duration</span>:e.duration,<span class=\"code-attr\">resolvedUri</span>:ir(r.baseUrl||<span class=\"code-string\">\"\"</span>,t),<span class=\"code-attr\">map</span>:s,<span class=\"code-attr\">number</span>:e.number,<span class=\"code-attr\">presentationTime</span>:i}})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hs</span>(<span class=\"code-params\">r,e</span>)</span>{<span class=\"code-keyword\">var</span> t=r.duration,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(i=r.segmentUrls)?[]:i,a=r.periodStart;<span class=\"code-keyword\">if</span>(!t&amp;&amp;!e||t&amp;&amp;e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(fo);<span class=\"code-keyword\">var</span> n,s=i.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i=e,e=(t=r).baseUrl,t=t.initialization,t=_s({<span class=\"code-attr\">baseUrl</span>:e,<span class=\"code-attr\">source</span>:(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).sourceURL,<span class=\"code-attr\">range</span>:t.range}),(i=_s({<span class=\"code-attr\">baseUrl</span>:e,<span class=\"code-attr\">source</span>:i.media,<span class=\"code-attr\">range</span>:i.mediaRange})).map=t,i;<span class=\"code-keyword\">var</span> t,i});<span class=\"code-keyword\">return</span> t&amp;&amp;(n=Ts(r)),(n=e?Bs(r,e):n).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(s[t]){<span class=\"code-keyword\">var</span> i=s[t],n=r.timescale||<span class=\"code-number\">1</span>,t=r.presentationTimeOffset||<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i.presentationTime=a+(e.time-t)/n,i}}).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=e.attributes,n=e.segmentInfo;n.template?(a=js,t=fs(i,n.template)):n.base?(a=Ss,t=fs(i,n.base)):n.list&amp;&amp;(a=Hs,t=fs(i,n.list));<span class=\"code-keyword\">var</span> r={<span class=\"code-attr\">attributes</span>:i};<span class=\"code-keyword\">if</span>(!a)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">var</span> a,e=a(t,n.segmentTimeline);<span class=\"code-keyword\">return</span> t.duration?(i=t.duration,a=t.timescale,t.duration=i/(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===a?<span class=\"code-number\">1</span>:a)):e.length?t.duration=e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(e,<span class=\"code-built_in\">Math</span>.ceil(t.duration))},<span class=\"code-number\">0</span>):t.duration=<span class=\"code-number\">0</span>,r.attributes=t,r.segments=e,n.base&amp;&amp;t.indexRange&amp;&amp;(r.sidx=e[<span class=\"code-number\">0</span>],r.segments=[]),r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vs</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> ys(e.childNodes).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.tagName===t})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ws</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.textContent.trim()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!(r=<span class=\"code-regexp\">/P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/</span>.exec(e)))<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> t=(a=r.slice(<span class=\"code-number\">1</span>))[<span class=\"code-number\">0</span>],i=a[<span class=\"code-number\">1</span>],n=a[<span class=\"code-number\">2</span>],e=a[<span class=\"code-number\">3</span>],r=a[<span class=\"code-number\">4</span>],a=a[<span class=\"code-number\">5</span>];<span class=\"code-keyword\">return</span> <span class=\"code-number\">31536e3</span>*<span class=\"code-built_in\">parseFloat</span>(t||<span class=\"code-number\">0</span>)+<span class=\"code-number\">2592e3</span>*<span class=\"code-built_in\">parseFloat</span>(i||<span class=\"code-number\">0</span>)+<span class=\"code-number\">86400</span>*<span class=\"code-built_in\">parseFloat</span>(n||<span class=\"code-number\">0</span>)+<span class=\"code-number\">3600</span>*<span class=\"code-built_in\">parseFloat</span>(e||<span class=\"code-number\">0</span>)+<span class=\"code-number\">60</span>*<span class=\"code-built_in\">parseFloat</span>(r||<span class=\"code-number\">0</span>)+<span class=\"code-built_in\">parseFloat</span>(a||<span class=\"code-number\">0</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.attributes?ys(e.attributes).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=_o[t.name]||_o.DEFAULT;<span class=\"code-keyword\">return</span> e[t.name]=i(t.value),e},{}):{}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xs</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-keyword\">return</span> i.length?gs(e.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> i.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> ir(t,Ws(e))})})):e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ks</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Vs(e,<span class=\"code-string\">\"SegmentTemplate\"</span>)[<span class=\"code-number\">0</span>],i=Vs(e,<span class=\"code-string\">\"SegmentList\"</span>)[<span class=\"code-number\">0</span>],n=i&amp;&amp;Vs(i,<span class=\"code-string\">\"SegmentURL\"</span>).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> fs({<span class=\"code-attr\">tag</span>:<span class=\"code-string\">\"SegmentURL\"</span>},zs(e))}),r=Vs(e,<span class=\"code-string\">\"SegmentBase\"</span>)[<span class=\"code-number\">0</span>],e=(a=i||t)&amp;&amp;Vs(a,<span class=\"code-string\">\"SegmentTimeline\"</span>)[<span class=\"code-number\">0</span>],a=(a=i||r||t)&amp;&amp;Vs(a,<span class=\"code-string\">\"Initialization\"</span>)[<span class=\"code-number\">0</span>];(t=t&amp;&amp;zs(t))&amp;&amp;a?t.initialization=a&amp;&amp;zs(a):t&amp;&amp;t.initialization&amp;&amp;(t.initialization={<span class=\"code-attr\">sourceURL</span>:t.initialization});<span class=\"code-keyword\">var</span> s={<span class=\"code-attr\">template</span>:t,<span class=\"code-attr\">segmentTimeline</span>:e&amp;&amp;Vs(e,<span class=\"code-string\">\"S\"</span>).map(zs),<span class=\"code-attr\">list</span>:i&amp;&amp;fs(zs(i),{<span class=\"code-attr\">segmentUrls</span>:n,<span class=\"code-attr\">initialization</span>:zs(a)}),<span class=\"code-attr\">base</span>:r&amp;&amp;fs(zs(r),{<span class=\"code-attr\">initialization</span>:zs(a)})};<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(s).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s[e]||<span class=\"code-keyword\">delete</span> s[e]}),s}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ys</span>(<span class=\"code-params\">u,l,c</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=zs(e),i=Xs(l,Vs(e,<span class=\"code-string\">\"BaseURL\"</span>)),n=Vs(e,<span class=\"code-string\">\"Role\"</span>)[<span class=\"code-number\">0</span>],n={<span class=\"code-attr\">role</span>:zs(n)},t=fs(u,t,n),n=Vs(e,<span class=\"code-string\">\"Accessibility\"</span>)[<span class=\"code-number\">0</span>],n=<span class=\"code-string\">\"urn:scte:dash:cc:cea-608:2015\"</span>===(n=zs(n)).schemeIdUri?(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> n.value?[]:n.value.split(<span class=\"code-string\">\";\"</span>)).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n;<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^CC\\d=/</span>.test(n=e)?(i=(t=e.split(<span class=\"code-string\">\"=\"</span>))[<span class=\"code-number\">0</span>],n=t[<span class=\"code-number\">1</span>]):<span class=\"code-regexp\">/^CC\\d$/</span>.test(e)&amp;&amp;(i=e),{<span class=\"code-attr\">channel</span>:i,<span class=\"code-attr\">language</span>:n}}):<span class=\"code-string\">\"urn:scte:dash:cc:cea-708:2015\"</span>===n.schemeIdUri?(<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> n.value?[]:n.value.split(<span class=\"code-string\">\";\"</span>)).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n={<span class=\"code-attr\">channel</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">language</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">aspectRatio</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">easyReader</span>:<span class=\"code-number\">0</span>,<span class=\"code-string\">\"3D\"</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/=/</span>.test(e)?(t=(i=e.split(<span class=\"code-string\">\"=\"</span>))[<span class=\"code-number\">0</span>],i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(i=i[<span class=\"code-number\">1</span>])?<span class=\"code-string\">\"\"</span>:i,n.channel=t,n.language=e,i.split(<span class=\"code-string\">\",\"</span>).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.split(<span class=\"code-string\">\":\"</span>),e=t[<span class=\"code-number\">0</span>],t=t[<span class=\"code-number\">1</span>];<span class=\"code-string\">\"lang\"</span>===e?n.language=t:<span class=\"code-string\">\"er\"</span>===e?n.easyReader=<span class=\"code-built_in\">Number</span>(t):<span class=\"code-string\">\"war\"</span>===e?n.aspectRatio=<span class=\"code-built_in\">Number</span>(t):<span class=\"code-string\">\"3D\"</span>===e&amp;&amp;(n[<span class=\"code-string\">\"3D\"</span>]=<span class=\"code-built_in\">Number</span>(t))})):n.language=e,n.channel&amp;&amp;(n.channel=<span class=\"code-string\">\"SERVICE\"</span>+n.channel),n}):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;n&amp;&amp;(t=fs(t,{<span class=\"code-attr\">captionServices</span>:n}));n=Vs(e,<span class=\"code-string\">\"Label\"</span>)[<span class=\"code-number\">0</span>];n&amp;&amp;n.childNodes.length&amp;&amp;(r=n.childNodes[<span class=\"code-number\">0</span>].nodeValue.trim(),t=fs(t,{<span class=\"code-attr\">label</span>:r}));<span class=\"code-keyword\">var</span> r=Vs(e,<span class=\"code-string\">\"ContentProtection\"</span>).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=zs(t);i.schemeIdUri&amp;&amp;(i.schemeIdUri=i.schemeIdUri.toLowerCase());<span class=\"code-keyword\">var</span> n=bo[i.schemeIdUri];<span class=\"code-keyword\">return</span> n&amp;&amp;(e[n]={<span class=\"code-attr\">attributes</span>:i},(t=Vs(t,<span class=\"code-string\">\"cenc:pssh\"</span>)[<span class=\"code-number\">0</span>])&amp;&amp;(t=Ws(t),e[n].pssh=t&amp;&amp;or(t))),e},{});<span class=\"code-built_in\">Object</span>.keys(r).length&amp;&amp;(t=fs(t,{<span class=\"code-attr\">contentProtection</span>:r}));<span class=\"code-keyword\">var</span> a,s,o,r=Ks(e),e=Vs(e,<span class=\"code-string\">\"Representation\"</span>),r=fs(c,r);<span class=\"code-keyword\">return</span> gs(e.map((a=t,s=i,o=r,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Vs(e,<span class=\"code-string\">\"BaseURL\"</span>),t=Xs(s,t),i=fs(a,zs(e)),n=Ks(e);<span class=\"code-keyword\">return</span> t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">segmentInfo</span>:fs(o,n),<span class=\"code-attr\">attributes</span>:fs(i,{<span class=\"code-attr\">baseUrl</span>:e})}})})))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qs</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(a=i.manifestUri)?<span class=\"code-string\">\"\"</span>:a,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(r=i.NOW)?<span class=\"code-built_in\">Date</span>.now():r,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(a=i.clientOffset)?<span class=\"code-number\">0</span>:a;<span class=\"code-keyword\">if</span>(!(i=Vs(e,<span class=\"code-string\">\"Period\"</span>)).length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(lo);<span class=\"code-keyword\">var</span> a=Vs(e,<span class=\"code-string\">\"Location\"</span>),s=zs(e),e=Xs([n],Vs(e,<span class=\"code-string\">\"BaseURL\"</span>));s.type=s.type||<span class=\"code-string\">\"static\"</span>,s.sourceDuration=s.mediaPresentationDuration||<span class=\"code-number\">0</span>,s.NOW=t,s.clientOffset=r,a.length&amp;&amp;(s.locations=a.map(Ws));<span class=\"code-keyword\">var</span> o,u,l=[];<span class=\"code-keyword\">return</span> i.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=zs(e),r=l[t<span class=\"code-number\">-1</span>];n.start=(i={<span class=\"code-attr\">attributes</span>:n,<span class=\"code-attr\">priorPeriodAttributes</span>:r?r.attributes:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">mpdType</span>:s.type},t=i.attributes,r=i.priorPeriodAttributes,i=i.mpdType,<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.start?t.start:r&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> r.start&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> r.duration?r.start+r.duration:r||<span class=\"code-string\">\"static\"</span>!==i?<span class=\"code-literal\">null</span>:<span class=\"code-number\">0</span>),l.push({<span class=\"code-attr\">node</span>:e,<span class=\"code-attr\">attributes</span>:n})}),{<span class=\"code-attr\">locations</span>:s.locations,<span class=\"code-attr\">representationInfo</span>:gs(l.map((o=s,u=e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=Xs(u,Vs(e.node,<span class=\"code-string\">\"BaseURL\"</span>)),n=fs(o,{<span class=\"code-attr\">periodStart</span>:e.attributes.start});<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.attributes.duration&amp;&amp;(n.periodDuration=e.attributes.duration);<span class=\"code-keyword\">var</span> r=Vs(e.node,<span class=\"code-string\">\"AdaptationSet\"</span>),e=Ks(e.node);<span class=\"code-keyword\">return</span> gs(r.map(Ys(n,i,e)))})))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$s</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"\"</span>===e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(co);<span class=\"code-keyword\">var</span> t,i,n=<span class=\"code-keyword\">new</span> uo;<span class=\"code-keyword\">try</span>{i=(t=n.parseFromString(e,<span class=\"code-string\">\"application/xml\"</span>))&amp;&amp;<span class=\"code-string\">\"MPD\"</span>===t.documentElement.tagName?t.documentElement:<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">if</span>(!i||i&amp;&amp;<span class=\"code-number\">0</span>&lt;i.getElementsByTagName(<span class=\"code-string\">\"parsererror\"</span>).length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(ho);<span class=\"code-keyword\">return</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Js</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={});<span class=\"code-keyword\">var</span> i=Qs($s(e),t),e=i.representationInfo.map(qs);<span class=\"code-keyword\">return</span> Us({<span class=\"code-attr\">dashPlaylists</span>:e,<span class=\"code-attr\">locations</span>:i.locations,<span class=\"code-attr\">sidxMapping</span>:t.sidxMapping,<span class=\"code-attr\">previousManifest</span>:t.previousManifest})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zs</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=Vs(e,<span class=\"code-string\">\"UTCTiming\"</span>)[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> t=zs(e);<span class=\"code-keyword\">switch</span>(t.schemeIdUri){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-head:2014\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-head:2012\"</span>:t.method=<span class=\"code-string\">\"HEAD\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-xsdate:2014\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-iso:2014\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-xsdate:2012\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-iso:2012\"</span>:t.method=<span class=\"code-string\">\"GET\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:direct:2014\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:direct:2012\"</span>:t.method=<span class=\"code-string\">\"DIRECT\"</span>,t.value=<span class=\"code-built_in\">Date</span>.parse(t.value);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:http-ntp:2014\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:ntp:2014\"</span>:<span class=\"code-keyword\">case</span><span class=\"code-string\">\"urn:mpeg:dash:utc:sntp:2014\"</span>:<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(mo)}<span class=\"code-keyword\">return</span> t}($s(e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">eo</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>),(e=br(e)).length-t&lt;<span class=\"code-number\">10</span>||!wr(e,Eo,{<span class=\"code-attr\">offset</span>:t})?t:eo(e,t+=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=(e=br(e))[t+<span class=\"code-number\">5</span>],t=e[t+<span class=\"code-number\">6</span>]&lt;&lt;<span class=\"code-number\">21</span>|e[t+<span class=\"code-number\">7</span>]&lt;&lt;<span class=\"code-number\">14</span>|e[t+<span class=\"code-number\">8</span>]&lt;&lt;<span class=\"code-number\">7</span>|e[t+<span class=\"code-number\">9</span>];<span class=\"code-keyword\">return</span>(<span class=\"code-number\">16</span>&amp;i)&gt;&gt;<span class=\"code-number\">4</span>?<span class=\"code-number\">20</span>+t:<span class=\"code-number\">10</span>+t}(e,t))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">to</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?Sr(e):e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">io</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">1</span>),n=t,t=<span class=\"code-built_in\">Array</span>.isArray(n)?n.map(to):[to(n)],e=br(e);<span class=\"code-keyword\">var</span> r=[];<span class=\"code-keyword\">if</span>(!t.length)<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;e.length;){<span class=\"code-keyword\">var</span> s=(e[a]&lt;&lt;<span class=\"code-number\">24</span>|e[a+<span class=\"code-number\">1</span>]&lt;&lt;<span class=\"code-number\">16</span>|e[a+<span class=\"code-number\">2</span>]&lt;&lt;<span class=\"code-number\">8</span>|e[a+<span class=\"code-number\">3</span>])&gt;&gt;&gt;<span class=\"code-number\">0</span>,o=e.subarray(a+<span class=\"code-number\">4</span>,a+<span class=\"code-number\">8</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>==s)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">var</span> u=a+s;<span class=\"code-keyword\">if</span>(u&gt;e.length){<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">break</span>;u=e.length}s=e.subarray(a+<span class=\"code-number\">8</span>,u);wr(o,t[<span class=\"code-number\">0</span>])&amp;&amp;(<span class=\"code-number\">1</span>===t.length?r.push(s):r.push.apply(r,io(s,t.slice(<span class=\"code-number\">1</span>),i))),a=u}<span class=\"code-keyword\">return</span> r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">no</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">var</span> r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">1</span>,i=<span class=\"code-number\">0</span>;i&lt;Co.length&amp;&amp;!(e&amp;Co[i]);i++)t++;<span class=\"code-keyword\">return</span> t}(e[t]),a=e.subarray(t,t+r);<span class=\"code-keyword\">return</span> i&amp;&amp;((a=<span class=\"code-built_in\">Array</span>.prototype.slice.call(e,t,t+r))[<span class=\"code-number\">0</span>]^=Co[r<span class=\"code-number\">-1</span>]),{<span class=\"code-attr\">length</span>:r,<span class=\"code-attr\">value</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e,e=t.signed,e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e&amp;&amp;e,t=t.le,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;t;n=br(n);t=r?<span class=\"code-string\">\"reduce\"</span>:<span class=\"code-string\">\"reduceRight\"</span>,t=(n[t]||<span class=\"code-built_in\">Array</span>.prototype[t]).call(n,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{i=r?i:<span class=\"code-built_in\">Math</span>.abs(i+<span class=\"code-number\">1</span>-n.length);<span class=\"code-keyword\">return</span> e+Rr(t)*Nr[i]},Rr(<span class=\"code-number\">0</span>));<span class=\"code-keyword\">return</span>!e||(e=Nr[n.length]/Rr(<span class=\"code-number\">2</span>)-Rr(<span class=\"code-number\">1</span>))&lt;(t=Rr(t))&amp;&amp;(t-=e,t-=e,t-=Rr(<span class=\"code-number\">2</span>)),<span class=\"code-built_in\">Number</span>(t)}(a,{<span class=\"code-attr\">signed</span>:n}),<span class=\"code-attr\">bytes</span>:a}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ro</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e?e.match(<span class=\"code-regexp\">/.{1,2}/g</span>).map(ro):<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e?Tr(e):e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ao</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(i&gt;=t.length)<span class=\"code-keyword\">return</span> t.length;<span class=\"code-keyword\">var</span> n=no(t,i,!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(wr(e.bytes,n.bytes))<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">var</span> r=no(t,i+n.length);<span class=\"code-keyword\">return</span> ao(e,t,i+r.length+r.value+n.length)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">so</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;i=t,t=<span class=\"code-built_in\">Array</span>.isArray(i)?i.map(ro):[ro(i)],e=br(e);<span class=\"code-keyword\">var</span> n=[];<span class=\"code-keyword\">if</span>(!t.length)<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;e.length;){<span class=\"code-keyword\">var</span> a=no(e,r,!<span class=\"code-number\">1</span>),s=no(e,r+a.length),o=r+a.length+s.length;<span class=\"code-number\">127</span>===s.value&amp;&amp;(s.value=ao(a,e,o),s.value!==e.length&amp;&amp;(s.value-=o));<span class=\"code-keyword\">var</span> u=o+s.value&gt;e.length?e.length:o+s.value,u=e.subarray(o,u);wr(t[<span class=\"code-number\">0</span>],a.bytes)&amp;&amp;(<span class=\"code-number\">1</span>===t.length?n.push(u):n=n.concat(so(u,t.slice(<span class=\"code-number\">1</span>)))),r+=a.length+s.length+u.length}<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">oo</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>),e=br(e),i=[].concat(i);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r,a=<span class=\"code-number\">0</span>,s=<span class=\"code-number\">0</span>;a&lt;e.length&amp;&amp;(s&lt;n||r);){<span class=\"code-keyword\">var</span> o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(wr(e.subarray(a),Io)?o=<span class=\"code-number\">4</span>:wr(e.subarray(a),xo)&amp;&amp;(o=<span class=\"code-number\">3</span>),o){<span class=\"code-keyword\">if</span>(s++,r)<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],i=<span class=\"code-number\">1</span>;i&lt;e.length<span class=\"code-number\">-2</span>;)wr(e.subarray(i,i+<span class=\"code-number\">3</span>),Ao)&amp;&amp;(t.push(i+<span class=\"code-number\">2</span>),i++),i++;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===t.length)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.length-t.length,r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n),a=<span class=\"code-number\">0</span>,i=<span class=\"code-number\">0</span>;i&lt;n;a++,i++)a===t[<span class=\"code-number\">0</span>]&amp;&amp;(a++,t.shift()),r[i]=e[a];<span class=\"code-keyword\">return</span> r}(e.subarray(r,a));<span class=\"code-keyword\">var</span> u=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-string\">\"h264\"</span>===t?u=<span class=\"code-number\">31</span>&amp;e[a+o]:<span class=\"code-string\">\"h265\"</span>===t&amp;&amp;(u=e[a+o]&gt;&gt;<span class=\"code-number\">1</span>&amp;<span class=\"code-number\">63</span>),<span class=\"code-number\">-1</span>!==i.indexOf(u)&amp;&amp;(r=a+o),a+=o+(<span class=\"code-string\">\"h264\"</span>===t?<span class=\"code-number\">1</span>:<span class=\"code-number\">2</span>)}<span class=\"code-keyword\">else</span> a++}<span class=\"code-keyword\">return</span> e.subarray(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>)}<span class=\"code-keyword\">var</span> uo={<span class=\"code-attr\">__DOMHandler</span>:us,<span class=\"code-attr\">DOMParser</span>:os,<span class=\"code-attr\">DOMImplementation</span>:U.DOMImplementation,<span class=\"code-attr\">XMLSerializer</span>:U.XMLSerializer}.DOMParser,lo=<span class=\"code-string\">\"INVALID_NUMBER_OF_PERIOD\"</span>,co=<span class=\"code-string\">\"DASH_EMPTY_MANIFEST\"</span>,ho=<span class=\"code-string\">\"DASH_INVALID_XML\"</span>,po=<span class=\"code-string\">\"NO_BASE_URL\"</span>,fo=<span class=\"code-string\">\"SEGMENT_TIME_UNSPECIFIED\"</span>,mo=<span class=\"code-string\">\"UNSUPPORTED_UTC_TIMING_SCHEME\"</span>,go={<span class=\"code-attr\">static</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.duration,i=e.timescale,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i?<span class=\"code-number\">1</span>:i,r=e.sourceDuration,i=e.periodDuration,e=bs(e.endNumber),n=t/n;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e?{<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">end</span>:e}:<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i?{<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">end</span>:i/n}:{<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">end</span>:r/n}},<span class=\"code-attr\">dynamic</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,a=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r?<span class=\"code-number\">1</span>:r,s=e.duration,o=e.periodStart,u=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o?<span class=\"code-number\">0</span>:o,r=e.minimumUpdatePeriod,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r?<span class=\"code-number\">0</span>:r,r=e.timeShiftBufferDepth,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r?<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>:r,e=bs(e.endNumber),i=(t+i)/<span class=\"code-number\">1e3</span>,u=n+u,o=<span class=\"code-built_in\">Math</span>.ceil((i+o-u)*a/s),r=<span class=\"code-built_in\">Math</span>.floor((i-u-r)*a/s),s=<span class=\"code-built_in\">Math</span>.floor((i-u)*a/s);<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,r),<span class=\"code-attr\">end</span>:<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e?e:<span class=\"code-built_in\">Math</span>.min(o,s)}}},yo=[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>],vo=<span class=\"code-regexp\">/\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g</span>,_o={<span class=\"code-attr\">mediaPresentationDuration</span>:Gs,<span class=\"code-attr\">availabilityStartTime</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/</span>.test(e=e)&amp;&amp;(e+=<span class=\"code-string\">\"Z\"</span>),<span class=\"code-built_in\">Date</span>.parse(e)/<span class=\"code-number\">1e3</span>},<span class=\"code-attr\">minimumUpdatePeriod</span>:Gs,<span class=\"code-attr\">suggestedPresentationDelay</span>:Gs,<span class=\"code-attr\">type</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e},<span class=\"code-attr\">timeShiftBufferDepth</span>:Gs,<span class=\"code-attr\">start</span>:Gs,<span class=\"code-attr\">width</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">height</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">bandwidth</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">startNumber</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">timescale</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">presentationTimeOffset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">duration</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">isNaN</span>(t)?Gs(e):t},<span class=\"code-attr\">d</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">t</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">r</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>)},<span class=\"code-attr\">DEFAULT</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e}},bo={<span class=\"code-string\">\"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b\"</span>:<span class=\"code-string\">\"org.w3.clearkey\"</span>,<span class=\"code-string\">\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\"</span>:<span class=\"code-string\">\"com.widevine.alpha\"</span>,<span class=\"code-string\">\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\"</span>:<span class=\"code-string\">\"com.microsoft.playready\"</span>,<span class=\"code-string\">\"urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb\"</span>:<span class=\"code-string\">\"com.adobe.primetime\"</span>},To=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>),So=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(e.buffer,e.byteOffset,e.byteLength);<span class=\"code-keyword\">return</span> t.getBigUint64?(e=t.getBigUint64(<span class=\"code-number\">0</span>))&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER?<span class=\"code-built_in\">Number</span>(e):e:t.getUint32(<span class=\"code-number\">0</span>)*To+t.getUint32(<span class=\"code-number\">4</span>)},wo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(e.buffer,e.byteOffset,e.byteLength),i={<span class=\"code-attr\">version</span>:e[<span class=\"code-number\">0</span>],<span class=\"code-attr\">flags</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.subarray(<span class=\"code-number\">1</span>,<span class=\"code-number\">4</span>)),<span class=\"code-attr\">references</span>:[],<span class=\"code-attr\">referenceId</span>:t.getUint32(<span class=\"code-number\">4</span>),<span class=\"code-attr\">timescale</span>:t.getUint32(<span class=\"code-number\">8</span>)},n=<span class=\"code-number\">12</span>;<span class=\"code-number\">0</span>===i.version?(i.earliestPresentationTime=t.getUint32(n),i.firstOffset=t.getUint32(n+<span class=\"code-number\">4</span>),n+=<span class=\"code-number\">8</span>):(i.earliestPresentationTime=So(e.subarray(n)),i.firstOffset=So(e.subarray(n+<span class=\"code-number\">8</span>)),n+=<span class=\"code-number\">16</span>);<span class=\"code-keyword\">var</span> r=t.getUint16(n+=<span class=\"code-number\">2</span>);<span class=\"code-keyword\">for</span>(n+=<span class=\"code-number\">2</span>;<span class=\"code-number\">0</span>&lt;r;n+=<span class=\"code-number\">12</span>,r--)i.references.push({<span class=\"code-attr\">referenceType</span>:(<span class=\"code-number\">128</span>&amp;e[n])&gt;&gt;&gt;<span class=\"code-number\">7</span>,<span class=\"code-attr\">referencedSize</span>:<span class=\"code-number\">2147483647</span>&amp;t.getUint32(n),<span class=\"code-attr\">subsegmentDuration</span>:t.getUint32(n+<span class=\"code-number\">4</span>),<span class=\"code-attr\">startsWithSap</span>:!!(<span class=\"code-number\">128</span>&amp;e[n+<span class=\"code-number\">8</span>]),<span class=\"code-attr\">sapType</span>:(<span class=\"code-number\">112</span>&amp;e[n+<span class=\"code-number\">8</span>])&gt;&gt;&gt;<span class=\"code-number\">4</span>,<span class=\"code-attr\">sapDeltaTime</span>:<span class=\"code-number\">268435455</span>&amp;t.getUint32(n+<span class=\"code-number\">8</span>)});<span class=\"code-keyword\">return</span> i},Eo=br([<span class=\"code-number\">73</span>,<span class=\"code-number\">68</span>,<span class=\"code-number\">51</span>]),ko={<span class=\"code-attr\">EBML</span>:br([<span class=\"code-number\">26</span>,<span class=\"code-number\">69</span>,<span class=\"code-number\">223</span>,<span class=\"code-number\">163</span>]),<span class=\"code-attr\">DocType</span>:br([<span class=\"code-number\">66</span>,<span class=\"code-number\">130</span>]),<span class=\"code-attr\">Segment</span>:br([<span class=\"code-number\">24</span>,<span class=\"code-number\">83</span>,<span class=\"code-number\">128</span>,<span class=\"code-number\">103</span>]),<span class=\"code-attr\">SegmentInfo</span>:br([<span class=\"code-number\">21</span>,<span class=\"code-number\">73</span>,<span class=\"code-number\">169</span>,<span class=\"code-number\">102</span>]),<span class=\"code-attr\">Tracks</span>:br([<span class=\"code-number\">22</span>,<span class=\"code-number\">84</span>,<span class=\"code-number\">174</span>,<span class=\"code-number\">107</span>]),<span class=\"code-attr\">Track</span>:br([<span class=\"code-number\">174</span>]),<span class=\"code-attr\">TrackNumber</span>:br([<span class=\"code-number\">215</span>]),<span class=\"code-attr\">DefaultDuration</span>:br([<span class=\"code-number\">35</span>,<span class=\"code-number\">227</span>,<span class=\"code-number\">131</span>]),<span class=\"code-attr\">TrackEntry</span>:br([<span class=\"code-number\">174</span>]),<span class=\"code-attr\">TrackType</span>:br([<span class=\"code-number\">131</span>]),<span class=\"code-attr\">FlagDefault</span>:br([<span class=\"code-number\">136</span>]),<span class=\"code-attr\">CodecID</span>:br([<span class=\"code-number\">134</span>]),<span class=\"code-attr\">CodecPrivate</span>:br([<span class=\"code-number\">99</span>,<span class=\"code-number\">162</span>]),<span class=\"code-attr\">VideoTrack</span>:br([<span class=\"code-number\">224</span>]),<span class=\"code-attr\">AudioTrack</span>:br([<span class=\"code-number\">225</span>]),<span class=\"code-attr\">Cluster</span>:br([<span class=\"code-number\">31</span>,<span class=\"code-number\">67</span>,<span class=\"code-number\">182</span>,<span class=\"code-number\">117</span>]),<span class=\"code-attr\">Timestamp</span>:br([<span class=\"code-number\">231</span>]),<span class=\"code-attr\">TimestampScale</span>:br([<span class=\"code-number\">42</span>,<span class=\"code-number\">215</span>,<span class=\"code-number\">177</span>]),<span class=\"code-attr\">BlockGroup</span>:br([<span class=\"code-number\">160</span>]),<span class=\"code-attr\">BlockDuration</span>:br([<span class=\"code-number\">155</span>]),<span class=\"code-attr\">Block</span>:br([<span class=\"code-number\">161</span>]),<span class=\"code-attr\">SimpleBlock</span>:br([<span class=\"code-number\">163</span>])},Co=[<span class=\"code-number\">128</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">32</span>,<span class=\"code-number\">16</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>],Io=br([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]),xo=br([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]),Ao=br([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>]),Po={<span class=\"code-attr\">webm</span>:br([<span class=\"code-number\">119</span>,<span class=\"code-number\">101</span>,<span class=\"code-number\">98</span>,<span class=\"code-number\">109</span>]),<span class=\"code-attr\">matroska</span>:br([<span class=\"code-number\">109</span>,<span class=\"code-number\">97</span>,<span class=\"code-number\">116</span>,<span class=\"code-number\">114</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">115</span>,<span class=\"code-number\">107</span>,<span class=\"code-number\">97</span>]),<span class=\"code-attr\">flac</span>:br([<span class=\"code-number\">102</span>,<span class=\"code-number\">76</span>,<span class=\"code-number\">97</span>,<span class=\"code-number\">67</span>]),<span class=\"code-attr\">ogg</span>:br([<span class=\"code-number\">79</span>,<span class=\"code-number\">103</span>,<span class=\"code-number\">103</span>,<span class=\"code-number\">83</span>]),<span class=\"code-attr\">ac3</span>:br([<span class=\"code-number\">11</span>,<span class=\"code-number\">119</span>]),<span class=\"code-attr\">riff</span>:br([<span class=\"code-number\">82</span>,<span class=\"code-number\">73</span>,<span class=\"code-number\">70</span>,<span class=\"code-number\">70</span>]),<span class=\"code-attr\">avi</span>:br([<span class=\"code-number\">65</span>,<span class=\"code-number\">86</span>,<span class=\"code-number\">73</span>]),<span class=\"code-attr\">wav</span>:br([<span class=\"code-number\">87</span>,<span class=\"code-number\">65</span>,<span class=\"code-number\">86</span>,<span class=\"code-number\">69</span>]),<span class=\"code-string\">\"3gp\"</span>:br([<span class=\"code-number\">102</span>,<span class=\"code-number\">116</span>,<span class=\"code-number\">121</span>,<span class=\"code-number\">112</span>,<span class=\"code-number\">51</span>,<span class=\"code-number\">103</span>]),<span class=\"code-attr\">mp4</span>:br([<span class=\"code-number\">102</span>,<span class=\"code-number\">116</span>,<span class=\"code-number\">121</span>,<span class=\"code-number\">112</span>]),<span class=\"code-attr\">fmp4</span>:br([<span class=\"code-number\">115</span>,<span class=\"code-number\">116</span>,<span class=\"code-number\">121</span>,<span class=\"code-number\">112</span>]),<span class=\"code-attr\">mov</span>:br([<span class=\"code-number\">102</span>,<span class=\"code-number\">116</span>,<span class=\"code-number\">121</span>,<span class=\"code-number\">112</span>,<span class=\"code-number\">113</span>,<span class=\"code-number\">116</span>]),<span class=\"code-attr\">moov</span>:br([<span class=\"code-number\">109</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">118</span>]),<span class=\"code-attr\">moof</span>:br([<span class=\"code-number\">109</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">102</span>])},Lo={<span class=\"code-attr\">aac</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=eo(e);<span class=\"code-keyword\">return</span> wr(e,[<span class=\"code-number\">255</span>,<span class=\"code-number\">16</span>],{<span class=\"code-attr\">offset</span>:t,<span class=\"code-attr\">mask</span>:[<span class=\"code-number\">255</span>,<span class=\"code-number\">22</span>]})},<span class=\"code-attr\">mp3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=eo(e);<span class=\"code-keyword\">return</span> wr(e,[<span class=\"code-number\">255</span>,<span class=\"code-number\">2</span>],{<span class=\"code-attr\">offset</span>:t,<span class=\"code-attr\">mask</span>:[<span class=\"code-number\">255</span>,<span class=\"code-number\">6</span>]})},<span class=\"code-attr\">webm</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=so(e,[ko.EBML,ko.DocType])[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span> wr(e,Po.webm)},<span class=\"code-attr\">mkv</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=so(e,[ko.EBML,ko.DocType])[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span> wr(e,Po.matroska)},<span class=\"code-attr\">mp4</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!Lo[<span class=\"code-string\">\"3gp\"</span>](e)&amp;&amp;!Lo.mov(e)&amp;&amp;(!(!wr(e,Po.mp4,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">4</span>})&amp;&amp;!wr(e,Po.fmp4,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">4</span>}))||(!(!wr(e,Po.moof,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">4</span>})&amp;&amp;!wr(e,Po.moov,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">4</span>}))||<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>))},<span class=\"code-attr\">mov</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> wr(e,Po.mov,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">4</span>})},<span class=\"code-string\">\"3gp\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> wr(e,Po[<span class=\"code-string\">\"3gp\"</span>],{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">4</span>})},<span class=\"code-attr\">ac3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=eo(e);<span class=\"code-keyword\">return</span> wr(e,Po.ac3,{<span class=\"code-attr\">offset</span>:t})},<span class=\"code-attr\">ts</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.length&lt;<span class=\"code-number\">189</span>&amp;&amp;<span class=\"code-number\">1</span>&lt;=e.length)<span class=\"code-keyword\">return</span> <span class=\"code-number\">71</span>===e[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t+<span class=\"code-number\">188</span>&lt;e.length&amp;&amp;t&lt;<span class=\"code-number\">188</span>;){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">71</span>===e[t]&amp;&amp;<span class=\"code-number\">71</span>===e[t+<span class=\"code-number\">188</span>])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;t+=<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>},<span class=\"code-attr\">flac</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=eo(e);<span class=\"code-keyword\">return</span> wr(e,Po.flac,{<span class=\"code-attr\">offset</span>:t})},<span class=\"code-attr\">ogg</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> wr(e,Po.ogg)},<span class=\"code-attr\">avi</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> wr(e,Po.riff)&amp;&amp;wr(e,Po.avi,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">8</span>})},<span class=\"code-attr\">wav</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> wr(e,Po.riff)&amp;&amp;wr(e,Po.wav,{<span class=\"code-attr\">offset</span>:<span class=\"code-number\">8</span>})},<span class=\"code-attr\">h264</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> oo(e,<span class=\"code-string\">\"h264\"</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">3</span>).length},<span class=\"code-attr\">h265</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> oo(e,<span class=\"code-string\">\"h265\"</span>,[<span class=\"code-number\">32</span>,<span class=\"code-number\">33</span>],<span class=\"code-number\">3</span>).length}},Do=<span class=\"code-built_in\">Object</span>.keys(Lo).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ts\"</span>!==e&amp;&amp;<span class=\"code-string\">\"h264\"</span>!==e&amp;&amp;<span class=\"code-string\">\"h265\"</span>!==e}).concat([<span class=\"code-string\">\"ts\"</span>,<span class=\"code-string\">\"h264\"</span>,<span class=\"code-string\">\"h265\"</span>]);Do.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Lo[e];Lo[e]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t(br(e))}});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oo</span>(<span class=\"code-params\">e</span>)</span>{e=br(e);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;Do.length;t++){<span class=\"code-keyword\">var</span> i=Do[t];<span class=\"code-keyword\">if</span>(dl[i](e))<span class=\"code-keyword\">return</span> i}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mo</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;i&amp;&amp;i.responseURL&amp;&amp;t!==i.responseURL?i.responseURL:t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ro</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> tr.log.debug?tr.log.debug.bind(tr,<span class=\"code-string\">\"VHS:\"</span>,e+<span class=\"code-string\">\" &gt;\"</span>):<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">No</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=[];<span class=\"code-keyword\">if</span>(e&amp;&amp;e.length)<span class=\"code-keyword\">for</span>(i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t(e.start(i),e.end(i))&amp;&amp;n.push([e.start(i),e.end(i)]);<span class=\"code-keyword\">return</span> tr.createTimeRanges(n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Uo</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-keyword\">return</span> No(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e<span class=\"code-number\">-.1</span>&lt;=i&amp;&amp;i&lt;=t+<span class=\"code-number\">.1</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bo</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> No(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t&lt;=e-fl})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=[];<span class=\"code-keyword\">if</span>(!e||!e.length)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t.push(e.start(i)+<span class=\"code-string\">\" =&gt; \"</span>+e.end(i));<span class=\"code-keyword\">return</span> t.join(<span class=\"code-string\">\", \"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t.push({<span class=\"code-attr\">start</span>:e.start(i),<span class=\"code-attr\">end</span>:e.end(i)});<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ho</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e.length&amp;&amp;e.end)<span class=\"code-keyword\">return</span> e.end(e.length<span class=\"code-number\">-1</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qo</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(!e||!e.length)<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;e.length;n++){<span class=\"code-keyword\">var</span> r=e.start(n),a=e.end(n);a&lt;t||(i+=r&lt;t&amp;&amp;t&lt;=a?a-t:a-r)}<span class=\"code-keyword\">return</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vo</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(!e.preload)<span class=\"code-keyword\">return</span> e.duration;<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>(e.parts||[]).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i+=e.duration}),(e.preloadHints||[]).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"PART\"</span>===e.type&amp;&amp;(i+=t.partTargetDuration)}),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(e.segments||[]).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,n,r</span>)</span>{<span class=\"code-keyword\">return</span> n.parts?n.parts.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{i.push({<span class=\"code-attr\">duration</span>:e.duration,<span class=\"code-attr\">segmentIndex</span>:r,<span class=\"code-attr\">partIndex</span>:t,<span class=\"code-attr\">part</span>:e,<span class=\"code-attr\">segment</span>:n})}):i.push({<span class=\"code-attr\">duration</span>:n.duration,<span class=\"code-attr\">segmentIndex</span>:r,<span class=\"code-attr\">partIndex</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">segment</span>:n,<span class=\"code-attr\">part</span>:<span class=\"code-literal\">null</span>}),i},[])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Go</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(e=e.segments&amp;&amp;e.segments.length&amp;&amp;e.segments[e.segments.length<span class=\"code-number\">-1</span>])&amp;&amp;e.parts||[]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.preloadSegment;<span class=\"code-keyword\">if</span>(t){e=t.parts,t=(t.preloadHints||[]).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e+(<span class=\"code-string\">\"PART\"</span>===t.type?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span>)},<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> t+=e&amp;&amp;e.length?e.length:<span class=\"code-number\">0</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xo</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.endList?<span class=\"code-number\">0</span>:e&amp;&amp;e.suggestedPresentationDelay?e.suggestedPresentationDelay:(e=<span class=\"code-number\">0</span>&lt;Go(t).length)&amp;&amp;t.serverControl&amp;&amp;t.serverControl.partHoldBack?t.serverControl.partHoldBack:e&amp;&amp;t.partTargetDuration?<span class=\"code-number\">3</span>*t.partTargetDuration:t.serverControl&amp;&amp;t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?<span class=\"code-number\">3</span>*t.targetDuration:<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ko</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>((t=<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t?e.mediaSequence+e.segments.length:t)&lt;e.mediaSequence)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,n=t-e.mediaSequence,r=e.segments[n];<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> r.start)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:r.start,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> r.end)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:r.end-r.duration,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">for</span>(;n--;){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(r=e.segments[n]).end)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:i+r.end,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">if</span>(i+=Vo(e,r),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> r.start)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:i+r.start,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:i,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">1</span>}}(e,t);<span class=\"code-keyword\">return</span> n.precise?n.result:(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n=<span class=\"code-number\">0</span>,r=t-e.mediaSequence;r&lt;e.segments.length;r++){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(i=e.segments[r]).start)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:i.start-n,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">if</span>(n+=Vo(e,i),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> i.end)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:i.end-n,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">0</span>}}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">result</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">precise</span>:!<span class=\"code-number\">1</span>}}(e,t)).precise?t.result:n.result+i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yo</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> i&amp;&amp;(i=<span class=\"code-number\">0</span>),<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t){<span class=\"code-keyword\">if</span>(e.totalDuration)<span class=\"code-keyword\">return</span> e.totalDuration;<span class=\"code-keyword\">if</span>(!e.endList)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.Infinity}<span class=\"code-keyword\">return</span> Ko(e,t,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.defaultDuration,i=e.durationList,n=e.startIndex,r=e.endIndex,a=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(r&lt;n&amp;&amp;(n=(e=[r,n])[<span class=\"code-number\">0</span>],r=e[<span class=\"code-number\">1</span>]),n&lt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=n;s&lt;<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">0</span>,r);s++)a+=t;n=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=n;o&lt;r;o++)a+=i[o].duration;<span class=\"code-keyword\">return</span> a}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$o</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;e.segments?e.endList?Yo(e):<span class=\"code-literal\">null</span>===t?<span class=\"code-literal\">null</span>:(t=Ko(e,e.mediaSequence+e.segments.length,t=t||<span class=\"code-number\">0</span>),i&amp;&amp;(t-=n=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> n?n:Xo(<span class=\"code-literal\">null</span>,e)),<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,t)):<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Jo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.excludeUntil&amp;&amp;e.excludeUntil&gt;<span class=\"code-built_in\">Date</span>.now()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zo</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.excludeUntil&amp;&amp;e.excludeUntil===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">eu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Jo(e);<span class=\"code-keyword\">return</span>!e.disabled&amp;&amp;!t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.attributes&amp;&amp;t.attributes[e]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">iu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===e.playlists.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i=t.attributes.BANDWIDTH||<span class=\"code-built_in\">Number</span>.MAX_VALUE;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e.playlists.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!eu(e)&amp;&amp;(e.attributes.BANDWIDTH||<span class=\"code-number\">0</span>)&lt;i}).length}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>!(!e&amp;&amp;!t||!e&amp;&amp;t||e&amp;&amp;!t)&amp;&amp;(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ru</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=e&amp;&amp;e.mediaGroups&amp;&amp;e.mediaGroups.AUDIO||{},r=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> n){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> n[i])<span class=\"code-keyword\">if</span>(r=t(n[i][a]))<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">return</span>!!r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">au</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">if</span>(!i||!i.playlists||!i.playlists.length)<span class=\"code-keyword\">return</span> ru(i,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.playlists&amp;&amp;e.playlists.length||e.uri});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;i.playlists.length;e++){<span class=\"code-keyword\">var</span> t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i.playlists[e],e=t.attributes&amp;&amp;t.attributes.CODECS;<span class=\"code-keyword\">return</span> e&amp;&amp;e.split(<span class=\"code-string\">\",\"</span>).every(fr)||ru(i,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> nu(t,e)})?<span class=\"code-string\">\"continue\"</span>:{<span class=\"code-attr\">v</span>:!<span class=\"code-number\">1</span>}}(e);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"continue\"</span>!==t&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> t)<span class=\"code-keyword\">return</span> t.v}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">su</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e+<span class=\"code-string\">\"-\"</span>+t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ou</span>(<span class=\"code-params\">r,a</span>)</span>{r.mediaGroups&amp;&amp;[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(r.mediaGroups[e])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t <span class=\"code-keyword\">in</span> r.mediaGroups[e])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i <span class=\"code-keyword\">in</span> r.mediaGroups[e][t]){<span class=\"code-keyword\">var</span> n=r.mediaGroups[e][t][i];a(n,e,t,i)}})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">uu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.playlist,i=e.uri,e=e.id;t.id=e,t.playlistErrors_=<span class=\"code-number\">0</span>,i&amp;&amp;(t.uri=i),t.attributes=t.attributes||{}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lu</span>(<span class=\"code-params\">o,e</span>)</span>{o.uri=e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;o.playlists.length;t++)o.playlists[t].uri||(o.playlists[t].uri=<span class=\"code-string\">\"placeholder-uri-\"</span>+t);<span class=\"code-keyword\">var</span> i,u=au(o);ou(o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-string\">\"placeholder-uri-\"</span>+t+<span class=\"code-string\">\"-\"</span>+i+<span class=\"code-string\">\"-\"</span>+n;<span class=\"code-keyword\">if</span>(!e.playlists||!e.playlists.length){<span class=\"code-keyword\">if</span>(u&amp;&amp;<span class=\"code-string\">\"AUDIO\"</span>===t&amp;&amp;!e.uri)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=<span class=\"code-number\">0</span>;a&lt;o.playlists.length;a++){<span class=\"code-keyword\">var</span> s=o.playlists[a];<span class=\"code-keyword\">if</span>(s.attributes&amp;&amp;s.attributes.AUDIO&amp;&amp;s.attributes.AUDIO===i)<span class=\"code-keyword\">return</span>}e.playlists=[g({},e)]}e.playlists.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=su(t,r);e.uri?e.resolvedUri=e.resolvedUri||pl(o.uri,e.uri):(e.uri=<span class=\"code-number\">0</span>===t?r:i,e.resolvedUri=e.uri),e.id=e.id||i,e.attributes=e.attributes||{},o.playlists[e.id]=e,o.playlists[e.uri]=e})}),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.playlists.length;t--;){<span class=\"code-keyword\">var</span> i=e.playlists[t];uu({<span class=\"code-attr\">playlist</span>:i,<span class=\"code-attr\">id</span>:su(t,i.uri)}),i.resolvedUri=pl(e.uri,i.uri),e.playlists[i.id]=i,(e.playlists[i.uri]=i).attributes.BANDWIDTH||yl.warn(<span class=\"code-string\">\"Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.\"</span>)}}(o),ou(i=o,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.uri&amp;&amp;(e.resolvedUri=pl(i.uri,e.uri))})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cu</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=e.slice(),r=t.slice();i=i||<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a,s=[],o=<span class=\"code-number\">0</span>;o&lt;r.length;o++){<span class=\"code-keyword\">var</span> u=n[o+i],l=r[o];u?(a=u.map||a,s.push(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> i=vl(e,t);<span class=\"code-keyword\">if</span>(e.preloadHints&amp;&amp;!t.preloadHints&amp;&amp;<span class=\"code-keyword\">delete</span> i.preloadHints,e.parts&amp;&amp;!t.parts)<span class=\"code-keyword\">delete</span> i.parts;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e.parts&amp;&amp;t.parts)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.parts.length;n++)e.parts&amp;&amp;e.parts[n]&amp;&amp;(i.parts[n]=vl(e.parts[n],t.parts[n]));<span class=\"code-keyword\">return</span>!e.skipped&amp;&amp;t.skipped&amp;&amp;(i.skipped=!<span class=\"code-number\">1</span>),e.preload&amp;&amp;!t.preload&amp;&amp;(i.preload=!<span class=\"code-number\">1</span>),i}(u,l))):(a&amp;&amp;!l.map&amp;&amp;(l.map=a),s.push(l))}<span class=\"code-keyword\">return</span> s}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">du</span>(<span class=\"code-params\">e,t</span>)</span>{!e.resolvedUri&amp;&amp;e.uri&amp;&amp;(e.resolvedUri=pl(t,e.uri)),e.key&amp;&amp;!e.key.resolvedUri&amp;&amp;(e.key.resolvedUri=pl(t,e.key.uri)),e.map&amp;&amp;!e.map.resolvedUri&amp;&amp;(e.map.resolvedUri=pl(t,e.map.uri)),e.map&amp;&amp;e.map.key&amp;&amp;!e.map.key.resolvedUri&amp;&amp;(e.map.key.resolvedUri=pl(t,e.map.key.uri)),e.parts&amp;&amp;e.parts.length&amp;&amp;e.parts.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.resolvedUri||(e.resolvedUri=pl(t,e.uri))}),e.preloadHints&amp;&amp;e.preloadHints.length&amp;&amp;e.preloadHints.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.resolvedUri||(e.resolvedUri=pl(t,e.uri))})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">hu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.segments||[],i=e.preloadSegment;<span class=\"code-keyword\">if</span>(i&amp;&amp;i.parts&amp;&amp;i.parts.length){<span class=\"code-keyword\">if</span>(i.preloadHints)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;i.preloadHints.length;n++)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"MAP\"</span>===i.preloadHints[n].type)<span class=\"code-keyword\">return</span> t;i.duration=e.targetDuration,i.preload=!<span class=\"code-number\">0</span>,t.push(i)}<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e===t||e.segments&amp;&amp;t.segments&amp;&amp;e.segments.length===t.segments.length&amp;&amp;e.endList===t.endList&amp;&amp;e.mediaSequence===t.mediaSequence&amp;&amp;e.preloadSegment===t.preloadSegment}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">fu</span>(<span class=\"code-params\">e,a,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=pu);<span class=\"code-keyword\">var</span> i=vl(e,{}),n=i.playlists[a.id];<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(t(n,a))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;a.segments=hu(a);<span class=\"code-keyword\">var</span> s=vl(n,a);<span class=\"code-keyword\">if</span>(s.preloadSegment&amp;&amp;!a.preloadSegment&amp;&amp;<span class=\"code-keyword\">delete</span> s.preloadSegment,n.segments){<span class=\"code-keyword\">if</span>(a.skip){a.segments=a.segments||[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;a.skip.skippedSegments;r++)a.segments.unshift({<span class=\"code-attr\">skipped</span>:!<span class=\"code-number\">0</span>})}s.segments=cu(n.segments,a.segments,a.mediaSequence-n.mediaSequence)}s.segments.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{du(e,s.resolvedUri)});<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=<span class=\"code-number\">0</span>;o&lt;i.playlists.length;o++)i.playlists[o].id===a.id&amp;&amp;(i.playlists[o]=s);<span class=\"code-keyword\">return</span> i.playlists[a.id]=s,i.playlists[a.uri]=s,ou(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">if</span>(e.playlists)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;e.playlists.length;r++)a.id===e.playlists[r].id&amp;&amp;(e.playlists[r]=s)}),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e.segments||[],n=i[i.length<span class=\"code-number\">-1</span>],n=(i=n&amp;&amp;n.parts&amp;&amp;n.parts[n.parts.length<span class=\"code-number\">-1</span>])&amp;&amp;i.duration||n&amp;&amp;n.duration;<span class=\"code-keyword\">return</span> t&amp;&amp;n?<span class=\"code-number\">1e3</span>*n:<span class=\"code-number\">500</span>*(e.partTargetDuration||e.targetDuration||<span class=\"code-number\">10</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gu</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-string\">\"arraybuffer\"</span>===e.responseType?e.response:e.responseText;!t&amp;&amp;r&amp;&amp;(e.responseTime=<span class=\"code-built_in\">Date</span>.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=<span class=\"code-built_in\">Math</span>.floor(e.bytesReceived/e.roundTripTime*<span class=\"code-number\">8</span>*<span class=\"code-number\">1e3</span>))),i.headers&amp;&amp;(e.responseHeaders=i.headers),t&amp;&amp;<span class=\"code-string\">\"ETIMEDOUT\"</span>===t.code&amp;&amp;(e.timedout=!<span class=\"code-number\">0</span>),n(t=!t&amp;&amp;!e.aborted&amp;&amp;<span class=\"code-number\">200</span>!==i.statusCode&amp;&amp;<span class=\"code-number\">206</span>!==i.statusCode&amp;&amp;<span class=\"code-number\">0</span>!==i.statusCode?<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"XHR Failed with a response of: \"</span>+(e&amp;&amp;(r||e.responseText))):t,e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">yu</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e,i</span>)</span>{e=Tl({<span class=\"code-attr\">timeout</span>:<span class=\"code-number\">45e3</span>},e);<span class=\"code-keyword\">var</span> t=a.beforeRequest||tr.Vhs.xhr.beforeRequest;!t||<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> t||(t=t(e))&amp;&amp;(e=t);<span class=\"code-keyword\">var</span> n=(!<span class=\"code-number\">0</span>===tr.Vhs.xhr.original?bl:tr.Vhs.xhr)(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> gu(n,e,t,i)}),r=n.abort;<span class=\"code-keyword\">return</span> n.abort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.aborted=!<span class=\"code-number\">0</span>,r.apply(n,<span class=\"code-built_in\">arguments</span>)},n.uri=e.uri,n.requestTime=<span class=\"code-built_in\">Date</span>.now(),n}<span class=\"code-keyword\">return</span> a.original=!<span class=\"code-number\">0</span>,a}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">vu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i={};<span class=\"code-keyword\">return</span> e.byterange&amp;&amp;(i.Range=(t=e.byterange,e=t.offset,t=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t.offset||<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t.length?<span class=\"code-built_in\">window</span>.BigInt(t.offset)+<span class=\"code-built_in\">window</span>.BigInt(t.length)-<span class=\"code-built_in\">window</span>.BigInt(<span class=\"code-number\">1</span>):t.offset+t.length<span class=\"code-number\">-1</span>,<span class=\"code-string\">\"bytes=\"</span>+e+<span class=\"code-string\">\"-\"</span>+t)),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">_u</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e=e.toString(<span class=\"code-number\">16</span>),<span class=\"code-string\">\"00\"</span>.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>-e.length)+e+(t%<span class=\"code-number\">2</span>?<span class=\"code-string\">\" \"</span>:<span class=\"code-string\">\"\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">bu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">32</span>&lt;=e&amp;&amp;e&lt;<span class=\"code-number\">126</span>?<span class=\"code-built_in\">String</span>.fromCharCode(e):<span class=\"code-string\">\".\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Tu</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n={};<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(i).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i[e];_r(t)?n[e]={<span class=\"code-attr\">bytes</span>:t.buffer,<span class=\"code-attr\">byteOffset</span>:t.byteOffset,<span class=\"code-attr\">byteLength</span>:t.byteLength}:n[e]=t}),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Su</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.byterange||{<span class=\"code-attr\">length</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-attr\">offset</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">return</span>[t.length,t.offset,e.resolvedUri].join(<span class=\"code-string\">\",\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">wu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.resolvedUri}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Eu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">Array</span>.prototype.slice.call(e),i=<span class=\"code-string\">\"\"</span>,n=<span class=\"code-number\">0</span>;n&lt;t.length/<span class=\"code-number\">16</span>;n++)i+=t.slice(<span class=\"code-number\">16</span>*n,<span class=\"code-number\">16</span>*n+<span class=\"code-number\">16</span>).map(_u).join(<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\" \"</span>+t.slice(<span class=\"code-number\">16</span>*n,<span class=\"code-number\">16</span>*n+<span class=\"code-number\">16</span>).map(bu).join(<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"\\n\"</span>;<span class=\"code-keyword\">return</span> i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ku</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.playlist,i=e.time,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:i;<span class=\"code-keyword\">if</span>(!(i=e.callback))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"getProgramTime: callback must be provided\"</span>);<span class=\"code-keyword\">return</span> t&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n?(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!t||!t.segments||<span class=\"code-number\">0</span>===t.segments.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>;r&lt;t.segments.length&amp;&amp;!(e&lt;=(n=(i=t.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);<span class=\"code-keyword\">var</span> a=t.segments[t.segments.length<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">if</span>(a.videoTimingInfo&amp;&amp;a.videoTimingInfo.transmuxedPresentationEnd&lt;e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(n&lt;e){<span class=\"code-keyword\">if</span>(e&gt;n+<span class=\"code-number\">.25</span>*a.duration)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;i=a}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">segment</span>:i,<span class=\"code-attr\">estimatedStart</span>:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,<span class=\"code-attr\">type</span>:i.videoTimingInfo?<span class=\"code-string\">\"accurate\"</span>:<span class=\"code-string\">\"estimate\"</span>}}(n,t))?<span class=\"code-string\">\"estimate\"</span>===e.type?i({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Accurate programTime could not be determined. Please seek to e.seekTime and try again\"</span>,<span class=\"code-attr\">seekTime</span>:e.estimatedStart}):(t={<span class=\"code-attr\">mediaSeconds</span>:n},(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!t.dateTimeObject)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+i);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(t.dateTimeObject.getTime()+<span class=\"code-number\">1e3</span>*i)}(n,e.segment))&amp;&amp;(t.programDateTime=e.toISOString()),i(<span class=\"code-literal\">null</span>,t)):i({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"valid programTime was not found\"</span>}):i({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"getProgramTime: playlist and time must be provided\"</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Cu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.programTime,i=e.playlist,n=e.retryCount,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-number\">2</span>:n,a=e.seekTo,s=e.pauseAfterSeek,o=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===s||s,u=e.tech,l=e.callback;<span class=\"code-keyword\">if</span>(!l)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"seekToProgramTime: callback must be provided\"</span>);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> t&amp;&amp;i&amp;&amp;a?i.endList||u.hasStarted_?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e.segments||<span class=\"code-number\">0</span>===e.segments.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;e.segments.length;t++)<span class=\"code-keyword\">if</span>(!e.segments[t].dateTimeObject)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}(i)?(n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">try</span>{i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(e)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}<span class=\"code-keyword\">if</span>(!t||!t.segments||<span class=\"code-number\">0</span>===t.segments.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(i&lt;(r=t.segments[<span class=\"code-number\">0</span>]).dateTimeObject)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.segments.length<span class=\"code-number\">-1</span>;n++){<span class=\"code-keyword\">var</span> r=t.segments[n];<span class=\"code-keyword\">if</span>(i&lt;t.segments[n+<span class=\"code-number\">1</span>].dateTimeObject)<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">var</span> a,s=t.segments[t.segments.length<span class=\"code-number\">-1</span>],e=s.dateTimeObject,a=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+<span class=\"code-number\">.25</span>*s.duration;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(e.getTime()+<span class=\"code-number\">1e3</span>*a)&lt;i?<span class=\"code-literal\">null</span>:{<span class=\"code-attr\">segment</span>:r=e&lt;i?s:r,<span class=\"code-attr\">estimatedStart</span>:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:gl.duration(t,t.mediaSequence+t.segments.indexOf(r)),<span class=\"code-attr\">type</span>:r.videoTimingInfo?<span class=\"code-string\">\"accurate\"</span>:<span class=\"code-string\">\"estimate\"</span>}}(t,i))?(s=n.segment,e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">try</span>{n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(e),i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Date</span>(t)}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">var</span> n=n.getTime();<span class=\"code-keyword\">return</span>(i.getTime()-n)/<span class=\"code-number\">1e3</span>}(s.dateTimeObject,t),<span class=\"code-string\">\"estimate\"</span>===n.type?<span class=\"code-number\">0</span>===r?l({<span class=\"code-attr\">message</span>:t+<span class=\"code-string\">\" is not buffered yet. Try again\"</span>}):(a(n.estimatedStart+e),<span class=\"code-keyword\">void</span> u.one(<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{Cu({<span class=\"code-attr\">programTime</span>:t,<span class=\"code-attr\">playlist</span>:i,<span class=\"code-attr\">retryCount</span>:r<span class=\"code-number\">-1</span>,<span class=\"code-attr\">seekTo</span>:a,<span class=\"code-attr\">pauseAfterSeek</span>:o,<span class=\"code-attr\">tech</span>:u,<span class=\"code-attr\">callback</span>:l})})):(e=s.start+e,u.one(<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l(<span class=\"code-literal\">null</span>,u.currentTime())}),o&amp;&amp;u.pause(),<span class=\"code-keyword\">void</span> a(e))):l({<span class=\"code-attr\">message</span>:t+<span class=\"code-string\">\" was not found in the stream\"</span>}):l({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"programDateTime tags must be provided in the manifest \"</span>+i.resolvedUri}):l({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"player must be playing a live stream to start buffering\"</span>}):l({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"seekToProgramTime: programTime, seekTo and playlist must be provided\"</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Iu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">4</span>===e.readyState)<span class=\"code-keyword\">return</span> t()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xu</span>(<span class=\"code-params\">e,t,r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">return</span> t.abort(),o=!<span class=\"code-number\">0</span>,r(e,t,i,n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!o){<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> n(e,t,<span class=\"code-string\">\"\"</span>,s);<span class=\"code-keyword\">var</span> i=t.responseText.substring(s&amp;&amp;s.byteLength||<span class=\"code-number\">0</span>,t.responseText.length);<span class=\"code-keyword\">if</span>(s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Array</span>(e),i=<span class=\"code-number\">0</span>;i&lt;e;i++)t[i]=<span class=\"code-built_in\">arguments</span>[i];<span class=\"code-keyword\">if</span>((t=t.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;(e.byteLength||e.length)&amp;&amp;<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e})).length&lt;=<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span> br(t[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">var</span> n=t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> e+(t.byteLength||t.length)},<span class=\"code-number\">0</span>),r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n),a=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=br(e),r.set(e,a),a+=e.byteLength}),r}(s,Sr(i,!<span class=\"code-number\">0</span>)),a=a||eo(s),s.length&lt;<span class=\"code-number\">10</span>||a&amp;&amp;s.length&lt;a+<span class=\"code-number\">2</span>)<span class=\"code-keyword\">return</span> Iu(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n(e,t,<span class=\"code-string\">\"\"</span>,s)});i=Oo(s);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ts\"</span>===i&amp;&amp;s.length&lt;<span class=\"code-number\">188</span>||!i&amp;&amp;s.length&lt;<span class=\"code-number\">376</span>?Iu(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n(e,t,<span class=\"code-string\">\"\"</span>,s)}):n(<span class=\"code-literal\">null</span>,t,i,s)}}<span class=\"code-keyword\">var</span> a,s=[],o=!<span class=\"code-number\">1</span>,u=t({<span class=\"code-attr\">uri</span>:e,<span class=\"code-attr\">beforeSend</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.overrideMimeType(<span class=\"code-string\">\"text/plain; charset=x-user-defined\"</span>),t.addEventListener(<span class=\"code-string\">\"progress\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.total,e.loaded,gu(t,<span class=\"code-literal\">null</span>,{<span class=\"code-attr\">statusCode</span>:t.status},i)})}},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> gu(u,e,t,i)});<span class=\"code-keyword\">return</span> u}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Au</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!pu(e,t))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(e.sidx&amp;&amp;t.sidx&amp;&amp;(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!e.sidx&amp;&amp;t.sidx||e.sidx&amp;&amp;!t.sidx)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(e.segments&amp;&amp;!t.segments||!e.segments&amp;&amp;t.segments)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!e.segments&amp;&amp;!t.segments)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.segments.length;i++){<span class=\"code-keyword\">var</span> n=e.segments[i],r=t.segments[i];<span class=\"code-keyword\">if</span>(n.uri!==r.uri)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(n.byterange||r.byterange){n=n.byterange,r=r.byterange;<span class=\"code-keyword\">if</span>(n&amp;&amp;!r||!n&amp;&amp;r)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(n.offset!==r.offset||n.length!==r.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n={};<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> e){<span class=\"code-keyword\">var</span> r=e[i].sidx;<span class=\"code-keyword\">if</span>(r){<span class=\"code-keyword\">var</span> a=xs(r);<span class=\"code-keyword\">if</span>(!t[a])<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">var</span> s=t[a].sidxInfo;s=s,r=r,(<span class=\"code-built_in\">Boolean</span>(!s.map&amp;&amp;!r.map)||<span class=\"code-built_in\">Boolean</span>(s.map&amp;&amp;r.map&amp;&amp;s.map.byterange.offset===r.map.byterange.offset&amp;&amp;s.map.byterange.length===r.map.byterange.length))&amp;&amp;s.uri===r.uri&amp;&amp;s.byterange.offset===r.byterange.offset&amp;&amp;s.byterange.length===r.byterange.length&amp;&amp;(n[a]=t[a])}}<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Lu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.on=e.addEventListener,e.off=e.removeEventListener,e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Du</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n=i.transmuxer,e=i.bytes,t=i.audioAppendStart,r=i.gopsToAlignWith,a=i.remux,s=i.onData,o=i.onTrackInfo,u=i.onAudioTimingInfo,l=i.onVideoTimingInfo,c=i.onVideoSegmentTimingInfo,d=i.onAudioSegmentTimingInfo,h=i.onId3,p=i.onCaptions,f=i.onDone,m=i.onEndedTimeline,g=i.onTransmuxerLog,y=i.isEndOfTimeline,v={<span class=\"code-attr\">buffer</span>:[]},_=y;n.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;n.currentTransmux===i&amp;&amp;(<span class=\"code-string\">\"data\"</span>===e.data.action&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=e.data.segment,r=n.type,a=n.initSegment,s=n.captions,o=n.captionStreams,u=n.metadata,l=n.videoFrameDtsTime,n=n.videoFramePtsTime;t.buffer.push({<span class=\"code-attr\">captions</span>:s,<span class=\"code-attr\">captionStreams</span>:o,<span class=\"code-attr\">metadata</span>:u});e=e.data.segment.boxes||{<span class=\"code-attr\">data</span>:e.data.segment.data},a={<span class=\"code-attr\">type</span>:r,<span class=\"code-attr\">data</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.data,e.data.byteOffset,e.data.byteLength),<span class=\"code-attr\">initSegment</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(a.data,a.byteOffset,a.byteLength)};<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> l&amp;&amp;(a.videoFrameDtsTime=l),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> n&amp;&amp;(a.videoFramePtsTime=n),i(a)}(e,v,s),<span class=\"code-string\">\"trackinfo\"</span>===e.data.action&amp;&amp;o(e.data.trackInfo),<span class=\"code-string\">\"gopInfo\"</span>===e.data.action&amp;&amp;(v.gopInfo=e.data.gopInfo),<span class=\"code-string\">\"audioTimingInfo\"</span>===e.data.action&amp;&amp;u(e.data.audioTimingInfo),<span class=\"code-string\">\"videoTimingInfo\"</span>===e.data.action&amp;&amp;l(e.data.videoTimingInfo),<span class=\"code-string\">\"videoSegmentTimingInfo\"</span>===e.data.action&amp;&amp;c(e.data.videoSegmentTimingInfo),<span class=\"code-string\">\"audioSegmentTimingInfo\"</span>===e.data.action&amp;&amp;d(e.data.audioSegmentTimingInfo),<span class=\"code-string\">\"id3Frame\"</span>===e.data.action&amp;&amp;h([e.data.id3Frame],e.data.id3Frame.dispatchType),<span class=\"code-string\">\"caption\"</span>===e.data.action&amp;&amp;p(e.data.caption),<span class=\"code-string\">\"endedtimeline\"</span>===e.data.action&amp;&amp;(_=!<span class=\"code-number\">1</span>,m()),<span class=\"code-string\">\"log\"</span>===e.data.action&amp;&amp;g(e.data.log),<span class=\"code-string\">\"transmuxed\"</span>===e.data.type&amp;&amp;(_||(n.onmessage=<span class=\"code-literal\">null</span>,e=(t={<span class=\"code-attr\">transmuxedData</span>:v,<span class=\"code-attr\">callback</span>:f}).transmuxedData,t=t.callback,e.buffer=[],t(e),Cl(n))))},t&amp;&amp;n.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"setAudioAppendStart\"</span>,<span class=\"code-attr\">appendStart</span>:t}),<span class=\"code-built_in\">Array</span>.isArray(r)&amp;&amp;n.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"alignGopsWith\"</span>,<span class=\"code-attr\">gopsToAlignWith</span>:r}),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> a&amp;&amp;n.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"setRemux\"</span>,<span class=\"code-attr\">remux</span>:a}),e.byteLength&amp;&amp;(r=e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">ArrayBuffer</span>?e:e.buffer,a=e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">ArrayBuffer</span>?<span class=\"code-number\">0</span>:e.byteOffset,n.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"push\"</span>,<span class=\"code-attr\">data</span>:r,<span class=\"code-attr\">byteOffset</span>:a,<span class=\"code-attr\">byteLength</span>:e.byteLength},[r])),y&amp;&amp;n.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"endTimeline\"</span>}),n.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"flush\"</span>})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ou</span>(<span class=\"code-params\">e,t</span>)</span>{e.postMessage({<span class=\"code-attr\">action</span>:t}),Cl(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Mu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!t.currentTransmux)<span class=\"code-keyword\">return</span> t.currentTransmux=e,Ou(t,e),<span class=\"code-number\">0</span>;t.transmuxQueue.push(Ou.bind(<span class=\"code-literal\">null</span>,t,e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ru</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!e.transmuxer.currentTransmux)<span class=\"code-keyword\">return</span> e.transmuxer.currentTransmux=e,<span class=\"code-keyword\">void</span> Du(e);e.transmuxer.transmuxQueue.push(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nu</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n=i.transmuxer,r=i.endAction||i.action,a=i.callback,e=g({},i,{<span class=\"code-attr\">endAction</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">transmuxer</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">callback</span>:<span class=\"code-literal\">null</span>}),t=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{t.data.action===r&amp;&amp;(n.removeEventListener(<span class=\"code-string\">\"message\"</span>,e),t.data.data&amp;&amp;(t.data.data=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.data.data,i.byteOffset||<span class=\"code-number\">0</span>,i.byteLength||t.data.data.byteLength),i.data&amp;&amp;(i.data=t.data.data)),a(t.data))};n.addEventListener(<span class=\"code-string\">\"message\"</span>,t),i.data?(t=i.data <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">ArrayBuffer</span>,e.byteOffset=t?<span class=\"code-number\">0</span>:i.data.byteOffset,e.byteLength=i.data.byteLength,t=[t?i.data:i.data.buffer],n.postMessage(e,t)):n.postMessage(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Uu</span>(<span class=\"code-params\">e</span>)</span>{e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.abort()})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t.timedout?{<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"HLS request timed-out at URL: \"</span>+t.uri,<span class=\"code-attr\">code</span>:Pl,<span class=\"code-attr\">xhr</span>:t}:t.aborted?{<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"HLS request aborted at URL: \"</span>+t.uri,<span class=\"code-attr\">code</span>:Ll,<span class=\"code-attr\">xhr</span>:t}:e?{<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"HLS request errored at URL: \"</span>+t.uri,<span class=\"code-attr\">code</span>:Al,<span class=\"code-attr\">xhr</span>:t}:<span class=\"code-string\">\"arraybuffer\"</span>===t.responseType&amp;&amp;<span class=\"code-number\">0</span>===t.response.byteLength?{<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Empty HLS response at URL: \"</span>+t.uri,<span class=\"code-attr\">code</span>:Al,<span class=\"code-attr\">xhr</span>:t}:<span class=\"code-literal\">null</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fu</span>(<span class=\"code-params\">a,s,o</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.response,e=Bu(e,t);<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> o(e,a);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">16</span>!==i.byteLength)<span class=\"code-keyword\">return</span> o({<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Invalid HLS key at URL: \"</span>+t.uri,<span class=\"code-attr\">code</span>:Al,<span class=\"code-attr\">xhr</span>:t},a);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(i),n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>([i.getUint32(<span class=\"code-number\">0</span>),i.getUint32(<span class=\"code-number\">4</span>),i.getUint32(<span class=\"code-number\">8</span>),i.getUint32(<span class=\"code-number\">12</span>)]),r=<span class=\"code-number\">0</span>;r&lt;s.length;r++)s[r].bytes=n;<span class=\"code-keyword\">return</span> o(<span class=\"code-literal\">null</span>,a)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ju</span>(<span class=\"code-params\">i,n</span>)</span>{<span class=\"code-keyword\">var</span> e=Oo(i.map.bytes);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"mp4\"</span>!==e){<span class=\"code-keyword\">var</span> t=i.map.resolvedUri||i.map.uri;<span class=\"code-keyword\">return</span> n({<span class=\"code-attr\">internal</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Found unsupported \"</span>+(e||<span class=\"code-string\">\"unknown\"</span>)+<span class=\"code-string\">\" container for initialization segment at URL: \"</span>+t,<span class=\"code-attr\">code</span>:Al})}Nu({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"probeMp4Tracks\"</span>,<span class=\"code-attr\">data</span>:i.map.bytes,<span class=\"code-attr\">transmuxer</span>:i.transmuxer,<span class=\"code-attr\">callback</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.tracks,e=e.data;<span class=\"code-keyword\">return</span> i.map.bytes=e,t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.map.tracks=i.map.tracks||{},i.map.tracks[e.type]||<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span>(i.map.tracks[e.type]=e).id&amp;&amp;e.timescale&amp;&amp;(i.map.timescales=i.map.timescales||{},i.map.timescales[e.id]=e.timescale)}),n(<span class=\"code-literal\">null</span>)}})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=e.segment,n=e.finishProcessingFn,r=e.responseType;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e=Bu(e,t);<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> n(e,i);e=<span class=\"code-string\">\"arraybuffer\"</span>!==r&amp;&amp;t.responseText?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">ArrayBuffer</span>(e.length)),i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t[i]=e.charCodeAt(i);<span class=\"code-keyword\">return</span> t.buffer}(t.responseText.substring(i.lastReachedChar||<span class=\"code-number\">0</span>)):t.response;<span class=\"code-keyword\">return</span> i.stats={<span class=\"code-attr\">bandwidth</span>:(t=t).bandwidth,<span class=\"code-attr\">bytesReceived</span>:t.bytesReceived||<span class=\"code-number\">0</span>,<span class=\"code-attr\">roundTripTime</span>:t.roundTripTime||<span class=\"code-number\">0</span>},i.key?i.encryptedBytes=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e):i.bytes=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e),n(<span class=\"code-literal\">null</span>,i)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=e.segment,t=e.bytes,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,e=i.map&amp;&amp;i.map.tracks||{},f=<span class=\"code-built_in\">Boolean</span>(e.audio&amp;&amp;e.video),m=r.bind(<span class=\"code-literal\">null</span>,i,<span class=\"code-string\">\"audio\"</span>,<span class=\"code-string\">\"start\"</span>),g=r.bind(<span class=\"code-literal\">null</span>,i,<span class=\"code-string\">\"audio\"</span>,<span class=\"code-string\">\"end\"</span>),y=r.bind(<span class=\"code-literal\">null</span>,i,<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"start\"</span>),v=r.bind(<span class=\"code-literal\">null</span>,i,<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"end\"</span>);Nu({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"probeTs\"</span>,<span class=\"code-attr\">transmuxer</span>:i.transmuxer,<span class=\"code-attr\">data</span>:t,<span class=\"code-attr\">baseStartTime</span>:i.baseStartTime,<span class=\"code-attr\">callback</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.bytes=t=e.data;e=e.result;e&amp;&amp;(n(i,{<span class=\"code-attr\">hasAudio</span>:e.hasAudio,<span class=\"code-attr\">hasVideo</span>:e.hasVideo,<span class=\"code-attr\">isMuxed</span>:f}),n=<span class=\"code-literal\">null</span>,e.hasAudio&amp;&amp;!f&amp;&amp;m(e.audioStart),e.hasVideo&amp;&amp;y(e.videoStart),y=m=<span class=\"code-literal\">null</span>),Ru({<span class=\"code-attr\">bytes</span>:t,<span class=\"code-attr\">transmuxer</span>:i.transmuxer,<span class=\"code-attr\">audioAppendStart</span>:i.audioAppendStart,<span class=\"code-attr\">gopsToAlignWith</span>:i.gopsToAlignWith,<span class=\"code-attr\">remux</span>:f,<span class=\"code-attr\">onData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.type=<span class=\"code-string\">\"combined\"</span>===e.type?<span class=\"code-string\">\"video\"</span>:e.type,d(i,e)},<span class=\"code-attr\">onTrackInfo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n&amp;&amp;(f&amp;&amp;(e.isMuxed=!<span class=\"code-number\">0</span>),n(i,e))},<span class=\"code-attr\">onAudioTimingInfo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{m&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e.start&amp;&amp;(m(e.start),m=<span class=\"code-literal\">null</span>),g&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e.end&amp;&amp;g(e.end)},<span class=\"code-attr\">onVideoTimingInfo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{y&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e.start&amp;&amp;(y(e.start),y=<span class=\"code-literal\">null</span>),v&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e.end&amp;&amp;v(e.end)},<span class=\"code-attr\">onVideoSegmentTimingInfo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a(e)},<span class=\"code-attr\">onAudioSegmentTimingInfo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s(e)},<span class=\"code-attr\">onId3</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{o(i,e,t)},<span class=\"code-attr\">onCaptions</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{u(i,[e])},<span class=\"code-attr\">isEndOfTimeline</span>:l,<span class=\"code-attr\">onEndedTimeline</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{c()},<span class=\"code-attr\">onTransmuxerLog</span>:p,<span class=\"code-attr\">onDone</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{h&amp;&amp;(e.type=<span class=\"code-string\">\"combined\"</span>===e.type?<span class=\"code-string\">\"video\"</span>:e.type,h(<span class=\"code-literal\">null</span>,i,e))}})}})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=e.segment,n=e.bytes,t=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,f=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;io(f,[<span class=\"code-string\">\"moof\"</span>]).length){i.isFmp4=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> m=i.map.tracks,g={<span class=\"code-attr\">isFmp4</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">hasVideo</span>:!!m.video,<span class=\"code-attr\">hasAudio</span>:!!m.audio};m.audio&amp;&amp;m.audio.codec&amp;&amp;<span class=\"code-string\">\"enca\"</span>!==m.audio.codec&amp;&amp;(g.audioCodec=m.audio.codec),m.video&amp;&amp;m.video.codec&amp;&amp;<span class=\"code-string\">\"encv\"</span>!==m.video.codec&amp;&amp;(g.videoCodec=m.video.codec),m.video&amp;&amp;m.audio&amp;&amp;(g.isMuxed=!<span class=\"code-number\">0</span>),t(i,g);<span class=\"code-keyword\">var</span> y=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{d(i,{<span class=\"code-attr\">data</span>:f,<span class=\"code-attr\">type</span>:g.hasAudio&amp;&amp;!g.isMuxed?<span class=\"code-string\">\"audio\"</span>:<span class=\"code-string\">\"video\"</span>}),e&amp;&amp;e.length&amp;&amp;u(i,e),h(<span class=\"code-literal\">null</span>,i,{})};Nu({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"probeMp4StartTime\"</span>,<span class=\"code-attr\">timescales</span>:i.map.timescales,<span class=\"code-attr\">data</span>:f,<span class=\"code-attr\">transmuxer</span>:i.transmuxer,<span class=\"code-attr\">callback</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.data,e=e.startTime;n=t.buffer,i.bytes=f=t,g.hasAudio&amp;&amp;!g.isMuxed&amp;&amp;r(i,<span class=\"code-string\">\"audio\"</span>,<span class=\"code-string\">\"start\"</span>,e),g.hasVideo&amp;&amp;r(i,<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"start\"</span>,e),m.video&amp;&amp;t.byteLength&amp;&amp;i.transmuxer?Nu({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"pushMp4Captions\"</span>,<span class=\"code-attr\">endAction</span>:<span class=\"code-string\">\"mp4Captions\"</span>,<span class=\"code-attr\">transmuxer</span>:i.transmuxer,<span class=\"code-attr\">data</span>:f,<span class=\"code-attr\">timescales</span>:i.map.timescales,<span class=\"code-attr\">trackIds</span>:[m.video.id],<span class=\"code-attr\">callback</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n=e.data.buffer,i.bytes=f=e.data,e.logs.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{p(tr.mergeOptions(e,{<span class=\"code-attr\">stream</span>:<span class=\"code-string\">\"mp4CaptionParser\"</span>}))}),y(e.captions)}}):y()}})}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(i.transmuxer){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> i.container&amp;&amp;(i.container=Oo(f)),<span class=\"code-string\">\"ts\"</span>!==i.container&amp;&amp;<span class=\"code-string\">\"aac\"</span>!==i.container)<span class=\"code-keyword\">return</span> t(i,{<span class=\"code-attr\">hasAudio</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">hasVideo</span>:!<span class=\"code-number\">1</span>}),h(<span class=\"code-literal\">null</span>,i,{}),<span class=\"code-number\">0</span>;qu({<span class=\"code-attr\">segment</span>:i,<span class=\"code-attr\">bytes</span>:n,<span class=\"code-attr\">trackInfoFn</span>:t,<span class=\"code-attr\">timingInfoFn</span>:r,<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:a,<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:s,<span class=\"code-attr\">id3Fn</span>:o,<span class=\"code-attr\">captionsFn</span>:u,<span class=\"code-attr\">isEndOfTimeline</span>:l,<span class=\"code-attr\">endedTimelineFn</span>:c,<span class=\"code-attr\">dataFn</span>:d,<span class=\"code-attr\">doneFn</span>:h,<span class=\"code-attr\">onTransmuxerLog</span>:p})}<span class=\"code-keyword\">else</span> h(<span class=\"code-literal\">null</span>,i,{})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wu</span>(<span class=\"code-params\">e,i</span>)</span>{<span class=\"code-keyword\">var</span> n=e.id,t=e.key,r=e.encryptedBytes,a=e.decryptionWorker,e=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{t.data.source===n&amp;&amp;(a.removeEventListener(<span class=\"code-string\">\"message\"</span>,e),t=t.data.decrypted,i(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.bytes,t.byteOffset,t.byteLength)))};a.addEventListener(<span class=\"code-string\">\"message\"</span>,e),e=t.bytes.slice?t.bytes.slice():<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(<span class=\"code-built_in\">Array</span>.prototype.slice.call(t.bytes)),a.postMessage(Tu({<span class=\"code-attr\">source</span>:n,<span class=\"code-attr\">encrypted</span>:r,<span class=\"code-attr\">key</span>:e,<span class=\"code-attr\">iv</span>:t.iv}),[r.buffer,e.buffer])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=e.activeXhrs,m=e.decryptionWorker,g=e.trackInfoFn,y=e.timingInfoFn,v=e.videoSegmentTimingInfoFn,_=e.audioSegmentTimingInfoFn,b=e.id3Fn,T=e.captionsFn,S=e.isEndOfTimeline,w=e.endedTimelineFn,E=e.dataFn,k=e.doneFn,C=e.onTransmuxerLog,n=<span class=\"code-number\">0</span>,r=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,f</span>)</span>{<span class=\"code-keyword\">if</span>(!r){<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> r=!<span class=\"code-number\">0</span>,Uu(i),k(e,f);<span class=\"code-keyword\">if</span>((n+=<span class=\"code-number\">1</span>)===i.length){<span class=\"code-keyword\">var</span> t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(f.encryptedBytes)<span class=\"code-keyword\">return</span> t=(e={<span class=\"code-attr\">decryptionWorker</span>:m,<span class=\"code-attr\">segment</span>:f,<span class=\"code-attr\">trackInfoFn</span>:g,<span class=\"code-attr\">timingInfoFn</span>:y,<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:v,<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:_,<span class=\"code-attr\">id3Fn</span>:b,<span class=\"code-attr\">captionsFn</span>:T,<span class=\"code-attr\">isEndOfTimeline</span>:S,<span class=\"code-attr\">endedTimelineFn</span>:w,<span class=\"code-attr\">dataFn</span>:E,<span class=\"code-attr\">doneFn</span>:k,<span class=\"code-attr\">onTransmuxerLog</span>:C}).decryptionWorker,i=e.segment,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,<span class=\"code-keyword\">void</span> Wu({<span class=\"code-attr\">id</span>:i.requestId,<span class=\"code-attr\">key</span>:i.key,<span class=\"code-attr\">encryptedBytes</span>:i.encryptedBytes,<span class=\"code-attr\">decryptionWorker</span>:t},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.bytes=e,Vu({<span class=\"code-attr\">segment</span>:i,<span class=\"code-attr\">bytes</span>:i.bytes,<span class=\"code-attr\">trackInfoFn</span>:n,<span class=\"code-attr\">timingInfoFn</span>:r,<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:a,<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:s,<span class=\"code-attr\">id3Fn</span>:o,<span class=\"code-attr\">captionsFn</span>:u,<span class=\"code-attr\">isEndOfTimeline</span>:l,<span class=\"code-attr\">endedTimelineFn</span>:c,<span class=\"code-attr\">dataFn</span>:d,<span class=\"code-attr\">doneFn</span>:h,<span class=\"code-attr\">onTransmuxerLog</span>:p})});<span class=\"code-keyword\">var</span> e,t,i,n,r,a,s,o,u,l,c,d,h,p;Vu({<span class=\"code-attr\">segment</span>:f,<span class=\"code-attr\">bytes</span>:f.bytes,<span class=\"code-attr\">trackInfoFn</span>:g,<span class=\"code-attr\">timingInfoFn</span>:y,<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:v,<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:_,<span class=\"code-attr\">id3Fn</span>:b,<span class=\"code-attr\">captionsFn</span>:T,<span class=\"code-attr\">isEndOfTimeline</span>:S,<span class=\"code-attr\">endedTimelineFn</span>:w,<span class=\"code-attr\">dataFn</span>:E,<span class=\"code-attr\">doneFn</span>:k,<span class=\"code-attr\">onTransmuxerLog</span>:C})};<span class=\"code-keyword\">if</span>(f.endOfAllRequests=<span class=\"code-built_in\">Date</span>.now(),f.map&amp;&amp;f.map.encryptedBytes&amp;&amp;!f.map.bytes)<span class=\"code-keyword\">return</span> Wu({<span class=\"code-attr\">decryptionWorker</span>:m,<span class=\"code-attr\">id</span>:f.requestId+<span class=\"code-string\">\"-init\"</span>,<span class=\"code-attr\">encryptedBytes</span>:f.map.encryptedBytes,<span class=\"code-attr\">key</span>:f.map.key},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{f.map.bytes=e,ju(f,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e?(Uu(i),k(e,f)):<span class=\"code-keyword\">void</span> t()})});t()}}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=e.segment,r=e.progressFn;<span class=\"code-keyword\">return</span> e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=e.target;<span class=\"code-keyword\">if</span>(!i.aborted)<span class=\"code-keyword\">return</span> n.stats=tr.mergeOptions(n.stats,(i=(t=e).target,(i={<span class=\"code-attr\">bandwidth</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-attr\">bytesReceived</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">roundTripTime</span>:<span class=\"code-built_in\">Date</span>.now()-i.requestTime||<span class=\"code-number\">0</span>}).bytesReceived=t.loaded,i.bandwidth=<span class=\"code-built_in\">Math</span>.floor(i.bytesReceived/i.roundTripTime*<span class=\"code-number\">8</span>*<span class=\"code-number\">1e3</span>),i)),!n.stats.firstBytesReceivedAt&amp;&amp;n.stats.bytesReceived&amp;&amp;(n.stats.firstBytesReceivedAt=<span class=\"code-built_in\">Date</span>.now()),r(e,n)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r=e.xhr,a=e.xhrOptions,s=e.decryptionWorker,o=e.segment,u=e.abortFn,l=e.progressFn,c=e.trackInfoFn,d=e.timingInfoFn,h=e.videoSegmentTimingInfoFn,p=e.audioSegmentTimingInfoFn,f=e.id3Fn,m=e.captionsFn,g=e.isEndOfTimeline,y=e.endedTimelineFn,v=e.dataFn,_=e.doneFn,e=e.onTransmuxerLog,b=[],_=Gu({<span class=\"code-attr\">activeXhrs</span>:b,<span class=\"code-attr\">decryptionWorker</span>:s,<span class=\"code-attr\">trackInfoFn</span>:c,<span class=\"code-attr\">timingInfoFn</span>:d,<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:h,<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:p,<span class=\"code-attr\">id3Fn</span>:f,<span class=\"code-attr\">captionsFn</span>:m,<span class=\"code-attr\">isEndOfTimeline</span>:g,<span class=\"code-attr\">endedTimelineFn</span>:y,<span class=\"code-attr\">dataFn</span>:v,<span class=\"code-attr\">doneFn</span>:_,<span class=\"code-attr\">onTransmuxerLog</span>:e});o.key&amp;&amp;!o.key.bytes&amp;&amp;(e=[o.key],o.map&amp;&amp;!o.map.bytes&amp;&amp;o.map.key&amp;&amp;o.map.key.resolvedUri===o.key.resolvedUri&amp;&amp;e.push(o.map.key),e=r(tr.mergeOptions(a,{<span class=\"code-attr\">uri</span>:o.key.resolvedUri,<span class=\"code-attr\">responseType</span>:<span class=\"code-string\">\"arraybuffer\"</span>}),Fu(o,e,_)),b.push(e)),o.map&amp;&amp;!o.map.bytes&amp;&amp;(!o.map.key||o.key&amp;&amp;o.key.resolvedUri===o.map.key.resolvedUri||(t=r(tr.mergeOptions(a,{<span class=\"code-attr\">uri</span>:o.map.key.resolvedUri,<span class=\"code-attr\">responseType</span>:<span class=\"code-string\">\"arraybuffer\"</span>}),Fu(o,[o.map.key],_)),b.push(t)),t=r(tr.mergeOptions(a,{<span class=\"code-attr\">uri</span>:o.map.resolvedUri,<span class=\"code-attr\">responseType</span>:<span class=\"code-string\">\"arraybuffer\"</span>,<span class=\"code-attr\">headers</span>:vu(o.map)}),(i=(t={<span class=\"code-attr\">segment</span>:o,<span class=\"code-attr\">finishProcessingFn</span>:_}).segment,n=t.finishProcessingFn,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e=Bu(e,t);<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> n(e,i);e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.response);<span class=\"code-keyword\">if</span>(i.map.key)<span class=\"code-keyword\">return</span> i.map.encryptedBytes=e,n(<span class=\"code-literal\">null</span>,i);i.map.bytes=e,ju(i,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e?(e.xhr=t,e.status=t.status,n(e,i)):<span class=\"code-keyword\">void</span> n(<span class=\"code-literal\">null</span>,i)})})),b.push(t)),a=tr.mergeOptions(a,{<span class=\"code-attr\">uri</span>:o.part&amp;&amp;o.part.resolvedUri||o.resolvedUri,<span class=\"code-attr\">responseType</span>:<span class=\"code-string\">\"arraybuffer\"</span>,<span class=\"code-attr\">headers</span>:vu(o)}),(a=r(a,Hu({<span class=\"code-attr\">segment</span>:o,<span class=\"code-attr\">finishProcessingFn</span>:_,<span class=\"code-attr\">responseType</span>:a.responseType}))).addEventListener(<span class=\"code-string\">\"progress\"</span>,zu({<span class=\"code-attr\">segment</span>:o,<span class=\"code-attr\">progressFn</span>:l,<span class=\"code-attr\">trackInfoFn</span>:c,<span class=\"code-attr\">timingInfoFn</span>:d,<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:h,<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:p,<span class=\"code-attr\">id3Fn</span>:f,<span class=\"code-attr\">captionsFn</span>:m,<span class=\"code-attr\">isEndOfTimeline</span>:g,<span class=\"code-attr\">endedTimelineFn</span>:y,<span class=\"code-attr\">dataFn</span>:v})),b.push(a);<span class=\"code-keyword\">var</span> T={};<span class=\"code-keyword\">return</span> b.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i;e.addEventListener(<span class=\"code-string\">\"loadend\"</span>,(t=(e={<span class=\"code-attr\">loadendState</span>:T,<span class=\"code-attr\">abortFn</span>:u}).loadendState,i=e.abortFn,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.target.aborted&amp;&amp;i&amp;&amp;!t.calledAbortFn&amp;&amp;(i(),t.calledAbortFn=!<span class=\"code-number\">0</span>)}))}),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Uu(b)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ku</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> t=t.attributes||{},e&amp;&amp;e.mediaGroups&amp;&amp;e.mediaGroups.AUDIO&amp;&amp;t.AUDIO&amp;&amp;e.mediaGroups.AUDIO[t.AUDIO]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n={};<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.mediaType,i=e.type,e=e.details;n[t]=n[t]||[],n[t].push(hr(<span class=\"code-string\">\"\"</span>+i+e))}),<span class=\"code-built_in\">Object</span>.keys(n).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>&lt;n[e].length?(Dl(<span class=\"code-string\">\"multiple \"</span>+e+<span class=\"code-string\">\" codecs found as attributes: \"</span>+n[e].join(<span class=\"code-string\">\", \"</span>)+<span class=\"code-string\">\". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.\"</span>),<span class=\"code-keyword\">void</span>(n[e]=<span class=\"code-literal\">null</span>)):<span class=\"code-keyword\">void</span>(n[e]=n[e][<span class=\"code-number\">0</span>])}),n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Qu</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> e.audio&amp;&amp;t++,e.video&amp;&amp;t++,t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">$u</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=t.attributes||{},r=Yu(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.attributes||{};<span class=\"code-keyword\">if</span>(e.CODECS)<span class=\"code-keyword\">return</span> pr(e.CODECS)}(t)||[]);<span class=\"code-keyword\">return</span> Ku(e,t)&amp;&amp;!r.audio&amp;&amp;!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!Ku(e,t))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i,t=t.attributes||{},n=e.mediaGroups.AUDIO[t.AUDIO];<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> n)<span class=\"code-keyword\">if</span>(!n[i].uri&amp;&amp;!n[i].playlists)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}(e,t)&amp;&amp;(i=Yu(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!e.mediaGroups.AUDIO||!t)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i,n=e.mediaGroups.AUDIO[t];<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> n){<span class=\"code-keyword\">var</span> r=n[i];<span class=\"code-keyword\">if</span>(r.default&amp;&amp;r.playlists)<span class=\"code-keyword\">return</span> pr(r.playlists[<span class=\"code-number\">0</span>].attributes.CODECS)}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(e,n.AUDIO)||[])).audio&amp;&amp;(r.audio=i.audio),r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ju</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e&amp;&amp;e.playlist){<span class=\"code-keyword\">var</span> t=e.playlist;<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">JSON</span>.stringify({<span class=\"code-attr\">id</span>:t.id,<span class=\"code-attr\">bandwidth</span>:e.bandwidth,<span class=\"code-attr\">width</span>:e.width,<span class=\"code-attr\">height</span>:e.height,<span class=\"code-attr\">codecs</span>:t.attributes&amp;&amp;t.attributes.CODECS||<span class=\"code-string\">\"\"</span>})}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Zu</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(e=e&amp;&amp;<span class=\"code-built_in\">window</span>.getComputedStyle(e))?e[t]:<span class=\"code-string\">\"\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">el</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">var</span> r=e.slice();e.sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n(e,t);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===i?r.indexOf(e)-r.indexOf(t):i})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">tl</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n;<span class=\"code-keyword\">return</span>(i=(i=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:i)||<span class=\"code-built_in\">window</span>.Number.MAX_VALUE)-(n=(n=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:n)||<span class=\"code-built_in\">window</span>.Number.MAX_VALUE)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">il</span>(<span class=\"code-params\">e,t,i,n,r,a</span>)</span>{<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> s={<span class=\"code-attr\">bandwidth</span>:t,<span class=\"code-attr\">width</span>:i,<span class=\"code-attr\">height</span>:n,<span class=\"code-attr\">limitRenditionByPlayerDimensions</span>:r},o=e.playlists;gl.isAudioOnly(e)&amp;&amp;(o=a.getAudioTrackPlaylists_(),s.audioOnly=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> u=o.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.attributes&amp;&amp;e.attributes.RESOLUTION&amp;&amp;e.attributes.RESOLUTION.width,i=e.attributes&amp;&amp;e.attributes.RESOLUTION&amp;&amp;e.attributes.RESOLUTION.height,n=e.attributes&amp;&amp;e.attributes.BANDWIDTH;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">bandwidth</span>:n||<span class=\"code-built_in\">window</span>.Number.MAX_VALUE,<span class=\"code-attr\">width</span>:t,<span class=\"code-attr\">height</span>:i,<span class=\"code-attr\">playlist</span>:e}});el(u,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.bandwidth-t.bandwidth});<span class=\"code-keyword\">var</span> l=(u=u.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!gl.isIncompatible(e.playlist)})).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> gl.isEnabled(e.playlist)}),e=(l=!l.length?u.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!gl.isDisabled(e.playlist)}):l).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.bandwidth*El.BANDWIDTH_VARIANCE&lt;t}),c=e[e.length<span class=\"code-number\">-1</span>],o=e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.bandwidth===c.bandwidth})[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(!<span class=\"code-number\">1</span>===r){<span class=\"code-keyword\">var</span> d=o||l[<span class=\"code-number\">0</span>]||u[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(d&amp;&amp;d.playlist){r=o?<span class=\"code-string\">\"bandwidthBestRep\"</span>:<span class=\"code-string\">\"sortedPlaylistReps\"</span>;<span class=\"code-keyword\">return</span> l[<span class=\"code-number\">0</span>]&amp;&amp;(r=<span class=\"code-string\">\"enabledPlaylistReps\"</span>),Ol(<span class=\"code-string\">\"choosing \"</span>+Ju(d)+<span class=\"code-string\">\" using \"</span>+r+<span class=\"code-string\">\" with options\"</span>,s),d.playlist}<span class=\"code-keyword\">return</span> Ol(<span class=\"code-string\">\"could not choose a playlist with options\"</span>,s),<span class=\"code-literal\">null</span>}d=e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.width&amp;&amp;e.height});el(d,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.width-t.width});<span class=\"code-keyword\">var</span> h,p,f,e=d.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.width===i&amp;&amp;e.height===n}),c=e[e.length<span class=\"code-number\">-1</span>],e=e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.bandwidth===c.bandwidth})[<span class=\"code-number\">0</span>];e||(p=(h=d.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.width&gt;i||e.height&gt;n})).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.width===h[<span class=\"code-number\">0</span>].width&amp;&amp;e.height===h[<span class=\"code-number\">0</span>].height}),c=p[p.length<span class=\"code-number\">-1</span>],p=p.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.bandwidth===c.bandwidth})[<span class=\"code-number\">0</span>]),a.experimentalLeastPixelDiffSelector&amp;&amp;(m=d.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.pixelDiff=<span class=\"code-built_in\">Math</span>.abs(e.width-i)+<span class=\"code-built_in\">Math</span>.abs(e.height-n),e}),el(m,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff}),f=m[<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">var</span> m=f||p||e||o||l[<span class=\"code-number\">0</span>]||u[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">if</span>(m&amp;&amp;m.playlist){u=<span class=\"code-string\">\"sortedPlaylistReps\"</span>;<span class=\"code-keyword\">return</span> f?u=<span class=\"code-string\">\"leastPixelDiffRep\"</span>:p?u=<span class=\"code-string\">\"resolutionPlusOneRep\"</span>:e?u=<span class=\"code-string\">\"resolutionBestRep\"</span>:o?u=<span class=\"code-string\">\"bandwidthBestRep\"</span>:l[<span class=\"code-number\">0</span>]&amp;&amp;(u=<span class=\"code-string\">\"enabledPlaylistReps\"</span>),Ol(<span class=\"code-string\">\"choosing \"</span>+Ju(m)+<span class=\"code-string\">\" using \"</span>+u+<span class=\"code-string\">\" with options\"</span>,s),m.playlist}<span class=\"code-keyword\">return</span> Ol(<span class=\"code-string\">\"could not choose a playlist with options\"</span>,s),<span class=\"code-literal\">null</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">nl</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,n=e.videoDuration;<span class=\"code-keyword\">if</span>(i){<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">window</span>.WebKitDataCue||<span class=\"code-built_in\">window</span>.VTTCue,s=t.metadataTrack_;<span class=\"code-keyword\">if</span>(s&amp;&amp;(i.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=e.cueTime+r;!(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> n||<span class=\"code-built_in\">window</span>.isNaN(n)||n&lt;<span class=\"code-number\">0</span>)&amp;&amp;n&lt;<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;e.frames.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-keyword\">new</span> a(n,n,e.value||e.url||e.data||<span class=\"code-string\">\"\"</span>);i.frame=e,i.value=e,t=i,<span class=\"code-built_in\">Object</span>.defineProperties(t.frame,{<span class=\"code-attr\">id</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"cue.frame.id is deprecated. Use cue.value.key instead.\"</span>),t.value.key}},<span class=\"code-attr\">value</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"cue.frame.value is deprecated. Use cue.value.data instead.\"</span>),t.value.data}},<span class=\"code-attr\">privateData</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"cue.frame.privateData is deprecated. Use cue.value.data instead.\"</span>),t.value.data}}}),s.addCue(i)})}),s.cues&amp;&amp;s.cues.length)){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=s.cues,u=[],l=<span class=\"code-number\">0</span>;l&lt;o.length;l++)o[l]&amp;&amp;u.push(o[l]);<span class=\"code-keyword\">var</span> c=u.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e[t.startTime]||[];<span class=\"code-keyword\">return</span> i.push(t),e[t.startTime]=i,e},{}),d=<span class=\"code-built_in\">Object</span>.keys(c).sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Number</span>(e)-<span class=\"code-built_in\">Number</span>(t)});d.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> e=c[e],i=<span class=\"code-built_in\">Number</span>(d[t+<span class=\"code-number\">1</span>])||n;e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.endTime=i})})}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">rl</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r;<span class=\"code-keyword\">if</span>(i&amp;&amp;i.cues)<span class=\"code-keyword\">for</span>(n=i.cues.length;n--;)(r=i.cues[n]).startTime&gt;=e&amp;&amp;r.endTime&lt;=t&amp;&amp;i.removeCue(r)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">al</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-built_in\">isFinite</span>(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">sl</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.startOfSegment,i=e.duration,n=e.segment,r=e.part,a=e.playlist,s=a.mediaSequence,o=a.id,u=a.segments,l=e.mediaIndex,c=e.partIndex,d=e.timeline,h=(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===u?[]:u).length<span class=\"code-number\">-1</span>,p=<span class=\"code-string\">\"mediaIndex/partIndex increment\"</span>;<span class=\"code-keyword\">return</span> e.getMediaInfoForTime?p=<span class=\"code-string\">\"getMediaInfoForTime (\"</span>+e.getMediaInfoForTime+<span class=\"code-string\">\")\"</span>:e.isSyncRequest&amp;&amp;(p=<span class=\"code-string\">\"getSyncSegmentCandidate (isSyncRequest)\"</span>),e.independent&amp;&amp;(p+=<span class=\"code-string\">\" with independent \"</span>+e.independent),a=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> c,u=e.segment.uri?<span class=\"code-string\">\"segment\"</span>:<span class=\"code-string\">\"pre-segment\"</span>,e=a?zo({<span class=\"code-attr\">preloadSegment</span>:n})<span class=\"code-number\">-1</span>:<span class=\"code-number\">0</span>,u+<span class=\"code-string\">\" [\"</span>+(s+l)+<span class=\"code-string\">\"/\"</span>+(s+h)+<span class=\"code-string\">\"]\"</span>+(a?<span class=\"code-string\">\" part [\"</span>+c+<span class=\"code-string\">\"/\"</span>+e+<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\" segment start/end [\"</span>+n.start+<span class=\"code-string\">\" =&gt; \"</span>+n.end+<span class=\"code-string\">\"]\"</span>+(a?<span class=\"code-string\">\" part start/end [\"</span>+r.start+<span class=\"code-string\">\" =&gt; \"</span>+r.end+<span class=\"code-string\">\"]\"</span>:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\" startOfSegment [\"</span>+t+<span class=\"code-string\">\"] duration [\"</span>+i+<span class=\"code-string\">\"] timeline [\"</span>+d+<span class=\"code-string\">\"] selected by [\"</span>+p+<span class=\"code-string\">\"] playlist [\"</span>+o+<span class=\"code-string\">\"]\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ol</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e+<span class=\"code-string\">\"TimingInfo\"</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ul</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.timelineChangeController,i=e.currentTimeline,n=e.segmentTimeline,r=e.loaderType,e=e.audioDisabled;<span class=\"code-keyword\">if</span>(i!==n){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"audio\"</span>===r){i=t.lastTimelineChange({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"main\"</span>});<span class=\"code-keyword\">return</span>!i||i.to!==n}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"main\"</span>===r&amp;&amp;e){t=t.pendingTimelineChange({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>});<span class=\"code-keyword\">return</span> t&amp;&amp;t.to===n?!<span class=\"code-number\">1</span>:!<span class=\"code-number\">0</span>}}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ll</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.segmentDuration,e=e.maxDuration;<span class=\"code-keyword\">return</span>!!t&amp;&amp;<span class=\"code-built_in\">Math</span>.round(t)&gt;e+fl}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">cl</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"hls\"</span>!==t)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> n,r,i=(n={<span class=\"code-attr\">audioTimingInfo</span>:e.audioTimingInfo,<span class=\"code-attr\">videoTimingInfo</span>:e.videoTimingInfo},r=<span class=\"code-number\">0</span>,[<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"audio\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=n[e+<span class=\"code-string\">\"TimingInfo\"</span>];i&amp;&amp;(e=i.start,i=i.end,<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> e||<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> i?t=<span class=\"code-built_in\">window</span>.BigInt(i)-<span class=\"code-built_in\">window</span>.BigInt(e):<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i&amp;&amp;(t=i-e),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> t&amp;&amp;r&lt;t&amp;&amp;(r=t))}),r=<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> r&amp;&amp;r&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER?<span class=\"code-built_in\">Number</span>(r):r);<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> a=e.playlist.targetDuration,s=ll({<span class=\"code-attr\">segmentDuration</span>:i,<span class=\"code-attr\">maxDuration</span>:<span class=\"code-number\">2</span>*a}),t=ll({<span class=\"code-attr\">segmentDuration</span>:i,<span class=\"code-attr\">maxDuration</span>:a}),a=<span class=\"code-string\">\"Segment with index \"</span>+e.mediaIndex+<span class=\"code-string\">\" from playlist \"</span>+e.playlist.id+<span class=\"code-string\">\" has a duration of \"</span>+i+<span class=\"code-string\">\" when the reported duration is \"</span>+e.duration+<span class=\"code-string\">\" and the target duration is \"</span>+a+<span class=\"code-string\">\". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1\"</span>;<span class=\"code-keyword\">return</span> s||t?{<span class=\"code-attr\">severity</span>:s?<span class=\"code-string\">\"warn\"</span>:<span class=\"code-string\">\"info\"</span>,<span class=\"code-attr\">message</span>:a}:<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">var</span> dl=Lo,hl=<span class=\"code-number\">9e4</span>,pl=ir,fl=<span class=\"code-number\">1</span>/<span class=\"code-number\">30</span>,ml=tr.createTimeRange,gl={<span class=\"code-attr\">liveEdgeDelay</span>:Xo,<span class=\"code-attr\">duration</span>:Yo,<span class=\"code-attr\">seekable</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=t||<span class=\"code-number\">0</span>,i=$o(e,t,!<span class=\"code-number\">0</span>,i);<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===i?ml():ml(n,i)},<span class=\"code-attr\">getMediaInfoForTime</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.playlist,i=e.currentTime,n=e.startingSegmentIndex,r=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,o=i-a,u=Wo(t),l=<span class=\"code-number\">0</span>,c=<span class=\"code-number\">0</span>;c&lt;u.length;c++){<span class=\"code-keyword\">var</span> d=u[c];<span class=\"code-keyword\">if</span>(n===d.segmentIndex&amp;&amp;(<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> r||<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> d.partIndex||r===d.partIndex)){l=c;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">if</span>(o&lt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;l)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> h=l<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=h;h--){<span class=\"code-keyword\">var</span> p=u[h];<span class=\"code-keyword\">if</span>(o+=p.duration,s){<span class=\"code-keyword\">if</span>(o&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(o+fl&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">partIndex</span>:p.partIndex,<span class=\"code-attr\">segmentIndex</span>:p.segmentIndex,<span class=\"code-attr\">startTime</span>:a-Qo({<span class=\"code-attr\">defaultDuration</span>:t.targetDuration,<span class=\"code-attr\">durationList</span>:u,<span class=\"code-attr\">startIndex</span>:l,<span class=\"code-attr\">endIndex</span>:h})}}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">partIndex</span>:u[<span class=\"code-number\">0</span>]&amp;&amp;u[<span class=\"code-number\">0</span>].partIndex||<span class=\"code-literal\">null</span>,<span class=\"code-attr\">segmentIndex</span>:u[<span class=\"code-number\">0</span>]&amp;&amp;u[<span class=\"code-number\">0</span>].segmentIndex||<span class=\"code-number\">0</span>,<span class=\"code-attr\">startTime</span>:i}}<span class=\"code-keyword\">if</span>(l&lt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> f=l;f&lt;<span class=\"code-number\">0</span>;f++)<span class=\"code-keyword\">if</span>((o-=t.targetDuration)&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">partIndex</span>:u[<span class=\"code-number\">0</span>]&amp;&amp;u[<span class=\"code-number\">0</span>].partIndex||<span class=\"code-literal\">null</span>,<span class=\"code-attr\">segmentIndex</span>:u[<span class=\"code-number\">0</span>]&amp;&amp;u[<span class=\"code-number\">0</span>].segmentIndex||<span class=\"code-number\">0</span>,<span class=\"code-attr\">startTime</span>:i};l=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m=l;m&lt;u.length;m++){<span class=\"code-keyword\">var</span> g=u[m];<span class=\"code-keyword\">if</span>(o-=g.duration,s){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;o)<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;=o-fl)<span class=\"code-keyword\">continue</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">partIndex</span>:g.partIndex,<span class=\"code-attr\">segmentIndex</span>:g.segmentIndex,<span class=\"code-attr\">startTime</span>:a+Qo({<span class=\"code-attr\">defaultDuration</span>:t.targetDuration,<span class=\"code-attr\">durationList</span>:u,<span class=\"code-attr\">startIndex</span>:l,<span class=\"code-attr\">endIndex</span>:m})}}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">segmentIndex</span>:u[u.length<span class=\"code-number\">-1</span>].segmentIndex,<span class=\"code-attr\">partIndex</span>:u[u.length<span class=\"code-number\">-1</span>].partIndex,<span class=\"code-attr\">startTime</span>:i}},<span class=\"code-attr\">isEnabled</span>:eu,<span class=\"code-attr\">isDisabled</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.disabled},<span class=\"code-attr\">isBlacklisted</span>:Jo,<span class=\"code-attr\">isIncompatible</span>:Zo,<span class=\"code-attr\">playlistEnd</span>:$o,<span class=\"code-attr\">isAes</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;e.segments.length;t++)<span class=\"code-keyword\">if</span>(e.segments[t].key)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>},<span class=\"code-attr\">hasAttribute</span>:tu,<span class=\"code-attr\">estimateSegmentRequestTime</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">return</span> tu(<span class=\"code-string\">\"BANDWIDTH\"</span>,i)?(e*i.attributes.BANDWIDTH<span class=\"code-number\">-8</span>*(n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n?<span class=\"code-number\">0</span>:n))/t:<span class=\"code-literal\">NaN</span>},<span class=\"code-attr\">isLowestEnabledRendition</span>:iu,<span class=\"code-attr\">isAudioOnly</span>:au,<span class=\"code-attr\">playlistMatch</span>:nu,<span class=\"code-attr\">segmentDurationWithParts</span>:Vo},yl=tr.log,vl=tr.mergeOptions,W=tr.EventTarget,_l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={}),n=a.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>,!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"A non-empty playlist URL or object is required\"</span>);n.logger_=Ro(<span class=\"code-string\">\"PlaylistLoader\"</span>);<span class=\"code-keyword\">var</span> r=i.withCredentials,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;r,i=i.handleManifestRedirects,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;i;n.src=e,n.vhs_=t,n.withCredentials=r,n.handleManifestRedirects=i;t=t.options_;<span class=\"code-keyword\">return</span> n.customTagParsers=t&amp;&amp;t.customTagParsers||[],n.customTagMappers=t&amp;&amp;t.customTagMappers||[],n.experimentalLLHLS=t&amp;&amp;t.experimentalLLHLS||!<span class=\"code-number\">1</span>,tr.browser.IE_VERSION&amp;&amp;(n.experimentalLLHLS=!<span class=\"code-number\">1</span>),n.state=<span class=\"code-string\">\"HAVE_NOTHING\"</span>,n.handleMediaupdatetimeout_=n.handleMediaupdatetimeout_.bind(ft(n)),n.on(<span class=\"code-string\">\"mediaupdatetimeout\"</span>,n.handleMediaupdatetimeout_),n}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.handleMediaupdatetimeout_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,i=<span class=\"code-keyword\">this</span>;<span class=\"code-string\">\"HAVE_METADATA\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;(e=<span class=\"code-keyword\">this</span>.media(),t=pl(<span class=\"code-keyword\">this</span>.master.uri,e.uri),<span class=\"code-keyword\">this</span>.experimentalLLHLS&amp;&amp;(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(t.endList||!t.serverControl)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> i,n,r,a,s={};<span class=\"code-keyword\">return</span> t.serverControl.canBlockReload&amp;&amp;(r=t.preloadSegment,i=t.mediaSequence+t.segments.length,r&amp;&amp;(n=r.parts||[],<span class=\"code-number\">-1</span>&lt;(r=zo(t)<span class=\"code-number\">-1</span>)&amp;&amp;r!=n.length<span class=\"code-number\">-1</span>&amp;&amp;(s._HLS_part=r),(<span class=\"code-number\">-1</span>&lt;r||n.length)&amp;&amp;i--),s._HLS_msn=i),t.serverControl&amp;&amp;t.serverControl.canSkipUntil&amp;&amp;(s._HLS_skip=t.serverControl.canSkipDateranges?<span class=\"code-string\">\"v2\"</span>:<span class=\"code-string\">\"YES\"</span>),<span class=\"code-built_in\">Object</span>.keys(s).length&amp;&amp;(a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.URL(e),[<span class=\"code-string\">\"_HLS_skip\"</span>,<span class=\"code-string\">\"_HLS_msn\"</span>,<span class=\"code-string\">\"_HLS_part\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s.hasOwnProperty(e)&amp;&amp;a.searchParams.set(e,s[e])}),e=a.toString()),e}(t,e)),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_CURRENT_METADATA\"</span>,<span class=\"code-keyword\">this</span>.request=<span class=\"code-keyword\">this</span>.vhs_.xhr({<span class=\"code-attr\">uri</span>:t,<span class=\"code-attr\">withCredentials</span>:<span class=\"code-keyword\">this</span>.withCredentials},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(i.request)<span class=\"code-keyword\">return</span> e?i.playlistRequestError(i.request,i.media(),<span class=\"code-string\">\"HAVE_METADATA\"</span>):<span class=\"code-keyword\">void</span> i.haveMetadata({<span class=\"code-attr\">playlistString</span>:i.request.responseText,<span class=\"code-attr\">url</span>:i.media().uri,<span class=\"code-attr\">id</span>:i.media().id})}))},t.playlistRequestError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=t.uri,t=t.id;<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>,i&amp;&amp;(<span class=\"code-keyword\">this</span>.state=i),<span class=\"code-keyword\">this</span>.error={<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.master.playlists[t],<span class=\"code-attr\">status</span>:e.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"HLS playlist request error at URL: \"</span>+n+<span class=\"code-string\">\".\"</span>,<span class=\"code-attr\">responseText</span>:e.responseText,<span class=\"code-attr\">code</span>:<span class=\"code-number\">500</span>&lt;=e.status?<span class=\"code-number\">4</span>:<span class=\"code-number\">2</span>},<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>)},t.parseManifest_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,i=e.url;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.onwarn,i=e.oninfo,n=e.manifestString,r=e.customTagParsers,a=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r?[]:r,r=e.customTagMappers,r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===r?[]:r,e=e.experimentalLLHLS,s=<span class=\"code-keyword\">new</span> Ir;t&amp;&amp;s.on(<span class=\"code-string\">\"warn\"</span>,t),i&amp;&amp;s.on(<span class=\"code-string\">\"info\"</span>,i),a.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> s.addParser(e)}),r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> s.addTagMapper(e)}),s.push(n),s.end();<span class=\"code-keyword\">var</span> o=s.manifest;e||([<span class=\"code-string\">\"preloadSegment\"</span>,<span class=\"code-string\">\"skip\"</span>,<span class=\"code-string\">\"serverControl\"</span>,<span class=\"code-string\">\"renditionReports\"</span>,<span class=\"code-string\">\"partInf\"</span>,<span class=\"code-string\">\"partTargetDuration\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{o.hasOwnProperty(e)&amp;&amp;<span class=\"code-keyword\">delete</span> o[e]}),o.segments&amp;&amp;o.segments.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{[<span class=\"code-string\">\"parts\"</span>,<span class=\"code-string\">\"preloadHints\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.hasOwnProperty(e)&amp;&amp;<span class=\"code-keyword\">delete</span> t[e]})})),o.targetDuration||(u=<span class=\"code-number\">10</span>,o.segments&amp;&amp;o.segments.length&amp;&amp;(u=o.segments.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(e,t.duration)},<span class=\"code-number\">0</span>)),t&amp;&amp;t(<span class=\"code-string\">\"manifest has no targetDuration defaulting to \"</span>+u),o.targetDuration=u);<span class=\"code-keyword\">var</span> u=Go(o);<span class=\"code-keyword\">return</span> u.length&amp;&amp;!o.partTargetDuration&amp;&amp;(u=u.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(e,t.duration)},<span class=\"code-number\">0</span>),t&amp;&amp;(t(<span class=\"code-string\">\"manifest has no partTargetDuration defaulting to \"</span>+u),yl.error(<span class=\"code-string\">\"LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.\"</span>)),o.partTargetDuration=u),o}({<span class=\"code-attr\">onwarn</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.message;<span class=\"code-keyword\">return</span> t.logger_(<span class=\"code-string\">\"m3u8-parser warn for \"</span>+i+<span class=\"code-string\">\": \"</span>+e)},<span class=\"code-attr\">oninfo</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.message;<span class=\"code-keyword\">return</span> t.logger_(<span class=\"code-string\">\"m3u8-parser info for \"</span>+i+<span class=\"code-string\">\": \"</span>+e)},<span class=\"code-attr\">manifestString</span>:e.manifestString,<span class=\"code-attr\">customTagParsers</span>:<span class=\"code-keyword\">this</span>.customTagParsers,<span class=\"code-attr\">customTagMappers</span>:<span class=\"code-keyword\">this</span>.customTagMappers,<span class=\"code-attr\">experimentalLLHLS</span>:<span class=\"code-keyword\">this</span>.experimentalLLHLS})},t.haveMetadata=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.playlistString,i=e.playlistObject,n=e.url,e=e.id;<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_METADATA\"</span>;t=i||<span class=\"code-keyword\">this</span>.parseManifest_({<span class=\"code-attr\">url</span>:n,<span class=\"code-attr\">manifestString</span>:t});t.lastRequest=<span class=\"code-built_in\">Date</span>.now(),uu({<span class=\"code-attr\">playlist</span>:t,<span class=\"code-attr\">uri</span>:n,<span class=\"code-attr\">id</span>:e});n=fu(<span class=\"code-keyword\">this</span>.master,t);<span class=\"code-keyword\">this</span>.targetDuration=t.partTargetDuration||t.targetDuration,<span class=\"code-keyword\">this</span>.pendingMedia_=<span class=\"code-literal\">null</span>,n?(<span class=\"code-keyword\">this</span>.master=n,<span class=\"code-keyword\">this</span>.media_=<span class=\"code-keyword\">this</span>.master.playlists[e]):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"playlistunchanged\"</span>),<span class=\"code-keyword\">this</span>.updateMediaUpdateTimeout_(mu(<span class=\"code-keyword\">this</span>.media(),!!n)),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedplaylist\"</span>)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.stopRequest(),<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.finalRenditionTimeout),<span class=\"code-keyword\">this</span>.off()},t.stopRequest=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.request&amp;&amp;(e=<span class=\"code-keyword\">this</span>.request,<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>,e.onreadystatechange=<span class=\"code-literal\">null</span>,e.abort())},t.media=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.media_;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"HAVE_NOTHING\"</span>===<span class=\"code-keyword\">this</span>.state)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot switch media playlist from \"</span>+<span class=\"code-keyword\">this</span>.state);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> i){<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.master.playlists[i])<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unknown playlist URI: \"</span>+i);i=<span class=\"code-keyword\">this</span>.master.playlists[i]}<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.finalRenditionTimeout),e){<span class=\"code-keyword\">var</span> t=(i.partTargetDuration||i.targetDuration)/<span class=\"code-number\">2</span>*<span class=\"code-number\">1e3</span>||<span class=\"code-number\">5e3</span>;<span class=\"code-keyword\">this</span>.finalRenditionTimeout=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-keyword\">this</span>.media.bind(<span class=\"code-keyword\">this</span>,i,!<span class=\"code-number\">1</span>),t)}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.state,e=!<span class=\"code-keyword\">this</span>.media_||i.id!==<span class=\"code-keyword\">this</span>.media_.id,t=<span class=\"code-keyword\">this</span>.master.playlists[i.id];<span class=\"code-keyword\">if</span>(t&amp;&amp;t.endList||i.endList&amp;&amp;i.segments.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.request&amp;&amp;(<span class=\"code-keyword\">this</span>.request.onreadystatechange=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.request.abort(),<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_METADATA\"</span>,<span class=\"code-keyword\">this</span>.media_=i,<span class=\"code-keyword\">void</span>(e&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachanging\"</span>),<span class=\"code-string\">\"HAVE_MASTER\"</span>===r?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedmetadata\"</span>):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachange\"</span>)));<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.updateMediaUpdateTimeout_(mu(i,!<span class=\"code-number\">0</span>)),e){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"SWITCHING_MEDIA\"</span>,<span class=\"code-keyword\">this</span>.request){<span class=\"code-keyword\">if</span>(i.resolvedUri===<span class=\"code-keyword\">this</span>.request.url)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">this</span>.request.onreadystatechange=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.request.abort(),<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">this</span>.media_&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachanging\"</span>),<span class=\"code-keyword\">this</span>.pendingMedia_=i,<span class=\"code-keyword\">this</span>.request=<span class=\"code-keyword\">this</span>.vhs_.xhr({<span class=\"code-attr\">uri</span>:i.resolvedUri,<span class=\"code-attr\">withCredentials</span>:<span class=\"code-keyword\">this</span>.withCredentials},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(n.request){<span class=\"code-keyword\">if</span>(i.lastRequest=<span class=\"code-built_in\">Date</span>.now(),i.resolvedUri=Mo(n.handleManifestRedirects,i.resolvedUri,t),e)<span class=\"code-keyword\">return</span> n.playlistRequestError(n.request,i,r);n.haveMetadata({<span class=\"code-attr\">playlistString</span>:t.responseText,<span class=\"code-attr\">url</span>:i.uri,<span class=\"code-attr\">id</span>:i.id}),<span class=\"code-string\">\"HAVE_MASTER\"</span>===r?n.trigger(<span class=\"code-string\">\"loadedmetadata\"</span>):n.trigger(<span class=\"code-string\">\"mediachange\"</span>)}})}}},t.pause=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mediaUpdateTimeout&amp;&amp;(<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.stopRequest(),<span class=\"code-string\">\"HAVE_NOTHING\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;(<span class=\"code-keyword\">this</span>.started=!<span class=\"code-number\">1</span>),<span class=\"code-string\">\"SWITCHING_MEDIA\"</span>===<span class=\"code-keyword\">this</span>.state?<span class=\"code-keyword\">this</span>.media_?<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_METADATA\"</span>:<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_MASTER\"</span>:<span class=\"code-string\">\"HAVE_CURRENT_METADATA\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_METADATA\"</span>)},t.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.mediaUpdateTimeout&amp;&amp;(<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.media();e?(e=i?(i.partTargetDuration||i.targetDuration)/<span class=\"code-number\">2</span>*<span class=\"code-number\">1e3</span>:<span class=\"code-number\">5e3</span>,<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.mediaUpdateTimeout=<span class=\"code-literal\">null</span>,t.load()},e)):<span class=\"code-keyword\">this</span>.started?i&amp;&amp;!i.endList?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediaupdatetimeout\"</span>):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedplaylist\"</span>):<span class=\"code-keyword\">this</span>.start()},t.updateMediaUpdateTimeout_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.mediaUpdateTimeout&amp;&amp;(<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.media()&amp;&amp;!<span class=\"code-keyword\">this</span>.media().endList&amp;&amp;(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.mediaUpdateTimeout=<span class=\"code-literal\">null</span>,t.trigger(<span class=\"code-string\">\"mediaupdatetimeout\"</span>),t.updateMediaUpdateTimeout_(e)},e))},t.start=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.started=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.src)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.src.uri||(<span class=\"code-keyword\">this</span>.src.uri=<span class=\"code-built_in\">window</span>.location.href),<span class=\"code-keyword\">this</span>.src.resolvedUri=<span class=\"code-keyword\">this</span>.src.uri,<span class=\"code-keyword\">void</span> setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.setupInitialPlaylist(i.src)},<span class=\"code-number\">0</span>);<span class=\"code-keyword\">this</span>.request=<span class=\"code-keyword\">this</span>.vhs_.xhr({<span class=\"code-attr\">uri</span>:<span class=\"code-keyword\">this</span>.src,<span class=\"code-attr\">withCredentials</span>:<span class=\"code-keyword\">this</span>.withCredentials},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(i.request){<span class=\"code-keyword\">if</span>(i.request=<span class=\"code-literal\">null</span>,e)<span class=\"code-keyword\">return</span> i.error={<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"HLS playlist request error at URL: \"</span>+i.src+<span class=\"code-string\">\".\"</span>,<span class=\"code-attr\">responseText</span>:t.responseText,<span class=\"code-attr\">code</span>:<span class=\"code-number\">2</span>},<span class=\"code-string\">\"HAVE_NOTHING\"</span>===i.state&amp;&amp;(i.started=!<span class=\"code-number\">1</span>),i.trigger(<span class=\"code-string\">\"error\"</span>);i.src=Mo(i.handleManifestRedirects,i.src,t);t=i.parseManifest_({<span class=\"code-attr\">manifestString</span>:t.responseText,<span class=\"code-attr\">url</span>:i.src});i.setupInitialPlaylist(t)}})},t.srcUri=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.src?<span class=\"code-keyword\">this</span>.src:<span class=\"code-keyword\">this</span>.src.uri},t.setupInitialPlaylist=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_MASTER\"</span>,e.playlists)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.master=e,lu(<span class=\"code-keyword\">this</span>.master,<span class=\"code-keyword\">this</span>.srcUri()),e.playlists.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.segments=hu(t),t.segments.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{du(e,t.resolvedUri)})}),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedplaylist\"</span>),<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.request||<span class=\"code-keyword\">this</span>.media(<span class=\"code-keyword\">this</span>.master.playlists[<span class=\"code-number\">0</span>]));<span class=\"code-keyword\">var</span> t,i,n,r=<span class=\"code-keyword\">this</span>.srcUri()||<span class=\"code-built_in\">window</span>.location.href;<span class=\"code-keyword\">this</span>.master=(i=su(<span class=\"code-number\">0</span>,t=r),(n={<span class=\"code-attr\">mediaGroups</span>:{<span class=\"code-attr\">AUDIO</span>:{},<span class=\"code-attr\">VIDEO</span>:{},<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>:{},<span class=\"code-attr\">SUBTITLES</span>:{}},<span class=\"code-attr\">uri</span>:<span class=\"code-built_in\">window</span>.location.href,<span class=\"code-attr\">resolvedUri</span>:<span class=\"code-built_in\">window</span>.location.href,<span class=\"code-attr\">playlists</span>:[{<span class=\"code-attr\">uri</span>:t,<span class=\"code-attr\">id</span>:i,<span class=\"code-attr\">resolvedUri</span>:t,<span class=\"code-attr\">attributes</span>:{}}]}).playlists[i]=n.playlists[<span class=\"code-number\">0</span>],n.playlists[t]=n.playlists[<span class=\"code-number\">0</span>],n),<span class=\"code-keyword\">this</span>.haveMetadata({<span class=\"code-attr\">playlistObject</span>:e,<span class=\"code-attr\">url</span>:r,<span class=\"code-attr\">id</span>:<span class=\"code-keyword\">this</span>.master.playlists[<span class=\"code-number\">0</span>].id}),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedmetadata\"</span>)},e}(W),bl=tr.xhr,Tl=tr.mergeOptions,zt=<span class=\"code-built_in\">Object</span>.freeze({<span class=\"code-attr\">__proto__</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">createTransferableMessage</span>:Tu,<span class=\"code-attr\">initSegmentId</span>:Su,<span class=\"code-attr\">segmentKeyId</span>:wu,<span class=\"code-attr\">hexDump</span>:Eu,<span class=\"code-attr\">tagDump</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.bytes;<span class=\"code-keyword\">return</span> Eu(e)},<span class=\"code-attr\">textRanges</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n=<span class=\"code-string\">\"\"</span>,r=<span class=\"code-number\">0</span>;r&lt;e.length;r++)n+=(i=r,(t=e).start(i)+<span class=\"code-string\">\"-\"</span>+t.end(i)+<span class=\"code-string\">\" \"</span>);<span class=\"code-keyword\">return</span> n}}),ar=tr.EventTarget,Sl=tr.mergeOptions,wl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i={}),(r=a.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>).masterPlaylistLoader_=n||ft(r),n||(r.isMaster_=!<span class=\"code-number\">0</span>);n=i.withCredentials,n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;n,i=i.handleManifestRedirects,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;i;<span class=\"code-keyword\">if</span>(r.vhs_=t,r.withCredentials=n,r.handleManifestRedirects=i,!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"A non-empty playlist URL or object is required\"</span>);<span class=\"code-keyword\">return</span> r.on(<span class=\"code-string\">\"minimumUpdatePeriod\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.refreshXml_()}),r.on(<span class=\"code-string\">\"mediaupdatetimeout\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.refreshMedia_(r.media().id)}),r.state=<span class=\"code-string\">\"HAVE_NOTHING\"</span>,r.loadedPlaylists_={},r.logger_=Ro(<span class=\"code-string\">\"DashPlaylistLoader\"</span>),r.isMaster_?(r.masterPlaylistLoader_.srcUrl=e,r.masterPlaylistLoader_.sidxMapping_={}):r.childPlaylist_=e,r}mt(e,a);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.requestErrored_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span>!<span class=\"code-keyword\">this</span>.request||(<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>,e?(<span class=\"code-keyword\">this</span>.error=<span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> e||e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>?{<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"DASH request error at URL: \"</span>+t.uri,<span class=\"code-attr\">response</span>:t.response,<span class=\"code-attr\">code</span>:<span class=\"code-number\">2</span>}:e,i&amp;&amp;(<span class=\"code-keyword\">this</span>.state=i),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>),!<span class=\"code-number\">0</span>):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>)},t.addSidxSegments_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a,n,r</span>)</span>{<span class=\"code-keyword\">var</span> s,o,u=<span class=\"code-keyword\">this</span>,l=a.sidx&amp;&amp;xs(a.sidx);a.sidx&amp;&amp;l&amp;&amp;!<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.sidxMapping_[l]?(s=Mo(<span class=\"code-keyword\">this</span>.handleManifestRedirects,a.sidx.resolvedUri),o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!u.requestErrored_(e,t,n)){<span class=\"code-keyword\">var</span> i,e=u.masterPlaylistLoader_.sidxMapping_;<span class=\"code-keyword\">try</span>{i=wo(br(t.response).subarray(<span class=\"code-number\">8</span>))}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> u.requestErrored_(e,t,n)}<span class=\"code-keyword\">return</span> e[l]={<span class=\"code-attr\">sidxInfo</span>:a.sidx,<span class=\"code-attr\">sidx</span>:i},ws(a,i,a.sidx.resolvedUri),r(!<span class=\"code-number\">0</span>)}},<span class=\"code-keyword\">this</span>.request=xu(s,<span class=\"code-keyword\">this</span>.vhs_.xhr,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> o(e,t);<span class=\"code-keyword\">if</span>(!i||<span class=\"code-string\">\"mp4\"</span>!==i)<span class=\"code-keyword\">return</span> o({<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Unsupported \"</span>+(i||<span class=\"code-string\">\"unknown\"</span>)+<span class=\"code-string\">\" container type for sidx segment at URL: \"</span>+s,<span class=\"code-attr\">response</span>:<span class=\"code-string\">\"\"</span>,<span class=\"code-attr\">playlist</span>:a,<span class=\"code-attr\">internal</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-attr\">code</span>:<span class=\"code-number\">2</span>},t);<span class=\"code-keyword\">var</span> r=a.sidx.byterange,i=r.offset,r=r.length;<span class=\"code-keyword\">if</span>(n.length&gt;=r+i)<span class=\"code-keyword\">return</span> o(e,{<span class=\"code-attr\">response</span>:n.subarray(i,i+r),<span class=\"code-attr\">status</span>:t.status,<span class=\"code-attr\">uri</span>:t.uri});u.request=u.vhs_.xhr({<span class=\"code-attr\">uri</span>:s,<span class=\"code-attr\">responseType</span>:<span class=\"code-string\">\"arraybuffer\"</span>,<span class=\"code-attr\">headers</span>:vu({<span class=\"code-attr\">byterange</span>:a.sidx.byterange})},o)})):<span class=\"code-keyword\">this</span>.mediaRequest_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> r(!<span class=\"code-number\">1</span>)},<span class=\"code-number\">0</span>)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.stopRequest(),<span class=\"code-keyword\">this</span>.loadedPlaylists_={},<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.minimumUpdatePeriodTimeout_),<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaRequest_),<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.mediaRequest_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.minimumUpdatePeriodTimeout_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.createMupOnMedia_&amp;&amp;(<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.createMupOnMedia_),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.createMupOnMedia_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.off()},t.hasPendingRequest=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.request||<span class=\"code-keyword\">this</span>.mediaRequest_},t.stopRequest=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.request&amp;&amp;(e=<span class=\"code-keyword\">this</span>.request,<span class=\"code-keyword\">this</span>.request=<span class=\"code-literal\">null</span>,e.onreadystatechange=<span class=\"code-literal\">null</span>,e.abort())},t.media=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.media_;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"HAVE_NOTHING\"</span>===<span class=\"code-keyword\">this</span>.state)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot switch media playlist from \"</span>+<span class=\"code-keyword\">this</span>.state);<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.state;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t){<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master.playlists[t])<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unknown playlist URI: \"</span>+t);t=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master.playlists[t]}<span class=\"code-keyword\">var</span> e=!<span class=\"code-keyword\">this</span>.media_||t.id!==<span class=\"code-keyword\">this</span>.media_.id;<span class=\"code-keyword\">if</span>(e&amp;&amp;<span class=\"code-keyword\">this</span>.loadedPlaylists_[t.id]&amp;&amp;<span class=\"code-keyword\">this</span>.loadedPlaylists_[t.id].endList)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_METADATA\"</span>,<span class=\"code-keyword\">this</span>.media_=t,<span class=\"code-keyword\">void</span>(e&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachanging\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachange\"</span>)));e&amp;&amp;(<span class=\"code-keyword\">this</span>.media_&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachanging\"</span>),<span class=\"code-keyword\">this</span>.addSidxSegments_(t,n,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.haveMetadata({<span class=\"code-attr\">startingState</span>:n,<span class=\"code-attr\">playlist</span>:t})}))},t.haveMetadata=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.startingState,e=e.playlist;<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_METADATA\"</span>,<span class=\"code-keyword\">this</span>.loadedPlaylists_[e.id]=e,<span class=\"code-keyword\">this</span>.mediaRequest_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.refreshMedia_(e.id),<span class=\"code-string\">\"HAVE_MASTER\"</span>===t?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedmetadata\"</span>):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediachange\"</span>)},t.pause=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.createMupOnMedia_&amp;&amp;(<span class=\"code-keyword\">this</span>.off(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.createMupOnMedia_),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.createMupOnMedia_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.stopRequest(),<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.isMaster_&amp;&amp;(<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=<span class=\"code-literal\">null</span>),<span class=\"code-string\">\"HAVE_NOTHING\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;(<span class=\"code-keyword\">this</span>.started=!<span class=\"code-number\">1</span>)},t.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.mediaUpdateTimeout),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.media();e?(e=i?i.targetDuration/<span class=\"code-number\">2</span>*<span class=\"code-number\">1e3</span>:<span class=\"code-number\">5e3</span>,<span class=\"code-keyword\">this</span>.mediaUpdateTimeout=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.load()},e)):<span class=\"code-keyword\">this</span>.started?i&amp;&amp;!i.endList?(<span class=\"code-keyword\">this</span>.isMaster_&amp;&amp;!<span class=\"code-keyword\">this</span>.minimumUpdatePeriodTimeout_&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"minimumUpdatePeriod\"</span>),<span class=\"code-keyword\">this</span>.updateMinimumUpdatePeriodTimeout_()),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"mediaupdatetimeout\"</span>)):<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedplaylist\"</span>):<span class=\"code-keyword\">this</span>.start()},t.start=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.started=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.isMaster_?<span class=\"code-keyword\">this</span>.requestMaster_(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{i.haveMaster_(),i.hasPendingRequest()||i.media_||i.media(i.masterPlaylistLoader_.master.playlists[<span class=\"code-number\">0</span>])}):<span class=\"code-keyword\">this</span>.mediaRequest_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.haveMaster_()},<span class=\"code-number\">0</span>)},t.requestMaster_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.request=<span class=\"code-keyword\">this</span>.vhs_.xhr({<span class=\"code-attr\">uri</span>:<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.srcUrl,<span class=\"code-attr\">withCredentials</span>:<span class=\"code-keyword\">this</span>.withCredentials},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!r.requestErrored_(e,t)){<span class=\"code-keyword\">var</span> i=t.responseText!==r.masterPlaylistLoader_.masterXml_;<span class=\"code-keyword\">return</span> r.masterPlaylistLoader_.masterXml_=t.responseText,t.responseHeaders&amp;&amp;t.responseHeaders.date?r.masterLoaded_=<span class=\"code-built_in\">Date</span>.parse(t.responseHeaders.date):r.masterLoaded_=<span class=\"code-built_in\">Date</span>.now(),r.masterPlaylistLoader_.srcUrl=Mo(r.handleManifestRedirects,r.masterPlaylistLoader_.srcUrl,t),i?(r.handleMaster_(),<span class=\"code-keyword\">void</span> r.syncClientServerClock_(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n(t,i)})):n(t,i)}<span class=\"code-string\">\"HAVE_NOTHING\"</span>===r.state&amp;&amp;(r.started=!<span class=\"code-number\">1</span>)})},t.syncClientServerClock_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r=Zs(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.masterXml_);<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===r?(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.clientOffset_=<span class=\"code-keyword\">this</span>.masterLoaded_-<span class=\"code-built_in\">Date</span>.now(),i()):<span class=\"code-string\">\"DIRECT\"</span>===r.method?(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.clientOffset_=r.value-<span class=\"code-built_in\">Date</span>.now(),i()):<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.request=<span class=\"code-keyword\">this</span>.vhs_.xhr({<span class=\"code-attr\">uri</span>:pl(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.srcUrl,r.value),<span class=\"code-attr\">method</span>:r.method,<span class=\"code-attr\">withCredentials</span>:<span class=\"code-keyword\">this</span>.withCredentials},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(n.request){<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-<span class=\"code-built_in\">Date</span>.now(),i();t=<span class=\"code-string\">\"HEAD\"</span>===r.method?t.responseHeaders&amp;&amp;t.responseHeaders.date?<span class=\"code-built_in\">Date</span>.parse(t.responseHeaders.date):n.masterLoaded_:<span class=\"code-built_in\">Date</span>.parse(t.responseText);n.masterPlaylistLoader_.clientOffset_=t-<span class=\"code-built_in\">Date</span>.now(),i()}}))},t.haveMaster_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"HAVE_MASTER\"</span>,<span class=\"code-keyword\">this</span>.isMaster_?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedplaylist\"</span>):<span class=\"code-keyword\">this</span>.media_||<span class=\"code-keyword\">this</span>.media(<span class=\"code-keyword\">this</span>.childPlaylist_)},t.handleMaster_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mediaRequest_=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> e,t,i,n,r=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master,t=(a={<span class=\"code-attr\">masterXml</span>:<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.masterXml_,<span class=\"code-attr\">srcUrl</span>:<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.srcUrl,<span class=\"code-attr\">clientOffset</span>:<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.clientOffset_,<span class=\"code-attr\">sidxMapping</span>:<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.sidxMapping_,<span class=\"code-attr\">previousManifest</span>:r},e=a.masterXml,t=a.srcUrl,i=a.clientOffset,n=a.sidxMapping,a=a.previousManifest,a=Js(e,{<span class=\"code-attr\">manifestUri</span>:t,<span class=\"code-attr\">clientOffset</span>:i,<span class=\"code-attr\">sidxMapping</span>:n,<span class=\"code-attr\">previousManifest</span>:a}),lu(a,t),a);r&amp;&amp;(t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a=!<span class=\"code-number\">0</span>,s=Sl(e,{<span class=\"code-attr\">duration</span>:t.duration,<span class=\"code-attr\">minimumUpdatePeriod</span>:t.minimumUpdatePeriod,<span class=\"code-attr\">timelineStarts</span>:t.timelineStarts}),n=<span class=\"code-number\">0</span>;n&lt;t.playlists.length;n++){<span class=\"code-keyword\">var</span> r,o=t.playlists[n];o.sidx&amp;&amp;(r=xs(o.sidx),i&amp;&amp;i[r]&amp;&amp;i[r].sidx&amp;&amp;ws(o,i[r].sidx,o.sidx.resolvedUri));o=fu(s,o,Au);o&amp;&amp;(s=o,a=!<span class=\"code-number\">1</span>)}<span class=\"code-keyword\">return</span> ou(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r;e.playlists&amp;&amp;e.playlists.length&amp;&amp;(r=e.playlists[<span class=\"code-number\">0</span>].id,(e=fu(s,e.playlists[<span class=\"code-number\">0</span>],Au))&amp;&amp;((s=e).mediaGroups[t][i][n].playlists[<span class=\"code-number\">0</span>]=s.playlists[r],a=!<span class=\"code-number\">1</span>))}),(a=t.minimumUpdatePeriod===e.minimumUpdatePeriod&amp;&amp;a)?<span class=\"code-literal\">null</span>:s}(r,t,<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.sidxMapping_)),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master=t||r;<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master.locations&amp;&amp;<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master.locations[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span> a&amp;&amp;a!==<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.srcUrl&amp;&amp;(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.srcUrl=a),(!r||t&amp;&amp;t.minimumUpdatePeriod!==r.minimumUpdatePeriod)&amp;&amp;<span class=\"code-keyword\">this</span>.updateMinimumUpdatePeriodTimeout_(),<span class=\"code-built_in\">Boolean</span>(t)},t.updateMinimumUpdatePeriodTimeout_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_;e.createMupOnMedia_&amp;&amp;(e.off(<span class=\"code-string\">\"loadedmetadata\"</span>,e.createMupOnMedia_),e.createMupOnMedia_=<span class=\"code-literal\">null</span>),e.minimumUpdatePeriodTimeout_&amp;&amp;(<span class=\"code-built_in\">window</span>.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">var</span> t=e.master&amp;&amp;e.master.minimumUpdatePeriod;<span class=\"code-number\">0</span>===t&amp;&amp;(e.media()?t=<span class=\"code-number\">1e3</span>*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one(<span class=\"code-string\">\"loadedmetadata\"</span>,e.createMupOnMedia_))),<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> t||t&lt;=<span class=\"code-number\">0</span>?t&lt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"found invalid minimumUpdatePeriod of \"</span>+t+<span class=\"code-string\">\", not setting a timeout\"</span>):<span class=\"code-keyword\">this</span>.createMUPTimeout_(t)},t.createMUPTimeout_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.minimumUpdatePeriodTimeout_=<span class=\"code-literal\">null</span>,t.trigger(<span class=\"code-string\">\"minimumUpdatePeriod\"</span>),t.createMUPTimeout_(e)},e)},t.refreshXml_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.requestMaster_(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> r,a;t&amp;&amp;(i.media_&amp;&amp;(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=(t=i.masterPlaylistLoader_.master,r=i.masterPlaylistLoader_.sidxMapping_,a=Pu(t.playlists,r),ou(t,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{e.playlists&amp;&amp;e.playlists.length&amp;&amp;(e=e.playlists,a=Sl(a,Pu(e,r)))}),a),i.addSidxSegments_(i.media(),i.state,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.refreshMedia_(i.media().id)}))})},t.refreshMedia_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"refreshMedia_ must take a media id\"</span>);<span class=\"code-keyword\">this</span>.media_&amp;&amp;<span class=\"code-keyword\">this</span>.isMaster_&amp;&amp;<span class=\"code-keyword\">this</span>.handleMaster_();<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master.playlists,n=!<span class=\"code-keyword\">this</span>.media_||<span class=\"code-keyword\">this</span>.media_!==i[e];n?<span class=\"code-keyword\">this</span>.media_=i[e]:<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"playlistunchanged\"</span>),<span class=\"code-keyword\">this</span>.mediaUpdateTimeout||<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{t.media().endList||(t.mediaUpdateTimeout=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger(<span class=\"code-string\">\"mediaupdatetimeout\"</span>),e()},mu(t.media(),<span class=\"code-built_in\">Boolean</span>(n))))}(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"loadedplaylist\"</span>)},e}(ar),El={<span class=\"code-attr\">GOAL_BUFFER_LENGTH</span>:<span class=\"code-number\">30</span>,<span class=\"code-attr\">MAX_GOAL_BUFFER_LENGTH</span>:<span class=\"code-number\">60</span>,<span class=\"code-attr\">BACK_BUFFER_LENGTH</span>:<span class=\"code-number\">30</span>,<span class=\"code-attr\">GOAL_BUFFER_LENGTH_RATE</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">INITIAL_BANDWIDTH</span>:<span class=\"code-number\">4194304</span>,<span class=\"code-attr\">BANDWIDTH_VARIANCE</span>:<span class=\"code-number\">1.2</span>,<span class=\"code-attr\">BUFFER_LOW_WATER_LINE</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">MAX_BUFFER_LOW_WATER_LINE</span>:<span class=\"code-number\">30</span>,<span class=\"code-attr\">EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE</span>:<span class=\"code-number\">16</span>,<span class=\"code-attr\">BUFFER_LOW_WATER_LINE_RATE</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">BUFFER_HIGH_WATER_LINE</span>:<span class=\"code-number\">30</span>},x=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> URL.createObjectURL(<span class=\"code-keyword\">new</span> Blob([t],{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"application/javascript\"</span>}))}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> BlobBuilder;<span class=\"code-keyword\">return</span> i.append(t),URL.createObjectURL(i.getBlob())}}(n),t=Lu(<span class=\"code-keyword\">new</span> Worker(e));t.objURL=e;<span class=\"code-keyword\">var</span> i=t.terminate;<span class=\"code-keyword\">return</span> t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> URL.revokeObjectURL(e),i.call(<span class=\"code-keyword\">this</span>)},t}},U=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"var browserWorkerPolyFill = \"</span>+Lu.toString()+<span class=\"code-string\">\";\\nbrowserWorkerPolyFill(self);\\n\"</span>+e},W=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.toString().replace(<span class=\"code-regexp\">/^function.+?{/</span>,<span class=\"code-string\">\"\"</span>).slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>)},kl=x(U(W(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.init=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> a={};<span class=\"code-keyword\">this</span>.on=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{a[e]||(a[e]=[]),a[e]=a[e].concat(t)},<span class=\"code-keyword\">this</span>.off=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>!!a[e]&amp;&amp;(t=a[e].indexOf(t),a[e]=a[e].slice(),a[e].splice(t,<span class=\"code-number\">1</span>),<span class=\"code-number\">-1</span>&lt;t)},<span class=\"code-keyword\">this</span>.trigger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r=a[e];<span class=\"code-keyword\">if</span>(r)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">2</span>===<span class=\"code-built_in\">arguments</span>.length)<span class=\"code-keyword\">for</span>(i=r.length,t=<span class=\"code-number\">0</span>;t&lt;i;++t)r[t].call(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">for</span>(n=[],t=<span class=\"code-built_in\">arguments</span>.length,t=<span class=\"code-number\">1</span>;t&lt;<span class=\"code-built_in\">arguments</span>.length;++t)n.push(<span class=\"code-built_in\">arguments</span>[t]);<span class=\"code-keyword\">for</span>(i=r.length,t=<span class=\"code-number\">0</span>;t&lt;i;++t)r[t].apply(<span class=\"code-keyword\">this</span>,n)}},<span class=\"code-keyword\">this</span>.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a={}}}};e.prototype.pipe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.push(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.flush(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"partialdone\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.partialFlush(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"endedtimeline\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.endTimeline(e)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"reset\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.reset(e)}),t},e.prototype.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,e)},e.prototype.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>,e)},e.prototype.partialFlush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"partialdone\"</span>,e)},e.prototype.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"endedtimeline\"</span>,e)},e.prototype.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>,e)};<span class=\"code-keyword\">var</span> u,t,i,n,r,a,s,o,l,c,d,h,p,f,m,g,y,v,_,b,T,S,w,E,k,C,I,x,A,P,L,D,O,M,R,N,U,B,F,j=e,H=<span class=\"code-built_in\">Math</span>.pow(<span class=\"code-number\">2</span>,<span class=\"code-number\">32</span>),q={<span class=\"code-attr\">getUint64</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(e.buffer,e.byteOffset,e.byteLength);<span class=\"code-keyword\">return</span> t.getBigUint64?(e=t.getBigUint64(<span class=\"code-number\">0</span>))&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER?<span class=\"code-built_in\">Number</span>(e):e:t.getUint32(<span class=\"code-number\">0</span>)*H+t.getUint32(<span class=\"code-number\">4</span>)},<span class=\"code-attr\">MAX_UINT32</span>:H},V=q.MAX_UINT32;!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(T={<span class=\"code-attr\">avc1</span>:[],<span class=\"code-attr\">avcC</span>:[],<span class=\"code-attr\">btrt</span>:[],<span class=\"code-attr\">dinf</span>:[],<span class=\"code-attr\">dref</span>:[],<span class=\"code-attr\">esds</span>:[],<span class=\"code-attr\">ftyp</span>:[],<span class=\"code-attr\">hdlr</span>:[],<span class=\"code-attr\">mdat</span>:[],<span class=\"code-attr\">mdhd</span>:[],<span class=\"code-attr\">mdia</span>:[],<span class=\"code-attr\">mfhd</span>:[],<span class=\"code-attr\">minf</span>:[],<span class=\"code-attr\">moof</span>:[],<span class=\"code-attr\">moov</span>:[],<span class=\"code-attr\">mp4a</span>:[],<span class=\"code-attr\">mvex</span>:[],<span class=\"code-attr\">mvhd</span>:[],<span class=\"code-attr\">pasp</span>:[],<span class=\"code-attr\">sdtp</span>:[],<span class=\"code-attr\">smhd</span>:[],<span class=\"code-attr\">stbl</span>:[],<span class=\"code-attr\">stco</span>:[],<span class=\"code-attr\">stsc</span>:[],<span class=\"code-attr\">stsd</span>:[],<span class=\"code-attr\">stsz</span>:[],<span class=\"code-attr\">stts</span>:[],<span class=\"code-attr\">styp</span>:[],<span class=\"code-attr\">tfdt</span>:[],<span class=\"code-attr\">tfhd</span>:[],<span class=\"code-attr\">traf</span>:[],<span class=\"code-attr\">trak</span>:[],<span class=\"code-attr\">trun</span>:[],<span class=\"code-attr\">trex</span>:[],<span class=\"code-attr\">tkhd</span>:[],<span class=\"code-attr\">vmhd</span>:[]},<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Uint8Array</span>){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e <span class=\"code-keyword\">in</span> T)T.hasOwnProperty(e)&amp;&amp;(T[e]=[e.charCodeAt(<span class=\"code-number\">0</span>),e.charCodeAt(<span class=\"code-number\">1</span>),e.charCodeAt(<span class=\"code-number\">2</span>),e.charCodeAt(<span class=\"code-number\">3</span>)]);S=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-string\">\"i\"</span>.charCodeAt(<span class=\"code-number\">0</span>),<span class=\"code-string\">\"s\"</span>.charCodeAt(<span class=\"code-number\">0</span>),<span class=\"code-string\">\"o\"</span>.charCodeAt(<span class=\"code-number\">0</span>),<span class=\"code-string\">\"m\"</span>.charCodeAt(<span class=\"code-number\">0</span>)]),E=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-string\">\"a\"</span>.charCodeAt(<span class=\"code-number\">0</span>),<span class=\"code-string\">\"v\"</span>.charCodeAt(<span class=\"code-number\">0</span>),<span class=\"code-string\">\"c\"</span>.charCodeAt(<span class=\"code-number\">0</span>),<span class=\"code-string\">\"1\"</span>.charCodeAt(<span class=\"code-number\">0</span>)]),w=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]),k=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">118</span>,<span class=\"code-number\">105</span>,<span class=\"code-number\">100</span>,<span class=\"code-number\">101</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">86</span>,<span class=\"code-number\">105</span>,<span class=\"code-number\">100</span>,<span class=\"code-number\">101</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">72</span>,<span class=\"code-number\">97</span>,<span class=\"code-number\">110</span>,<span class=\"code-number\">100</span>,<span class=\"code-number\">108</span>,<span class=\"code-number\">101</span>,<span class=\"code-number\">114</span>,<span class=\"code-number\">0</span>]),C=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">115</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">117</span>,<span class=\"code-number\">110</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">83</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">117</span>,<span class=\"code-number\">110</span>,<span class=\"code-number\">100</span>,<span class=\"code-number\">72</span>,<span class=\"code-number\">97</span>,<span class=\"code-number\">110</span>,<span class=\"code-number\">100</span>,<span class=\"code-number\">108</span>,<span class=\"code-number\">101</span>,<span class=\"code-number\">114</span>,<span class=\"code-number\">0</span>]),I={<span class=\"code-attr\">video</span>:k,<span class=\"code-attr\">audio</span>:C},P=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">12</span>,<span class=\"code-number\">117</span>,<span class=\"code-number\">114</span>,<span class=\"code-number\">108</span>,<span class=\"code-number\">32</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]),A=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]),L=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]),D=L,O=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]),M=L,x=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>])}}(),u=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=[],n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">1</span>;r&lt;<span class=\"code-built_in\">arguments</span>.length;r++)i.push(<span class=\"code-built_in\">arguments</span>[r]);<span class=\"code-keyword\">for</span>(r=i.length;r--;)n+=i[r].byteLength;<span class=\"code-keyword\">for</span>(t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n+<span class=\"code-number\">8</span>),<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(t.buffer,t.byteOffset,t.byteLength).setUint32(<span class=\"code-number\">0</span>,t.byteLength),t.set(e,<span class=\"code-number\">4</span>),r=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">8</span>;r&lt;i.length;r++)t.set(i[r],n),n+=i[r].byteLength;<span class=\"code-keyword\">return</span> t},t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> u(T.dinf,u(T.dref,P))},i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.esds,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">25</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">21</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">218</span>,<span class=\"code-number\">192</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">218</span>,<span class=\"code-number\">192</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">2</span>,e.audioobjecttype&lt;&lt;<span class=\"code-number\">3</span>|e.samplingfrequencyindex&gt;&gt;&gt;<span class=\"code-number\">1</span>,e.samplingfrequencyindex&lt;&lt;<span class=\"code-number\">7</span>|e.channelcount&lt;&lt;<span class=\"code-number\">3</span>,<span class=\"code-number\">6</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">2</span>]))},f=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.hdlr,I[e])},p=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">3</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">95</span>,<span class=\"code-number\">144</span>,e.duration&gt;&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>,e.duration&gt;&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>,e.duration&gt;&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>&amp;e.duration,<span class=\"code-number\">85</span>,<span class=\"code-number\">196</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">return</span> e.samplerate&amp;&amp;(t[<span class=\"code-number\">12</span>]=e.samplerate&gt;&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>,t[<span class=\"code-number\">13</span>]=e.samplerate&gt;&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>,t[<span class=\"code-number\">14</span>]=e.samplerate&gt;&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>,t[<span class=\"code-number\">15</span>]=<span class=\"code-number\">255</span>&amp;e.samplerate),u(T.mdhd,t)},h=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.mdia,p(e),f(e.type),a(e))},r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.mfhd,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">4278190080</span>&amp;e)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e]))},a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.minf,<span class=\"code-string\">\"video\"</span>===e.type?u(T.vmhd,x):u(T.smhd,A),t(),g(e))},We=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=[],n=t.length;n--;)i[n]=v(t[n]);<span class=\"code-keyword\">return</span> u.apply(<span class=\"code-literal\">null</span>,[T.moof,r(e)].concat(i))},s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.length,i=[];t--;)i[t]=c(e[t]);<span class=\"code-keyword\">return</span> u.apply(<span class=\"code-literal\">null</span>,[T.moov,l(<span class=\"code-number\">4294967295</span>)].concat(i).concat(o(e)))},o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.length,i=[];t--;)i[t]=_(e[t]);<span class=\"code-keyword\">return</span> u.apply(<span class=\"code-literal\">null</span>,[T.mvex].concat(i))},l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">95</span>,<span class=\"code-number\">144</span>,(<span class=\"code-number\">4278190080</span>&amp;e)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>]);<span class=\"code-keyword\">return</span> u(T.mvhd,e)},m=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=e.samples||[],n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-number\">4</span>+i.length),r=<span class=\"code-number\">0</span>;r&lt;i.length;r++)t=i[r].flags,n[r+<span class=\"code-number\">4</span>]=t.dependsOn&lt;&lt;<span class=\"code-number\">4</span>|t.isDependedOn&lt;&lt;<span class=\"code-number\">2</span>|t.hasRedundancy;<span class=\"code-keyword\">return</span> u(T.sdtp,n)},g=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.stbl,y(e),u(T.stts,M),u(T.stsc,D),u(T.stsz,O),u(T.stco,L))},y=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.stsd,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]),(<span class=\"code-string\">\"video\"</span>===e.type?R:N)(e))},R=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n=e.sps||[],r=e.pps||[],a=[],s=[],o=<span class=\"code-number\">0</span>;o&lt;n.length;o++)a.push((<span class=\"code-number\">65280</span>&amp;n[o].byteLength)&gt;&gt;&gt;<span class=\"code-number\">8</span>),a.push(<span class=\"code-number\">255</span>&amp;n[o].byteLength),a=a.concat(<span class=\"code-built_in\">Array</span>.prototype.slice.call(n[o]));<span class=\"code-keyword\">for</span>(o=<span class=\"code-number\">0</span>;o&lt;r.length;o++)s.push((<span class=\"code-number\">65280</span>&amp;r[o].byteLength)&gt;&gt;&gt;<span class=\"code-number\">8</span>),s.push(<span class=\"code-number\">255</span>&amp;r[o].byteLength),s=s.concat(<span class=\"code-built_in\">Array</span>.prototype.slice.call(r[o]));<span class=\"code-keyword\">return</span> t=[T.avc1,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">65280</span>&amp;e.width)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.width,(<span class=\"code-number\">65280</span>&amp;e.height)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.height,<span class=\"code-number\">0</span>,<span class=\"code-number\">72</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">72</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">19</span>,<span class=\"code-number\">118</span>,<span class=\"code-number\">105</span>,<span class=\"code-number\">100</span>,<span class=\"code-number\">101</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">106</span>,<span class=\"code-number\">115</span>,<span class=\"code-number\">45</span>,<span class=\"code-number\">99</span>,<span class=\"code-number\">111</span>,<span class=\"code-number\">110</span>,<span class=\"code-number\">116</span>,<span class=\"code-number\">114</span>,<span class=\"code-number\">105</span>,<span class=\"code-number\">98</span>,<span class=\"code-number\">45</span>,<span class=\"code-number\">104</span>,<span class=\"code-number\">108</span>,<span class=\"code-number\">115</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">24</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">17</span>]),u(T.avcC,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">1</span>,e.profileIdc,e.profileCompatibility,e.levelIdc,<span class=\"code-number\">255</span>].concat([n.length],a,[r.length],s))),u(T.btrt,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">28</span>,<span class=\"code-number\">156</span>,<span class=\"code-number\">128</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">45</span>,<span class=\"code-number\">198</span>,<span class=\"code-number\">192</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">45</span>,<span class=\"code-number\">198</span>,<span class=\"code-number\">192</span>]))],e.sarRatio&amp;&amp;(i=e.sarRatio[<span class=\"code-number\">0</span>],e=e.sarRatio[<span class=\"code-number\">1</span>],t.push(u(T.pasp,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([(<span class=\"code-number\">4278190080</span>&amp;i)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;i)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;i)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;i,(<span class=\"code-number\">4278190080</span>&amp;e)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e])))),u.apply(<span class=\"code-literal\">null</span>,t)},N=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.mp4a,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">65280</span>&amp;e.channelcount)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.channelcount,(<span class=\"code-number\">65280</span>&amp;e.samplesize)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.samplesize,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">65280</span>&amp;e.samplerate)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.samplerate,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]),i(e))},d=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">7</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">4278190080</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.id,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">4278190080</span>&amp;e.duration)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e.duration)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e.duration)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.duration,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">64</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">65280</span>&amp;e.width)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.width,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">65280</span>&amp;e.height)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.height,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">return</span> u(T.tkhd,e)},v=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=u(T.tfhd,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">58</span>,(<span class=\"code-number\">4278190080</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.id,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>])),n=<span class=\"code-built_in\">Math</span>.floor(e.baseMediaDecodeTime/V),r=<span class=\"code-built_in\">Math</span>.floor(e.baseMediaDecodeTime%V),n=u(T.tfdt,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,n&gt;&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>,n&gt;&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>,n&gt;&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>&amp;n,r&gt;&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>,r&gt;&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>,r&gt;&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>&amp;r]));<span class=\"code-keyword\">return</span><span class=\"code-string\">\"audio\"</span>===e.type?(t=b(e,<span class=\"code-number\">92</span>),u(T.traf,i,n,t)):(r=m(e),t=b(e,r.length+<span class=\"code-number\">92</span>),u(T.traf,i,n,t,r))},c=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.duration=e.duration||<span class=\"code-number\">4294967295</span>,u(T.trak,d(e),h(e))},_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,(<span class=\"code-number\">4278190080</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e.id)&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.id,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"video\"</span>!==e.type&amp;&amp;(t[t.length<span class=\"code-number\">-1</span>]=<span class=\"code-number\">0</span>),u(T.trex,t)},U=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>,a=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> e.length&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[<span class=\"code-number\">0</span>].duration&amp;&amp;(i=<span class=\"code-number\">1</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[<span class=\"code-number\">0</span>].size&amp;&amp;(n=<span class=\"code-number\">2</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[<span class=\"code-number\">0</span>].flags&amp;&amp;(r=<span class=\"code-number\">4</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e[<span class=\"code-number\">0</span>].compositionTimeOffset&amp;&amp;(a=<span class=\"code-number\">8</span>)),[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,i|n|r|a,<span class=\"code-number\">1</span>,(<span class=\"code-number\">4278190080</span>&amp;e.length)&gt;&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;e.length)&gt;&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;e.length)&gt;&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;e.length,(<span class=\"code-number\">4278190080</span>&amp;t)&gt;&gt;&gt;<span class=\"code-number\">24</span>,(<span class=\"code-number\">16711680</span>&amp;t)&gt;&gt;&gt;<span class=\"code-number\">16</span>,(<span class=\"code-number\">65280</span>&amp;t)&gt;&gt;&gt;<span class=\"code-number\">8</span>,<span class=\"code-number\">255</span>&amp;t]},B=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r,a,s=e.samples||[];<span class=\"code-keyword\">for</span>(t+=<span class=\"code-number\">20</span>+<span class=\"code-number\">16</span>*s.length,t=U(s,t),(n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.length+<span class=\"code-number\">16</span>*s.length)).set(t),i=t.length,a=<span class=\"code-number\">0</span>;a&lt;s.length;a++)r=s[a],n[i++]=(<span class=\"code-number\">4278190080</span>&amp;r.duration)&gt;&gt;&gt;<span class=\"code-number\">24</span>,n[i++]=(<span class=\"code-number\">16711680</span>&amp;r.duration)&gt;&gt;&gt;<span class=\"code-number\">16</span>,n[i++]=(<span class=\"code-number\">65280</span>&amp;r.duration)&gt;&gt;&gt;<span class=\"code-number\">8</span>,n[i++]=<span class=\"code-number\">255</span>&amp;r.duration,n[i++]=(<span class=\"code-number\">4278190080</span>&amp;r.size)&gt;&gt;&gt;<span class=\"code-number\">24</span>,n[i++]=(<span class=\"code-number\">16711680</span>&amp;r.size)&gt;&gt;&gt;<span class=\"code-number\">16</span>,n[i++]=(<span class=\"code-number\">65280</span>&amp;r.size)&gt;&gt;&gt;<span class=\"code-number\">8</span>,n[i++]=<span class=\"code-number\">255</span>&amp;r.size,n[i++]=r.flags.isLeading&lt;&lt;<span class=\"code-number\">2</span>|r.flags.dependsOn,n[i++]=r.flags.isDependedOn&lt;&lt;<span class=\"code-number\">6</span>|r.flags.hasRedundancy&lt;&lt;<span class=\"code-number\">4</span>|r.flags.paddingValue&lt;&lt;<span class=\"code-number\">1</span>|r.flags.isNonSyncSample,n[i++]=<span class=\"code-number\">61440</span>&amp;r.flags.degradationPriority,n[i++]=<span class=\"code-number\">15</span>&amp;r.flags.degradationPriority,n[i++]=(<span class=\"code-number\">4278190080</span>&amp;r.compositionTimeOffset)&gt;&gt;&gt;<span class=\"code-number\">24</span>,n[i++]=(<span class=\"code-number\">16711680</span>&amp;r.compositionTimeOffset)&gt;&gt;&gt;<span class=\"code-number\">16</span>,n[i++]=(<span class=\"code-number\">65280</span>&amp;r.compositionTimeOffset)&gt;&gt;&gt;<span class=\"code-number\">8</span>,n[i++]=<span class=\"code-number\">255</span>&amp;r.compositionTimeOffset;<span class=\"code-keyword\">return</span> u(T.trun,n)},F=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r,a,s=e.samples||[];<span class=\"code-keyword\">for</span>(t+=<span class=\"code-number\">20</span>+<span class=\"code-number\">8</span>*s.length,t=U(s,t),(i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.length+<span class=\"code-number\">8</span>*s.length)).set(t),n=t.length,a=<span class=\"code-number\">0</span>;a&lt;s.length;a++)r=s[a],i[n++]=(<span class=\"code-number\">4278190080</span>&amp;r.duration)&gt;&gt;&gt;<span class=\"code-number\">24</span>,i[n++]=(<span class=\"code-number\">16711680</span>&amp;r.duration)&gt;&gt;&gt;<span class=\"code-number\">16</span>,i[n++]=(<span class=\"code-number\">65280</span>&amp;r.duration)&gt;&gt;&gt;<span class=\"code-number\">8</span>,i[n++]=<span class=\"code-number\">255</span>&amp;r.duration,i[n++]=(<span class=\"code-number\">4278190080</span>&amp;r.size)&gt;&gt;&gt;<span class=\"code-number\">24</span>,i[n++]=(<span class=\"code-number\">16711680</span>&amp;r.size)&gt;&gt;&gt;<span class=\"code-number\">16</span>,i[n++]=(<span class=\"code-number\">65280</span>&amp;r.size)&gt;&gt;&gt;<span class=\"code-number\">8</span>,i[n++]=<span class=\"code-number\">255</span>&amp;r.size;<span class=\"code-keyword\">return</span> u(T.trun,i)},b=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-string\">\"audio\"</span>===e.type?F:B)(e,t)};n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> u(T.ftyp,S,w,S,E)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">W</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i={<span class=\"code-attr\">size</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">flags</span>:{<span class=\"code-attr\">isLeading</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">dependsOn</span>:<span class=\"code-number\">1</span>,<span class=\"code-attr\">isDependedOn</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">hasRedundancy</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">degradationPriority</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">isNonSyncSample</span>:<span class=\"code-number\">1</span>}};<span class=\"code-keyword\">return</span> i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=<span class=\"code-number\">4</span>*e.length,i.size+=e.byteLength,e.keyFrame&amp;&amp;(i.flags.dependsOn=<span class=\"code-number\">2</span>,i.flags.isNonSyncSample=<span class=\"code-number\">0</span>),i}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">G</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[];e--;)t.push(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">z</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,i;<span class=\"code-keyword\">return</span> X||(e={<span class=\"code-number\">96e3</span>:[ie,[<span class=\"code-number\">227</span>,<span class=\"code-number\">64</span>],G(<span class=\"code-number\">154</span>),[<span class=\"code-number\">56</span>]],<span class=\"code-number\">88200</span>:[ie,[<span class=\"code-number\">231</span>],G(<span class=\"code-number\">170</span>),[<span class=\"code-number\">56</span>]],<span class=\"code-number\">64e3</span>:[ie,[<span class=\"code-number\">248</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">240</span>),[<span class=\"code-number\">56</span>]],<span class=\"code-number\">48e3</span>:[ie,[<span class=\"code-number\">255</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">55</span>,<span class=\"code-number\">148</span>,<span class=\"code-number\">128</span>],G(<span class=\"code-number\">54</span>),[<span class=\"code-number\">112</span>]],<span class=\"code-number\">44100</span>:[ie,[<span class=\"code-number\">255</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">55</span>,<span class=\"code-number\">163</span>,<span class=\"code-number\">128</span>],G(<span class=\"code-number\">84</span>),[<span class=\"code-number\">112</span>]],<span class=\"code-number\">32e3</span>:[ie,[<span class=\"code-number\">255</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">55</span>,<span class=\"code-number\">234</span>],G(<span class=\"code-number\">226</span>),[<span class=\"code-number\">112</span>]],<span class=\"code-number\">24e3</span>:[ie,[<span class=\"code-number\">255</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">55</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">128</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">111</span>,<span class=\"code-number\">112</span>],G(<span class=\"code-number\">126</span>),[<span class=\"code-number\">224</span>]],<span class=\"code-number\">16e3</span>:[ie,[<span class=\"code-number\">255</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">55</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">128</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">111</span>,<span class=\"code-number\">255</span>],G(<span class=\"code-number\">269</span>),[<span class=\"code-number\">223</span>,<span class=\"code-number\">108</span>],G(<span class=\"code-number\">195</span>),[<span class=\"code-number\">1</span>,<span class=\"code-number\">192</span>]],<span class=\"code-number\">12e3</span>:[ne,G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">3</span>,<span class=\"code-number\">127</span>,<span class=\"code-number\">248</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">6</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">240</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">13</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">224</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">27</span>,<span class=\"code-number\">253</span>,<span class=\"code-number\">128</span>],G(<span class=\"code-number\">259</span>),[<span class=\"code-number\">56</span>]],<span class=\"code-number\">11025</span>:[ne,G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">3</span>,<span class=\"code-number\">127</span>,<span class=\"code-number\">248</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">6</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">240</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">13</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">224</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">27</span>,<span class=\"code-number\">255</span>,<span class=\"code-number\">192</span>],G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">55</span>,<span class=\"code-number\">175</span>,<span class=\"code-number\">128</span>],G(<span class=\"code-number\">108</span>),[<span class=\"code-number\">112</span>]],<span class=\"code-number\">8e3</span>:[ne,G(<span class=\"code-number\">268</span>),[<span class=\"code-number\">3</span>,<span class=\"code-number\">121</span>,<span class=\"code-number\">16</span>],G(<span class=\"code-number\">47</span>),[<span class=\"code-number\">7</span>]]},i=e,X=<span class=\"code-built_in\">Object</span>.keys(i).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e[t]=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(i[t].reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.concat(t)},[])),e},{})),X}<span class=\"code-keyword\">var</span> X,K=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> u(T.mdat,e)},Y=We,Q=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=n(),i=s(e),e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t.byteLength+i.byteLength);<span class=\"code-keyword\">return</span> e.set(t),e.set(i,t.byteLength),e},$=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=[],r=[];<span class=\"code-keyword\">for</span>(r.byteLength=<span class=\"code-number\">0</span>,r.nalCount=<span class=\"code-number\">0</span>,r.duration=<span class=\"code-number\">0</span>,t=n.byteLength=<span class=\"code-number\">0</span>;t&lt;e.length;t++)<span class=\"code-string\">\"access_unit_delimiter_rbsp\"</span>===(i=e[t]).nalUnitType?(n.length&amp;&amp;(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):(<span class=\"code-string\">\"slice_layer_without_partitioning_rbsp_idr\"</span>===i.nalUnitType&amp;&amp;(n.keyFrame=!<span class=\"code-number\">0</span>),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));<span class=\"code-keyword\">return</span> r.length&amp;&amp;(!n.duration||n.duration&lt;=<span class=\"code-number\">0</span>)&amp;&amp;(n.duration=r[r.length<span class=\"code-number\">-1</span>].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},J=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=[],r=[];<span class=\"code-keyword\">for</span>(n.byteLength=<span class=\"code-number\">0</span>,n.nalCount=<span class=\"code-number\">0</span>,n.duration=<span class=\"code-number\">0</span>,n.pts=e[<span class=\"code-number\">0</span>].pts,n.dts=e[<span class=\"code-number\">0</span>].dts,r.byteLength=<span class=\"code-number\">0</span>,r.nalCount=<span class=\"code-number\">0</span>,r.duration=<span class=\"code-number\">0</span>,r.pts=e[<span class=\"code-number\">0</span>].pts,r.dts=e[<span class=\"code-number\">0</span>].dts,t=<span class=\"code-number\">0</span>;t&lt;e.length;t++)(i=e[t]).keyFrame?(n.length&amp;&amp;(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));<span class=\"code-keyword\">return</span> r.length&amp;&amp;n.duration&lt;=<span class=\"code-number\">0</span>&amp;&amp;(n.duration=r[r.length<span class=\"code-number\">-1</span>].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},Z=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">return</span>!e[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>].keyFrame&amp;&amp;<span class=\"code-number\">1</span>&lt;e.length&amp;&amp;(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>].dts=t.dts,e[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>].pts=t.pts,e[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>].duration+=t.duration),e},ee=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n,r,a=t||<span class=\"code-number\">0</span>,s=[],o=<span class=\"code-number\">0</span>;o&lt;e.length;o++)<span class=\"code-keyword\">for</span>(n=e[o],i=<span class=\"code-number\">0</span>;i&lt;n.length;i++)r=n[i],a+=(r=W(r,a)).size,s.push(r);<span class=\"code-keyword\">return</span> s},te=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n,r,a,s=<span class=\"code-number\">0</span>,o=e.byteLength,u=e.nalCount,l=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(o+<span class=\"code-number\">4</span>*u),c=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(l.buffer),d=<span class=\"code-number\">0</span>;d&lt;e.length;d++)<span class=\"code-keyword\">for</span>(n=e[d],t=<span class=\"code-number\">0</span>;t&lt;n.length;t++)<span class=\"code-keyword\">for</span>(r=n[t],i=<span class=\"code-number\">0</span>;i&lt;r.length;i++)a=r[i],c.setUint32(s,a.data.byteLength),l.set(a.data,s+=<span class=\"code-number\">4</span>),s+=a.data.byteLength;<span class=\"code-keyword\">return</span> l},ie=[<span class=\"code-number\">33</span>,<span class=\"code-number\">16</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">32</span>,<span class=\"code-number\">164</span>,<span class=\"code-number\">27</span>],ne=[<span class=\"code-number\">33</span>,<span class=\"code-number\">65</span>,<span class=\"code-number\">108</span>,<span class=\"code-number\">84</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">168</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">17</span>,<span class=\"code-number\">191</span>,<span class=\"code-number\">252</span>],re=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">9e4</span>*e},ae=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e*t},se=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e/<span class=\"code-number\">9e4</span>},oe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e/t},ue=<span class=\"code-number\">9e4</span>,le=re,ce=se,de=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> re(oe(e,t))},he=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> ae(se(e),t)},pe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> se(i?e:e-t)},fe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r,a,s,o,u,l,c=<span class=\"code-number\">0</span>,d=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(t.length&amp;&amp;(r=de(e.baseMediaDecodeTime,e.samplerate),a=<span class=\"code-built_in\">Math</span>.ceil(ue/(e.samplerate/<span class=\"code-number\">1024</span>)),i&amp;&amp;n&amp;&amp;(s=r-<span class=\"code-built_in\">Math</span>.max(i,n),d=(c=<span class=\"code-built_in\">Math</span>.floor(s/a))*a),!(c&lt;<span class=\"code-number\">1</span>||ue/<span class=\"code-number\">2</span>&lt;d))){<span class=\"code-keyword\">for</span>(o=(o=z()[e.samplerate])||t[<span class=\"code-number\">0</span>].data,u=<span class=\"code-number\">0</span>;u&lt;c;u++)l=t[<span class=\"code-number\">0</span>],t.splice(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,{<span class=\"code-attr\">data</span>:o,<span class=\"code-attr\">dts</span>:l.dts-a,<span class=\"code-attr\">pts</span>:l.pts-a});<span class=\"code-keyword\">return</span> e.baseMediaDecodeTime-=<span class=\"code-built_in\">Math</span>.floor(he(d,e.samplerate)),d}},me=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> t.minSegmentDts&gt;=i?e:(t.minSegmentDts=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.dts&gt;=i&amp;&amp;(t.minSegmentDts=<span class=\"code-built_in\">Math</span>.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!<span class=\"code-number\">0</span>)}))},ge=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=[],n=<span class=\"code-number\">0</span>;n&lt;e.length;n++)t=e[n],i.push({<span class=\"code-attr\">size</span>:t.data.byteLength,<span class=\"code-attr\">duration</span>:<span class=\"code-number\">1024</span>});<span class=\"code-keyword\">return</span> i},ye=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">0</span>,n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)t+=e[i].data.byteLength;<span class=\"code-keyword\">return</span> t}(e)),r=<span class=\"code-number\">0</span>;r&lt;e.length;r++)t=e[r],n.set(t.data,i),i+=t.data.byteLength;<span class=\"code-keyword\">return</span> n},ve=ue,_e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">delete</span> e.minSegmentDts,<span class=\"code-keyword\">delete</span> e.maxSegmentDts,<span class=\"code-keyword\">delete</span> e.minSegmentPts,<span class=\"code-keyword\">delete</span> e.maxSegmentPts},be=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e.minSegmentDts;<span class=\"code-keyword\">return</span> t||(i-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=<span class=\"code-built_in\">Math</span>.max(<span class=\"code-number\">0</span>,t),<span class=\"code-string\">\"audio\"</span>===e.type&amp;&amp;(t*=e.samplerate/ve,t=<span class=\"code-built_in\">Math</span>.floor(t)),t},Te=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.pts&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.timelineStartInfo.pts&amp;&amp;(e.timelineStartInfo.pts=t.pts),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=<span class=\"code-built_in\">Math</span>.min(e.minSegmentPts,t.pts),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=<span class=\"code-built_in\">Math</span>.max(e.maxSegmentPts,t.pts)),<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.dts&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.timelineStartInfo.dts&amp;&amp;(e.timelineStartInfo.dts=t.dts),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=<span class=\"code-built_in\">Math</span>.min(e.minSegmentDts,t.dts),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=<span class=\"code-built_in\">Math</span>.max(e.maxSegmentDts,t.dts))},Se=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,i={<span class=\"code-attr\">payloadType</span>:<span class=\"code-number\">-1</span>,<span class=\"code-attr\">payloadSize</span>:<span class=\"code-number\">0</span>},n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>;t&lt;e.byteLength&amp;&amp;<span class=\"code-number\">128</span>!==e[t];){<span class=\"code-keyword\">for</span>(;<span class=\"code-number\">255</span>===e[t];)n+=<span class=\"code-number\">255</span>,t++;<span class=\"code-keyword\">for</span>(n+=e[t++];<span class=\"code-number\">255</span>===e[t];)r+=<span class=\"code-number\">255</span>,t++;<span class=\"code-keyword\">if</span>(r+=e[t++],!i.payload&amp;&amp;<span class=\"code-number\">4</span>===n){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"GA94\"</span>===<span class=\"code-built_in\">String</span>.fromCharCode(e[t+<span class=\"code-number\">3</span>],e[t+<span class=\"code-number\">4</span>],e[t+<span class=\"code-number\">5</span>],e[t+<span class=\"code-number\">6</span>])){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);<span class=\"code-keyword\">break</span>}i.payload=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}t+=r,r=n=<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span> i},we=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">181</span>!==e.payload[<span class=\"code-number\">0</span>]||<span class=\"code-number\">49</span>!=(e.payload[<span class=\"code-number\">1</span>]&lt;&lt;<span class=\"code-number\">8</span>|e.payload[<span class=\"code-number\">2</span>])||<span class=\"code-string\">\"GA94\"</span>!==<span class=\"code-built_in\">String</span>.fromCharCode(e.payload[<span class=\"code-number\">3</span>],e.payload[<span class=\"code-number\">4</span>],e.payload[<span class=\"code-number\">5</span>],e.payload[<span class=\"code-number\">6</span>])||<span class=\"code-number\">3</span>!==e.payload[<span class=\"code-number\">7</span>]?<span class=\"code-literal\">null</span>:e.payload.subarray(<span class=\"code-number\">8</span>,e.payload.length<span class=\"code-number\">-1</span>)},Ee=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r,a,s=[];<span class=\"code-keyword\">if</span>(!(<span class=\"code-number\">64</span>&amp;t[<span class=\"code-number\">0</span>]))<span class=\"code-keyword\">return</span> s;<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">31</span>&amp;t[<span class=\"code-number\">0</span>],i=<span class=\"code-number\">0</span>;i&lt;n;i++)a={<span class=\"code-attr\">type</span>:<span class=\"code-number\">3</span>&amp;t[<span class=\"code-number\">2</span>+(r=<span class=\"code-number\">3</span>*i)],<span class=\"code-attr\">pts</span>:e},<span class=\"code-number\">4</span>&amp;t[<span class=\"code-number\">2</span>+r]&amp;&amp;(a.ccData=t[<span class=\"code-number\">3</span>+r]&lt;&lt;<span class=\"code-number\">8</span>|t[<span class=\"code-number\">4</span>+r],s.push(a));<span class=\"code-keyword\">return</span> s},ke=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.byteLength,i=[],n=<span class=\"code-number\">1</span>;n&lt;t<span class=\"code-number\">-2</span>;)<span class=\"code-number\">0</span>===e[n]&amp;&amp;<span class=\"code-number\">0</span>===e[n+<span class=\"code-number\">1</span>]&amp;&amp;<span class=\"code-number\">3</span>===e[n+<span class=\"code-number\">2</span>]?(i.push(n+<span class=\"code-number\">2</span>),n+=<span class=\"code-number\">2</span>):n++;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===i.length)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=t-i.length,a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(r),s=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>;n&lt;r;s++,n++)s===i[<span class=\"code-number\">0</span>]&amp;&amp;(s++,i.shift()),a[n]=e[s];<span class=\"code-keyword\">return</span> a},Ce=<span class=\"code-number\">4</span>,Ie=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{t=t||{},e.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.parse708captions_=<span class=\"code-string\">\"boolean\"</span>!=<span class=\"code-keyword\">typeof</span> t.parse708captions||t.parse708captions,<span class=\"code-keyword\">this</span>.captionPackets_=[],<span class=\"code-keyword\">this</span>.ccStreams_=[<span class=\"code-keyword\">new</span> Ue(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Ue(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>),<span class=\"code-keyword\">new</span> Ue(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>),<span class=\"code-keyword\">new</span> Ue(<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>)],<span class=\"code-keyword\">this</span>.parse708captions_&amp;&amp;(<span class=\"code-keyword\">this</span>.cc708Stream_=<span class=\"code-keyword\">new</span> De({<span class=\"code-attr\">captionServices</span>:t.captionServices})),<span class=\"code-keyword\">this</span>.reset(),<span class=\"code-keyword\">this</span>.ccStreams_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"data\"</span>)),e.on(<span class=\"code-string\">\"partialdone\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"partialdone\"</span>)),e.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"done\"</span>))},<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.parse708captions_&amp;&amp;(<span class=\"code-keyword\">this</span>.cc708Stream_.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"data\"</span>)),<span class=\"code-keyword\">this</span>.cc708Stream_.on(<span class=\"code-string\">\"partialdone\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"partialdone\"</span>)),<span class=\"code-keyword\">this</span>.cc708Stream_.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"done\"</span>)))};(Ie.prototype=<span class=\"code-keyword\">new</span> j).push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"sei_rbsp\"</span>===e.nalUnitType&amp;&amp;(t=Se(e.escapedRBSP)).payload&amp;&amp;t.payloadType===Ce&amp;&amp;(i=we(t)))<span class=\"code-keyword\">if</span>(e.dts&lt;<span class=\"code-keyword\">this</span>.latestDts_)<span class=\"code-keyword\">this</span>.ignoreNextEqualDts_=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(e.dts===<span class=\"code-keyword\">this</span>.latestDts_&amp;&amp;<span class=\"code-keyword\">this</span>.ignoreNextEqualDts_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.numSameDts_--,<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.numSameDts_||(<span class=\"code-keyword\">this</span>.ignoreNextEqualDts_=!<span class=\"code-number\">1</span>));i=Ee(e.pts,i),<span class=\"code-keyword\">this</span>.captionPackets_=<span class=\"code-keyword\">this</span>.captionPackets_.concat(i),<span class=\"code-keyword\">this</span>.latestDts_!==e.dts&amp;&amp;(<span class=\"code-keyword\">this</span>.numSameDts_=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.numSameDts_++,<span class=\"code-keyword\">this</span>.latestDts_=e.dts}},Ie.prototype.flushCCStreams=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.ccStreams_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"flush\"</span>===t?e.flush():e.partialFlush()},<span class=\"code-keyword\">this</span>)},Ie.prototype.flushStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.captionPackets_.length&amp;&amp;(<span class=\"code-keyword\">this</span>.captionPackets_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.presortIndex=t}),<span class=\"code-keyword\">this</span>.captionPackets_.sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),<span class=\"code-keyword\">this</span>.captionPackets_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.type&lt;<span class=\"code-number\">2</span>?<span class=\"code-keyword\">this</span>.dispatchCea608Packet(e):<span class=\"code-keyword\">this</span>.dispatchCea708Packet(e)},<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.captionPackets_.length=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.flushCCStreams(e)},Ie.prototype.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.flushStream(<span class=\"code-string\">\"flush\"</span>)},Ie.prototype.partialFlush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.flushStream(<span class=\"code-string\">\"partialFlush\"</span>)},Ie.prototype.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.latestDts_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.ignoreNextEqualDts_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.numSameDts_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.activeCea608Channel_=[<span class=\"code-literal\">null</span>,<span class=\"code-literal\">null</span>],<span class=\"code-keyword\">this</span>.ccStreams_.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.reset()})},Ie.prototype.dispatchCea608Packet=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.setsTextOrXDSActive(e)?<span class=\"code-keyword\">this</span>.activeCea608Channel_[e.type]=<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.setsChannel1Active(e)?<span class=\"code-keyword\">this</span>.activeCea608Channel_[e.type]=<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.setsChannel2Active(e)&amp;&amp;(<span class=\"code-keyword\">this</span>.activeCea608Channel_[e.type]=<span class=\"code-number\">1</span>),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.activeCea608Channel_[e.type]&amp;&amp;<span class=\"code-keyword\">this</span>.ccStreams_[(e.type&lt;&lt;<span class=\"code-number\">1</span>)+<span class=\"code-keyword\">this</span>.activeCea608Channel_[e.type]].push(e)},Ie.prototype.setsChannel1Active=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">4096</span>==(<span class=\"code-number\">30720</span>&amp;e.ccData)},Ie.prototype.setsChannel2Active=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">6144</span>==(<span class=\"code-number\">30720</span>&amp;e.ccData)},Ie.prototype.setsTextOrXDSActive=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">256</span>==(<span class=\"code-number\">28928</span>&amp;e.ccData)||<span class=\"code-number\">4138</span>==(<span class=\"code-number\">30974</span>&amp;e.ccData)||<span class=\"code-number\">6186</span>==(<span class=\"code-number\">30974</span>&amp;e.ccData)},Ie.prototype.dispatchCea708Packet=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.parse708captions_&amp;&amp;<span class=\"code-keyword\">this</span>.cc708Stream_.push(e)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">32</span>&lt;=e&amp;&amp;e&lt;=<span class=\"code-number\">127</span>||<span class=\"code-number\">160</span>&lt;=e&amp;&amp;e&lt;=<span class=\"code-number\">255</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ae</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.windowNum=e,<span class=\"code-keyword\">this</span>.reset()}<span class=\"code-keyword\">var</span> Pe={<span class=\"code-number\">127</span>:<span class=\"code-number\">9834</span>,<span class=\"code-number\">4128</span>:<span class=\"code-number\">32</span>,<span class=\"code-number\">4129</span>:<span class=\"code-number\">160</span>,<span class=\"code-number\">4133</span>:<span class=\"code-number\">8230</span>,<span class=\"code-number\">4138</span>:<span class=\"code-number\">352</span>,<span class=\"code-number\">4140</span>:<span class=\"code-number\">338</span>,<span class=\"code-number\">4144</span>:<span class=\"code-number\">9608</span>,<span class=\"code-number\">4145</span>:<span class=\"code-number\">8216</span>,<span class=\"code-number\">4146</span>:<span class=\"code-number\">8217</span>,<span class=\"code-number\">4147</span>:<span class=\"code-number\">8220</span>,<span class=\"code-number\">4148</span>:<span class=\"code-number\">8221</span>,<span class=\"code-number\">4149</span>:<span class=\"code-number\">8226</span>,<span class=\"code-number\">4153</span>:<span class=\"code-number\">8482</span>,<span class=\"code-number\">4154</span>:<span class=\"code-number\">353</span>,<span class=\"code-number\">4156</span>:<span class=\"code-number\">339</span>,<span class=\"code-number\">4157</span>:<span class=\"code-number\">8480</span>,<span class=\"code-number\">4159</span>:<span class=\"code-number\">376</span>,<span class=\"code-number\">4214</span>:<span class=\"code-number\">8539</span>,<span class=\"code-number\">4215</span>:<span class=\"code-number\">8540</span>,<span class=\"code-number\">4216</span>:<span class=\"code-number\">8541</span>,<span class=\"code-number\">4217</span>:<span class=\"code-number\">8542</span>,<span class=\"code-number\">4218</span>:<span class=\"code-number\">9168</span>,<span class=\"code-number\">4219</span>:<span class=\"code-number\">9124</span>,<span class=\"code-number\">4220</span>:<span class=\"code-number\">9123</span>,<span class=\"code-number\">4221</span>:<span class=\"code-number\">9135</span>,<span class=\"code-number\">4222</span>:<span class=\"code-number\">9126</span>,<span class=\"code-number\">4223</span>:<span class=\"code-number\">9121</span>,<span class=\"code-number\">4256</span>:<span class=\"code-number\">12600</span>};Ae.prototype.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clearText(),<span class=\"code-keyword\">this</span>.pendingNewLine=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.winAttr={},<span class=\"code-keyword\">this</span>.penAttr={},<span class=\"code-keyword\">this</span>.penLoc={},<span class=\"code-keyword\">this</span>.penColor={},<span class=\"code-keyword\">this</span>.visible=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.rowLock=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.columnLock=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.priority=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.relativePositioning=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.anchorVertical=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.anchorHorizontal=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.anchorPoint=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.rowCount=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.virtualRowCount=<span class=\"code-keyword\">this</span>.rowCount+<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.columnCount=<span class=\"code-number\">41</span>,<span class=\"code-keyword\">this</span>.windowStyle=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.penStyle=<span class=\"code-number\">0</span>},Ae.prototype.getText=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.rows.join(<span class=\"code-string\">\"\\n\"</span>)},Ae.prototype.clearText=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.rows=[<span class=\"code-string\">\"\"</span>],<span class=\"code-keyword\">this</span>.rowIdx=<span class=\"code-number\">0</span>},Ae.prototype.newLine=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">this</span>.rows.length&gt;=<span class=\"code-keyword\">this</span>.virtualRowCount&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.beforeRowOverflow&amp;&amp;<span class=\"code-keyword\">this</span>.beforeRowOverflow(e),<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.rows.length&amp;&amp;(<span class=\"code-keyword\">this</span>.rows.push(<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">this</span>.rowIdx++);<span class=\"code-keyword\">this</span>.rows.length&gt;<span class=\"code-keyword\">this</span>.virtualRowCount;)<span class=\"code-keyword\">this</span>.rows.shift(),<span class=\"code-keyword\">this</span>.rowIdx--},Ae.prototype.isEmpty=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.rows.length||<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.rows.length&amp;&amp;<span class=\"code-string\">\"\"</span>===<span class=\"code-keyword\">this</span>.rows[<span class=\"code-number\">0</span>]},Ae.prototype.addText=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.rows[<span class=\"code-keyword\">this</span>.rowIdx]+=e},Ae.prototype.backspace=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.isEmpty()||(e=<span class=\"code-keyword\">this</span>.rows[<span class=\"code-keyword\">this</span>.rowIdx],<span class=\"code-keyword\">this</span>.rows[<span class=\"code-keyword\">this</span>.rowIdx]=e.substr(<span class=\"code-number\">0</span>,e.length<span class=\"code-number\">-1</span>))};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Le</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">this</span>.serviceNum=e,<span class=\"code-keyword\">this</span>.text=<span class=\"code-string\">\"\"</span>,<span class=\"code-keyword\">this</span>.currentWindow=<span class=\"code-keyword\">new</span> Ae(<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">this</span>.windows=[],<span class=\"code-keyword\">this</span>.stream=i,<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;<span class=\"code-keyword\">this</span>.createTextDecoder(t)}Le.prototype.init=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.startPts=e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-number\">8</span>;i++)<span class=\"code-keyword\">this</span>.windows[i]=<span class=\"code-keyword\">new</span> Ae(i),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;(<span class=\"code-keyword\">this</span>.windows[i].beforeRowOverflow=t)},Le.prototype.setCurrentWindow=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.currentWindow=<span class=\"code-keyword\">this</span>.windows[e]},Le.prototype.createTextDecoder=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> TextDecoder)<span class=\"code-keyword\">this</span>.stream.trigger(<span class=\"code-string\">\"log\"</span>,{<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"The `encoding` option is unsupported without TextDecoder support\"</span>});<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">this</span>.textDecoder_=<span class=\"code-keyword\">new</span> TextDecoder(t)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">this</span>.stream.trigger(<span class=\"code-string\">\"log\"</span>,{<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"TextDecoder could not be created with \"</span>+t+<span class=\"code-string\">\" encoding. \"</span>+e})}};<span class=\"code-keyword\">var</span> De=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{t=t||{},e.prototype.init.call(<span class=\"code-keyword\">this</span>);<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>,r=t.captionServices||{},a={};<span class=\"code-built_in\">Object</span>.keys(r).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i=r[e],/^SERVICE/.test(e)&amp;&amp;(a[e]=i.encoding)}),<span class=\"code-keyword\">this</span>.serviceEncodings=a,<span class=\"code-keyword\">this</span>.current708Packet=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.services={},<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{(<span class=\"code-number\">3</span>===e.type||<span class=\"code-literal\">null</span>===n.current708Packet)&amp;&amp;n.new708Packet(),n.add708Bytes(e)}};De.prototype=<span class=\"code-keyword\">new</span> j,De.prototype.new708Packet=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.current708Packet&amp;&amp;<span class=\"code-keyword\">this</span>.push708Packet(),<span class=\"code-keyword\">this</span>.current708Packet={<span class=\"code-attr\">data</span>:[],<span class=\"code-attr\">ptsVals</span>:[]}},De.prototype.add708Bytes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.ccData,i=t&gt;&gt;&gt;<span class=\"code-number\">8</span>,t=<span class=\"code-number\">255</span>&amp;t;<span class=\"code-keyword\">this</span>.current708Packet.ptsVals.push(e.pts),<span class=\"code-keyword\">this</span>.current708Packet.data.push(i),<span class=\"code-keyword\">this</span>.current708Packet.data.push(t)},De.prototype.push708Packet=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>.current708Packet,i=t.data,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-number\">0</span>,a=i[r++];<span class=\"code-keyword\">for</span>(t.seq=a&gt;&gt;<span class=\"code-number\">6</span>,t.sizeCode=<span class=\"code-number\">63</span>&amp;a;r&lt;i.length;r++)e=<span class=\"code-number\">31</span>&amp;(a=i[r++]),<span class=\"code-number\">7</span>===(n=a&gt;&gt;<span class=\"code-number\">5</span>)&amp;&amp;<span class=\"code-number\">0</span>&lt;e&amp;&amp;(n=i[r++]),<span class=\"code-keyword\">this</span>.pushServiceBlock(n,r,e),<span class=\"code-number\">0</span>&lt;e&amp;&amp;(r+=e<span class=\"code-number\">-1</span>)},De.prototype.pushServiceBlock=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r=t,a=<span class=\"code-keyword\">this</span>.current708Packet.data,s=(s=<span class=\"code-keyword\">this</span>.services[e])||<span class=\"code-keyword\">this</span>.initService(e,r);r&lt;t+i&amp;&amp;r&lt;a.length;r++)n=a[r],xe(n)?r=<span class=\"code-keyword\">this</span>.handleText(r,s):<span class=\"code-number\">24</span>===n?r=<span class=\"code-keyword\">this</span>.multiByteCharacter(r,s):<span class=\"code-number\">16</span>===n?r=<span class=\"code-keyword\">this</span>.extendedCommands(r,s):<span class=\"code-number\">128</span>&lt;=n&amp;&amp;n&lt;=<span class=\"code-number\">135</span>?r=<span class=\"code-keyword\">this</span>.setCurrentWindow(r,s):<span class=\"code-number\">152</span>&lt;=n&amp;&amp;n&lt;=<span class=\"code-number\">159</span>?r=<span class=\"code-keyword\">this</span>.defineWindow(r,s):<span class=\"code-number\">136</span>===n?r=<span class=\"code-keyword\">this</span>.clearWindows(r,s):<span class=\"code-number\">140</span>===n?r=<span class=\"code-keyword\">this</span>.deleteWindows(r,s):<span class=\"code-number\">137</span>===n?r=<span class=\"code-keyword\">this</span>.displayWindows(r,s):<span class=\"code-number\">138</span>===n?r=<span class=\"code-keyword\">this</span>.hideWindows(r,s):<span class=\"code-number\">139</span>===n?r=<span class=\"code-keyword\">this</span>.toggleWindows(r,s):<span class=\"code-number\">151</span>===n?r=<span class=\"code-keyword\">this</span>.setWindowAttributes(r,s):<span class=\"code-number\">144</span>===n?r=<span class=\"code-keyword\">this</span>.setPenAttributes(r,s):<span class=\"code-number\">145</span>===n?r=<span class=\"code-keyword\">this</span>.setPenColor(r,s):<span class=\"code-number\">146</span>===n?r=<span class=\"code-keyword\">this</span>.setPenLocation(r,s):<span class=\"code-number\">143</span>===n?s=<span class=\"code-keyword\">this</span>.reset(r,s):<span class=\"code-number\">8</span>===n?s.currentWindow.backspace():<span class=\"code-number\">12</span>===n?s.currentWindow.clearText():<span class=\"code-number\">13</span>===n?s.currentWindow.pendingNewLine=!<span class=\"code-number\">0</span>:<span class=\"code-number\">14</span>===n?s.currentWindow.clearText():<span class=\"code-number\">141</span>===n&amp;&amp;r++},De.prototype.extendedCommands=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[++e];<span class=\"code-keyword\">return</span> e=xe(i)?<span class=\"code-keyword\">this</span>.handleText(e,t,{<span class=\"code-attr\">isExtended</span>:!<span class=\"code-number\">0</span>}):e},De.prototype.getPts=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.current708Packet.ptsVals[<span class=\"code-built_in\">Math</span>.floor(e/<span class=\"code-number\">2</span>)]},De.prototype.initService=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> i,n=<span class=\"code-string\">\"SERVICE\"</span>+t,r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> n <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.serviceEncodings&amp;&amp;(i=<span class=\"code-keyword\">this</span>.serviceEncodings[n]),<span class=\"code-keyword\">this</span>.services[t]=<span class=\"code-keyword\">new</span> Le(t,i,r),<span class=\"code-keyword\">this</span>.services[t].init(<span class=\"code-keyword\">this</span>.getPts(e),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r.flushDisplayed(e,r.services[t])}),<span class=\"code-keyword\">this</span>.services[t]},De.prototype.handleText=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r=i&amp;&amp;i.isExtended,a=i&amp;&amp;i.isMultiByte,s=<span class=\"code-keyword\">this</span>.current708Packet.data,o=r?<span class=\"code-number\">4096</span>:<span class=\"code-number\">0</span>,u=s[e],i=s[e+<span class=\"code-number\">1</span>],s=t.currentWindow,l=t.textDecoder_&amp;&amp;!r?(a?(n=[u,i],e++):n=[u],t.textDecoder_.decode(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n))):(l=Pe[u=o|u]||u,<span class=\"code-number\">4096</span>&amp;u&amp;&amp;u===l?<span class=\"code-string\">\"\"</span>:<span class=\"code-built_in\">String</span>.fromCharCode(l));<span class=\"code-keyword\">return</span> s.pendingNewLine&amp;&amp;!s.isEmpty()&amp;&amp;s.newLine(<span class=\"code-keyword\">this</span>.getPts(e)),s.pendingNewLine=!<span class=\"code-number\">1</span>,s.addText(l),e},De.prototype.multiByteCharacter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data,n=i[e+<span class=\"code-number\">1</span>],i=i[e+<span class=\"code-number\">2</span>];<span class=\"code-keyword\">return</span> e=xe(n)&amp;&amp;xe(i)?<span class=\"code-keyword\">this</span>.handleText(++e,t,{<span class=\"code-attr\">isMultiByte</span>:!<span class=\"code-number\">0</span>}):e},De.prototype.setCurrentWindow=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[e];<span class=\"code-keyword\">return</span> t.setCurrentWindow(<span class=\"code-number\">7</span>&amp;i),e},De.prototype.defineWindow=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data,n=i[e];t.setCurrentWindow(<span class=\"code-number\">7</span>&amp;n);t=t.currentWindow,n=i[++e];<span class=\"code-keyword\">return</span> t.visible=(<span class=\"code-number\">32</span>&amp;n)&gt;&gt;<span class=\"code-number\">5</span>,t.rowLock=(<span class=\"code-number\">16</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.columnLock=(<span class=\"code-number\">8</span>&amp;n)&gt;&gt;<span class=\"code-number\">3</span>,t.priority=<span class=\"code-number\">7</span>&amp;n,n=i[++e],t.relativePositioning=(<span class=\"code-number\">128</span>&amp;n)&gt;&gt;<span class=\"code-number\">7</span>,t.anchorVertical=<span class=\"code-number\">127</span>&amp;n,n=i[++e],t.anchorHorizontal=n,n=i[++e],t.anchorPoint=(<span class=\"code-number\">240</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.rowCount=<span class=\"code-number\">15</span>&amp;n,n=i[++e],t.columnCount=<span class=\"code-number\">63</span>&amp;n,n=i[++e],t.windowStyle=(<span class=\"code-number\">56</span>&amp;n)&gt;&gt;<span class=\"code-number\">3</span>,t.penStyle=<span class=\"code-number\">7</span>&amp;n,t.virtualRowCount=t.rowCount+<span class=\"code-number\">1</span>,e},De.prototype.setWindowAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data,n=i[e],t=t.currentWindow.winAttr,n=i[++e];<span class=\"code-keyword\">return</span> t.fillOpacity=(<span class=\"code-number\">192</span>&amp;n)&gt;&gt;<span class=\"code-number\">6</span>,t.fillRed=(<span class=\"code-number\">48</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.fillGreen=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.fillBlue=<span class=\"code-number\">3</span>&amp;n,n=i[++e],t.borderType=(<span class=\"code-number\">192</span>&amp;n)&gt;&gt;<span class=\"code-number\">6</span>,t.borderRed=(<span class=\"code-number\">48</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.borderGreen=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.borderBlue=<span class=\"code-number\">3</span>&amp;n,n=i[++e],t.borderType+=(<span class=\"code-number\">128</span>&amp;n)&gt;&gt;<span class=\"code-number\">5</span>,t.wordWrap=(<span class=\"code-number\">64</span>&amp;n)&gt;&gt;<span class=\"code-number\">6</span>,t.printDirection=(<span class=\"code-number\">48</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.scrollDirection=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.justify=<span class=\"code-number\">3</span>&amp;n,n=i[++e],t.effectSpeed=(<span class=\"code-number\">240</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.effectDirection=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.displayEffect=<span class=\"code-number\">3</span>&amp;n,e},De.prototype.flushDisplayed=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=[],n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-number\">8</span>;n++)t.windows[n].visible&amp;&amp;!t.windows[n].isEmpty()&amp;&amp;i.push(t.windows[n].getText());t.endPts=e,t.text=i.join(<span class=\"code-string\">\"\\n\\n\"</span>),<span class=\"code-keyword\">this</span>.pushCaption(t),t.startPts=e},De.prototype.pushCaption=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"\"</span>!==e.text&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">startPts</span>:e.startPts,<span class=\"code-attr\">endPts</span>:e.endPts,<span class=\"code-attr\">text</span>:e.text,<span class=\"code-attr\">stream</span>:<span class=\"code-string\">\"cc708_\"</span>+e.serviceNum}),e.text=<span class=\"code-string\">\"\"</span>,e.startPts=e.endPts)},De.prototype.displayWindows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[++e],n=<span class=\"code-keyword\">this</span>.getPts(e);<span class=\"code-keyword\">this</span>.flushDisplayed(n,t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">8</span>;r++)i&amp;<span class=\"code-number\">1</span>&lt;&lt;r&amp;&amp;(t.windows[r].visible=<span class=\"code-number\">1</span>);<span class=\"code-keyword\">return</span> e},De.prototype.hideWindows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[++e],n=<span class=\"code-keyword\">this</span>.getPts(e);<span class=\"code-keyword\">this</span>.flushDisplayed(n,t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">8</span>;r++)i&amp;<span class=\"code-number\">1</span>&lt;&lt;r&amp;&amp;(t.windows[r].visible=<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> e},De.prototype.toggleWindows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[++e],n=<span class=\"code-keyword\">this</span>.getPts(e);<span class=\"code-keyword\">this</span>.flushDisplayed(n,t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">8</span>;r++)i&amp;<span class=\"code-number\">1</span>&lt;&lt;r&amp;&amp;(t.windows[r].visible^=<span class=\"code-number\">1</span>);<span class=\"code-keyword\">return</span> e},De.prototype.clearWindows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[++e],n=<span class=\"code-keyword\">this</span>.getPts(e);<span class=\"code-keyword\">this</span>.flushDisplayed(n,t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">8</span>;r++)i&amp;<span class=\"code-number\">1</span>&lt;&lt;r&amp;&amp;t.windows[r].clearText();<span class=\"code-keyword\">return</span> e},De.prototype.deleteWindows=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data[++e],n=<span class=\"code-keyword\">this</span>.getPts(e);<span class=\"code-keyword\">this</span>.flushDisplayed(n,t);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;<span class=\"code-number\">8</span>;r++)i&amp;<span class=\"code-number\">1</span>&lt;&lt;r&amp;&amp;t.windows[r].reset();<span class=\"code-keyword\">return</span> e},De.prototype.setPenAttributes=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data,n=i[e],t=t.currentWindow.penAttr,n=i[++e];<span class=\"code-keyword\">return</span> t.textTag=(<span class=\"code-number\">240</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.offset=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.penSize=<span class=\"code-number\">3</span>&amp;n,n=i[++e],t.italics=(<span class=\"code-number\">128</span>&amp;n)&gt;&gt;<span class=\"code-number\">7</span>,t.underline=(<span class=\"code-number\">64</span>&amp;n)&gt;&gt;<span class=\"code-number\">6</span>,t.edgeType=(<span class=\"code-number\">56</span>&amp;n)&gt;&gt;<span class=\"code-number\">3</span>,t.fontStyle=<span class=\"code-number\">7</span>&amp;n,e},De.prototype.setPenColor=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data,n=i[e],t=t.currentWindow.penColor,n=i[++e];<span class=\"code-keyword\">return</span> t.fgOpacity=(<span class=\"code-number\">192</span>&amp;n)&gt;&gt;<span class=\"code-number\">6</span>,t.fgRed=(<span class=\"code-number\">48</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.fgGreen=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.fgBlue=<span class=\"code-number\">3</span>&amp;n,n=i[++e],t.bgOpacity=(<span class=\"code-number\">192</span>&amp;n)&gt;&gt;<span class=\"code-number\">6</span>,t.bgRed=(<span class=\"code-number\">48</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.bgGreen=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.bgBlue=<span class=\"code-number\">3</span>&amp;n,n=i[++e],t.edgeRed=(<span class=\"code-number\">48</span>&amp;n)&gt;&gt;<span class=\"code-number\">4</span>,t.edgeGreen=(<span class=\"code-number\">12</span>&amp;n)&gt;&gt;<span class=\"code-number\">2</span>,t.edgeBlue=<span class=\"code-number\">3</span>&amp;n,e},De.prototype.setPenLocation=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.current708Packet.data,n=i[e],r=t.currentWindow.penLoc;<span class=\"code-keyword\">return</span> t.currentWindow.pendingNewLine=!<span class=\"code-number\">0</span>,n=i[++e],r.row=<span class=\"code-number\">15</span>&amp;n,n=i[++e],r.column=<span class=\"code-number\">63</span>&amp;n,e},De.prototype.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.getPts(e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.flushDisplayed(i,t),<span class=\"code-keyword\">this</span>.initService(t.serviceNum,e)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Oe</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===e?<span class=\"code-string\">\"\"</span>:(e=Re[e]||e,<span class=\"code-built_in\">String</span>.fromCharCode(e))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Me</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=[],t=<span class=\"code-number\">15</span>;t--;)e.push(<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">var</span> Re={<span class=\"code-number\">42</span>:<span class=\"code-number\">225</span>,<span class=\"code-number\">92</span>:<span class=\"code-number\">233</span>,<span class=\"code-number\">94</span>:<span class=\"code-number\">237</span>,<span class=\"code-number\">95</span>:<span class=\"code-number\">243</span>,<span class=\"code-number\">96</span>:<span class=\"code-number\">250</span>,<span class=\"code-number\">123</span>:<span class=\"code-number\">231</span>,<span class=\"code-number\">124</span>:<span class=\"code-number\">247</span>,<span class=\"code-number\">125</span>:<span class=\"code-number\">209</span>,<span class=\"code-number\">126</span>:<span class=\"code-number\">241</span>,<span class=\"code-number\">127</span>:<span class=\"code-number\">9608</span>,<span class=\"code-number\">304</span>:<span class=\"code-number\">174</span>,<span class=\"code-number\">305</span>:<span class=\"code-number\">176</span>,<span class=\"code-number\">306</span>:<span class=\"code-number\">189</span>,<span class=\"code-number\">307</span>:<span class=\"code-number\">191</span>,<span class=\"code-number\">308</span>:<span class=\"code-number\">8482</span>,<span class=\"code-number\">309</span>:<span class=\"code-number\">162</span>,<span class=\"code-number\">310</span>:<span class=\"code-number\">163</span>,<span class=\"code-number\">311</span>:<span class=\"code-number\">9834</span>,<span class=\"code-number\">312</span>:<span class=\"code-number\">224</span>,<span class=\"code-number\">313</span>:<span class=\"code-number\">160</span>,<span class=\"code-number\">314</span>:<span class=\"code-number\">232</span>,<span class=\"code-number\">315</span>:<span class=\"code-number\">226</span>,<span class=\"code-number\">316</span>:<span class=\"code-number\">234</span>,<span class=\"code-number\">317</span>:<span class=\"code-number\">238</span>,<span class=\"code-number\">318</span>:<span class=\"code-number\">244</span>,<span class=\"code-number\">319</span>:<span class=\"code-number\">251</span>,<span class=\"code-number\">544</span>:<span class=\"code-number\">193</span>,<span class=\"code-number\">545</span>:<span class=\"code-number\">201</span>,<span class=\"code-number\">546</span>:<span class=\"code-number\">211</span>,<span class=\"code-number\">547</span>:<span class=\"code-number\">218</span>,<span class=\"code-number\">548</span>:<span class=\"code-number\">220</span>,<span class=\"code-number\">549</span>:<span class=\"code-number\">252</span>,<span class=\"code-number\">550</span>:<span class=\"code-number\">8216</span>,<span class=\"code-number\">551</span>:<span class=\"code-number\">161</span>,<span class=\"code-number\">552</span>:<span class=\"code-number\">42</span>,<span class=\"code-number\">553</span>:<span class=\"code-number\">39</span>,<span class=\"code-number\">554</span>:<span class=\"code-number\">8212</span>,<span class=\"code-number\">555</span>:<span class=\"code-number\">169</span>,<span class=\"code-number\">556</span>:<span class=\"code-number\">8480</span>,<span class=\"code-number\">557</span>:<span class=\"code-number\">8226</span>,<span class=\"code-number\">558</span>:<span class=\"code-number\">8220</span>,<span class=\"code-number\">559</span>:<span class=\"code-number\">8221</span>,<span class=\"code-number\">560</span>:<span class=\"code-number\">192</span>,<span class=\"code-number\">561</span>:<span class=\"code-number\">194</span>,<span class=\"code-number\">562</span>:<span class=\"code-number\">199</span>,<span class=\"code-number\">563</span>:<span class=\"code-number\">200</span>,<span class=\"code-number\">564</span>:<span class=\"code-number\">202</span>,<span class=\"code-number\">565</span>:<span class=\"code-number\">203</span>,<span class=\"code-number\">566</span>:<span class=\"code-number\">235</span>,<span class=\"code-number\">567</span>:<span class=\"code-number\">206</span>,<span class=\"code-number\">568</span>:<span class=\"code-number\">207</span>,<span class=\"code-number\">569</span>:<span class=\"code-number\">239</span>,<span class=\"code-number\">570</span>:<span class=\"code-number\">212</span>,<span class=\"code-number\">571</span>:<span class=\"code-number\">217</span>,<span class=\"code-number\">572</span>:<span class=\"code-number\">249</span>,<span class=\"code-number\">573</span>:<span class=\"code-number\">219</span>,<span class=\"code-number\">574</span>:<span class=\"code-number\">171</span>,<span class=\"code-number\">575</span>:<span class=\"code-number\">187</span>,<span class=\"code-number\">800</span>:<span class=\"code-number\">195</span>,<span class=\"code-number\">801</span>:<span class=\"code-number\">227</span>,<span class=\"code-number\">802</span>:<span class=\"code-number\">205</span>,<span class=\"code-number\">803</span>:<span class=\"code-number\">204</span>,<span class=\"code-number\">804</span>:<span class=\"code-number\">236</span>,<span class=\"code-number\">805</span>:<span class=\"code-number\">210</span>,<span class=\"code-number\">806</span>:<span class=\"code-number\">242</span>,<span class=\"code-number\">807</span>:<span class=\"code-number\">213</span>,<span class=\"code-number\">808</span>:<span class=\"code-number\">245</span>,<span class=\"code-number\">809</span>:<span class=\"code-number\">123</span>,<span class=\"code-number\">810</span>:<span class=\"code-number\">125</span>,<span class=\"code-number\">811</span>:<span class=\"code-number\">92</span>,<span class=\"code-number\">812</span>:<span class=\"code-number\">94</span>,<span class=\"code-number\">813</span>:<span class=\"code-number\">95</span>,<span class=\"code-number\">814</span>:<span class=\"code-number\">124</span>,<span class=\"code-number\">815</span>:<span class=\"code-number\">126</span>,<span class=\"code-number\">816</span>:<span class=\"code-number\">196</span>,<span class=\"code-number\">817</span>:<span class=\"code-number\">228</span>,<span class=\"code-number\">818</span>:<span class=\"code-number\">214</span>,<span class=\"code-number\">819</span>:<span class=\"code-number\">246</span>,<span class=\"code-number\">820</span>:<span class=\"code-number\">223</span>,<span class=\"code-number\">821</span>:<span class=\"code-number\">165</span>,<span class=\"code-number\">822</span>:<span class=\"code-number\">164</span>,<span class=\"code-number\">823</span>:<span class=\"code-number\">9474</span>,<span class=\"code-number\">824</span>:<span class=\"code-number\">197</span>,<span class=\"code-number\">825</span>:<span class=\"code-number\">229</span>,<span class=\"code-number\">826</span>:<span class=\"code-number\">216</span>,<span class=\"code-number\">827</span>:<span class=\"code-number\">248</span>,<span class=\"code-number\">828</span>:<span class=\"code-number\">9484</span>,<span class=\"code-number\">829</span>:<span class=\"code-number\">9488</span>,<span class=\"code-number\">830</span>:<span class=\"code-number\">9492</span>,<span class=\"code-number\">831</span>:<span class=\"code-number\">9496</span>},Ne=[<span class=\"code-number\">4352</span>,<span class=\"code-number\">4384</span>,<span class=\"code-number\">4608</span>,<span class=\"code-number\">4640</span>,<span class=\"code-number\">5376</span>,<span class=\"code-number\">5408</span>,<span class=\"code-number\">5632</span>,<span class=\"code-number\">5664</span>,<span class=\"code-number\">5888</span>,<span class=\"code-number\">5920</span>,<span class=\"code-number\">4096</span>,<span class=\"code-number\">4864</span>,<span class=\"code-number\">4896</span>,<span class=\"code-number\">5120</span>,<span class=\"code-number\">5152</span>],Ue=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,i</span>)</span>{e.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.field_=t||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.dataChannel_=i||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.name_=<span class=\"code-string\">\"CC\"</span>+(<span class=\"code-number\">1</span>+(<span class=\"code-keyword\">this</span>.field_&lt;&lt;<span class=\"code-number\">1</span>|<span class=\"code-keyword\">this</span>.dataChannel_)),<span class=\"code-keyword\">this</span>.setConstants(),<span class=\"code-keyword\">this</span>.reset(),<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a=<span class=\"code-number\">32639</span>&amp;e.ccData;a!==<span class=\"code-keyword\">this</span>.lastControlCode_?(<span class=\"code-number\">4096</span>==(<span class=\"code-number\">61440</span>&amp;a)?<span class=\"code-keyword\">this</span>.lastControlCode_=a:a!==<span class=\"code-keyword\">this</span>.PADDING_&amp;&amp;(<span class=\"code-keyword\">this</span>.lastControlCode_=<span class=\"code-literal\">null</span>),t=a&gt;&gt;&gt;<span class=\"code-number\">8</span>,i=<span class=\"code-number\">255</span>&amp;a,a===<span class=\"code-keyword\">this</span>.PADDING_||(a===<span class=\"code-keyword\">this</span>.RESUME_CAPTION_LOADING_?<span class=\"code-keyword\">this</span>.mode_=<span class=\"code-string\">\"popOn\"</span>:a===<span class=\"code-keyword\">this</span>.END_OF_CAPTION_?(<span class=\"code-keyword\">this</span>.mode_=<span class=\"code-string\">\"popOn\"</span>,<span class=\"code-keyword\">this</span>.clearFormatting(e.pts),<span class=\"code-keyword\">this</span>.flushDisplayed(e.pts),r=<span class=\"code-keyword\">this</span>.displayed_,<span class=\"code-keyword\">this</span>.displayed_=<span class=\"code-keyword\">this</span>.nonDisplayed_,<span class=\"code-keyword\">this</span>.nonDisplayed_=r,<span class=\"code-keyword\">this</span>.startPts_=e.pts):a===<span class=\"code-keyword\">this</span>.ROLL_UP_2_ROWS_?(<span class=\"code-keyword\">this</span>.rollUpRows_=<span class=\"code-number\">2</span>,<span class=\"code-keyword\">this</span>.setRollUp(e.pts)):a===<span class=\"code-keyword\">this</span>.ROLL_UP_3_ROWS_?(<span class=\"code-keyword\">this</span>.rollUpRows_=<span class=\"code-number\">3</span>,<span class=\"code-keyword\">this</span>.setRollUp(e.pts)):a===<span class=\"code-keyword\">this</span>.ROLL_UP_4_ROWS_?(<span class=\"code-keyword\">this</span>.rollUpRows_=<span class=\"code-number\">4</span>,<span class=\"code-keyword\">this</span>.setRollUp(e.pts)):a===<span class=\"code-keyword\">this</span>.CARRIAGE_RETURN_?(<span class=\"code-keyword\">this</span>.clearFormatting(e.pts),<span class=\"code-keyword\">this</span>.flushDisplayed(e.pts),<span class=\"code-keyword\">this</span>.shiftRowsUp_(),<span class=\"code-keyword\">this</span>.startPts_=e.pts):a===<span class=\"code-keyword\">this</span>.BACKSPACE_?<span class=\"code-string\">\"popOn\"</span>===<span class=\"code-keyword\">this</span>.mode_?<span class=\"code-keyword\">this</span>.nonDisplayed_[<span class=\"code-keyword\">this</span>.row_]=<span class=\"code-keyword\">this</span>.nonDisplayed_[<span class=\"code-keyword\">this</span>.row_].slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>):<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_]=<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_].slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>):a===<span class=\"code-keyword\">this</span>.ERASE_DISPLAYED_MEMORY_?(<span class=\"code-keyword\">this</span>.flushDisplayed(e.pts),<span class=\"code-keyword\">this</span>.displayed_=Me()):a===<span class=\"code-keyword\">this</span>.ERASE_NON_DISPLAYED_MEMORY_?<span class=\"code-keyword\">this</span>.nonDisplayed_=Me():a===<span class=\"code-keyword\">this</span>.RESUME_DIRECT_CAPTIONING_?(<span class=\"code-string\">\"paintOn\"</span>!==<span class=\"code-keyword\">this</span>.mode_&amp;&amp;(<span class=\"code-keyword\">this</span>.flushDisplayed(e.pts),<span class=\"code-keyword\">this</span>.displayed_=Me()),<span class=\"code-keyword\">this</span>.mode_=<span class=\"code-string\">\"paintOn\"</span>,<span class=\"code-keyword\">this</span>.startPts_=e.pts):<span class=\"code-keyword\">this</span>.isSpecialCharacter(t,i)?(n=Oe((t=(<span class=\"code-number\">3</span>&amp;t)&lt;&lt;<span class=\"code-number\">8</span>)|i),<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.mode_](e.pts,n),<span class=\"code-keyword\">this</span>.column_++):<span class=\"code-keyword\">this</span>.isExtCharacter(t,i)?(<span class=\"code-string\">\"popOn\"</span>===<span class=\"code-keyword\">this</span>.mode_?<span class=\"code-keyword\">this</span>.nonDisplayed_[<span class=\"code-keyword\">this</span>.row_]=<span class=\"code-keyword\">this</span>.nonDisplayed_[<span class=\"code-keyword\">this</span>.row_].slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>):<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_]=<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_].slice(<span class=\"code-number\">0</span>,<span class=\"code-number\">-1</span>),n=Oe((t=(<span class=\"code-number\">3</span>&amp;t)&lt;&lt;<span class=\"code-number\">8</span>)|i),<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.mode_](e.pts,n),<span class=\"code-keyword\">this</span>.column_++):<span class=\"code-keyword\">this</span>.isMidRowCode(t,i)?(<span class=\"code-keyword\">this</span>.clearFormatting(e.pts),<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.mode_](e.pts,<span class=\"code-string\">\" \"</span>),<span class=\"code-keyword\">this</span>.column_++,<span class=\"code-number\">14</span>==(<span class=\"code-number\">14</span>&amp;i)&amp;&amp;<span class=\"code-keyword\">this</span>.addFormatting(e.pts,[<span class=\"code-string\">\"i\"</span>]),<span class=\"code-number\">1</span>==(<span class=\"code-number\">1</span>&amp;i)&amp;&amp;<span class=\"code-keyword\">this</span>.addFormatting(e.pts,[<span class=\"code-string\">\"u\"</span>])):<span class=\"code-keyword\">this</span>.isOffsetControlCode(t,i)?<span class=\"code-keyword\">this</span>.column_+=<span class=\"code-number\">3</span>&amp;i:<span class=\"code-keyword\">this</span>.isPAC(t,i)?(r=Ne.indexOf(<span class=\"code-number\">7968</span>&amp;a),<span class=\"code-string\">\"rollUp\"</span>===<span class=\"code-keyword\">this</span>.mode_&amp;&amp;(r-<span class=\"code-keyword\">this</span>.rollUpRows_+<span class=\"code-number\">1</span>&lt;<span class=\"code-number\">0</span>&amp;&amp;(r=<span class=\"code-keyword\">this</span>.rollUpRows_<span class=\"code-number\">-1</span>),<span class=\"code-keyword\">this</span>.setRollUp(e.pts,r)),r!==<span class=\"code-keyword\">this</span>.row_&amp;&amp;(<span class=\"code-keyword\">this</span>.clearFormatting(e.pts),<span class=\"code-keyword\">this</span>.row_=r),<span class=\"code-number\">1</span>&amp;i&amp;&amp;<span class=\"code-number\">-1</span>===<span class=\"code-keyword\">this</span>.formatting_.indexOf(<span class=\"code-string\">\"u\"</span>)&amp;&amp;<span class=\"code-keyword\">this</span>.addFormatting(e.pts,[<span class=\"code-string\">\"u\"</span>]),<span class=\"code-number\">16</span>==(<span class=\"code-number\">16</span>&amp;a)&amp;&amp;(<span class=\"code-keyword\">this</span>.column_=<span class=\"code-number\">4</span>*((<span class=\"code-number\">14</span>&amp;a)&gt;&gt;<span class=\"code-number\">1</span>)),<span class=\"code-keyword\">this</span>.isColorPAC(i)&amp;&amp;<span class=\"code-number\">14</span>==(<span class=\"code-number\">14</span>&amp;i)&amp;&amp;<span class=\"code-keyword\">this</span>.addFormatting(e.pts,[<span class=\"code-string\">\"i\"</span>])):<span class=\"code-keyword\">this</span>.isNormalChar(t)&amp;&amp;(<span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-literal\">null</span>),n=Oe(t),n+=Oe(i),<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.mode_](e.pts,n),<span class=\"code-keyword\">this</span>.column_+=n.length))):<span class=\"code-keyword\">this</span>.lastControlCode_=<span class=\"code-literal\">null</span>}};Ue.prototype=<span class=\"code-keyword\">new</span> j,Ue.prototype.flushDisplayed=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.displayed_.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> e.trim()}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"log\"</span>,{<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Skipping a malformed 608 caption at index \"</span>+t+<span class=\"code-string\">\".\"</span>}),<span class=\"code-string\">\"\"</span>}},<span class=\"code-keyword\">this</span>).join(<span class=\"code-string\">\"\\n\"</span>).replace(<span class=\"code-regexp\">/^\\n+|\\n+$/g</span>,<span class=\"code-string\">\"\"</span>);t.length&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">startPts</span>:<span class=\"code-keyword\">this</span>.startPts_,<span class=\"code-attr\">endPts</span>:e,<span class=\"code-attr\">text</span>:t,<span class=\"code-attr\">stream</span>:<span class=\"code-keyword\">this</span>.name_})},Ue.prototype.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mode_=<span class=\"code-string\">\"popOn\"</span>,<span class=\"code-keyword\">this</span>.topRow_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.startPts_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.displayed_=Me(),<span class=\"code-keyword\">this</span>.nonDisplayed_=Me(),<span class=\"code-keyword\">this</span>.lastControlCode_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.column_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.row_=<span class=\"code-number\">14</span>,<span class=\"code-keyword\">this</span>.rollUpRows_=<span class=\"code-number\">2</span>,<span class=\"code-keyword\">this</span>.formatting_=[]},Ue.prototype.setConstants=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.dataChannel_?(<span class=\"code-keyword\">this</span>.BASE_=<span class=\"code-number\">16</span>,<span class=\"code-keyword\">this</span>.EXT_=<span class=\"code-number\">17</span>,<span class=\"code-keyword\">this</span>.CONTROL_=(<span class=\"code-number\">20</span>|<span class=\"code-keyword\">this</span>.field_)&lt;&lt;<span class=\"code-number\">8</span>,<span class=\"code-keyword\">this</span>.OFFSET_=<span class=\"code-number\">23</span>):<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.dataChannel_&amp;&amp;(<span class=\"code-keyword\">this</span>.BASE_=<span class=\"code-number\">24</span>,<span class=\"code-keyword\">this</span>.EXT_=<span class=\"code-number\">25</span>,<span class=\"code-keyword\">this</span>.CONTROL_=(<span class=\"code-number\">28</span>|<span class=\"code-keyword\">this</span>.field_)&lt;&lt;<span class=\"code-number\">8</span>,<span class=\"code-keyword\">this</span>.OFFSET_=<span class=\"code-number\">31</span>),<span class=\"code-keyword\">this</span>.PADDING_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.RESUME_CAPTION_LOADING_=<span class=\"code-number\">32</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.END_OF_CAPTION_=<span class=\"code-number\">47</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.ROLL_UP_2_ROWS_=<span class=\"code-number\">37</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.ROLL_UP_3_ROWS_=<span class=\"code-number\">38</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.ROLL_UP_4_ROWS_=<span class=\"code-number\">39</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.CARRIAGE_RETURN_=<span class=\"code-number\">45</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.RESUME_DIRECT_CAPTIONING_=<span class=\"code-number\">41</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.BACKSPACE_=<span class=\"code-number\">33</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.ERASE_DISPLAYED_MEMORY_=<span class=\"code-number\">44</span>|<span class=\"code-keyword\">this</span>.CONTROL_,<span class=\"code-keyword\">this</span>.ERASE_NON_DISPLAYED_MEMORY_=<span class=\"code-number\">46</span>|<span class=\"code-keyword\">this</span>.CONTROL_},Ue.prototype.isSpecialCharacter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e===<span class=\"code-keyword\">this</span>.EXT_&amp;&amp;<span class=\"code-number\">48</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">63</span>},Ue.prototype.isExtCharacter=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(e===<span class=\"code-keyword\">this</span>.EXT_+<span class=\"code-number\">1</span>||e===<span class=\"code-keyword\">this</span>.EXT_+<span class=\"code-number\">2</span>)&amp;&amp;<span class=\"code-number\">32</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">63</span>},Ue.prototype.isMidRowCode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e===<span class=\"code-keyword\">this</span>.EXT_&amp;&amp;<span class=\"code-number\">32</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">47</span>},Ue.prototype.isOffsetControlCode=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e===<span class=\"code-keyword\">this</span>.OFFSET_&amp;&amp;<span class=\"code-number\">33</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">35</span>},Ue.prototype.isPAC=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e&gt;=<span class=\"code-keyword\">this</span>.BASE_&amp;&amp;e&lt;<span class=\"code-keyword\">this</span>.BASE_+<span class=\"code-number\">8</span>&amp;&amp;<span class=\"code-number\">64</span>&lt;=t&amp;&amp;t&lt;=<span class=\"code-number\">127</span>},Ue.prototype.isColorPAC=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">64</span>&lt;=e&amp;&amp;e&lt;=<span class=\"code-number\">79</span>||<span class=\"code-number\">96</span>&lt;=e&amp;&amp;e&lt;=<span class=\"code-number\">127</span>},Ue.prototype.isNormalChar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">32</span>&lt;=e&amp;&amp;e&lt;=<span class=\"code-number\">127</span>},Ue.prototype.setRollUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"rollUp\"</span>!==<span class=\"code-keyword\">this</span>.mode_&amp;&amp;(<span class=\"code-keyword\">this</span>.row_=<span class=\"code-number\">14</span>,<span class=\"code-keyword\">this</span>.mode_=<span class=\"code-string\">\"rollUp\"</span>,<span class=\"code-keyword\">this</span>.flushDisplayed(e),<span class=\"code-keyword\">this</span>.nonDisplayed_=Me(),<span class=\"code-keyword\">this</span>.displayed_=Me()),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==t&amp;&amp;t!==<span class=\"code-keyword\">this</span>.row_)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;<span class=\"code-keyword\">this</span>.rollUpRows_;i++)<span class=\"code-keyword\">this</span>.displayed_[t-i]=<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_-i],<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_-i]=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">this</span>.row_),<span class=\"code-keyword\">this</span>.topRow_=t-<span class=\"code-keyword\">this</span>.rollUpRows_+<span class=\"code-number\">1</span>},Ue.prototype.addFormatting=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.formatting_=<span class=\"code-keyword\">this</span>.formatting_.concat(t);t=t.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e+<span class=\"code-string\">\"&lt;\"</span>+t+<span class=\"code-string\">\"&gt;\"</span>},<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.mode_](e,t)},Ue.prototype.clearFormatting=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">this</span>.formatting_.length&amp;&amp;(t=<span class=\"code-keyword\">this</span>.formatting_.reverse().reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e+<span class=\"code-string\">\"&lt;/\"</span>+t+<span class=\"code-string\">\"&gt;\"</span>},<span class=\"code-string\">\"\"</span>),<span class=\"code-keyword\">this</span>.formatting_=[],<span class=\"code-keyword\">this</span>[<span class=\"code-keyword\">this</span>.mode_](e,t))},Ue.prototype.popOn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.nonDisplayed_[<span class=\"code-keyword\">this</span>.row_];<span class=\"code-keyword\">this</span>.nonDisplayed_[<span class=\"code-keyword\">this</span>.row_]=i+=t},Ue.prototype.rollUp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_];<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_]=i+=t},Ue.prototype.shiftRowsUp_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-keyword\">this</span>.topRow_;e++)<span class=\"code-keyword\">this</span>.displayed_[e]=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">for</span>(e=<span class=\"code-keyword\">this</span>.row_+<span class=\"code-number\">1</span>;e&lt;<span class=\"code-number\">15</span>;e++)<span class=\"code-keyword\">this</span>.displayed_[e]=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">for</span>(e=<span class=\"code-keyword\">this</span>.topRow_;e&lt;<span class=\"code-keyword\">this</span>.row_;e++)<span class=\"code-keyword\">this</span>.displayed_[e]=<span class=\"code-keyword\">this</span>.displayed_[e+<span class=\"code-number\">1</span>];<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_]=<span class=\"code-string\">\"\"</span>},Ue.prototype.paintOn=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_];<span class=\"code-keyword\">this</span>.displayed_[<span class=\"code-keyword\">this</span>.row_]=i+=t};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Be</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(t&lt;e&amp;&amp;(i=<span class=\"code-number\">-1</span>);<span class=\"code-number\">4294967296</span>&lt;<span class=\"code-built_in\">Math</span>.abs(t-e);)e+=<span class=\"code-number\">8589934592</span>*i;<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">var</span> Fe={<span class=\"code-attr\">CaptionStream</span>:Ie,<span class=\"code-attr\">Cea608Stream</span>:Ue,<span class=\"code-attr\">Cea708Stream</span>:De},je={<span class=\"code-attr\">H264_STREAM_TYPE</span>:<span class=\"code-number\">27</span>,<span class=\"code-attr\">ADTS_STREAM_TYPE</span>:<span class=\"code-number\">15</span>,<span class=\"code-attr\">METADATA_STREAM_TYPE</span>:<span class=\"code-number\">21</span>},e=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i,n;e.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.type_=t||<span class=\"code-string\">\"shared\"</span>,<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"shared\"</span>!==<span class=\"code-keyword\">this</span>.type_&amp;&amp;e.type!==<span class=\"code-keyword\">this</span>.type_||(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=e.dts),e.dts=Be(e.dts,n),e.pts=Be(e.pts,n),i=e.dts,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,e))},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n=i,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>)},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.flush(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"endedtimeline\"</span>)},<span class=\"code-keyword\">this</span>.discontinuity=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i=n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.discontinuity(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)}};e.prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">He</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"\"</span>,r=t;r&lt;i;r++)n+=<span class=\"code-string\">\"%\"</span>+(<span class=\"code-string\">\"00\"</span>+e[r].toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-2</span>);<span class=\"code-keyword\">return</span> n}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">qe</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">decodeURIComponent</span>(He(e,t,i))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ve</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]&lt;&lt;<span class=\"code-number\">21</span>|e[<span class=\"code-number\">1</span>]&lt;&lt;<span class=\"code-number\">14</span>|e[<span class=\"code-number\">2</span>]&lt;&lt;<span class=\"code-number\">7</span>|e[<span class=\"code-number\">3</span>]}<span class=\"code-keyword\">var</span> We=e,Ie=Be,Ge={<span class=\"code-attr\">TXXX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===e.data[<span class=\"code-number\">0</span>]){<span class=\"code-keyword\">for</span>(t=<span class=\"code-number\">1</span>;t&lt;e.data.length;t++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e.data[t]){e.description=qe(e.data,<span class=\"code-number\">1</span>,t),e.value=qe(e.data,t+<span class=\"code-number\">1</span>,e.data.length).replace(<span class=\"code-regexp\">/\\0*$/</span>,<span class=\"code-string\">\"\"</span>);<span class=\"code-keyword\">break</span>}e.data=e.value}},<span class=\"code-attr\">WXXX</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">3</span>===e.data[<span class=\"code-number\">0</span>])<span class=\"code-keyword\">for</span>(t=<span class=\"code-number\">1</span>;t&lt;e.data.length;t++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e.data[t]){e.description=qe(e.data,<span class=\"code-number\">1</span>,t),e.url=qe(e.data,t+<span class=\"code-number\">1</span>,e.data.length);<span class=\"code-keyword\">break</span>}},<span class=\"code-attr\">PRIV</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">0</span>;i&lt;e.data.length;i++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e.data[i]){e.owner=(t=e.data,<span class=\"code-built_in\">unescape</span>(He(t,<span class=\"code-number\">0</span>,i)));<span class=\"code-keyword\">break</span>}e.privateData=e.data.subarray(i+<span class=\"code-number\">1</span>),e.data=e.privateData}},ze=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i={<span class=\"code-attr\">descriptor</span>:e&amp;&amp;e.descriptor},u=<span class=\"code-number\">0</span>,l=[],c=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(ze.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.dispatchType=je.METADATA_STREAM_TYPE.toString(<span class=\"code-number\">16</span>),i.descriptor)<span class=\"code-keyword\">for</span>(t=<span class=\"code-number\">0</span>;t&lt;i.descriptor.length;t++)<span class=\"code-keyword\">this</span>.dispatchType+=(<span class=\"code-string\">\"00\"</span>+i.descriptor[t].toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-2</span>);<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a,s,o;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"timed-metadata\"</span>===e.type)<span class=\"code-keyword\">if</span>(e.dataAlignmentIndicator&amp;&amp;(c=<span class=\"code-number\">0</span>,l.length=<span class=\"code-number\">0</span>),<span class=\"code-number\">0</span>===l.length&amp;&amp;(e.data.length&lt;<span class=\"code-number\">10</span>||e.data[<span class=\"code-number\">0</span>]!==<span class=\"code-string\">\"I\"</span>.charCodeAt(<span class=\"code-number\">0</span>)||e.data[<span class=\"code-number\">1</span>]!==<span class=\"code-string\">\"D\"</span>.charCodeAt(<span class=\"code-number\">0</span>)||e.data[<span class=\"code-number\">2</span>]!==<span class=\"code-string\">\"3\"</span>.charCodeAt(<span class=\"code-number\">0</span>)))<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"log\"</span>,{<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Skipping unrecognized metadata packet\"</span>});<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(l.push(e),c+=e.data.byteLength,<span class=\"code-number\">1</span>===l.length&amp;&amp;(u=Ve(e.data.subarray(<span class=\"code-number\">6</span>,<span class=\"code-number\">10</span>)),u+=<span class=\"code-number\">10</span>),!(c&lt;u)){<span class=\"code-keyword\">for</span>(t={<span class=\"code-attr\">data</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(u),<span class=\"code-attr\">frames</span>:[],<span class=\"code-attr\">pts</span>:l[<span class=\"code-number\">0</span>].pts,<span class=\"code-attr\">dts</span>:l[<span class=\"code-number\">0</span>].dts},r=<span class=\"code-number\">0</span>;r&lt;u;)t.data.set(l[<span class=\"code-number\">0</span>].data.subarray(<span class=\"code-number\">0</span>,u-r),r),r+=l[<span class=\"code-number\">0</span>].data.byteLength,c-=l[<span class=\"code-number\">0</span>].data.byteLength,l.shift();i=<span class=\"code-number\">10</span>,<span class=\"code-number\">64</span>&amp;t.data[<span class=\"code-number\">5</span>]&amp;&amp;(i+=<span class=\"code-number\">4</span>,i+=Ve(t.data.subarray(<span class=\"code-number\">10</span>,<span class=\"code-number\">14</span>)),u-=Ve(t.data.subarray(<span class=\"code-number\">16</span>,<span class=\"code-number\">20</span>)));<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>((n=Ve(t.data.subarray(i+<span class=\"code-number\">4</span>,i+<span class=\"code-number\">8</span>)))&lt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"log\"</span>,{<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Malformed ID3 frame encountered. Skipping metadata parsing.\"</span>})}<span class=\"code-keyword\">while</span>((o={<span class=\"code-attr\">id</span>:<span class=\"code-built_in\">String</span>.fromCharCode(t.data[i],t.data[i+<span class=\"code-number\">1</span>],t.data[i+<span class=\"code-number\">2</span>],t.data[i+<span class=\"code-number\">3</span>]),<span class=\"code-attr\">data</span>:t.data.subarray(i+<span class=\"code-number\">10</span>,i+n+<span class=\"code-number\">10</span>)}).key=o.id,Ge[o.id]&amp;&amp;(Ge[o.id](o),<span class=\"code-string\">\"com.apple.streaming.transportStreamTimestamp\"</span>===o.owner&amp;&amp;(s=(<span class=\"code-number\">1</span>&amp;(a=o.data)[<span class=\"code-number\">3</span>])&lt;&lt;<span class=\"code-number\">30</span>|a[<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">22</span>|a[<span class=\"code-number\">5</span>]&lt;&lt;<span class=\"code-number\">14</span>|a[<span class=\"code-number\">6</span>]&lt;&lt;<span class=\"code-number\">6</span>|a[<span class=\"code-number\">7</span>]&gt;&gt;&gt;<span class=\"code-number\">2</span>,s*=<span class=\"code-number\">4</span>,s+=<span class=\"code-number\">3</span>&amp;a[<span class=\"code-number\">7</span>],o.timeStamp=s,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.pts&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t.dts&amp;&amp;(t.pts=o.timeStamp,t.dts=o.timeStamp),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timestamp\"</span>,o))),t.frames.push(o),i+=<span class=\"code-number\">10</span>,(i+=n)&lt;u);<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,t)}}};ze.prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-keyword\">var</span> Xe,Ke,e=ze,We=We,Ye=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-number\">188</span>),a=<span class=\"code-number\">0</span>;Ye.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">188</span>;<span class=\"code-keyword\">for</span>(a?((t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.byteLength+a)).set(r.subarray(<span class=\"code-number\">0</span>,a)),t.set(e,a),a=<span class=\"code-number\">0</span>):t=e;n&lt;t.byteLength;)<span class=\"code-number\">71</span>!==t[i]||<span class=\"code-number\">71</span>!==t[n]?(i++,n++):(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,t.subarray(i,n)),i+=<span class=\"code-number\">188</span>,n+=<span class=\"code-number\">188</span>);i&lt;t.byteLength&amp;&amp;(r.set(t.subarray(i),<span class=\"code-number\">0</span>),a=t.byteLength-i)},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">188</span>===a&amp;&amp;<span class=\"code-number\">71</span>===r[<span class=\"code-number\">0</span>]&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,r),a=<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>)},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.flush(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"endedtimeline\"</span>)},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)}};Ye.prototype=<span class=\"code-keyword\">new</span> j,(Xe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n,r,a,s;Xe.prototype.init.call(<span class=\"code-keyword\">this</span>),(s=<span class=\"code-keyword\">this</span>).packetsWaitingForPmt=[],<span class=\"code-keyword\">this</span>.programMapTable=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,n=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;t.payloadUnitStartIndicator&amp;&amp;(i+=e[i]+<span class=\"code-number\">1</span>),(<span class=\"code-string\">\"pat\"</span>===t.type?r:a)(e.subarray(i),t)},r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t.section_number=e[<span class=\"code-number\">7</span>],t.last_section_number=e[<span class=\"code-number\">8</span>],s.pmtPid=(<span class=\"code-number\">31</span>&amp;e[<span class=\"code-number\">10</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[<span class=\"code-number\">11</span>],t.pmtPid=s.pmtPid},a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>&amp;e[<span class=\"code-number\">5</span>]){<span class=\"code-keyword\">for</span>(s.programMapTable={<span class=\"code-attr\">video</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">audio</span>:<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"timed-metadata\"</span>:{}},i=<span class=\"code-number\">3</span>+((<span class=\"code-number\">15</span>&amp;e[<span class=\"code-number\">1</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[<span class=\"code-number\">2</span>])<span class=\"code-number\">-4</span>,n=<span class=\"code-number\">12</span>+((<span class=\"code-number\">15</span>&amp;e[<span class=\"code-number\">10</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[<span class=\"code-number\">11</span>]);n&lt;i;){<span class=\"code-keyword\">var</span> r=e[n],a=(<span class=\"code-number\">31</span>&amp;e[n+<span class=\"code-number\">1</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[n+<span class=\"code-number\">2</span>];r===je.H264_STREAM_TYPE&amp;&amp;<span class=\"code-literal\">null</span>===s.programMapTable.video?s.programMapTable.video=a:r===je.ADTS_STREAM_TYPE&amp;&amp;<span class=\"code-literal\">null</span>===s.programMapTable.audio?s.programMapTable.audio=a:r===je.METADATA_STREAM_TYPE&amp;&amp;(s.programMapTable[<span class=\"code-string\">\"timed-metadata\"</span>][a]=r),n+=<span class=\"code-number\">5</span>+((<span class=\"code-number\">15</span>&amp;e[n+<span class=\"code-number\">3</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[n+<span class=\"code-number\">4</span>])}t.programMapTable=s.programMapTable}},<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={},i=<span class=\"code-number\">4</span>;<span class=\"code-keyword\">if</span>(t.payloadUnitStartIndicator=!!(<span class=\"code-number\">64</span>&amp;e[<span class=\"code-number\">1</span>]),t.pid=<span class=\"code-number\">31</span>&amp;e[<span class=\"code-number\">1</span>],t.pid&lt;&lt;=<span class=\"code-number\">8</span>,t.pid|=e[<span class=\"code-number\">2</span>],<span class=\"code-number\">1</span>&lt;(<span class=\"code-number\">48</span>&amp;e[<span class=\"code-number\">3</span>])&gt;&gt;&gt;<span class=\"code-number\">4</span>&amp;&amp;(i+=e[i]+<span class=\"code-number\">1</span>),<span class=\"code-number\">0</span>===t.pid)t.type=<span class=\"code-string\">\"pat\"</span>,n(e.subarray(i),t),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,t);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.pid===<span class=\"code-keyword\">this</span>.pmtPid)<span class=\"code-keyword\">for</span>(t.type=<span class=\"code-string\">\"pmt\"</span>,n(e.subarray(i),t),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,t);<span class=\"code-keyword\">this</span>.packetsWaitingForPmt.length;)<span class=\"code-keyword\">this</span>.processPes_.apply(<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>.packetsWaitingForPmt.shift());<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.programMapTable?<span class=\"code-keyword\">this</span>.packetsWaitingForPmt.push([e,i,t]):<span class=\"code-keyword\">this</span>.processPes_(e,i,t)},<span class=\"code-keyword\">this</span>.processPes_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{i.pid===<span class=\"code-keyword\">this</span>.programMapTable.video?i.streamType=je.H264_STREAM_TYPE:i.pid===<span class=\"code-keyword\">this</span>.programMapTable.audio?i.streamType=je.ADTS_STREAM_TYPE:i.streamType=<span class=\"code-keyword\">this</span>.programMapTable[<span class=\"code-string\">\"timed-metadata\"</span>][i.pid],i.type=<span class=\"code-string\">\"pes\"</span>,i.data=e.subarray(t),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,i)}}).prototype=<span class=\"code-keyword\">new</span> j,Xe.STREAM_TYPES={<span class=\"code-attr\">h264</span>:<span class=\"code-number\">27</span>,<span class=\"code-attr\">adts</span>:<span class=\"code-number\">15</span>},(Ke=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a,s,o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.size),u={<span class=\"code-attr\">type</span>:t},l=<span class=\"code-number\">0</span>,c=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(e.data.length&amp;&amp;!(e.size&lt;<span class=\"code-number\">9</span>)){<span class=\"code-keyword\">for</span>(u.trackId=e.data[<span class=\"code-number\">0</span>].pid,l=<span class=\"code-number\">0</span>;l&lt;e.data.length;l++)n=e.data[l],o.set(n.data,c),c+=n.data.byteLength;a=u,s=(r=o)[<span class=\"code-number\">0</span>]&lt;&lt;<span class=\"code-number\">16</span>|r[<span class=\"code-number\">1</span>]&lt;&lt;<span class=\"code-number\">8</span>|r[<span class=\"code-number\">2</span>],a.data=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>,<span class=\"code-number\">1</span>==s&amp;&amp;(a.packetLength=<span class=\"code-number\">6</span>+(r[<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">8</span>|r[<span class=\"code-number\">5</span>]),a.dataAlignmentIndicator=<span class=\"code-number\">0</span>!=(<span class=\"code-number\">4</span>&amp;r[<span class=\"code-number\">6</span>]),<span class=\"code-number\">192</span>&amp;(s=r[<span class=\"code-number\">7</span>])&amp;&amp;(a.pts=(<span class=\"code-number\">14</span>&amp;r[<span class=\"code-number\">9</span>])&lt;&lt;<span class=\"code-number\">27</span>|(<span class=\"code-number\">255</span>&amp;r[<span class=\"code-number\">10</span>])&lt;&lt;<span class=\"code-number\">20</span>|(<span class=\"code-number\">254</span>&amp;r[<span class=\"code-number\">11</span>])&lt;&lt;<span class=\"code-number\">12</span>|(<span class=\"code-number\">255</span>&amp;r[<span class=\"code-number\">12</span>])&lt;&lt;<span class=\"code-number\">5</span>|(<span class=\"code-number\">254</span>&amp;r[<span class=\"code-number\">13</span>])&gt;&gt;&gt;<span class=\"code-number\">3</span>,a.pts*=<span class=\"code-number\">4</span>,a.pts+=(<span class=\"code-number\">6</span>&amp;r[<span class=\"code-number\">13</span>])&gt;&gt;&gt;<span class=\"code-number\">1</span>,a.dts=a.pts,<span class=\"code-number\">64</span>&amp;s&amp;&amp;(a.dts=(<span class=\"code-number\">14</span>&amp;r[<span class=\"code-number\">14</span>])&lt;&lt;<span class=\"code-number\">27</span>|(<span class=\"code-number\">255</span>&amp;r[<span class=\"code-number\">15</span>])&lt;&lt;<span class=\"code-number\">20</span>|(<span class=\"code-number\">254</span>&amp;r[<span class=\"code-number\">16</span>])&lt;&lt;<span class=\"code-number\">12</span>|(<span class=\"code-number\">255</span>&amp;r[<span class=\"code-number\">17</span>])&lt;&lt;<span class=\"code-number\">5</span>|(<span class=\"code-number\">254</span>&amp;r[<span class=\"code-number\">18</span>])&gt;&gt;&gt;<span class=\"code-number\">3</span>,a.dts*=<span class=\"code-number\">4</span>,a.dts+=(<span class=\"code-number\">6</span>&amp;r[<span class=\"code-number\">18</span>])&gt;&gt;&gt;<span class=\"code-number\">1</span>)),a.data=r.subarray(<span class=\"code-number\">9</span>+r[<span class=\"code-number\">8</span>])),t=<span class=\"code-string\">\"video\"</span>===t||u.packetLength&lt;=e.size,(i||t)&amp;&amp;(e.size=<span class=\"code-number\">0</span>,e.data.length=<span class=\"code-number\">0</span>),t&amp;&amp;d.trigger(<span class=\"code-string\">\"data\"</span>,u)}}<span class=\"code-keyword\">var</span> t,d=<span class=\"code-keyword\">this</span>,r=!<span class=\"code-number\">1</span>,a={<span class=\"code-attr\">data</span>:[],<span class=\"code-attr\">size</span>:<span class=\"code-number\">0</span>},s={<span class=\"code-attr\">data</span>:[],<span class=\"code-attr\">size</span>:<span class=\"code-number\">0</span>},o={<span class=\"code-attr\">data</span>:[],<span class=\"code-attr\">size</span>:<span class=\"code-number\">0</span>};Ke.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{({<span class=\"code-attr\">pat</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},<span class=\"code-attr\">pes</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t;<span class=\"code-keyword\">switch</span>(i.streamType){<span class=\"code-keyword\">case</span> je.H264_STREAM_TYPE:e=a,t=<span class=\"code-string\">\"video\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> je.ADTS_STREAM_TYPE:e=s,t=<span class=\"code-string\">\"audio\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> je.METADATA_STREAM_TYPE:e=o,t=<span class=\"code-string\">\"timed-metadata\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span>}i.payloadUnitStartIndicator&amp;&amp;n(e,t,!<span class=\"code-number\">0</span>),e.data.push(i),e.size+=i.data.byteLength},<span class=\"code-attr\">pmt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"metadata\"</span>,<span class=\"code-attr\">tracks</span>:[]};<span class=\"code-literal\">null</span>!==(t=i.programMapTable).video&amp;&amp;e.tracks.push({<span class=\"code-attr\">timelineStartInfo</span>:{<span class=\"code-attr\">baseMediaDecodeTime</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">id</span>:+t.video,<span class=\"code-attr\">codec</span>:<span class=\"code-string\">\"avc\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"video\"</span>}),<span class=\"code-literal\">null</span>!==t.audio&amp;&amp;e.tracks.push({<span class=\"code-attr\">timelineStartInfo</span>:{<span class=\"code-attr\">baseMediaDecodeTime</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">id</span>:+t.audio,<span class=\"code-attr\">codec</span>:<span class=\"code-string\">\"adts\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>}),r=!<span class=\"code-number\">0</span>,d.trigger(<span class=\"code-string\">\"data\"</span>,e)}})[i.type]()},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.size=<span class=\"code-number\">0</span>,a.data.length=<span class=\"code-number\">0</span>,s.size=<span class=\"code-number\">0</span>,s.data.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)},<span class=\"code-keyword\">this</span>.flushStreams_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n(a,<span class=\"code-string\">\"video\"</span>),n(s,<span class=\"code-string\">\"audio\"</span>),n(o,<span class=\"code-string\">\"timed-metadata\"</span>)},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;!r&amp;&amp;t&amp;&amp;(e={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"metadata\"</span>,<span class=\"code-attr\">tracks</span>:[]},<span class=\"code-literal\">null</span>!==t.video&amp;&amp;e.tracks.push({<span class=\"code-attr\">timelineStartInfo</span>:{<span class=\"code-attr\">baseMediaDecodeTime</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">id</span>:+t.video,<span class=\"code-attr\">codec</span>:<span class=\"code-string\">\"avc\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"video\"</span>}),<span class=\"code-literal\">null</span>!==t.audio&amp;&amp;e.tracks.push({<span class=\"code-attr\">timelineStartInfo</span>:{<span class=\"code-attr\">baseMediaDecodeTime</span>:<span class=\"code-number\">0</span>},<span class=\"code-attr\">id</span>:+t.audio,<span class=\"code-attr\">codec</span>:<span class=\"code-string\">\"adts\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>}),d.trigger(<span class=\"code-string\">\"data\"</span>,e)),r=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.flushStreams_(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>)}}).prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-keyword\">var</span> Qe,$e={<span class=\"code-attr\">PAT_PID</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">MP2T_PACKET_LENGTH</span>:<span class=\"code-number\">188</span>,<span class=\"code-attr\">TransportPacketStream</span>:Ye,<span class=\"code-attr\">TransportParseStream</span>:Xe,<span class=\"code-attr\">ElementaryStream</span>:Ke,<span class=\"code-attr\">TimestampRolloverStream</span>:We,<span class=\"code-attr\">CaptionStream</span>:Fe.CaptionStream,<span class=\"code-attr\">Cea608Stream</span>:Fe.Cea608Stream,<span class=\"code-attr\">Cea708Stream</span>:Fe.Cea708Stream,<span class=\"code-attr\">MetadataStream</span>:e};<span class=\"code-keyword\">for</span>(Qe <span class=\"code-keyword\">in</span> je)je.hasOwnProperty(Qe)&amp;&amp;($e[Qe]=je[Qe]);<span class=\"code-keyword\">var</span> Je=$e,Ze=ue,et=[<span class=\"code-number\">96e3</span>,<span class=\"code-number\">88200</span>,<span class=\"code-number\">64e3</span>,<span class=\"code-number\">48e3</span>,<span class=\"code-number\">44100</span>,<span class=\"code-number\">32e3</span>,<span class=\"code-number\">24e3</span>,<span class=\"code-number\">22050</span>,<span class=\"code-number\">16e3</span>,<span class=\"code-number\">12e3</span>,<span class=\"code-number\">11025</span>,<span class=\"code-number\">8e3</span>,<span class=\"code-number\">7350</span>],tt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">u</span>)</span>{<span class=\"code-keyword\">var</span> l,c=<span class=\"code-number\">0</span>;tt.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.skipWarn_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"log\"</span>,{<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"adts skiping bytes \"</span>+e+<span class=\"code-string\">\" to \"</span>+t+<span class=\"code-string\">\" in frame \"</span>+c+<span class=\"code-string\">\" outside syncword\"</span>})},<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a,s,o=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(u||(c=<span class=\"code-number\">0</span>),<span class=\"code-string\">\"audio\"</span>===e.type){<span class=\"code-keyword\">for</span>(l&amp;&amp;l.length?(n=l,(l=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n.byteLength+e.data.byteLength)).set(n),l.set(e.data,n.byteLength)):l=e.data;o+<span class=\"code-number\">7</span>&lt;l.length;)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">255</span>===l[o]&amp;&amp;<span class=\"code-number\">240</span>==(<span class=\"code-number\">246</span>&amp;l[o+<span class=\"code-number\">1</span>])){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> s&amp;&amp;(<span class=\"code-keyword\">this</span>.skipWarn_(s,o),s=<span class=\"code-literal\">null</span>),i=<span class=\"code-number\">2</span>*(<span class=\"code-number\">1</span>&amp;~l[o+<span class=\"code-number\">1</span>]),t=(<span class=\"code-number\">3</span>&amp;l[o+<span class=\"code-number\">3</span>])&lt;&lt;<span class=\"code-number\">11</span>|l[o+<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">3</span>|(<span class=\"code-number\">224</span>&amp;l[o+<span class=\"code-number\">5</span>])&gt;&gt;<span class=\"code-number\">5</span>,a=(r=<span class=\"code-number\">1024</span>*(<span class=\"code-number\">1</span>+(<span class=\"code-number\">3</span>&amp;l[o+<span class=\"code-number\">6</span>])))*Ze/et[(<span class=\"code-number\">60</span>&amp;l[o+<span class=\"code-number\">2</span>])&gt;&gt;&gt;<span class=\"code-number\">2</span>],l.byteLength-o&lt;t)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">pts</span>:e.pts+c*a,<span class=\"code-attr\">dts</span>:e.dts+c*a,<span class=\"code-attr\">sampleCount</span>:r,<span class=\"code-attr\">audioobjecttype</span>:<span class=\"code-number\">1</span>+(l[o+<span class=\"code-number\">2</span>]&gt;&gt;&gt;<span class=\"code-number\">6</span>&amp;<span class=\"code-number\">3</span>),<span class=\"code-attr\">channelcount</span>:(<span class=\"code-number\">1</span>&amp;l[o+<span class=\"code-number\">2</span>])&lt;&lt;<span class=\"code-number\">2</span>|(<span class=\"code-number\">192</span>&amp;l[o+<span class=\"code-number\">3</span>])&gt;&gt;&gt;<span class=\"code-number\">6</span>,<span class=\"code-attr\">samplerate</span>:et[(<span class=\"code-number\">60</span>&amp;l[o+<span class=\"code-number\">2</span>])&gt;&gt;&gt;<span class=\"code-number\">2</span>],<span class=\"code-attr\">samplingfrequencyindex</span>:(<span class=\"code-number\">60</span>&amp;l[o+<span class=\"code-number\">2</span>])&gt;&gt;&gt;<span class=\"code-number\">2</span>,<span class=\"code-attr\">samplesize</span>:<span class=\"code-number\">16</span>,<span class=\"code-attr\">data</span>:l.subarray(o+<span class=\"code-number\">7</span>+i,o+t)}),c++,o+=t}<span class=\"code-keyword\">else</span><span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> s&amp;&amp;(s=o),o++;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> s&amp;&amp;(<span class=\"code-keyword\">this</span>.skipWarn_(s,o),s=<span class=\"code-literal\">null</span>),l=l.subarray(o)}},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{c=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>)},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{l=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"endedtimeline\"</span>)}};tt.prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-keyword\">var</span> it,nt,rt=tt,at=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> r=n.byteLength,a=<span class=\"code-number\">0</span>,s=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">this</span>.length=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">8</span>*r},<span class=\"code-keyword\">this</span>.bitsAvailable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">8</span>*r+s},<span class=\"code-keyword\">this</span>.loadWord=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.byteLength-r,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-number\">4</span>),i=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">4</span>,r);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===i)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"no bytes available\"</span>);t.set(n.subarray(e,e+i)),a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(t.buffer).getUint32(<span class=\"code-number\">0</span>),s=<span class=\"code-number\">8</span>*i,r-=i},<span class=\"code-keyword\">this</span>.skipBits=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;e&lt;s||(e-=s,e-=<span class=\"code-number\">8</span>*(t=<span class=\"code-built_in\">Math</span>.floor(e/<span class=\"code-number\">8</span>)),r-=t,<span class=\"code-keyword\">this</span>.loadWord()),a&lt;&lt;=e,s-=e},<span class=\"code-keyword\">this</span>.readBits=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">Math</span>.min(s,e),i=a&gt;&gt;&gt;<span class=\"code-number\">32</span>-t;<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>&lt;(s-=t)?a&lt;&lt;=t:<span class=\"code-number\">0</span>&lt;r&amp;&amp;<span class=\"code-keyword\">this</span>.loadWord(),<span class=\"code-number\">0</span>&lt;(t=e-t)?i&lt;&lt;t|<span class=\"code-keyword\">this</span>.readBits(t):i},<span class=\"code-keyword\">this</span>.skipLeadingZeros=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">0</span>;e&lt;s;++e)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!=(a&amp;<span class=\"code-number\">2147483648</span>&gt;&gt;&gt;e))<span class=\"code-keyword\">return</span> a&lt;&lt;=e,s-=e,e;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.loadWord(),e+<span class=\"code-keyword\">this</span>.skipLeadingZeros()},<span class=\"code-keyword\">this</span>.skipUnsignedExpGolomb=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.skipBits(<span class=\"code-number\">1</span>+<span class=\"code-keyword\">this</span>.skipLeadingZeros())},<span class=\"code-keyword\">this</span>.skipExpGolomb=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.skipBits(<span class=\"code-number\">1</span>+<span class=\"code-keyword\">this</span>.skipLeadingZeros())},<span class=\"code-keyword\">this</span>.readUnsignedExpGolomb=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.skipLeadingZeros();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.readBits(e+<span class=\"code-number\">1</span>)<span class=\"code-number\">-1</span>},<span class=\"code-keyword\">this</span>.readExpGolomb=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.readUnsignedExpGolomb();<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>&amp;e?<span class=\"code-number\">1</span>+e&gt;&gt;&gt;<span class=\"code-number\">1</span>:<span class=\"code-number\">-1</span>*(e&gt;&gt;&gt;<span class=\"code-number\">1</span>)},<span class=\"code-keyword\">this</span>.readBoolean=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.readBits(<span class=\"code-number\">1</span>)},<span class=\"code-keyword\">this</span>.readUnsignedByte=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.readBits(<span class=\"code-number\">8</span>)},<span class=\"code-keyword\">this</span>.loadWord()},st=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n,r,a=<span class=\"code-number\">0</span>;st.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=(r=r?((t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;a&lt;i<span class=\"code-number\">-3</span>;a++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===r[a+<span class=\"code-number\">2</span>]){n=a+<span class=\"code-number\">5</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">for</span>(;n&lt;i;)<span class=\"code-keyword\">switch</span>(r[n]){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==r[n<span class=\"code-number\">-1</span>]){n+=<span class=\"code-number\">2</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==r[n<span class=\"code-number\">-2</span>]){n++;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">for</span>(a+<span class=\"code-number\">3</span>!==n<span class=\"code-number\">-2</span>&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,r.subarray(a+<span class=\"code-number\">3</span>,n<span class=\"code-number\">-2</span>));<span class=\"code-number\">1</span>!==r[++n]&amp;&amp;n&lt;i;);a=n<span class=\"code-number\">-2</span>,n+=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==r[n<span class=\"code-number\">-1</span>]||<span class=\"code-number\">0</span>!==r[n<span class=\"code-number\">-2</span>]){n+=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,r.subarray(a+<span class=\"code-number\">3</span>,n<span class=\"code-number\">-2</span>)),a=n<span class=\"code-number\">-2</span>,n+=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:n+=<span class=\"code-number\">3</span>}r=r.subarray(a),n-=a,a=<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r=<span class=\"code-literal\">null</span>,a=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r&amp;&amp;<span class=\"code-number\">3</span>&lt;r.byteLength&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,r.subarray(a+<span class=\"code-number\">3</span>)),r=<span class=\"code-literal\">null</span>,a=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>)},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.flush(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"endedtimeline\"</span>)}};st.prototype=<span class=\"code-keyword\">new</span> j,nt={<span class=\"code-number\">100</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">110</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">122</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">244</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">44</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">83</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">86</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">118</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">128</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">138</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">139</span>:!<span class=\"code-number\">0</span>,<span class=\"code-number\">134</span>:!<span class=\"code-number\">0</span>},(it=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i,n,r,a,s,o,m,t=<span class=\"code-keyword\">new</span> st;it.prototype.init.call(<span class=\"code-keyword\">this</span>),(i=<span class=\"code-keyword\">this</span>).push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"video\"</span>===e.type&amp;&amp;(n=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">trackId</span>:n,<span class=\"code-attr\">pts</span>:r,<span class=\"code-attr\">dts</span>:a,<span class=\"code-attr\">data</span>:e,<span class=\"code-attr\">nalUnitTypeCode</span>:<span class=\"code-number\">31</span>&amp;e[<span class=\"code-number\">0</span>]};<span class=\"code-keyword\">switch</span>(t.nalUnitTypeCode){<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:t.nalUnitType=<span class=\"code-string\">\"slice_layer_without_partitioning_rbsp_idr\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:t.nalUnitType=<span class=\"code-string\">\"sei_rbsp\"</span>,t.escapedRBSP=s(e.subarray(<span class=\"code-number\">1</span>));<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:t.nalUnitType=<span class=\"code-string\">\"seq_parameter_set_rbsp\"</span>,t.escapedRBSP=s(e.subarray(<span class=\"code-number\">1</span>)),t.config=o(t.escapedRBSP);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">8</span>:t.nalUnitType=<span class=\"code-string\">\"pic_parameter_set_rbsp\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">9</span>:t.nalUnitType=<span class=\"code-string\">\"access_unit_delimiter_rbsp\"</span>}i.trigger(<span class=\"code-string\">\"data\"</span>,t)}),t.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.trigger(<span class=\"code-string\">\"done\"</span>)}),t.on(<span class=\"code-string\">\"partialdone\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.trigger(<span class=\"code-string\">\"partialdone\"</span>)}),t.on(<span class=\"code-string\">\"reset\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.trigger(<span class=\"code-string\">\"reset\"</span>)}),t.on(<span class=\"code-string\">\"endedtimeline\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.trigger(<span class=\"code-string\">\"endedtimeline\"</span>)}),<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.flush()},<span class=\"code-keyword\">this</span>.partialFlush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.partialFlush()},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.reset()},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.endTimeline()},m=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">8</span>,n=<span class=\"code-number\">8</span>,r=<span class=\"code-number\">0</span>;r&lt;e;r++)i=<span class=\"code-number\">0</span>===(n=<span class=\"code-number\">0</span>!==n?(i+t.readExpGolomb()+<span class=\"code-number\">256</span>)%<span class=\"code-number\">256</span>:n)?i:n},s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=e.byteLength,i=[],n=<span class=\"code-number\">1</span>;n&lt;t<span class=\"code-number\">-2</span>;)<span class=\"code-number\">0</span>===e[n]&amp;&amp;<span class=\"code-number\">0</span>===e[n+<span class=\"code-number\">1</span>]&amp;&amp;<span class=\"code-number\">3</span>===e[n+<span class=\"code-number\">2</span>]?(i.push(n+<span class=\"code-number\">2</span>),n+=<span class=\"code-number\">2</span>):n++;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===i.length)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=t-i.length,a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(r),s=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>;n&lt;r;s++,n++)s===i[<span class=\"code-number\">0</span>]&amp;&amp;(s++,i.shift()),a[n]=e[s];<span class=\"code-keyword\">return</span> a},o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a,s=<span class=\"code-number\">0</span>,o=<span class=\"code-number\">0</span>,u=<span class=\"code-number\">0</span>,l=<span class=\"code-number\">0</span>,c=[<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>],d=<span class=\"code-keyword\">new</span> at(e),h=d.readUnsignedByte(),p=d.readUnsignedByte(),f=d.readUnsignedByte();<span class=\"code-keyword\">if</span>(d.skipUnsignedExpGolomb(),nt[h]&amp;&amp;(<span class=\"code-number\">3</span>===(i=d.readUnsignedExpGolomb())&amp;&amp;d.skipBits(<span class=\"code-number\">1</span>),d.skipUnsignedExpGolomb(),d.skipUnsignedExpGolomb(),d.skipBits(<span class=\"code-number\">1</span>),d.readBoolean()))<span class=\"code-keyword\">for</span>(r=<span class=\"code-number\">3</span>!==i?<span class=\"code-number\">8</span>:<span class=\"code-number\">12</span>,a=<span class=\"code-number\">0</span>;a&lt;r;a++)d.readBoolean()&amp;&amp;m(a&lt;<span class=\"code-number\">6</span>?<span class=\"code-number\">16</span>:<span class=\"code-number\">64</span>,d);<span class=\"code-keyword\">if</span>(d.skipUnsignedExpGolomb(),<span class=\"code-number\">0</span>===(n=d.readUnsignedExpGolomb()))d.readUnsignedExpGolomb();<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===n)<span class=\"code-keyword\">for</span>(d.skipBits(<span class=\"code-number\">1</span>),d.skipExpGolomb(),d.skipExpGolomb(),t=d.readUnsignedExpGolomb(),a=<span class=\"code-number\">0</span>;a&lt;t;a++)d.skipExpGolomb();<span class=\"code-keyword\">if</span>(d.skipUnsignedExpGolomb(),d.skipBits(<span class=\"code-number\">1</span>),e=d.readUnsignedExpGolomb(),i=d.readUnsignedExpGolomb(),<span class=\"code-number\">0</span>===(n=d.readBits(<span class=\"code-number\">1</span>))&amp;&amp;d.skipBits(<span class=\"code-number\">1</span>),d.skipBits(<span class=\"code-number\">1</span>),d.readBoolean()&amp;&amp;(s=d.readUnsignedExpGolomb(),o=d.readUnsignedExpGolomb(),u=d.readUnsignedExpGolomb(),l=d.readUnsignedExpGolomb()),d.readBoolean()&amp;&amp;d.readBoolean()){<span class=\"code-keyword\">switch</span>(d.readUnsignedByte()){<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:c=[<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">2</span>:c=[<span class=\"code-number\">12</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">3</span>:c=[<span class=\"code-number\">10</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">4</span>:c=[<span class=\"code-number\">16</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:c=[<span class=\"code-number\">40</span>,<span class=\"code-number\">33</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:c=[<span class=\"code-number\">24</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:c=[<span class=\"code-number\">20</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">8</span>:c=[<span class=\"code-number\">32</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">9</span>:c=[<span class=\"code-number\">80</span>,<span class=\"code-number\">33</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">10</span>:c=[<span class=\"code-number\">18</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">11</span>:c=[<span class=\"code-number\">15</span>,<span class=\"code-number\">11</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">12</span>:c=[<span class=\"code-number\">64</span>,<span class=\"code-number\">33</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">13</span>:c=[<span class=\"code-number\">160</span>,<span class=\"code-number\">99</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">14</span>:c=[<span class=\"code-number\">4</span>,<span class=\"code-number\">3</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">15</span>:c=[<span class=\"code-number\">3</span>,<span class=\"code-number\">2</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">16</span>:c=[<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>];<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">255</span>:c=[d.readUnsignedByte()&lt;&lt;<span class=\"code-number\">8</span>|d.readUnsignedByte(),d.readUnsignedByte()&lt;&lt;<span class=\"code-number\">8</span>|d.readUnsignedByte()]}c&amp;&amp;(c[<span class=\"code-number\">0</span>],c[<span class=\"code-number\">1</span>])}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">profileIdc</span>:h,<span class=\"code-attr\">levelIdc</span>:f,<span class=\"code-attr\">profileCompatibility</span>:p,<span class=\"code-attr\">width</span>:<span class=\"code-number\">16</span>*(e+<span class=\"code-number\">1</span>)<span class=\"code-number\">-2</span>*s<span class=\"code-number\">-2</span>*o,<span class=\"code-attr\">height</span>:(<span class=\"code-number\">2</span>-n)*(i+<span class=\"code-number\">1</span>)*<span class=\"code-number\">16</span><span class=\"code-number\">-2</span>*u<span class=\"code-number\">-2</span>*l,<span class=\"code-attr\">sarRatio</span>:c}}}).prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ot</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>&lt;=(i=e[t+<span class=\"code-number\">6</span>]&lt;&lt;<span class=\"code-number\">21</span>|e[t+<span class=\"code-number\">7</span>]&lt;&lt;<span class=\"code-number\">14</span>|e[t+<span class=\"code-number\">8</span>]&lt;&lt;<span class=\"code-number\">7</span>|e[t+<span class=\"code-number\">9</span>])?i:<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>(<span class=\"code-number\">16</span>&amp;e[t+<span class=\"code-number\">5</span>])&gt;&gt;<span class=\"code-number\">4</span>?i+<span class=\"code-number\">20</span>:i+<span class=\"code-number\">10</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ut</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.length-t&lt;<span class=\"code-number\">10</span>||e[t]!==<span class=\"code-string\">\"I\"</span>.charCodeAt(<span class=\"code-number\">0</span>)||e[t+<span class=\"code-number\">1</span>]!==<span class=\"code-string\">\"D\"</span>.charCodeAt(<span class=\"code-number\">0</span>)||e[t+<span class=\"code-number\">2</span>]!==<span class=\"code-string\">\"3\"</span>.charCodeAt(<span class=\"code-number\">0</span>)?t:ut(e,t+=ot(e,t))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">lt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e[<span class=\"code-number\">0</span>]&lt;&lt;<span class=\"code-number\">21</span>|e[<span class=\"code-number\">1</span>]&lt;&lt;<span class=\"code-number\">14</span>|e[<span class=\"code-number\">2</span>]&lt;&lt;<span class=\"code-number\">7</span>|e[<span class=\"code-number\">3</span>]}<span class=\"code-keyword\">var</span> e={<span class=\"code-attr\">H264Stream</span>:it,<span class=\"code-attr\">NalByteStream</span>:st},ct=[<span class=\"code-number\">96e3</span>,<span class=\"code-number\">88200</span>,<span class=\"code-number\">64e3</span>,<span class=\"code-number\">48e3</span>,<span class=\"code-number\">44100</span>,<span class=\"code-number\">32e3</span>,<span class=\"code-number\">24e3</span>,<span class=\"code-number\">22050</span>,<span class=\"code-number\">16e3</span>,<span class=\"code-number\">12e3</span>,<span class=\"code-number\">11025</span>,<span class=\"code-number\">8e3</span>,<span class=\"code-number\">7350</span>],dt={<span class=\"code-attr\">isLikelyAacData</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=ut(e,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> e.length&gt;=t+<span class=\"code-number\">2</span>&amp;&amp;<span class=\"code-number\">255</span>==(<span class=\"code-number\">255</span>&amp;e[t])&amp;&amp;<span class=\"code-number\">240</span>==(<span class=\"code-number\">240</span>&amp;e[t+<span class=\"code-number\">1</span>])&amp;&amp;<span class=\"code-number\">16</span>==(<span class=\"code-number\">22</span>&amp;e[t+<span class=\"code-number\">1</span>])},<span class=\"code-attr\">parseId3TagSize</span>:ot,<span class=\"code-attr\">parseAdtsSize</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=(<span class=\"code-number\">224</span>&amp;e[t+<span class=\"code-number\">5</span>])&gt;&gt;<span class=\"code-number\">5</span>,n=e[t+<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">3</span>;<span class=\"code-keyword\">return</span> <span class=\"code-number\">6144</span>&amp;e[t+<span class=\"code-number\">3</span>]|n|i},<span class=\"code-attr\">parseType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e[t]===<span class=\"code-string\">\"I\"</span>.charCodeAt(<span class=\"code-number\">0</span>)&amp;&amp;e[t+<span class=\"code-number\">1</span>]===<span class=\"code-string\">\"D\"</span>.charCodeAt(<span class=\"code-number\">0</span>)&amp;&amp;e[t+<span class=\"code-number\">2</span>]===<span class=\"code-string\">\"3\"</span>.charCodeAt(<span class=\"code-number\">0</span>)?<span class=\"code-string\">\"timed-metadata\"</span>:!<span class=\"code-number\">0</span>&amp;e[t]&amp;&amp;<span class=\"code-number\">240</span>==(<span class=\"code-number\">240</span>&amp;e[t+<span class=\"code-number\">1</span>])?<span class=\"code-string\">\"audio\"</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">parseSampleRate</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t+<span class=\"code-number\">5</span>&lt;e.length;){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">255</span>===e[t]&amp;&amp;<span class=\"code-number\">240</span>==(<span class=\"code-number\">246</span>&amp;e[t+<span class=\"code-number\">1</span>]))<span class=\"code-keyword\">return</span> ct[(<span class=\"code-number\">60</span>&amp;e[t+<span class=\"code-number\">2</span>])&gt;&gt;&gt;<span class=\"code-number\">2</span>];t++}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},<span class=\"code-attr\">parseAacTimestamp</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=<span class=\"code-number\">10</span>;<span class=\"code-number\">64</span>&amp;e[<span class=\"code-number\">5</span>]&amp;&amp;(i+=<span class=\"code-number\">4</span>,i+=lt(e.subarray(<span class=\"code-number\">10</span>,<span class=\"code-number\">14</span>)));<span class=\"code-keyword\">do</span>{<span class=\"code-keyword\">if</span>((t=lt(e.subarray(i+<span class=\"code-number\">4</span>,i+<span class=\"code-number\">8</span>)))&lt;<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"PRIV\"</span>===<span class=\"code-built_in\">String</span>.fromCharCode(e[i],e[i+<span class=\"code-number\">1</span>],e[i+<span class=\"code-number\">2</span>],e[i+<span class=\"code-number\">3</span>]))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=e.subarray(i+<span class=\"code-number\">10</span>,i+t+<span class=\"code-number\">10</span>),r=<span class=\"code-number\">0</span>;r&lt;n.byteLength;r++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===n[r]){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"com.apple.streaming.transportStreamTimestamp\"</span>!==<span class=\"code-built_in\">unescape</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"\"</span>,r=t;r&lt;i;r++)n+=<span class=\"code-string\">\"%\"</span>+(<span class=\"code-string\">\"00\"</span>+e[r].toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-2</span>);<span class=\"code-keyword\">return</span> n}(n,<span class=\"code-number\">0</span>,r)))<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">var</span> a=n.subarray(r+<span class=\"code-number\">1</span>),s=(<span class=\"code-number\">1</span>&amp;a[<span class=\"code-number\">3</span>])&lt;&lt;<span class=\"code-number\">30</span>|a[<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">22</span>|a[<span class=\"code-number\">5</span>]&lt;&lt;<span class=\"code-number\">14</span>|a[<span class=\"code-number\">6</span>]&lt;&lt;<span class=\"code-number\">6</span>|a[<span class=\"code-number\">7</span>]&gt;&gt;&gt;<span class=\"code-number\">2</span>;<span class=\"code-keyword\">return</span> s*=<span class=\"code-number\">4</span>,s+=<span class=\"code-number\">3</span>&amp;a[<span class=\"code-number\">7</span>]}}<span class=\"code-keyword\">while</span>(i+=<span class=\"code-number\">10</span>,(i+=t)&lt;e.byteLength);<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}},ht=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>,s=<span class=\"code-number\">0</span>;ht.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.setTimestamp=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s=e},<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(a.length?(i=a.length,(a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.byteLength+i)).set(a.subarray(<span class=\"code-number\">0</span>,i)),a.set(e,i)):a=e;<span class=\"code-number\">3</span>&lt;=a.length-r;)<span class=\"code-keyword\">if</span>(a[r]!==<span class=\"code-string\">\"I\"</span>.charCodeAt(<span class=\"code-number\">0</span>)||a[r+<span class=\"code-number\">1</span>]!==<span class=\"code-string\">\"D\"</span>.charCodeAt(<span class=\"code-number\">0</span>)||a[r+<span class=\"code-number\">2</span>]!==<span class=\"code-string\">\"3\"</span>.charCodeAt(<span class=\"code-number\">0</span>))<span class=\"code-keyword\">if</span>(<span class=\"code-number\">255</span>!=(<span class=\"code-number\">255</span>&amp;a[r])||<span class=\"code-number\">240</span>!=(<span class=\"code-number\">240</span>&amp;a[r+<span class=\"code-number\">1</span>]))r++;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(a.length-r&lt;<span class=\"code-number\">7</span>)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">if</span>(r+(n=dt.parseAdtsSize(a,r))&gt;a.length)<span class=\"code-keyword\">break</span>;t={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">data</span>:a.subarray(r,r+n),<span class=\"code-attr\">pts</span>:s,<span class=\"code-attr\">dts</span>:s},<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,t),r+=n}<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(a.length-r&lt;<span class=\"code-number\">10</span>)<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">if</span>(r+(n=dt.parseId3TagSize(a,r))&gt;a.length)<span class=\"code-keyword\">break</span>;t={<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"timed-metadata\"</span>,<span class=\"code-attr\">data</span>:a.subarray(r,r+n)},<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,t),r+=n}e=a.length-r,a=<span class=\"code-number\">0</span>&lt;e?a.subarray(r):<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"endedtimeline\"</span>)}};ht.prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">pt</span>(<span class=\"code-params\">e,t</span>)</span>{t.stream=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"log\"</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ft</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Object</span>.keys(t),n=<span class=\"code-number\">0</span>;n&lt;i.length;n++){<span class=\"code-keyword\">var</span> r=i[n];<span class=\"code-string\">\"headOfPipeline\"</span>!==r&amp;&amp;t[r].on&amp;&amp;t[r].on(<span class=\"code-string\">\"log\"</span>,pt.bind(e,r))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">mt</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i;<span class=\"code-keyword\">if</span>(e.length===t.length){<span class=\"code-keyword\">for</span>(i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)<span class=\"code-keyword\">if</span>(e[i]!==t[i])<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">gt</span>(<span class=\"code-params\">e,t,i,n,r,a</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:{<span class=\"code-attr\">dts</span>:e,<span class=\"code-attr\">pts</span>:e+(i-t)},<span class=\"code-attr\">end</span>:{<span class=\"code-attr\">dts</span>:e+(n-t),<span class=\"code-attr\">pts</span>:e+(r-i)},<span class=\"code-attr\">prependedContentDuration</span>:a,<span class=\"code-attr\">baseMediaDecodeTime</span>:e}}<span class=\"code-keyword\">var</span> yt,vt,_t,bt=ht,Tt=[<span class=\"code-string\">\"audioobjecttype\"</span>,<span class=\"code-string\">\"channelcount\"</span>,<span class=\"code-string\">\"samplerate\"</span>,<span class=\"code-string\">\"samplingfrequencyindex\"</span>,<span class=\"code-string\">\"samplesize\"</span>],St=[<span class=\"code-string\">\"width\"</span>,<span class=\"code-string\">\"height\"</span>,<span class=\"code-string\">\"profileIdc\"</span>,<span class=\"code-string\">\"levelIdc\"</span>,<span class=\"code-string\">\"profileCompatibility\"</span>,<span class=\"code-string\">\"sarRatio\"</span>],wt=e.H264Stream,Et=dt.isLikelyAacData,kt=ue,Ct=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a,s</span>)</span>{<span class=\"code-keyword\">var</span> o=[],u=<span class=\"code-number\">0</span>,l=<span class=\"code-number\">0</span>,c=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,d=(s=s||{}).firstSequenceNumber||<span class=\"code-number\">0</span>;Ct.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{Te(a,t),a&amp;&amp;Tt.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a[e]=t[e]}),o.push(t)},<span class=\"code-keyword\">this</span>.setEarliestDts=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{u=e},<span class=\"code-keyword\">this</span>.setVideoBaseMediaDecodeTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{c=e},<span class=\"code-keyword\">this</span>.setAudioAppendStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{l=e},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t,i,n,r;<span class=\"code-number\">0</span>!==o.length&amp;&amp;(e=me(o,a,u),a.baseMediaDecodeTime=be(a,s.keepOriginalTimestamps),r=fe(a,e,l,c),a.samples=ge(e),t=K(ye(e)),o=[],n=Y(d,[a]),i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n.byteLength+t.byteLength),d++,i.set(n),i.set(t,n.byteLength),_e(a),n=<span class=\"code-built_in\">Math</span>.ceil(<span class=\"code-number\">1024</span>*kt/a.samplerate),e.length&amp;&amp;(n=e.length*n,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"segmentTimingInfo\"</span>,gt(de(a.baseMediaDecodeTime,a.samplerate),e[<span class=\"code-number\">0</span>].dts,e[<span class=\"code-number\">0</span>].pts,e[<span class=\"code-number\">0</span>].dts+n,e[<span class=\"code-number\">0</span>].pts+n,r||<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timingInfo\"</span>,{<span class=\"code-attr\">start</span>:e[<span class=\"code-number\">0</span>].pts,<span class=\"code-attr\">end</span>:e[<span class=\"code-number\">0</span>].pts+n})),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">track</span>:a,<span class=\"code-attr\">boxes</span>:i})),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>,<span class=\"code-string\">\"AudioSegmentStream\"</span>)},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{_e(a),o=[],<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)}};Ct.prototype=<span class=\"code-keyword\">new</span> j,(yt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s,a</span>)</span>{<span class=\"code-keyword\">var</span> t,i,o=[],l=[],u=(a=a||{}).firstSequenceNumber||<span class=\"code-number\">0</span>;yt.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">delete</span> s.minPTS,<span class=\"code-keyword\">this</span>.gopCache_=[],<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Te(s,e),<span class=\"code-string\">\"seq_parameter_set_rbsp\"</span>!==e.nalUnitType||t||(t=e.config,s.sps=[e.data],St.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s[e]=t[e]},<span class=\"code-keyword\">this</span>)),<span class=\"code-string\">\"pic_parameter_set_rbsp\"</span>!==e.nalUnitType||i||(i=e.data,s.pps=[e.data]),o.push(e)},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,t,i,n=<span class=\"code-number\">0</span>;o.length&amp;&amp;<span class=\"code-string\">\"access_unit_delimiter_rbsp\"</span>!==o[<span class=\"code-number\">0</span>].nalUnitType;)o.shift();<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===o.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.resetStream_(),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>,<span class=\"code-string\">\"VideoSegmentStream\"</span>);<span class=\"code-keyword\">if</span>(e=$(o),(t=J(e))[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>].keyFrame||((i=<span class=\"code-keyword\">this</span>.getGopForFusion_(o[<span class=\"code-number\">0</span>],s))?(n=i.duration,t.unshift(i),t.byteLength+=i.byteLength,t.nalCount+=i.nalCount,t.pts=i.pts,t.dts=i.dts,t.duration+=i.duration):t=Z(t)),l.length){<span class=\"code-keyword\">var</span> r=a.alignGopsAtEnd?<span class=\"code-keyword\">this</span>.alignGopsAtEnd_(t):<span class=\"code-keyword\">this</span>.alignGopsAtStart_(t);<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.gopCache_.unshift({<span class=\"code-attr\">gop</span>:t.pop(),<span class=\"code-attr\">pps</span>:s.pps,<span class=\"code-attr\">sps</span>:s.sps}),<span class=\"code-keyword\">this</span>.gopCache_.length=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">6</span>,<span class=\"code-keyword\">this</span>.gopCache_.length),o=[],<span class=\"code-keyword\">this</span>.resetStream_(),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>,<span class=\"code-string\">\"VideoSegmentStream\"</span>);_e(s),t=r}Te(s,t),s.samples=ee(t),e=K(te(t)),s.baseMediaDecodeTime=be(s,a.keepOriginalTimestamps),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"processedGopsInfo\"</span>,t.map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">pts</span>:e.pts,<span class=\"code-attr\">dts</span>:e.dts,<span class=\"code-attr\">byteLength</span>:e.byteLength}})),i=t[<span class=\"code-number\">0</span>],r=t[t.length<span class=\"code-number\">-1</span>],<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"segmentTimingInfo\"</span>,gt(s.baseMediaDecodeTime,i.dts,i.pts,r.dts+r.duration,r.pts+r.duration,n)),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timingInfo\"</span>,{<span class=\"code-attr\">start</span>:t[<span class=\"code-number\">0</span>].pts,<span class=\"code-attr\">end</span>:t[t.length<span class=\"code-number\">-1</span>].pts+t[t.length<span class=\"code-number\">-1</span>].duration}),<span class=\"code-keyword\">this</span>.gopCache_.unshift({<span class=\"code-attr\">gop</span>:t.pop(),<span class=\"code-attr\">pps</span>:s.pps,<span class=\"code-attr\">sps</span>:s.sps}),<span class=\"code-keyword\">this</span>.gopCache_.length=<span class=\"code-built_in\">Math</span>.min(<span class=\"code-number\">6</span>,<span class=\"code-keyword\">this</span>.gopCache_.length),o=[],<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"baseMediaDecodeTime\"</span>,s.baseMediaDecodeTime),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timelineStartInfo\"</span>,s.timelineStartInfo),n=Y(u,[s]),t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n.byteLength+e.byteLength),u++,t.set(n),t.set(e,n.byteLength),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,{<span class=\"code-attr\">track</span>:s,<span class=\"code-attr\">boxes</span>:t}),<span class=\"code-keyword\">this</span>.resetStream_(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>,<span class=\"code-string\">\"VideoSegmentStream\"</span>)},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.resetStream_(),o=[],<span class=\"code-keyword\">this</span>.gopCache_.length=<span class=\"code-number\">0</span>,l.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"reset\"</span>)},<span class=\"code-keyword\">this</span>.resetStream_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{_e(s),i=t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.getGopForFusion_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n,r=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,a=<span class=\"code-number\">0</span>;a&lt;<span class=\"code-keyword\">this</span>.gopCache_.length;a++)i=(n=<span class=\"code-keyword\">this</span>.gopCache_[a]).gop,s.pps&amp;&amp;mt(s.pps[<span class=\"code-number\">0</span>],n.pps[<span class=\"code-number\">0</span>])&amp;&amp;s.sps&amp;&amp;mt(s.sps[<span class=\"code-number\">0</span>],n.sps[<span class=\"code-number\">0</span>])&amp;&amp;(i.dts&lt;s.timelineStartInfo.dts||<span class=\"code-number\">-1e4</span>&lt;=(i=e.dts-i.dts-i.duration)&amp;&amp;i&lt;=<span class=\"code-number\">45e3</span>&amp;&amp;(!t||i&lt;r)&amp;&amp;(t=n,r=i));<span class=\"code-keyword\">return</span> t?t.gop:<span class=\"code-literal\">null</span>},<span class=\"code-keyword\">this</span>.alignGopsAtStart_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n,r,a=e.byteLength,s=e.nalCount,o=e.duration,u=t=<span class=\"code-number\">0</span>;u&lt;l.length&amp;&amp;t&lt;e.length&amp;&amp;(i=l[u],n=e[t],i.pts!==n.pts);)n.pts&gt;i.pts?u++:(t++,a-=n.byteLength,s-=n.nalCount,o-=n.duration);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===t?e:t===e.length?<span class=\"code-literal\">null</span>:((r=e.slice(t)).byteLength=a,r.duration=o,r.nalCount=s,r.pts=r[<span class=\"code-number\">0</span>].pts,r.dts=r[<span class=\"code-number\">0</span>].dts,r)},<span class=\"code-keyword\">this</span>.alignGopsAtEnd_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i,n=l.length<span class=\"code-number\">-1</span>,r=e.length<span class=\"code-number\">-1</span>,a=<span class=\"code-literal\">null</span>,s=!<span class=\"code-number\">1</span>;<span class=\"code-number\">0</span>&lt;=n&amp;&amp;<span class=\"code-number\">0</span>&lt;=r;){<span class=\"code-keyword\">if</span>(t=l[n],i=e[r],t.pts===i.pts){s=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}t.pts&gt;i.pts?n--:(n===l.length<span class=\"code-number\">-1</span>&amp;&amp;(a=r),r--)}<span class=\"code-keyword\">if</span>(!s&amp;&amp;<span class=\"code-literal\">null</span>===a)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===(u=s?r:a))<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> o=e.slice(u),u=o.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{<span class=\"code-attr\">byteLength</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">duration</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">nalCount</span>:<span class=\"code-number\">0</span>});<span class=\"code-keyword\">return</span> o.byteLength=u.byteLength,o.duration=u.duration,o.nalCount=u.nalCount,o.pts=o[<span class=\"code-number\">0</span>].pts,o.dts=o[<span class=\"code-number\">0</span>].dts,o},<span class=\"code-keyword\">this</span>.alignGopsWith=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{l=e}}).prototype=<span class=\"code-keyword\">new</span> j,(_t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.numberOfTracks=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.metadataStream=t,<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(e=e||{}).remux?<span class=\"code-keyword\">this</span>.remuxTracks=!!e.remux:<span class=\"code-keyword\">this</span>.remuxTracks=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"boolean\"</span>==<span class=\"code-keyword\">typeof</span> e.keepOriginalTimestamps?<span class=\"code-keyword\">this</span>.keepOriginalTimestamps=e.keepOriginalTimestamps:<span class=\"code-keyword\">this</span>.keepOriginalTimestamps=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.pendingTracks=[],<span class=\"code-keyword\">this</span>.videoTrack=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.pendingBoxes=[],<span class=\"code-keyword\">this</span>.pendingCaptions=[],<span class=\"code-keyword\">this</span>.pendingMetadata=[],<span class=\"code-keyword\">this</span>.pendingBytes=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.emittedTracks=<span class=\"code-number\">0</span>,_t.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.text?<span class=\"code-keyword\">this</span>.pendingCaptions.push(e):e.frames?<span class=\"code-keyword\">this</span>.pendingMetadata.push(e):(<span class=\"code-keyword\">this</span>.pendingTracks.push(e.track),<span class=\"code-keyword\">this</span>.pendingBytes+=e.boxes.byteLength,<span class=\"code-string\">\"video\"</span>===e.track.type&amp;&amp;(<span class=\"code-keyword\">this</span>.videoTrack=e.track,<span class=\"code-keyword\">this</span>.pendingBoxes.push(e.boxes)),<span class=\"code-keyword\">void</span>(<span class=\"code-string\">\"audio\"</span>===e.track.type&amp;&amp;(<span class=\"code-keyword\">this</span>.audioTrack=e.track,<span class=\"code-keyword\">this</span>.pendingBoxes.unshift(e.boxes))))}}).prototype=<span class=\"code-keyword\">new</span> j,_t.prototype.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r=<span class=\"code-number\">0</span>,a={<span class=\"code-attr\">captions</span>:[],<span class=\"code-attr\">captionStreams</span>:{},<span class=\"code-attr\">metadata</span>:[],<span class=\"code-attr\">info</span>:{}},s=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.pendingTracks.length&lt;<span class=\"code-keyword\">this</span>.numberOfTracks){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"VideoSegmentStream\"</span>!==e&amp;&amp;<span class=\"code-string\">\"AudioSegmentStream\"</span>!==e)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.remuxTracks)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.pendingTracks.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.emittedTracks++,<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.emittedTracks&gt;=<span class=\"code-keyword\">this</span>.numberOfTracks&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>),<span class=\"code-keyword\">this</span>.emittedTracks=<span class=\"code-number\">0</span>))}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.videoTrack?(s=<span class=\"code-keyword\">this</span>.videoTrack.timelineStartInfo.pts,St.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.info[e]=<span class=\"code-keyword\">this</span>.videoTrack[e]},<span class=\"code-keyword\">this</span>)):<span class=\"code-keyword\">this</span>.audioTrack&amp;&amp;(s=<span class=\"code-keyword\">this</span>.audioTrack.timelineStartInfo.pts,Tt.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a.info[e]=<span class=\"code-keyword\">this</span>.audioTrack[e]},<span class=\"code-keyword\">this</span>)),<span class=\"code-keyword\">this</span>.videoTrack||<span class=\"code-keyword\">this</span>.audioTrack){<span class=\"code-keyword\">for</span>(<span class=\"code-number\">1</span>===<span class=\"code-keyword\">this</span>.pendingTracks.length?a.type=<span class=\"code-keyword\">this</span>.pendingTracks[<span class=\"code-number\">0</span>].type:a.type=<span class=\"code-string\">\"combined\"</span>,<span class=\"code-keyword\">this</span>.emittedTracks+=<span class=\"code-keyword\">this</span>.pendingTracks.length,e=Q(<span class=\"code-keyword\">this</span>.pendingTracks),a.initSegment=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.byteLength),a.initSegment.set(e),a.data=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-keyword\">this</span>.pendingBytes),n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.pendingBoxes.length;n++)a.data.set(<span class=\"code-keyword\">this</span>.pendingBoxes[n],r),r+=<span class=\"code-keyword\">this</span>.pendingBoxes[n].byteLength;<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.pendingCaptions.length;n++)(t=<span class=\"code-keyword\">this</span>.pendingCaptions[n]).startTime=pe(t.startPts,s,<span class=\"code-keyword\">this</span>.keepOriginalTimestamps),t.endTime=pe(t.endPts,s,<span class=\"code-keyword\">this</span>.keepOriginalTimestamps),a.captionStreams[t.stream]=!<span class=\"code-number\">0</span>,a.captions.push(t);<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">0</span>;n&lt;<span class=\"code-keyword\">this</span>.pendingMetadata.length;n++)(i=<span class=\"code-keyword\">this</span>.pendingMetadata[n]).cueTime=pe(i.pts,s,<span class=\"code-keyword\">this</span>.keepOriginalTimestamps),a.metadata.push(i);<span class=\"code-keyword\">for</span>(a.metadata.dispatchType=<span class=\"code-keyword\">this</span>.metadataStream.dispatchType,<span class=\"code-keyword\">this</span>.pendingTracks.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.videoTrack=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.pendingBoxes.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.pendingCaptions.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.pendingBytes=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.pendingMetadata.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"data\"</span>,a),n=<span class=\"code-number\">0</span>;n&lt;a.captions.length;n++)t=a.captions[n],<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"caption\"</span>,t);<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">0</span>;n&lt;a.metadata.length;n++)i=a.metadata[n],<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"id3Frame\"</span>,i)}<span class=\"code-keyword\">this</span>.emittedTracks&gt;=<span class=\"code-keyword\">this</span>.numberOfTracks&amp;&amp;(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"done\"</span>),<span class=\"code-keyword\">this</span>.emittedTracks=<span class=\"code-number\">0</span>)},_t.prototype.setRemux=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.remuxTracks=e},(vt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> r,a,s=<span class=\"code-keyword\">this</span>,i=!<span class=\"code-number\">0</span>;vt.prototype.init.call(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.baseMediaDecodeTime=(n=n||{}).baseMediaDecodeTime||<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.transmuxPipeline_={},<span class=\"code-keyword\">this</span>.setupAacPipeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t={};(<span class=\"code-keyword\">this</span>.transmuxPipeline_=t).type=<span class=\"code-string\">\"aac\"</span>,t.metadataStream=<span class=\"code-keyword\">new</span> Je.MetadataStream,t.aacStream=<span class=\"code-keyword\">new</span> bt,t.audioTimestampRolloverStream=<span class=\"code-keyword\">new</span> Je.TimestampRolloverStream(<span class=\"code-string\">\"audio\"</span>),t.timedMetadataTimestampRolloverStream=<span class=\"code-keyword\">new</span> Je.TimestampRolloverStream(<span class=\"code-string\">\"timed-metadata\"</span>),t.adtsStream=<span class=\"code-keyword\">new</span> rt,t.coalesceStream=<span class=\"code-keyword\">new</span> _t(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on(<span class=\"code-string\">\"timestamp\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"timed-metadata\"</span>!==e.type&amp;&amp;<span class=\"code-string\">\"audio\"</span>!==e.type||t.audioSegmentStream||(a=a||{<span class=\"code-attr\">timelineStartInfo</span>:{<span class=\"code-attr\">baseMediaDecodeTime</span>:s.baseMediaDecodeTime},<span class=\"code-attr\">codec</span>:<span class=\"code-string\">\"adts\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=<span class=\"code-keyword\">new</span> Ct(a,n),t.audioSegmentStream.on(<span class=\"code-string\">\"log\"</span>,s.getLogTrigger_(<span class=\"code-string\">\"audioSegmentStream\"</span>)),t.audioSegmentStream.on(<span class=\"code-string\">\"timingInfo\"</span>,s.trigger.bind(s,<span class=\"code-string\">\"audioTimingInfo\"</span>)),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),s.trigger(<span class=\"code-string\">\"trackinfo\"</span>,{<span class=\"code-attr\">hasAudio</span>:!!a,<span class=\"code-attr\">hasVideo</span>:!!r}))}),t.coalesceStream.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"data\"</span>)),t.coalesceStream.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"done\"</span>)),ft(<span class=\"code-keyword\">this</span>,t)},<span class=\"code-keyword\">this</span>.setupTsPipeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i={};(<span class=\"code-keyword\">this</span>.transmuxPipeline_=i).type=<span class=\"code-string\">\"ts\"</span>,i.metadataStream=<span class=\"code-keyword\">new</span> Je.MetadataStream,i.packetStream=<span class=\"code-keyword\">new</span> Je.TransportPacketStream,i.parseStream=<span class=\"code-keyword\">new</span> Je.TransportParseStream,i.elementaryStream=<span class=\"code-keyword\">new</span> Je.ElementaryStream,i.timestampRolloverStream=<span class=\"code-keyword\">new</span> Je.TimestampRolloverStream,i.adtsStream=<span class=\"code-keyword\">new</span> rt,i.h264Stream=<span class=\"code-keyword\">new</span> wt,i.captionStream=<span class=\"code-keyword\">new</span> Je.CaptionStream(n),i.coalesceStream=<span class=\"code-keyword\">new</span> _t(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"metadata\"</span>===e.type){<span class=\"code-keyword\">for</span>(t=e.tracks.length;t--;)r||<span class=\"code-string\">\"video\"</span>!==e.tracks[t].type?a||<span class=\"code-string\">\"audio\"</span>!==e.tracks[t].type||((a=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&amp;&amp;!i.videoSegmentStream&amp;&amp;(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=<span class=\"code-keyword\">new</span> yt(r,n),i.videoSegmentStream.on(<span class=\"code-string\">\"log\"</span>,s.getLogTrigger_(<span class=\"code-string\">\"videoSegmentStream\"</span>)),i.videoSegmentStream.on(<span class=\"code-string\">\"timelineStartInfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a&amp;&amp;!n.keepOriginalTimestamps&amp;&amp;(a.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts-s.baseMediaDecodeTime))}),i.videoSegmentStream.on(<span class=\"code-string\">\"processedGopsInfo\"</span>,s.trigger.bind(s,<span class=\"code-string\">\"gopInfo\"</span>)),i.videoSegmentStream.on(<span class=\"code-string\">\"segmentTimingInfo\"</span>,s.trigger.bind(s,<span class=\"code-string\">\"videoSegmentTimingInfo\"</span>)),i.videoSegmentStream.on(<span class=\"code-string\">\"baseMediaDecodeTime\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a&amp;&amp;i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on(<span class=\"code-string\">\"timingInfo\"</span>,s.trigger.bind(s,<span class=\"code-string\">\"videoTimingInfo\"</span>)),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),a&amp;&amp;!i.audioSegmentStream&amp;&amp;(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=<span class=\"code-keyword\">new</span> Ct(a,n),i.audioSegmentStream.on(<span class=\"code-string\">\"log\"</span>,s.getLogTrigger_(<span class=\"code-string\">\"audioSegmentStream\"</span>)),i.audioSegmentStream.on(<span class=\"code-string\">\"timingInfo\"</span>,s.trigger.bind(s,<span class=\"code-string\">\"audioTimingInfo\"</span>)),i.audioSegmentStream.on(<span class=\"code-string\">\"segmentTimingInfo\"</span>,s.trigger.bind(s,<span class=\"code-string\">\"audioSegmentTimingInfo\"</span>)),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),s.trigger(<span class=\"code-string\">\"trackinfo\"</span>,{<span class=\"code-attr\">hasAudio</span>:!!a,<span class=\"code-attr\">hasVideo</span>:!!r})}}),i.coalesceStream.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"data\"</span>)),i.coalesceStream.on(<span class=\"code-string\">\"id3Frame\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.dispatchType=i.metadataStream.dispatchType,s.trigger(<span class=\"code-string\">\"id3Frame\"</span>,e)}),i.coalesceStream.on(<span class=\"code-string\">\"caption\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"caption\"</span>)),i.coalesceStream.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-keyword\">this</span>.trigger.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"done\"</span>)),ft(<span class=\"code-keyword\">this</span>,i)},<span class=\"code-keyword\">this</span>.setBaseMediaDecodeTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.transmuxPipeline_;n.keepOriginalTimestamps||(<span class=\"code-keyword\">this</span>.baseMediaDecodeTime=e),a&amp;&amp;(a.timelineStartInfo.dts=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,a.timelineStartInfo.pts=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,_e(a),t.audioTimestampRolloverStream&amp;&amp;t.audioTimestampRolloverStream.discontinuity()),r&amp;&amp;(t.videoSegmentStream&amp;&amp;(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r.timelineStartInfo.pts=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,_e(r),t.captionStream.reset()),t.timestampRolloverStream&amp;&amp;t.timestampRolloverStream.discontinuity()},<span class=\"code-keyword\">this</span>.setAudioAppendStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{a&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},<span class=\"code-keyword\">this</span>.setRemux=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.transmuxPipeline_;n.remux=e,t&amp;&amp;t.coalesceStream&amp;&amp;t.coalesceStream.setRemux(e)},<span class=\"code-keyword\">this</span>.alignGopsWith=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{r&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxPipeline_.videoSegmentStream&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},<span class=\"code-keyword\">this</span>.getLogTrigger_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.stream=t,i.trigger(<span class=\"code-string\">\"log\"</span>,e)}},<span class=\"code-keyword\">this</span>.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;i&amp;&amp;((t=Et(e))&amp;&amp;<span class=\"code-string\">\"aac\"</span>!==<span class=\"code-keyword\">this</span>.transmuxPipeline_.type?<span class=\"code-keyword\">this</span>.setupAacPipeline():t||<span class=\"code-string\">\"ts\"</span>===<span class=\"code-keyword\">this</span>.transmuxPipeline_.type||<span class=\"code-keyword\">this</span>.setupTsPipeline(),i=!<span class=\"code-number\">1</span>),<span class=\"code-keyword\">this</span>.transmuxPipeline_.headOfPipeline.push(e)},<span class=\"code-keyword\">this</span>.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.transmuxPipeline_.headOfPipeline.flush()},<span class=\"code-keyword\">this</span>.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transmuxPipeline_.headOfPipeline.endTimeline()},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transmuxPipeline_.headOfPipeline&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxPipeline_.headOfPipeline.reset()},<span class=\"code-keyword\">this</span>.resetCaptions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transmuxPipeline_.captionStream&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxPipeline_.captionStream.reset()}}).prototype=<span class=\"code-keyword\">new</span> j;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">It</span>(<span class=\"code-params\">e,c</span>)</span>{<span class=\"code-keyword\">var</span> i=Rt(e,[<span class=\"code-string\">\"moof\"</span>,<span class=\"code-string\">\"traf\"</span>]),e=Rt(e,[<span class=\"code-string\">\"mdat\"</span>]),d={},n=[];<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=i[t];n.push({<span class=\"code-attr\">mdat</span>:e,<span class=\"code-attr\">traf</span>:t})}),n.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a,s=e.mdat,o=e.traf,u=Rt(o,[<span class=\"code-string\">\"tfhd\"</span>]),l=Ht(u[<span class=\"code-number\">0</span>]),e=l.trackId,u=Rt(o,[<span class=\"code-string\">\"tfdt\"</span>]),u=<span class=\"code-number\">0</span>&lt;u.length?Bt(u[<span class=\"code-number\">0</span>]).baseMediaDecodeTime:<span class=\"code-number\">0</span>,o=Rt(o,[<span class=\"code-string\">\"trun\"</span>]);c===e&amp;&amp;<span class=\"code-number\">0</span>&lt;o.length&amp;&amp;(o=o,t=u,i=(l=l).defaultSampleDuration||<span class=\"code-number\">0</span>,n=l.defaultSampleSize||<span class=\"code-number\">0</span>,r=l.trackId,a=[],o.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=jt(e).samples;e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.duration&amp;&amp;(e.duration=i),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.size&amp;&amp;(e.size=n),e.trackId=r,e.dts=t,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.compositionTimeOffset&amp;&amp;(e.compositionTimeOffset=<span class=\"code-number\">0</span>),<span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t?(e.pts=t+qt.BigInt(e.compositionTimeOffset),t+=qt.BigInt(e.duration)):(e.pts=t+e.compositionTimeOffset,t+=e.duration)}),a=a.concat(e)}),s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r,a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(e.buffer,e.byteOffset,e.byteLength),s={<span class=\"code-attr\">logs</span>:[],<span class=\"code-attr\">seiNals</span>:[]},o=<span class=\"code-number\">0</span>;o+<span class=\"code-number\">4</span>&lt;e.length;o+=n)<span class=\"code-keyword\">if</span>(n=a.getUint32(o),o+=<span class=\"code-number\">4</span>,!(n&lt;=<span class=\"code-number\">0</span>))<span class=\"code-keyword\">switch</span>(<span class=\"code-number\">31</span>&amp;e[o]){<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:<span class=\"code-keyword\">var</span> u=e.subarray(o+<span class=\"code-number\">1</span>,o+<span class=\"code-number\">1</span>+n),l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e,n=<span class=\"code-number\">0</span>;n&lt;t.length;n++){<span class=\"code-keyword\">var</span> r=t[n];<span class=\"code-keyword\">if</span>(i&lt;r.size)<span class=\"code-keyword\">return</span> r;i-=r.size}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(o,t),u={<span class=\"code-attr\">nalUnitType</span>:<span class=\"code-string\">\"sei_rbsp\"</span>,<span class=\"code-attr\">size</span>:n,<span class=\"code-attr\">data</span>:u,<span class=\"code-attr\">escapedRBSP</span>:Vt(u),<span class=\"code-attr\">trackId</span>:i};<span class=\"code-keyword\">if</span>(l)u.pts=l.pts,u.dts=l.dts,r=l;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!r){s.logs.push({<span class=\"code-attr\">level</span>:<span class=\"code-string\">\"warn\"</span>,<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"We've encountered a nal unit without data at \"</span>+o+<span class=\"code-string\">\" for trackId \"</span>+i+<span class=\"code-string\">\". See mux.js#223.\"</span>});<span class=\"code-keyword\">break</span>}u.pts=r.pts,u.dts=r.dts}s.seiNals.push(u)}<span class=\"code-keyword\">return</span> s}(s,a,e),d[e]||(d[e]={<span class=\"code-attr\">seiNals</span>:[],<span class=\"code-attr\">logs</span>:[]}),d[e].seiNals=d[e].seiNals.concat(s.seiNals),d[e].logs=d[e].logs.concat(s.logs))}),d}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">31</span>&amp;e[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">return</span> t&lt;&lt;=<span class=\"code-number\">8</span>,t|=e[<span class=\"code-number\">2</span>]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">At</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!(<span class=\"code-number\">64</span>&amp;e[<span class=\"code-number\">1</span>])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Pt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>&lt;(<span class=\"code-number\">48</span>&amp;e[<span class=\"code-number\">3</span>])&gt;&gt;&gt;<span class=\"code-number\">4</span>&amp;&amp;(t+=e[<span class=\"code-number\">4</span>]+<span class=\"code-number\">1</span>),t}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Lt</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">switch</span>(e){<span class=\"code-keyword\">case</span> <span class=\"code-number\">5</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"slice_layer_without_partitioning_rbsp_idr\"</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">6</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"sei_rbsp\"</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">7</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"seq_parameter_set_rbsp\"</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">8</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"pic_parameter_set_rbsp\"</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">9</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"access_unit_delimiter_rbsp\"</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}<span class=\"code-keyword\">var</span> Dt={<span class=\"code-attr\">Transmuxer</span>:vt,<span class=\"code-attr\">VideoSegmentStream</span>:yt,<span class=\"code-attr\">AudioSegmentStream</span>:Ct,<span class=\"code-attr\">AUDIO_PROPERTIES</span>:Tt,<span class=\"code-attr\">VIDEO_PROPERTIES</span>:St,<span class=\"code-attr\">generateSegmentTimingInfo</span>:gt},e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&gt;&gt;&gt;<span class=\"code-number\">0</span>},Ot=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">return</span> t+=<span class=\"code-built_in\">String</span>.fromCharCode(e[<span class=\"code-number\">0</span>]),t+=<span class=\"code-built_in\">String</span>.fromCharCode(e[<span class=\"code-number\">1</span>]),t+=<span class=\"code-built_in\">String</span>.fromCharCode(e[<span class=\"code-number\">2</span>]),t+=<span class=\"code-built_in\">String</span>.fromCharCode(e[<span class=\"code-number\">3</span>])},Mt=e,Rt=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a,s=[];<span class=\"code-keyword\">if</span>(!i.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(n=<span class=\"code-number\">0</span>;n&lt;t.byteLength;)r=Mt(t[n]&lt;&lt;<span class=\"code-number\">24</span>|t[n+<span class=\"code-number\">1</span>]&lt;&lt;<span class=\"code-number\">16</span>|t[n+<span class=\"code-number\">2</span>]&lt;&lt;<span class=\"code-number\">8</span>|t[n+<span class=\"code-number\">3</span>]),a=Ot(t.subarray(n+<span class=\"code-number\">4</span>,n+<span class=\"code-number\">8</span>)),r=<span class=\"code-number\">1</span>&lt;r?n+r:t.byteLength,a===i[<span class=\"code-number\">0</span>]&amp;&amp;(<span class=\"code-number\">1</span>===i.length?s.push(t.subarray(n+<span class=\"code-number\">8</span>,r)):(a=e(t.subarray(n+<span class=\"code-number\">8</span>,r),i.slice(<span class=\"code-number\">1</span>))).length&amp;&amp;(s=s.concat(a))),n=r;<span class=\"code-keyword\">return</span> s},Nt=e,Ut=q.getUint64,Bt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">version</span>:e[<span class=\"code-number\">0</span>],<span class=\"code-attr\">flags</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.subarray(<span class=\"code-number\">1</span>,<span class=\"code-number\">4</span>))};<span class=\"code-keyword\">return</span> <span class=\"code-number\">1</span>===t.version?t.baseMediaDecodeTime=Ut(e.subarray(<span class=\"code-number\">4</span>)):t.baseMediaDecodeTime=Nt(e[<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">24</span>|e[<span class=\"code-number\">5</span>]&lt;&lt;<span class=\"code-number\">16</span>|e[<span class=\"code-number\">6</span>]&lt;&lt;<span class=\"code-number\">8</span>|e[<span class=\"code-number\">7</span>]),t},Ft=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">isLeading</span>:(<span class=\"code-number\">12</span>&amp;e[<span class=\"code-number\">0</span>])&gt;&gt;&gt;<span class=\"code-number\">2</span>,<span class=\"code-attr\">dependsOn</span>:<span class=\"code-number\">3</span>&amp;e[<span class=\"code-number\">0</span>],<span class=\"code-attr\">isDependedOn</span>:(<span class=\"code-number\">192</span>&amp;e[<span class=\"code-number\">1</span>])&gt;&gt;&gt;<span class=\"code-number\">6</span>,<span class=\"code-attr\">hasRedundancy</span>:(<span class=\"code-number\">48</span>&amp;e[<span class=\"code-number\">1</span>])&gt;&gt;&gt;<span class=\"code-number\">4</span>,<span class=\"code-attr\">paddingValue</span>:(<span class=\"code-number\">14</span>&amp;e[<span class=\"code-number\">1</span>])&gt;&gt;&gt;<span class=\"code-number\">1</span>,<span class=\"code-attr\">isNonSyncSample</span>:<span class=\"code-number\">1</span>&amp;e[<span class=\"code-number\">1</span>],<span class=\"code-attr\">degradationPriority</span>:e[<span class=\"code-number\">2</span>]&lt;&lt;<span class=\"code-number\">8</span>|e[<span class=\"code-number\">3</span>]}},jt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i={<span class=\"code-attr\">version</span>:e[<span class=\"code-number\">0</span>],<span class=\"code-attr\">flags</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.subarray(<span class=\"code-number\">1</span>,<span class=\"code-number\">4</span>)),<span class=\"code-attr\">samples</span>:[]},n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(e.buffer,e.byteOffset,e.byteLength),r=<span class=\"code-number\">1</span>&amp;i.flags[<span class=\"code-number\">2</span>],a=<span class=\"code-number\">4</span>&amp;i.flags[<span class=\"code-number\">2</span>],s=<span class=\"code-number\">1</span>&amp;i.flags[<span class=\"code-number\">1</span>],o=<span class=\"code-number\">2</span>&amp;i.flags[<span class=\"code-number\">1</span>],u=<span class=\"code-number\">4</span>&amp;i.flags[<span class=\"code-number\">1</span>],l=<span class=\"code-number\">8</span>&amp;i.flags[<span class=\"code-number\">1</span>],c=n.getUint32(<span class=\"code-number\">4</span>),d=<span class=\"code-number\">8</span>;<span class=\"code-keyword\">for</span>(r&amp;&amp;(i.dataOffset=n.getInt32(d),d+=<span class=\"code-number\">4</span>),a&amp;&amp;c&amp;&amp;(t={<span class=\"code-attr\">flags</span>:Ft(e.subarray(d,d+<span class=\"code-number\">4</span>))},d+=<span class=\"code-number\">4</span>,s&amp;&amp;(t.duration=n.getUint32(d),d+=<span class=\"code-number\">4</span>),o&amp;&amp;(t.size=n.getUint32(d),d+=<span class=\"code-number\">4</span>),l&amp;&amp;(<span class=\"code-number\">1</span>===i.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=<span class=\"code-number\">4</span>),i.samples.push(t),c--);c--;)t={},s&amp;&amp;(t.duration=n.getUint32(d),d+=<span class=\"code-number\">4</span>),o&amp;&amp;(t.size=n.getUint32(d),d+=<span class=\"code-number\">4</span>),u&amp;&amp;(t.flags=Ft(e.subarray(d,d+<span class=\"code-number\">4</span>)),d+=<span class=\"code-number\">4</span>),l&amp;&amp;(<span class=\"code-number\">1</span>===i.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=<span class=\"code-number\">4</span>),i.samples.push(t);<span class=\"code-keyword\">return</span> i},Ht=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(e.buffer,e.byteOffset,e.byteLength),i={<span class=\"code-attr\">version</span>:e[<span class=\"code-number\">0</span>],<span class=\"code-attr\">flags</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.subarray(<span class=\"code-number\">1</span>,<span class=\"code-number\">4</span>)),<span class=\"code-attr\">trackId</span>:t.getUint32(<span class=\"code-number\">4</span>)},n=<span class=\"code-number\">1</span>&amp;i.flags[<span class=\"code-number\">2</span>],r=<span class=\"code-number\">2</span>&amp;i.flags[<span class=\"code-number\">2</span>],a=<span class=\"code-number\">8</span>&amp;i.flags[<span class=\"code-number\">2</span>],s=<span class=\"code-number\">16</span>&amp;i.flags[<span class=\"code-number\">2</span>],o=<span class=\"code-number\">32</span>&amp;i.flags[<span class=\"code-number\">2</span>],u=<span class=\"code-number\">65536</span>&amp;i.flags[<span class=\"code-number\">0</span>],l=<span class=\"code-number\">131072</span>&amp;i.flags[<span class=\"code-number\">0</span>],e=<span class=\"code-number\">8</span>;<span class=\"code-keyword\">return</span> n&amp;&amp;(e+=<span class=\"code-number\">4</span>,i.baseDataOffset=t.getUint32(<span class=\"code-number\">12</span>),e+=<span class=\"code-number\">4</span>),r&amp;&amp;(i.sampleDescriptionIndex=t.getUint32(e),e+=<span class=\"code-number\">4</span>),a&amp;&amp;(i.defaultSampleDuration=t.getUint32(e),e+=<span class=\"code-number\">4</span>),s&amp;&amp;(i.defaultSampleSize=t.getUint32(e),e+=<span class=\"code-number\">4</span>),o&amp;&amp;(i.defaultSampleFlags=t.getUint32(e)),u&amp;&amp;(i.durationIsEmpty=!<span class=\"code-number\">0</span>),!n&amp;&amp;l&amp;&amp;(i.baseDataOffsetIsMoof=!<span class=\"code-number\">0</span>),i},j=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> globalThis?globalThis:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> global?global:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> self?self:{},j=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> j?j:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> self?self:{},qt=j,Vt=ke,Wt=Fe.CaptionStream,Gt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,r,a,s,o,i,n=!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.isInitialized=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n},<span class=\"code-keyword\">this</span>.init=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t=<span class=\"code-keyword\">new</span> Wt,n=!<span class=\"code-number\">0</span>,i=!!e&amp;&amp;e.isPartial,t.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.startTime=e.startPts/s,e.endTime=e.endPts/s,o.captions.push(e),o.captionStreams[e.stream]=!<span class=\"code-number\">0</span>}),t.on(<span class=\"code-string\">\"log\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{o.logs.push(e)})},<span class=\"code-keyword\">this</span>.isNewInit=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>!(e&amp;&amp;<span class=\"code-number\">0</span>===e.length||t&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;<span class=\"code-number\">0</span>===<span class=\"code-built_in\">Object</span>.keys(t).length)&amp;&amp;(a!==e[<span class=\"code-number\">0</span>]||s!==t[a])},<span class=\"code-keyword\">this</span>.parse=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.isInitialized())<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(!t||!i)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.isNewInit(t,i))a=t[<span class=\"code-number\">0</span>],s=i[a];<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===a||!s)<span class=\"code-keyword\">return</span> r.push(e),<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">for</span>(;<span class=\"code-number\">0</span>&lt;r.length;){<span class=\"code-keyword\">var</span> n=r.shift();<span class=\"code-keyword\">this</span>.parse(n,t,i)}<span class=\"code-keyword\">return</span>(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;t=It(e,t)[t]||{};<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">seiNals</span>:t.seiNals,<span class=\"code-attr\">logs</span>:t.logs,<span class=\"code-attr\">timescale</span>:i}}(e,a,s))&amp;&amp;e.logs&amp;&amp;(o.logs=o.logs.concat(e.logs)),<span class=\"code-literal\">null</span>!==e&amp;&amp;e.seiNals?(<span class=\"code-keyword\">this</span>.pushNals(e.seiNals),<span class=\"code-keyword\">this</span>.flushStream(),o):o.logs.length?{<span class=\"code-attr\">logs</span>:o.logs,<span class=\"code-attr\">captions</span>:[],<span class=\"code-attr\">captionStreams</span>:[]}:<span class=\"code-literal\">null</span>},<span class=\"code-keyword\">this</span>.pushNals=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.isInitialized()||!e||<span class=\"code-number\">0</span>===e.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.push(e)})},<span class=\"code-keyword\">this</span>.flushStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.isInitialized())<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;i?t.partialFlush():t.flush()},<span class=\"code-keyword\">this</span>.clearParsedCaptions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{o.captions=[],o.captionStreams={},o.logs=[]},<span class=\"code-keyword\">this</span>.resetCaptionStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.isInitialized())<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;t.reset()},<span class=\"code-keyword\">this</span>.clearAllCaptions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.clearParsedCaptions(),<span class=\"code-keyword\">this</span>.resetCaptionStream()},<span class=\"code-keyword\">this</span>.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r=[],s=a=<span class=\"code-literal\">null</span>,o?<span class=\"code-keyword\">this</span>.clearParsedCaptions():o={<span class=\"code-attr\">captions</span>:[],<span class=\"code-attr\">captionStreams</span>:{},<span class=\"code-attr\">logs</span>:[]},<span class=\"code-keyword\">this</span>.resetCaptionStream()},<span class=\"code-keyword\">this</span>.reset()},zt=e,Xt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(<span class=\"code-string\">\"00\"</span>+e.toString(<span class=\"code-number\">16</span>)).slice(<span class=\"code-number\">-2</span>)},Kt=q.getUint64,j=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> Rt(e,[<span class=\"code-string\">\"moov\"</span>,<span class=\"code-string\">\"trak\"</span>]).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r=Rt(t,[<span class=\"code-string\">\"tkhd\"</span>])[<span class=\"code-number\">0</span>];<span class=\"code-keyword\">return</span> r?(i=r[<span class=\"code-number\">0</span>],r=zt(r[n=<span class=\"code-number\">0</span>===i?<span class=\"code-number\">12</span>:<span class=\"code-number\">20</span>]&lt;&lt;<span class=\"code-number\">24</span>|r[<span class=\"code-number\">1</span>+n]&lt;&lt;<span class=\"code-number\">16</span>|r[<span class=\"code-number\">2</span>+n]&lt;&lt;<span class=\"code-number\">8</span>|r[<span class=\"code-number\">3</span>+n]),(t=Rt(t,[<span class=\"code-string\">\"mdia\"</span>,<span class=\"code-string\">\"mdhd\"</span>])[<span class=\"code-number\">0</span>])?(i=t[<span class=\"code-number\">0</span>],e[r]=zt(t[n=<span class=\"code-number\">0</span>===i?<span class=\"code-number\">12</span>:<span class=\"code-number\">20</span>]&lt;&lt;<span class=\"code-number\">24</span>|t[<span class=\"code-number\">1</span>+n]&lt;&lt;<span class=\"code-number\">16</span>|t[<span class=\"code-number\">2</span>+n]&lt;&lt;<span class=\"code-number\">8</span>|t[<span class=\"code-number\">3</span>+n]),e):<span class=\"code-literal\">null</span>):<span class=\"code-literal\">null</span>},{})},ke=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">a,e</span>)</span>{e=Rt(e,[<span class=\"code-string\">\"moof\"</span>,<span class=\"code-string\">\"traf\"</span>]).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=Rt(t,[<span class=\"code-string\">\"tfhd\"</span>])[<span class=\"code-number\">0</span>],r=zt(n[<span class=\"code-number\">4</span>]&lt;&lt;<span class=\"code-number\">24</span>|n[<span class=\"code-number\">5</span>]&lt;&lt;<span class=\"code-number\">16</span>|n[<span class=\"code-number\">6</span>]&lt;&lt;<span class=\"code-number\">8</span>|n[<span class=\"code-number\">7</span>]),n=a[r]||<span class=\"code-number\">9e4</span>,r=Rt(t,[<span class=\"code-string\">\"tfdt\"</span>])[<span class=\"code-number\">0</span>],t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(r.buffer,r.byteOffset,r.byteLength),t=<span class=\"code-number\">1</span>===r[<span class=\"code-number\">0</span>]?Kt(r.subarray(<span class=\"code-number\">4</span>,<span class=\"code-number\">12</span>)):t.getUint32(<span class=\"code-number\">4</span>);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> t?i=t/qt.BigInt(n):<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> t||<span class=\"code-built_in\">isNaN</span>(t)||(i=t/n),e=(i=i&lt;<span class=\"code-built_in\">Number</span>.MAX_SAFE_INTEGER?<span class=\"code-built_in\">Number</span>(i):i)&lt;e?i:e},<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"bigint\"</span>==<span class=\"code-keyword\">typeof</span> e||<span class=\"code-built_in\">isFinite</span>(e)?e:<span class=\"code-number\">0</span>},e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> e=Rt(e,[<span class=\"code-string\">\"moov\"</span>,<span class=\"code-string\">\"trak\"</span>]),n=[];<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Rt(e,[<span class=\"code-string\">\"mdia\"</span>,<span class=\"code-string\">\"hdlr\"</span>]),i=Rt(e,[<span class=\"code-string\">\"tkhd\"</span>]);t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e=Ot(e.subarray(<span class=\"code-number\">8</span>,<span class=\"code-number\">12</span>)),t=i[t];<span class=\"code-string\">\"vide\"</span>===e&amp;&amp;(t=<span class=\"code-number\">0</span>===(t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(t.buffer,t.byteOffset,t.byteLength)).getUint8(<span class=\"code-number\">0</span>)?t.getUint32(<span class=\"code-number\">12</span>):t.getUint32(<span class=\"code-number\">20</span>),n.push(t))})}),n},Yt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>===e[<span class=\"code-number\">0</span>]?<span class=\"code-number\">12</span>:<span class=\"code-number\">20</span>;<span class=\"code-keyword\">return</span> zt(e[t]&lt;&lt;<span class=\"code-number\">24</span>|e[<span class=\"code-number\">1</span>+t]&lt;&lt;<span class=\"code-number\">16</span>|e[<span class=\"code-number\">2</span>+t]&lt;&lt;<span class=\"code-number\">8</span>|e[<span class=\"code-number\">3</span>+t])},q=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> e=Rt(e,[<span class=\"code-string\">\"moov\"</span>,<span class=\"code-string\">\"trak\"</span>]),s=[];<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={},i=Rt(e,[<span class=\"code-string\">\"tkhd\"</span>])[<span class=\"code-number\">0</span>];i&amp;&amp;(i=(n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">DataView</span>(i.buffer,i.byteOffset,i.byteLength)).getUint8(<span class=\"code-number\">0</span>),t.id=<span class=\"code-number\">0</span>===i?n.getUint32(<span class=\"code-number\">12</span>):n.getUint32(<span class=\"code-number\">20</span>));<span class=\"code-keyword\">var</span> n=Rt(e,[<span class=\"code-string\">\"mdia\"</span>,<span class=\"code-string\">\"hdlr\"</span>])[<span class=\"code-number\">0</span>];n&amp;&amp;(a=Ot(n.subarray(<span class=\"code-number\">8</span>,<span class=\"code-number\">12</span>)),t.type=<span class=\"code-string\">\"vide\"</span>===a?<span class=\"code-string\">\"video\"</span>:<span class=\"code-string\">\"soun\"</span>===a?<span class=\"code-string\">\"audio\"</span>:a);<span class=\"code-keyword\">var</span> r,a=Rt(e,[<span class=\"code-string\">\"mdia\"</span>,<span class=\"code-string\">\"minf\"</span>,<span class=\"code-string\">\"stbl\"</span>,<span class=\"code-string\">\"stsd\"</span>])[<span class=\"code-number\">0</span>];a&amp;&amp;(a=a.subarray(<span class=\"code-number\">8</span>),t.codec=Ot(a.subarray(<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>)),(a=Rt(a,[t.codec])[<span class=\"code-number\">0</span>])&amp;&amp;(<span class=\"code-regexp\">/^[asm]vc[1-9]$/i</span>.test(t.codec)?(r=a.subarray(<span class=\"code-number\">78</span>),<span class=\"code-string\">\"avcC\"</span>===Ot(r.subarray(<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>))&amp;&amp;<span class=\"code-number\">11</span>&lt;r.length?(t.codec+=<span class=\"code-string\">\".\"</span>,t.codec+=Xt(r[<span class=\"code-number\">9</span>]),t.codec+=Xt(r[<span class=\"code-number\">10</span>]),t.codec+=Xt(r[<span class=\"code-number\">11</span>])):t.codec=<span class=\"code-string\">\"avc1.4d400d\"</span>):<span class=\"code-regexp\">/^mp4[a,v]$/i</span>.test(t.codec)?(r=a.subarray(<span class=\"code-number\">28</span>),<span class=\"code-string\">\"esds\"</span>===Ot(r.subarray(<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>))&amp;&amp;<span class=\"code-number\">20</span>&lt;r.length&amp;&amp;<span class=\"code-number\">0</span>!==r[<span class=\"code-number\">19</span>]?(t.codec+=<span class=\"code-string\">\".\"</span>+Xt(r[<span class=\"code-number\">19</span>]),t.codec+=<span class=\"code-string\">\".\"</span>+Xt(r[<span class=\"code-number\">20</span>]&gt;&gt;&gt;<span class=\"code-number\">2</span>&amp;<span class=\"code-number\">63</span>).replace(<span class=\"code-regexp\">/^0/</span>,<span class=\"code-string\">\"\"</span>)):t.codec=<span class=\"code-string\">\"mp4a.40.2\"</span>):t.codec=t.codec.toLowerCase()));e=Rt(e,[<span class=\"code-string\">\"mdia\"</span>,<span class=\"code-string\">\"mdhd\"</span>])[<span class=\"code-number\">0</span>];e&amp;&amp;(t.timescale=Yt(e)),s.push(t)}),s},Qt=ke,$t=q,Jt=Ie,Zt={};Zt.ts={<span class=\"code-attr\">parseType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e=xt(e);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===e?<span class=\"code-string\">\"pat\"</span>:e===t?<span class=\"code-string\">\"pmt\"</span>:t?<span class=\"code-string\">\"pes\"</span>:<span class=\"code-literal\">null</span>},<span class=\"code-attr\">parsePat</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=At(e),i=<span class=\"code-number\">4</span>+Pt(e);<span class=\"code-keyword\">return</span> t&amp;&amp;(i+=e[i]+<span class=\"code-number\">1</span>),(<span class=\"code-number\">31</span>&amp;e[i+<span class=\"code-number\">10</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[i+<span class=\"code-number\">11</span>]},<span class=\"code-attr\">parsePmt</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={},i=At(e),n=<span class=\"code-number\">4</span>+Pt(e);<span class=\"code-keyword\">if</span>(i&amp;&amp;(n+=e[n]+<span class=\"code-number\">1</span>),<span class=\"code-number\">1</span>&amp;e[n+<span class=\"code-number\">5</span>]){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">3</span>+((<span class=\"code-number\">15</span>&amp;e[n+<span class=\"code-number\">1</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[n+<span class=\"code-number\">2</span>])<span class=\"code-number\">-4</span>,a=<span class=\"code-number\">12</span>+((<span class=\"code-number\">15</span>&amp;e[n+<span class=\"code-number\">10</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[n+<span class=\"code-number\">11</span>]);a&lt;r;){<span class=\"code-keyword\">var</span> s=n+a;t[(<span class=\"code-number\">31</span>&amp;e[s+<span class=\"code-number\">1</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[s+<span class=\"code-number\">2</span>]]=e[s],a+=<span class=\"code-number\">5</span>+((<span class=\"code-number\">15</span>&amp;e[s+<span class=\"code-number\">3</span>])&lt;&lt;<span class=\"code-number\">8</span>|e[s+<span class=\"code-number\">4</span>])}<span class=\"code-keyword\">return</span> t}},<span class=\"code-attr\">parsePayloadUnitStartIndicator</span>:At,<span class=\"code-attr\">parsePesType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">switch</span>(t[xt(e)]){<span class=\"code-keyword\">case</span> je.H264_STREAM_TYPE:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"video\"</span>;<span class=\"code-keyword\">case</span> je.ADTS_STREAM_TYPE:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"audio\"</span>;<span class=\"code-keyword\">case</span> je.METADATA_STREAM_TYPE:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"timed-metadata\"</span>;<span class=\"code-keyword\">default</span>:<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}},<span class=\"code-attr\">parsePesTime</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!At(e))<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">4</span>+Pt(e);<span class=\"code-keyword\">if</span>(t&gt;=e.byteLength)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=<span class=\"code-literal\">null</span>,n=e[t+<span class=\"code-number\">7</span>];<span class=\"code-keyword\">return</span> <span class=\"code-number\">192</span>&amp;n&amp;&amp;((i={}).pts=(<span class=\"code-number\">14</span>&amp;e[t+<span class=\"code-number\">9</span>])&lt;&lt;<span class=\"code-number\">27</span>|(<span class=\"code-number\">255</span>&amp;e[t+<span class=\"code-number\">10</span>])&lt;&lt;<span class=\"code-number\">20</span>|(<span class=\"code-number\">254</span>&amp;e[t+<span class=\"code-number\">11</span>])&lt;&lt;<span class=\"code-number\">12</span>|(<span class=\"code-number\">255</span>&amp;e[t+<span class=\"code-number\">12</span>])&lt;&lt;<span class=\"code-number\">5</span>|(<span class=\"code-number\">254</span>&amp;e[t+<span class=\"code-number\">13</span>])&gt;&gt;&gt;<span class=\"code-number\">3</span>,i.pts*=<span class=\"code-number\">4</span>,i.pts+=(<span class=\"code-number\">6</span>&amp;e[t+<span class=\"code-number\">13</span>])&gt;&gt;&gt;<span class=\"code-number\">1</span>,i.dts=i.pts,<span class=\"code-number\">64</span>&amp;n&amp;&amp;(i.dts=(<span class=\"code-number\">14</span>&amp;e[t+<span class=\"code-number\">14</span>])&lt;&lt;<span class=\"code-number\">27</span>|(<span class=\"code-number\">255</span>&amp;e[t+<span class=\"code-number\">15</span>])&lt;&lt;<span class=\"code-number\">20</span>|(<span class=\"code-number\">254</span>&amp;e[t+<span class=\"code-number\">16</span>])&lt;&lt;<span class=\"code-number\">12</span>|(<span class=\"code-number\">255</span>&amp;e[t+<span class=\"code-number\">17</span>])&lt;&lt;<span class=\"code-number\">5</span>|(<span class=\"code-number\">254</span>&amp;e[t+<span class=\"code-number\">18</span>])&gt;&gt;&gt;<span class=\"code-number\">3</span>,i.dts*=<span class=\"code-number\">4</span>,i.dts+=(<span class=\"code-number\">6</span>&amp;e[t+<span class=\"code-number\">18</span>])&gt;&gt;&gt;<span class=\"code-number\">1</span>)),i},<span class=\"code-attr\">videoPacketContainsKeyFrame</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">4</span>+Pt(e),i=e.subarray(t),n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">0</span>,a=!<span class=\"code-number\">1</span>;r&lt;i.byteLength<span class=\"code-number\">-3</span>;r++)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===i[r+<span class=\"code-number\">2</span>]){n=r+<span class=\"code-number\">5</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">for</span>(;n&lt;i.byteLength;)<span class=\"code-keyword\">switch</span>(i[n]){<span class=\"code-keyword\">case</span> <span class=\"code-number\">0</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==i[n<span class=\"code-number\">-1</span>]){n+=<span class=\"code-number\">2</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==i[n<span class=\"code-number\">-2</span>]){n++;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">for</span>(r+<span class=\"code-number\">3</span>!==n<span class=\"code-number\">-2</span>&amp;&amp;<span class=\"code-string\">\"slice_layer_without_partitioning_rbsp_idr\"</span>===Lt(<span class=\"code-number\">31</span>&amp;i[r+<span class=\"code-number\">3</span>])&amp;&amp;(a=!<span class=\"code-number\">0</span>);<span class=\"code-number\">1</span>!==i[++n]&amp;&amp;n&lt;i.length;);r=n<span class=\"code-number\">-2</span>,n+=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> <span class=\"code-number\">1</span>:<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==i[n<span class=\"code-number\">-1</span>]||<span class=\"code-number\">0</span>!==i[n<span class=\"code-number\">-2</span>]){n+=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-string\">\"slice_layer_without_partitioning_rbsp_idr\"</span>===Lt(<span class=\"code-number\">31</span>&amp;i[r+<span class=\"code-number\">3</span>])&amp;&amp;(a=!<span class=\"code-number\">0</span>),r=n<span class=\"code-number\">-2</span>,n+=<span class=\"code-number\">3</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:n+=<span class=\"code-number\">3</span>}<span class=\"code-keyword\">return</span> i=i.subarray(r),n-=r,r=<span class=\"code-number\">0</span>,a=i&amp;&amp;<span class=\"code-number\">3</span>&lt;i.byteLength&amp;&amp;<span class=\"code-string\">\"slice_layer_without_partitioning_rbsp_idr\"</span>===Lt(<span class=\"code-number\">31</span>&amp;i[r+<span class=\"code-number\">3</span>])?!<span class=\"code-number\">0</span>:a}},Zt.aac=dt;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ei</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r,a,s,o=<span class=\"code-number\">0</span>,u=<span class=\"code-number\">188</span>,l=!<span class=\"code-number\">1</span>;u&lt;=e.byteLength;)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">71</span>!==e[o]||<span class=\"code-number\">71</span>!==e[u]&amp;&amp;u!==e.byteLength)o++,u++;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(n=e.subarray(o,u),<span class=\"code-string\">\"pes\"</span>===Zt.ts.parseType(n,t.pid)&amp;&amp;(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class=\"code-string\">\"audio\"</span>===r&amp;&amp;a&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class=\"code-string\">\"audio\"</span>,i.audio.push(s),l=!<span class=\"code-number\">0</span>)),l)<span class=\"code-keyword\">break</span>;o+=<span class=\"code-number\">188</span>,u+=<span class=\"code-number\">188</span>}<span class=\"code-keyword\">for</span>(o=(u=e.byteLength)<span class=\"code-number\">-188</span>,l=!<span class=\"code-number\">1</span>;<span class=\"code-number\">0</span>&lt;=o;)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">71</span>!==e[o]||<span class=\"code-number\">71</span>!==e[u]&amp;&amp;u!==e.byteLength)o--,u--;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(n=e.subarray(o,u),<span class=\"code-string\">\"pes\"</span>===Zt.ts.parseType(n,t.pid)&amp;&amp;(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class=\"code-string\">\"audio\"</span>===r&amp;&amp;a&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class=\"code-string\">\"audio\"</span>,i.audio.push(s),l=!<span class=\"code-number\">0</span>)),l)<span class=\"code-keyword\">break</span>;o-=<span class=\"code-number\">188</span>,u-=<span class=\"code-number\">188</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ti</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i={<span class=\"code-attr\">pid</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">table</span>:<span class=\"code-literal\">null</span>},n={};<span class=\"code-keyword\">for</span>(t <span class=\"code-keyword\">in</span>!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i,n=<span class=\"code-number\">0</span>,r=<span class=\"code-number\">188</span>;r&lt;e.byteLength;)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">71</span>!==e[n]||<span class=\"code-number\">71</span>!==e[r])n++,r++;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">switch</span>(i=e.subarray(n,r),Zt.ts.parseType(i,t.pid)){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"pat\"</span>:t.pid=Zt.ts.parsePat(i);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"pmt\"</span>:<span class=\"code-keyword\">var</span> a=Zt.ts.parsePmt(i);t.table=t.table||{},<span class=\"code-built_in\">Object</span>.keys(a).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.table[e]=a[e]})}n+=<span class=\"code-number\">188</span>,r+=<span class=\"code-number\">188</span>}}(e,i),i.table)<span class=\"code-keyword\">if</span>(i.table.hasOwnProperty(t))<span class=\"code-keyword\">switch</span>(i.table[t]){<span class=\"code-keyword\">case</span> je.H264_STREAM_TYPE:n.video=[],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r,a,s,o,u,l,c,d=<span class=\"code-number\">0</span>,h=<span class=\"code-number\">188</span>,p=!<span class=\"code-number\">1</span>,f={<span class=\"code-attr\">data</span>:[],<span class=\"code-attr\">size</span>:<span class=\"code-number\">0</span>};h&lt;e.byteLength;)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">71</span>!==e[d]||<span class=\"code-number\">71</span>!==e[h])d++,h++;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(n=e.subarray(d,h),<span class=\"code-string\">\"pes\"</span>===Zt.ts.parseType(n,t.pid))<span class=\"code-keyword\">if</span>(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class=\"code-string\">\"video\"</span>===r&amp;&amp;(a&amp;&amp;!p&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class=\"code-string\">\"video\"</span>,i.video.push(s),p=!<span class=\"code-number\">0</span>),!i.firstKeyFrame)){<span class=\"code-keyword\">if</span>(a&amp;&amp;<span class=\"code-number\">0</span>!==f.size){<span class=\"code-keyword\">for</span>(o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(f.size),u=<span class=\"code-number\">0</span>;f.data.length;)l=f.data.shift(),o.set(l,u),u+=l.byteLength;!Zt.ts.videoPacketContainsKeyFrame(o)||(c=Zt.ts.parsePesTime(o))&amp;&amp;(i.firstKeyFrame=c,i.firstKeyFrame.type=<span class=\"code-string\">\"video\"</span>),f.size=<span class=\"code-number\">0</span>}f.data.push(n),f.size+=n.byteLength}<span class=\"code-keyword\">if</span>(p&amp;&amp;i.firstKeyFrame)<span class=\"code-keyword\">break</span>;d+=<span class=\"code-number\">188</span>,h+=<span class=\"code-number\">188</span>}<span class=\"code-keyword\">for</span>(d=(h=e.byteLength)<span class=\"code-number\">-188</span>,p=!<span class=\"code-number\">1</span>;<span class=\"code-number\">0</span>&lt;=d;)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">71</span>!==e[d]||<span class=\"code-number\">71</span>!==e[h])d--,h--;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(n=e.subarray(d,h),<span class=\"code-string\">\"pes\"</span>===Zt.ts.parseType(n,t.pid)&amp;&amp;(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class=\"code-string\">\"video\"</span>===r&amp;&amp;a&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class=\"code-string\">\"video\"</span>,i.video.push(s),p=!<span class=\"code-number\">0</span>)),p)<span class=\"code-keyword\">break</span>;d-=<span class=\"code-number\">188</span>,h-=<span class=\"code-number\">188</span>}}(e,i,n),<span class=\"code-number\">0</span>===n.video.length&amp;&amp;<span class=\"code-keyword\">delete</span> n.video;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> je.ADTS_STREAM_TYPE:n.audio=[],ei(e,i,n),<span class=\"code-number\">0</span>===n.audio.length&amp;&amp;<span class=\"code-keyword\">delete</span> n.audio}<span class=\"code-keyword\">return</span> n}<span class=\"code-keyword\">var</span> ii=ue,ni=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r=(Zt.aac.isLikelyAacData(e)?<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t,i=!<span class=\"code-number\">1</span>,n=<span class=\"code-number\">0</span>,r=<span class=\"code-literal\">null</span>,a=<span class=\"code-literal\">null</span>,s=<span class=\"code-number\">0</span>,o=<span class=\"code-number\">0</span>;<span class=\"code-number\">3</span>&lt;=e.length-o;){<span class=\"code-keyword\">switch</span>(Zt.aac.parseType(e,o)){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"timed-metadata\"</span>:<span class=\"code-keyword\">if</span>(e.length-o&lt;<span class=\"code-number\">10</span>){i=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>((s=Zt.aac.parseId3TagSize(e,o))&gt;e.length){i=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-literal\">null</span>===a&amp;&amp;(t=e.subarray(o,o+s),a=Zt.aac.parseAacTimestamp(t)),o+=s;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"audio\"</span>:<span class=\"code-keyword\">if</span>(e.length-o&lt;<span class=\"code-number\">7</span>){i=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">if</span>((s=Zt.aac.parseAdtsSize(e,o))&gt;e.length){i=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">break</span>}<span class=\"code-literal\">null</span>===r&amp;&amp;(t=e.subarray(o,o+s),r=Zt.aac.parseSampleRate(t)),n++,o+=s;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">default</span>:o++}<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===r||<span class=\"code-literal\">null</span>===a)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> u=ii/r;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">audio</span>:[{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">dts</span>:a,<span class=\"code-attr\">pts</span>:a},{<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">dts</span>:a+<span class=\"code-number\">1024</span>*n*u,<span class=\"code-attr\">pts</span>:a+<span class=\"code-number\">1024</span>*n*u}]}}:ti)(e);<span class=\"code-keyword\">return</span> r&amp;&amp;(r.audio||r.video)?(e=t,(t=r).audio&amp;&amp;t.audio.length&amp;&amp;(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(i=e)&amp;&amp;!<span class=\"code-built_in\">isNaN</span>(i)||(i=t.audio[<span class=\"code-number\">0</span>].dts),t.audio.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.dts=Jt(e.dts,i),e.pts=Jt(e.pts,i),e.dtsTime=e.dts/ii,e.ptsTime=e.pts/ii})),t.video&amp;&amp;t.video.length&amp;&amp;(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(n=e)&amp;&amp;!<span class=\"code-built_in\">isNaN</span>(n)||(n=t.video[<span class=\"code-number\">0</span>].dts),t.video.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.dts=Jt(e.dts,n),e.pts=Jt(e.pts,n),e.dtsTime=e.dts/ii,e.ptsTime=e.pts/ii}),t.firstKeyFrame&amp;&amp;((t=t.firstKeyFrame).dts=Jt(t.dts,n),t.pts=Jt(t.pts,n),t.dtsTime=t.dts/ii,t.ptsTime=t.pts/ii)),r):<span class=\"code-literal\">null</span>},ri=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.options=t||{},<span class=\"code-keyword\">this</span>.self=e,<span class=\"code-keyword\">this</span>.init()}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.init=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i,e;<span class=\"code-keyword\">this</span>.transmuxer&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxer.dispose(),<span class=\"code-keyword\">this</span>.transmuxer=<span class=\"code-keyword\">new</span> Dt.Transmuxer(<span class=\"code-keyword\">this</span>.options),i=<span class=\"code-keyword\">this</span>.self,(e=<span class=\"code-keyword\">this</span>.transmuxer).on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.initSegment;e.initSegment={<span class=\"code-attr\">data</span>:t.buffer,<span class=\"code-attr\">byteOffset</span>:t.byteOffset,<span class=\"code-attr\">byteLength</span>:t.byteLength};t=e.data;e.data=t.buffer,i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"data\"</span>,<span class=\"code-attr\">segment</span>:e,<span class=\"code-attr\">byteOffset</span>:t.byteOffset,<span class=\"code-attr\">byteLength</span>:t.byteLength},[e.data])}),e.on(<span class=\"code-string\">\"done\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"done\"</span>})}),e.on(<span class=\"code-string\">\"gopInfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"gopInfo\"</span>,<span class=\"code-attr\">gopInfo</span>:e})}),e.on(<span class=\"code-string\">\"videoSegmentTimingInfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">start</span>:{<span class=\"code-attr\">decode</span>:ce(e.start.dts),<span class=\"code-attr\">presentation</span>:ce(e.start.pts)},<span class=\"code-attr\">end</span>:{<span class=\"code-attr\">decode</span>:ce(e.end.dts),<span class=\"code-attr\">presentation</span>:ce(e.end.pts)},<span class=\"code-attr\">baseMediaDecodeTime</span>:ce(e.baseMediaDecodeTime)};e.prependedContentDuration&amp;&amp;(t.prependedContentDuration=ce(e.prependedContentDuration)),i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"videoSegmentTimingInfo\"</span>,<span class=\"code-attr\">videoSegmentTimingInfo</span>:t})}),e.on(<span class=\"code-string\">\"audioSegmentTimingInfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={<span class=\"code-attr\">start</span>:{<span class=\"code-attr\">decode</span>:ce(e.start.dts),<span class=\"code-attr\">presentation</span>:ce(e.start.pts)},<span class=\"code-attr\">end</span>:{<span class=\"code-attr\">decode</span>:ce(e.end.dts),<span class=\"code-attr\">presentation</span>:ce(e.end.pts)},<span class=\"code-attr\">baseMediaDecodeTime</span>:ce(e.baseMediaDecodeTime)};e.prependedContentDuration&amp;&amp;(t.prependedContentDuration=ce(e.prependedContentDuration)),i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"audioSegmentTimingInfo\"</span>,<span class=\"code-attr\">audioSegmentTimingInfo</span>:t})}),e.on(<span class=\"code-string\">\"id3Frame\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"id3Frame\"</span>,<span class=\"code-attr\">id3Frame</span>:e})}),e.on(<span class=\"code-string\">\"caption\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"caption\"</span>,<span class=\"code-attr\">caption</span>:e})}),e.on(<span class=\"code-string\">\"trackinfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"trackinfo\"</span>,<span class=\"code-attr\">trackInfo</span>:e})}),e.on(<span class=\"code-string\">\"audioTimingInfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"audioTimingInfo\"</span>,<span class=\"code-attr\">audioTimingInfo</span>:{<span class=\"code-attr\">start</span>:ce(e.start),<span class=\"code-attr\">end</span>:ce(e.end)}})}),e.on(<span class=\"code-string\">\"videoTimingInfo\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"videoTimingInfo\"</span>,<span class=\"code-attr\">videoTimingInfo</span>:{<span class=\"code-attr\">start</span>:ce(e.start),<span class=\"code-attr\">end</span>:ce(e.end)}})}),e.on(<span class=\"code-string\">\"log\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"log\"</span>,<span class=\"code-attr\">log</span>:e})})},t.pushMp4Captions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.captionParser||(<span class=\"code-keyword\">this</span>.captionParser=<span class=\"code-keyword\">new</span> Gt,<span class=\"code-keyword\">this</span>.captionParser.init());<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.data,e.byteOffset,e.byteLength),e=<span class=\"code-keyword\">this</span>.captionParser.parse(t,e.trackIds,e.timescales);<span class=\"code-keyword\">this</span>.self.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"mp4Captions\"</span>,<span class=\"code-attr\">captions</span>:e&amp;&amp;e.captions||[],<span class=\"code-attr\">logs</span>:e&amp;&amp;e.logs||[],<span class=\"code-attr\">data</span>:t.buffer},[t.buffer])},t.probeMp4StartTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.timescales,e=e.data,t=Qt(t,e);<span class=\"code-keyword\">this</span>.self.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"probeMp4StartTime\"</span>,<span class=\"code-attr\">startTime</span>:t,<span class=\"code-attr\">data</span>:e},[e.buffer])},t.probeMp4Tracks=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.data,e=$t(t);<span class=\"code-keyword\">this</span>.self.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"probeMp4Tracks\"</span>,<span class=\"code-attr\">tracks</span>:e,<span class=\"code-attr\">data</span>:t},[t.buffer])},t.probeTs=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.data,i=e.baseStartTime,e=<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> i||<span class=\"code-built_in\">isNaN</span>(i)?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:i*ue,i=ni(t,e),e=<span class=\"code-literal\">null</span>;i&amp;&amp;((e={<span class=\"code-attr\">hasVideo</span>:i.video&amp;&amp;<span class=\"code-number\">2</span>===i.video.length||!<span class=\"code-number\">1</span>,<span class=\"code-attr\">hasAudio</span>:i.audio&amp;&amp;<span class=\"code-number\">2</span>===i.audio.length||!<span class=\"code-number\">1</span>}).hasVideo&amp;&amp;(e.videoStart=i.video[<span class=\"code-number\">0</span>].ptsTime),e.hasAudio&amp;&amp;(e.audioStart=i.audio[<span class=\"code-number\">0</span>].ptsTime)),<span class=\"code-keyword\">this</span>.self.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"probeTs\"</span>,<span class=\"code-attr\">result</span>:e,<span class=\"code-attr\">data</span>:t},[t.buffer])},t.clearAllMp4Captions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.captionParser&amp;&amp;<span class=\"code-keyword\">this</span>.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.captionParser&amp;&amp;<span class=\"code-keyword\">this</span>.captionParser.clearParsedCaptions()},t.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.data,e.byteOffset,e.byteLength);<span class=\"code-keyword\">this</span>.transmuxer.push(e)},t.reset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer.reset()},t.setTimestampOffset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=e.timestampOffset||<span class=\"code-number\">0</span>;<span class=\"code-keyword\">this</span>.transmuxer.setBaseMediaDecodeTime(<span class=\"code-built_in\">Math</span>.round(le(e)))},t.setAudioAppendStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer.setAudioAppendStart(<span class=\"code-built_in\">Math</span>.ceil(le(e.appendStart)))},t.setRemux=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer.setRemux(e.remux)},t.flush=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer.flush(),self.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"done\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"transmuxed\"</span>})},t.endTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer.endTimeline(),self.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"endedtimeline\"</span>,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"transmuxed\"</span>})},t.alignGopsWith=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"init\"</span>===e.data.action&amp;&amp;e.data.options?<span class=\"code-keyword\">this</span>.messageHandlers=<span class=\"code-keyword\">new</span> ri(self,e.data.options):(<span class=\"code-keyword\">this</span>.messageHandlers||(<span class=\"code-keyword\">this</span>.messageHandlers=<span class=\"code-keyword\">new</span> ri(self)),e.data&amp;&amp;e.data.action&amp;&amp;<span class=\"code-string\">\"init\"</span>!==e.data.action&amp;&amp;<span class=\"code-keyword\">this</span>.messageHandlers[e.data.action]&amp;&amp;<span class=\"code-keyword\">this</span>.messageHandlers[e.data.action](e.data))}}))),Cl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.currentTransmux=<span class=\"code-literal\">null</span>,e.transmuxQueue.length&amp;&amp;(e.currentTransmux=e.transmuxQueue.shift(),<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.currentTransmux?e.currentTransmux():Du(e.currentTransmux))},Il=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Mu(<span class=\"code-string\">\"reset\"</span>,e)},xl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">new</span> kl;t.currentTransmux=<span class=\"code-literal\">null</span>,t.transmuxQueue=[];<span class=\"code-keyword\">var</span> i=t.terminate;<span class=\"code-keyword\">return</span> t.terminate=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.currentTransmux=<span class=\"code-literal\">null</span>,t.transmuxQueue.length=<span class=\"code-number\">0</span>,i.call(t)},t.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"init\"</span>,<span class=\"code-attr\">options</span>:e}),t},Al=<span class=\"code-number\">2</span>,Pl=<span class=\"code-number\">-101</span>,Ll=<span class=\"code-number\">-102</span>,Dl=Ro(<span class=\"code-string\">\"CodecUtils\"</span>),Ol=Ro(<span class=\"code-string\">\"PlaylistSelector\"</span>),ar=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.useDevicePixelRatio&amp;&amp;<span class=\"code-built_in\">window</span>.devicePixelRatio||<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> il(<span class=\"code-keyword\">this</span>.playlists.master,<span class=\"code-keyword\">this</span>.systemBandwidth,<span class=\"code-built_in\">parseInt</span>(Zu(<span class=\"code-keyword\">this</span>.tech_.el(),<span class=\"code-string\">\"width\"</span>),<span class=\"code-number\">10</span>)*e,<span class=\"code-built_in\">parseInt</span>(Zu(<span class=\"code-keyword\">this</span>.tech_.el(),<span class=\"code-string\">\"height\"</span>),<span class=\"code-number\">10</span>)*e,<span class=\"code-keyword\">this</span>.limitRenditionByPlayerDimensions,<span class=\"code-keyword\">this</span>.masterPlaylistController_)},Ml=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"Initialization settings are required\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> e.currentTime)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"No currentTime getter specified\"</span>);<span class=\"code-keyword\">if</span>(!e.mediaSource)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">TypeError</span>(<span class=\"code-string\">\"No MediaSource specified\"</span>);<span class=\"code-keyword\">return</span> i.bandwidth=e.bandwidth,i.throughput={<span class=\"code-attr\">rate</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">count</span>:<span class=\"code-number\">0</span>},i.roundTrip=<span class=\"code-literal\">NaN</span>,i.resetStats_(),i.mediaIndex=<span class=\"code-literal\">null</span>,i.partIndex=<span class=\"code-literal\">null</span>,i.hasPlayed_=e.hasPlayed,i.currentTime_=e.currentTime,i.seekable_=e.seekable,i.seeking_=e.seeking,i.duration_=e.duration,i.mediaSource_=e.mediaSource,i.vhs_=e.vhs,i.loaderType_=e.loaderType,i.currentMediaInfo_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,i.startingMediaInfo_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,i.segmentMetadataTrack_=e.segmentMetadataTrack,i.goalBufferLength_=e.goalBufferLength,i.sourceType_=e.sourceType,i.sourceUpdater_=e.sourceUpdater,i.inbandTextTracks_=e.inbandTextTracks,i.state_=<span class=\"code-string\">\"INIT\"</span>,i.timelineChangeController_=e.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!<span class=\"code-number\">0</span>,i.parse708captions_=e.parse708captions,i.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,i.captionServices_=e.captionServices,i.experimentalExactManifestTimings=e.experimentalExactManifestTimings,i.checkBufferTimeout_=<span class=\"code-literal\">null</span>,i.error_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,i.currentTimeline_=<span class=\"code-number\">-1</span>,i.pendingSegment_=<span class=\"code-literal\">null</span>,i.xhrOptions_=<span class=\"code-literal\">null</span>,i.pendingSegments_=[],i.audioDisabled_=!<span class=\"code-number\">1</span>,i.isPendingTimestampOffset_=!<span class=\"code-number\">1</span>,i.gopBuffer_=[],i.timeMapping_=<span class=\"code-number\">0</span>,i.safeAppend_=<span class=\"code-number\">11</span>&lt;=tr.browser.IE_VERSION,i.appendInitSegment_={<span class=\"code-attr\">audio</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">video</span>:!<span class=\"code-number\">0</span>},i.playlistOfLastInitSegment_={<span class=\"code-attr\">audio</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">video</span>:<span class=\"code-literal\">null</span>},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={<span class=\"code-attr\">id3</span>:[],<span class=\"code-attr\">caption</span>:[]},i.waitingOnRemove_=!<span class=\"code-number\">1</span>,i.quotaExceededErrorRetryTimeout_=<span class=\"code-literal\">null</span>,i.activeInitSegmentId_=<span class=\"code-literal\">null</span>,i.initSegments_={},i.cacheEncryptionKeys_=e.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=e.decrypter,i.syncController_=e.syncController,i.syncPoint_={<span class=\"code-attr\">segmentIndex</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">time</span>:<span class=\"code-number\">0</span>},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.trigger(<span class=\"code-string\">\"syncinfoupdate\"</span>)},i.syncController_.on(<span class=\"code-string\">\"syncinfoupdate\"</span>,i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener(<span class=\"code-string\">\"sourceopen\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.isEndOfStream_()||(i.ended_=!<span class=\"code-number\">1</span>)}),i.fetchAtBuffer_=!<span class=\"code-number\">1</span>,i.logger_=Ro(<span class=\"code-string\">\"SegmentLoader[\"</span>+i.loaderType_+<span class=\"code-string\">\"]\"</span>),<span class=\"code-built_in\">Object</span>.defineProperty(ft(i),<span class=\"code-string\">\"state\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state_},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e!==<span class=\"code-keyword\">this</span>.state_&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-keyword\">this</span>.state_+<span class=\"code-string\">\" -&gt; \"</span>+e),<span class=\"code-keyword\">this</span>.state_=e,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"statechange\"</span>))}}),i.sourceUpdater_.on(<span class=\"code-string\">\"ready\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.hasEnoughInfoToAppend_()&amp;&amp;i.processCallQueue_()}),<span class=\"code-string\">\"main\"</span>===i.loaderType_&amp;&amp;i.timelineChangeController_.on(<span class=\"code-string\">\"pendingtimelinechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.hasEnoughInfoToAppend_()&amp;&amp;i.processCallQueue_()}),<span class=\"code-string\">\"audio\"</span>===i.loaderType_&amp;&amp;i.timelineChangeController_.on(<span class=\"code-string\">\"timelinechange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.hasEnoughInfoToLoad_()&amp;&amp;i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&amp;&amp;i.processCallQueue_()}),i}mt(e,n);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createTransmuxer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> xl({<span class=\"code-attr\">remux</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">alignGopsAtEnd</span>:<span class=\"code-keyword\">this</span>.safeAppend_,<span class=\"code-attr\">keepOriginalTimestamps</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">parse708captions</span>:<span class=\"code-keyword\">this</span>.parse708captions_,<span class=\"code-attr\">captionServices</span>:<span class=\"code-keyword\">this</span>.captionServices_})},t.resetStats_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mediaBytesTransferred=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaRequests=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaRequestsAborted=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaRequestsTimedout=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaRequestsErrored=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaTransferDuration=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaSecondsLoaded=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.mediaAppends=<span class=\"code-number\">0</span>},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"DISPOSED\"</span>,<span class=\"code-keyword\">this</span>.pause(),<span class=\"code-keyword\">this</span>.abort_(),<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxer_.terminate(),<span class=\"code-keyword\">this</span>.resetStats_(),<span class=\"code-keyword\">this</span>.checkBufferTimeout_&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.checkBufferTimeout_),<span class=\"code-keyword\">this</span>.syncController_&amp;&amp;<span class=\"code-keyword\">this</span>.triggerSyncInfoUpdate_&amp;&amp;<span class=\"code-keyword\">this</span>.syncController_.off(<span class=\"code-string\">\"syncinfoupdate\"</span>,<span class=\"code-keyword\">this</span>.triggerSyncInfoUpdate_),<span class=\"code-keyword\">this</span>.off()},t.setAudio=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.audioDisabled_=!e,e?<span class=\"code-keyword\">this</span>.appendInitSegment_.audio=!<span class=\"code-number\">0</span>:<span class=\"code-keyword\">this</span>.sourceUpdater_.removeAudio(<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.duration_())},t.abort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"WAITING\"</span>===<span class=\"code-keyword\">this</span>.state?(<span class=\"code-keyword\">this</span>.abort_(),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,<span class=\"code-keyword\">this</span>.paused()||<span class=\"code-keyword\">this</span>.monitorBuffer_()):<span class=\"code-keyword\">this</span>.pendingSegment_&amp;&amp;(<span class=\"code-keyword\">this</span>.pendingSegment_=<span class=\"code-literal\">null</span>)},t.abort_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.pendingSegment_&amp;&amp;<span class=\"code-keyword\">this</span>.pendingSegment_.abortRequests&amp;&amp;<span class=\"code-keyword\">this</span>.pendingSegment_.abortRequests(),<span class=\"code-keyword\">this</span>.pendingSegment_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.callQueue_=[],<span class=\"code-keyword\">this</span>.loadQueue_=[],<span class=\"code-keyword\">this</span>.metadataQueue_.id3=[],<span class=\"code-keyword\">this</span>.metadataQueue_.caption=[],<span class=\"code-keyword\">this</span>.timelineChangeController_.clearPendingTimelineChange(<span class=\"code-keyword\">this</span>.loaderType_),<span class=\"code-keyword\">this</span>.waitingOnRemove_=!<span class=\"code-number\">1</span>,<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.quotaExceededErrorRetryTimeout_),<span class=\"code-keyword\">this</span>.quotaExceededErrorRetryTimeout_=<span class=\"code-literal\">null</span>},t.checkForAbort_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"APPENDING\"</span>!==<span class=\"code-keyword\">this</span>.state||<span class=\"code-keyword\">this</span>.pendingSegment_?!<span class=\"code-keyword\">this</span>.pendingSegment_||<span class=\"code-keyword\">this</span>.pendingSegment_.requestId!==e:(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,!<span class=\"code-number\">0</span>)},t.error=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"error occurred:\"</span>,e),<span class=\"code-keyword\">this</span>.error_=e),<span class=\"code-keyword\">this</span>.pendingSegment_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.error_},t.endOfStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.ended_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;Il(<span class=\"code-keyword\">this</span>.transmuxer_),<span class=\"code-keyword\">this</span>.gopBuffer_.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.pause(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"ended\"</span>)},t.buffered_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.getMediaInfo_();<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.sourceUpdater_||!e)<span class=\"code-keyword\">return</span> tr.createTimeRanges();<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_){<span class=\"code-keyword\">var</span> t=e.hasAudio,i=e.hasVideo,e=e.isMuxed;<span class=\"code-keyword\">if</span>(i&amp;&amp;t&amp;&amp;!<span class=\"code-keyword\">this</span>.audioDisabled_&amp;&amp;!e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.sourceUpdater_.buffered();<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.sourceUpdater_.videoBuffered()}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.sourceUpdater_.audioBuffered()},t.initSegmentForMap=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">1</span>),!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=Su(e),n=<span class=\"code-keyword\">this</span>.initSegments_[i];<span class=\"code-keyword\">return</span> t&amp;&amp;!n&amp;&amp;e.bytes&amp;&amp;(<span class=\"code-keyword\">this</span>.initSegments_[i]=n={<span class=\"code-attr\">resolvedUri</span>:e.resolvedUri,<span class=\"code-attr\">byterange</span>:e.byterange,<span class=\"code-attr\">bytes</span>:e.bytes,<span class=\"code-attr\">tracks</span>:e.tracks,<span class=\"code-attr\">timescales</span>:e.timescales}),n||e},t.segmentKey=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">1</span>),!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=wu(e),n=<span class=\"code-keyword\">this</span>.keyCache_[i];<span class=\"code-keyword\">this</span>.cacheEncryptionKeys_&amp;&amp;t&amp;&amp;!n&amp;&amp;e.bytes&amp;&amp;(<span class=\"code-keyword\">this</span>.keyCache_[i]=n={<span class=\"code-attr\">resolvedUri</span>:e.resolvedUri,<span class=\"code-attr\">bytes</span>:e.bytes});e={<span class=\"code-attr\">resolvedUri</span>:(n||e).resolvedUri};<span class=\"code-keyword\">return</span> n&amp;&amp;(e.bytes=n.bytes),e},t.couldBeginLoading_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.playlist_&amp;&amp;!<span class=\"code-keyword\">this</span>.paused()},t.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.monitorBuffer_(),<span class=\"code-keyword\">this</span>.playlist_)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"INIT\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;<span class=\"code-keyword\">this</span>.couldBeginLoading_()?<span class=\"code-keyword\">this</span>.init_():<span class=\"code-keyword\">void</span>(!<span class=\"code-keyword\">this</span>.couldBeginLoading_()||<span class=\"code-string\">\"READY\"</span>!==<span class=\"code-keyword\">this</span>.state&amp;&amp;<span class=\"code-string\">\"INIT\"</span>!==<span class=\"code-keyword\">this</span>.state||(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>))},t.init_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,<span class=\"code-keyword\">this</span>.resetEverything(),<span class=\"code-keyword\">this</span>.monitorBuffer_()},t.playlist=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t={}),e){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.playlist_,n=<span class=\"code-keyword\">this</span>.pendingSegment_;<span class=\"code-keyword\">this</span>.playlist_=e,<span class=\"code-keyword\">this</span>.xhrOptions_=t,<span class=\"code-string\">\"INIT\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;(e.syncInfo={<span class=\"code-attr\">mediaSequence</span>:e.mediaSequence,<span class=\"code-attr\">time</span>:<span class=\"code-number\">0</span>},<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_&amp;&amp;<span class=\"code-keyword\">this</span>.syncController_.setDateTimeMappingForStart(e));<span class=\"code-keyword\">var</span> r=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(i&amp;&amp;(i.id?r=i.id:i.uri&amp;&amp;(r=i.uri)),<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"playlist update [\"</span>+r+<span class=\"code-string\">\" =&gt; \"</span>+(e.id||e.uri)+<span class=\"code-string\">\"]\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"syncinfoupdate\"</span>),<span class=\"code-string\">\"INIT\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;<span class=\"code-keyword\">this</span>.couldBeginLoading_())<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.init_();<span class=\"code-keyword\">if</span>(!i||i.uri!==e.uri)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.mediaIndex&amp;&amp;(e.endList?<span class=\"code-keyword\">this</span>.resyncLoader():<span class=\"code-keyword\">this</span>.resetLoader()),<span class=\"code-keyword\">this</span>.currentMediaInfo_=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"playlistupdate\"</span>);t=e.mediaSequence-i.mediaSequence;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"live window shift [\"</span>+t+<span class=\"code-string\">\"]\"</span>),<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.mediaIndex&amp;&amp;(<span class=\"code-keyword\">this</span>.mediaIndex-=t,<span class=\"code-keyword\">this</span>.mediaIndex&lt;<span class=\"code-number\">0</span>?(<span class=\"code-keyword\">this</span>.mediaIndex=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.partIndex=<span class=\"code-literal\">null</span>):(r=<span class=\"code-keyword\">this</span>.playlist_.segments[<span class=\"code-keyword\">this</span>.mediaIndex],!<span class=\"code-keyword\">this</span>.partIndex||r.parts&amp;&amp;r.parts.length&amp;&amp;r.parts[<span class=\"code-keyword\">this</span>.partIndex]||(r=<span class=\"code-keyword\">this</span>.mediaIndex,<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"currently processing part (index \"</span>+<span class=\"code-keyword\">this</span>.partIndex+<span class=\"code-string\">\") no longer exists.\"</span>),<span class=\"code-keyword\">this</span>.resetLoader(),<span class=\"code-keyword\">this</span>.mediaIndex=r))),n&amp;&amp;(n.mediaIndex-=t,n.mediaIndex&lt;<span class=\"code-number\">0</span>?(n.mediaIndex=<span class=\"code-literal\">null</span>,n.partIndex=<span class=\"code-literal\">null</span>):(<span class=\"code-number\">0</span>&lt;=n.mediaIndex&amp;&amp;(n.segment=e.segments[n.mediaIndex]),<span class=\"code-number\">0</span>&lt;=n.partIndex&amp;&amp;n.segment.parts&amp;&amp;(n.part=n.segment.parts[n.partIndex]))),<span class=\"code-keyword\">this</span>.syncController_.saveExpiredSegmentInfo(i,e)}},t.pause=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.checkBufferTimeout_&amp;&amp;(<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.checkBufferTimeout_),<span class=\"code-keyword\">this</span>.checkBufferTimeout_=<span class=\"code-literal\">null</span>)},t.paused=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.checkBufferTimeout_},t.resetEverything=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.ended_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.appendInitSegment_={<span class=\"code-attr\">audio</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">video</span>:!<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.resetLoader(),<span class=\"code-keyword\">this</span>.remove(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,e),<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;(<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"clearAllMp4Captions\"</span>}),<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"reset\"</span>}))},t.resetLoader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.fetchAtBuffer_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.resyncLoader()},t.resyncLoader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;Il(<span class=\"code-keyword\">this</span>.transmuxer_),<span class=\"code-keyword\">this</span>.mediaIndex=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.partIndex=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.syncPoint_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.isPendingTimestampOffset_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.callQueue_=[],<span class=\"code-keyword\">this</span>.loadQueue_=[],<span class=\"code-keyword\">this</span>.metadataQueue_.id3=[],<span class=\"code-keyword\">this</span>.metadataQueue_.caption=[],<span class=\"code-keyword\">this</span>.abort(),<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"clearParsedMp4Captions\"</span>})},t.remove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{}),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=!<span class=\"code-number\">1</span>),(t=t===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?<span class=\"code-keyword\">this</span>.duration_():t)&lt;=e)<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"skipping remove because end ${end} is &lt;= start ${start}\"</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.sourceUpdater_&amp;&amp;<span class=\"code-keyword\">this</span>.getMediaInfo_()){<span class=\"code-keyword\">var</span> r,a=<span class=\"code-number\">1</span>,s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-number\">0</span>===--a&amp;&amp;i()};<span class=\"code-keyword\">for</span>(r <span class=\"code-keyword\">in</span>!n&amp;&amp;<span class=\"code-keyword\">this</span>.audioDisabled_||(a++,<span class=\"code-keyword\">this</span>.sourceUpdater_.removeAudio(e,t,s)),!n&amp;&amp;<span class=\"code-string\">\"main\"</span>!==<span class=\"code-keyword\">this</span>.loaderType_||(<span class=\"code-keyword\">this</span>.gopBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Math</span>.ceil((t-n)*hl),a=<span class=\"code-built_in\">Math</span>.ceil((i-n)*hl),n=e.slice(),s=e.length;s--&amp;&amp;!(e[s].pts&lt;=a););<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>===s)<span class=\"code-keyword\">return</span> n;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=s+<span class=\"code-number\">1</span>;o--&amp;&amp;!(e[o].pts&lt;=r););<span class=\"code-keyword\">return</span> o=<span class=\"code-built_in\">Math</span>.max(o,<span class=\"code-number\">0</span>),n.splice(o,s-o+<span class=\"code-number\">1</span>),n}(<span class=\"code-keyword\">this</span>.gopBuffer_,e,t,<span class=\"code-keyword\">this</span>.timeMapping_),a++,<span class=\"code-keyword\">this</span>.sourceUpdater_.removeVideo(e,t,s)),<span class=\"code-keyword\">this</span>.inbandTextTracks_)rl(e,t,<span class=\"code-keyword\">this</span>.inbandTextTracks_[r]);rl(e,t,<span class=\"code-keyword\">this</span>.segmentMetadataTrack_),s()}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"skipping remove because no source updater or starting media info\"</span>)},t.monitorBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.checkBufferTimeout_&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.checkBufferTimeout_),<span class=\"code-keyword\">this</span>.checkBufferTimeout_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-keyword\">this</span>.monitorBufferTick_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-number\">1</span>)},t.monitorBufferTick_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-string\">\"READY\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;<span class=\"code-keyword\">this</span>.fillBuffer_(),<span class=\"code-keyword\">this</span>.checkBufferTimeout_&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.checkBufferTimeout_),<span class=\"code-keyword\">this</span>.checkBufferTimeout_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-keyword\">this</span>.monitorBufferTick_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-number\">500</span>)},t.fillBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.sourceUpdater_.updating()||(e=<span class=\"code-keyword\">this</span>.chooseNextRequest_())&amp;&amp;(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.timestampOffset&amp;&amp;(<span class=\"code-keyword\">this</span>.isPendingTimestampOffset_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.timelineChangeController_.pendingTimelineChange({<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.loaderType_,<span class=\"code-attr\">from</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">to</span>:e.timeline})),<span class=\"code-keyword\">this</span>.loadSegment_(e))},t.isEndOfStream_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">this</span>.mediaIndex),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=<span class=\"code-keyword\">this</span>.playlist_),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-keyword\">this</span>.partIndex),!t||!<span class=\"code-keyword\">this</span>.mediaSource_)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> n=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;t.segments[e],e=e+<span class=\"code-number\">1</span>===t.segments.length,n=!n||!n.parts||i+<span class=\"code-number\">1</span>===n.parts.length;<span class=\"code-keyword\">return</span> t.endList&amp;&amp;<span class=\"code-string\">\"open\"</span>===<span class=\"code-keyword\">this</span>.mediaSource_.readyState&amp;&amp;e&amp;&amp;n},t.chooseNextRequest_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.buffered_(),t=Ho(e)||<span class=\"code-number\">0</span>,i=qo(e,<span class=\"code-keyword\">this</span>.currentTime_()),n=!<span class=\"code-keyword\">this</span>.hasPlayed_()&amp;&amp;<span class=\"code-number\">1</span>&lt;=i,r=i&gt;=<span class=\"code-keyword\">this</span>.goalBufferLength_(),e=<span class=\"code-keyword\">this</span>.playlist_.segments;<span class=\"code-keyword\">if</span>(!e.length||n||r)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">this</span>.syncPoint_=<span class=\"code-keyword\">this</span>.syncPoint_||<span class=\"code-keyword\">this</span>.syncController_.getSyncPoint(<span class=\"code-keyword\">this</span>.playlist_,<span class=\"code-keyword\">this</span>.duration_(),<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-keyword\">this</span>.currentTime_());<span class=\"code-keyword\">var</span> a,n={<span class=\"code-attr\">partIndex</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">mediaIndex</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">startOfSegment</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.playlist_,<span class=\"code-attr\">isSyncRequest</span>:<span class=\"code-built_in\">Boolean</span>(!<span class=\"code-keyword\">this</span>.syncPoint_)};n.isSyncRequest?n.mediaIndex=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{t=t||[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],r=<span class=\"code-number\">0</span>,a=<span class=\"code-number\">0</span>;a&lt;t.length;a++){<span class=\"code-keyword\">var</span> s=t[a];<span class=\"code-keyword\">if</span>(e===s.timeline&amp;&amp;(n.push(a),i&lt;(r+=s.duration)))<span class=\"code-keyword\">return</span> a}<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>===n.length?<span class=\"code-number\">0</span>:n[n.length<span class=\"code-number\">-1</span>]}(<span class=\"code-keyword\">this</span>.currentTimeline_,e,t):<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.mediaIndex?(r=e[<span class=\"code-keyword\">this</span>.mediaIndex],a=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.partIndex?<span class=\"code-keyword\">this</span>.partIndex:<span class=\"code-number\">-1</span>,n.startOfSegment=r.end||t,r.parts&amp;&amp;r.parts[a+<span class=\"code-number\">1</span>]?(n.mediaIndex=<span class=\"code-keyword\">this</span>.mediaIndex,n.partIndex=a+<span class=\"code-number\">1</span>):n.mediaIndex=<span class=\"code-keyword\">this</span>.mediaIndex+<span class=\"code-number\">1</span>):(a=(o=gl.getMediaInfoForTime({<span class=\"code-attr\">experimentalExactManifestTimings</span>:<span class=\"code-keyword\">this</span>.experimentalExactManifestTimings,<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.playlist_,<span class=\"code-attr\">currentTime</span>:<span class=\"code-keyword\">this</span>.fetchAtBuffer_?t:<span class=\"code-keyword\">this</span>.currentTime_(),<span class=\"code-attr\">startingPartIndex</span>:<span class=\"code-keyword\">this</span>.syncPoint_.partIndex,<span class=\"code-attr\">startingSegmentIndex</span>:<span class=\"code-keyword\">this</span>.syncPoint_.segmentIndex,<span class=\"code-attr\">startTime</span>:<span class=\"code-keyword\">this</span>.syncPoint_.time})).segmentIndex,s=o.startTime,o=o.partIndex,n.getMediaInfoForTime=<span class=\"code-keyword\">this</span>.fetchAtBuffer_?<span class=\"code-string\">\"bufferedEnd \"</span>+t:<span class=\"code-string\">\"currentTime \"</span>+<span class=\"code-keyword\">this</span>.currentTime_(),n.mediaIndex=a,n.startOfSegment=s,n.partIndex=o);<span class=\"code-keyword\">var</span> s=e[n.mediaIndex],o=s&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> n.partIndex&amp;&amp;s.parts&amp;&amp;s.parts[n.partIndex];<span class=\"code-keyword\">if</span>(!s||<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> n.partIndex&amp;&amp;!o)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> n.partIndex&amp;&amp;s.parts&amp;&amp;(n.partIndex=<span class=\"code-number\">0</span>,o=s.parts[<span class=\"code-number\">0</span>]),i||!o||o.independent||(<span class=\"code-number\">0</span>===n.partIndex?(o=(i=e[n.mediaIndex<span class=\"code-number\">-1</span>]).parts&amp;&amp;i.parts.length&amp;&amp;i.parts[i.parts.length<span class=\"code-number\">-1</span>])&amp;&amp;o.independent&amp;&amp;(--n.mediaIndex,n.partIndex=i.parts.length<span class=\"code-number\">-1</span>,n.independent=<span class=\"code-string\">\"previous segment\"</span>):s.parts[n.partIndex<span class=\"code-number\">-1</span>].independent&amp;&amp;(--n.partIndex,n.independent=<span class=\"code-string\">\"previous part\"</span>));s=<span class=\"code-keyword\">this</span>.mediaSource_&amp;&amp;<span class=\"code-string\">\"ended\"</span>===<span class=\"code-keyword\">this</span>.mediaSource_.readyState;<span class=\"code-keyword\">return</span> n.mediaIndex&gt;=e.length<span class=\"code-number\">-1</span>&amp;&amp;s&amp;&amp;!<span class=\"code-keyword\">this</span>.seeking_()?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.generateSegmentInfo_(n)},t.generateSegmentInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.independent,i=e.playlist,n=e.mediaIndex,r=e.startOfSegment,a=e.isSyncRequest,s=e.partIndex,o=e.forceTimestampOffset,u=e.getMediaInfoForTime,l=i.segments[n],e=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> s&amp;&amp;l.parts[s],t={<span class=\"code-attr\">requestId</span>:<span class=\"code-string\">\"segment-loader-\"</span>+<span class=\"code-built_in\">Math</span>.random(),<span class=\"code-attr\">uri</span>:e&amp;&amp;e.resolvedUri||l.resolvedUri,<span class=\"code-attr\">mediaIndex</span>:n,<span class=\"code-attr\">partIndex</span>:e?s:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">isSyncRequest</span>:a,<span class=\"code-attr\">startOfSegment</span>:r,<span class=\"code-attr\">playlist</span>:i,<span class=\"code-attr\">bytes</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">encryptedBytes</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">timestampOffset</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">timeline</span>:l.timeline,<span class=\"code-attr\">duration</span>:e&amp;&amp;e.duration||l.duration,<span class=\"code-attr\">segment</span>:l,<span class=\"code-attr\">part</span>:e,<span class=\"code-attr\">byteLength</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">transmuxer</span>:<span class=\"code-keyword\">this</span>.transmuxer_,<span class=\"code-attr\">getMediaInfoForTime</span>:u,<span class=\"code-attr\">independent</span>:t},o=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> o?o:<span class=\"code-keyword\">this</span>.isPendingTimestampOffset_;t.timestampOffset=<span class=\"code-keyword\">this</span>.timestampOffsetForSegment_({<span class=\"code-attr\">segmentTimeline</span>:l.timeline,<span class=\"code-attr\">currentTimeline</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">startOfSegment</span>:r,<span class=\"code-attr\">buffered</span>:<span class=\"code-keyword\">this</span>.buffered_(),<span class=\"code-attr\">overrideCheck</span>:o});o=Ho(<span class=\"code-keyword\">this</span>.sourceUpdater_.audioBuffered());<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> o&amp;&amp;(t.audioAppendStart=o-<span class=\"code-keyword\">this</span>.sourceUpdater_.audioTimestampOffset()),<span class=\"code-keyword\">this</span>.sourceUpdater_.videoBuffered().length&amp;&amp;(t.gopsToAlignWith=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t||<span class=\"code-literal\">null</span>===t||!e.length)<span class=\"code-keyword\">return</span>[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-built_in\">Math</span>.ceil((t-i+<span class=\"code-number\">3</span>)*hl),r=<span class=\"code-number\">0</span>;r&lt;e.length&amp;&amp;!(e[r].pts&gt;n);r++);<span class=\"code-keyword\">return</span> e.slice(r)}(<span class=\"code-keyword\">this</span>.gopBuffer_,<span class=\"code-keyword\">this</span>.currentTime_()-<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset(),<span class=\"code-keyword\">this</span>.timeMapping_)),t},t.timestampOffsetForSegment_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> i=(t=e).segmentTimeline,n=t.currentTimeline,r=t.startOfSegment,e=t.buffered,t.overrideCheck||i!==n?!(i&lt;n)&amp;&amp;e.length?e.end(e.length<span class=\"code-number\">-1</span>):r:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> t,i,n,r},t.earlyAbortWhenNeeded_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a,s,o,u,l,c,d,h,p;!<span class=\"code-keyword\">this</span>.vhs_.tech_.paused()&amp;&amp;<span class=\"code-keyword\">this</span>.xhrOptions_.timeout&amp;&amp;<span class=\"code-keyword\">this</span>.playlist_.attributes.BANDWIDTH&amp;&amp;(<span class=\"code-built_in\">Date</span>.now()-(e.firstBytesReceivedAt||<span class=\"code-built_in\">Date</span>.now())&lt;<span class=\"code-number\">1e3</span>||(t=<span class=\"code-keyword\">this</span>.currentTime_(),r=e.bandwidth,a=<span class=\"code-keyword\">this</span>.pendingSegment_.duration,p=gl.estimateSegmentRequestTime(a,r,<span class=\"code-keyword\">this</span>.playlist_,e.bytesReceived),i=<span class=\"code-keyword\">this</span>.buffered_(),n=t,<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(e=<span class=\"code-keyword\">this</span>.vhs_.tech_.playbackRate())&amp;&amp;(e=<span class=\"code-number\">1</span>),p&lt;=(e=((i.length?i.end(i.length<span class=\"code-number\">-1</span>):<span class=\"code-number\">0</span>)-n)/e<span class=\"code-number\">-1</span>)||(r={<span class=\"code-attr\">master</span>:<span class=\"code-keyword\">this</span>.vhs_.playlists.master,<span class=\"code-attr\">currentTime</span>:t,<span class=\"code-attr\">bandwidth</span>:r,<span class=\"code-attr\">duration</span>:<span class=\"code-keyword\">this</span>.duration_(),<span class=\"code-attr\">segmentDuration</span>:a,<span class=\"code-attr\">timeUntilRebuffer</span>:e,<span class=\"code-attr\">currentTimeline</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">syncController</span>:<span class=\"code-keyword\">this</span>.syncController_},a=r.master,s=r.currentTime,o=r.bandwidth,u=r.duration,l=r.segmentDuration,c=r.timeUntilRebuffer,d=r.currentTimeline,h=r.syncController,a=(r=(a=!(a=(r=a.playlists.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!gl.isIncompatible(e)})).filter(gl.isEnabled)).length?r.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!gl.isDisabled(e)}):a).filter(gl.hasAttribute.bind(<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"BANDWIDTH\"</span>)).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=h.getSyncPoint(e,u,d,s)?<span class=\"code-number\">1</span>:<span class=\"code-number\">2</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">playlist</span>:e,<span class=\"code-attr\">rebufferingImpact</span>:gl.estimateSegmentRequestTime(l,o,e)*t-c}})).filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.rebufferingImpact&lt;=<span class=\"code-number\">0</span>}),el(a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> tl(t.playlist,e.playlist)}),(r=a.length?a[<span class=\"code-number\">0</span>]:(el(r,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.rebufferingImpact-t.rebufferingImpact}),r[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>))&amp;&amp;(p=p-e-r.rebufferingImpact,!r.playlist||r.playlist.uri===<span class=\"code-keyword\">this</span>.playlist_.uri||p&lt;(e&lt;=fl?<span class=\"code-number\">1</span>:<span class=\"code-number\">.5</span>)||(<span class=\"code-keyword\">this</span>.bandwidth=r.playlist.attributes.BANDWIDTH*El.BANDWIDTH_VARIANCE+<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"earlyabort\"</span>))))))},t.handleAbort_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Aborting \"</span>+sl(e)),<span class=\"code-keyword\">this</span>.mediaRequestsAborted+=<span class=\"code-number\">1</span>},t.handleProgress_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.earlyAbortWhenNeeded_(t.stats),<span class=\"code-keyword\">this</span>.checkForAbort_(t.requestId)||<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"progress\"</span>)},t.handleTrackInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.earlyAbortWhenNeeded_(e.stats),<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId)||<span class=\"code-keyword\">this</span>.checkForIllegalMediaSwitch(t)||(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!e&amp;&amp;!t||!e&amp;&amp;t||e&amp;&amp;!t)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(e===t)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> i=<span class=\"code-built_in\">Object</span>.keys(e).sort(),n=<span class=\"code-built_in\">Object</span>.keys(t).sort();<span class=\"code-keyword\">if</span>(i.length!==n.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;i.length;r++){<span class=\"code-keyword\">var</span> a=i[r];<span class=\"code-keyword\">if</span>(a!==n[r])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(e[a]!==t[a])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}(<span class=\"code-keyword\">this</span>.currentMediaInfo_,t=t||{})||(<span class=\"code-keyword\">this</span>.appendInitSegment_={<span class=\"code-attr\">audio</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">video</span>:!<span class=\"code-number\">0</span>},<span class=\"code-keyword\">this</span>.startingMediaInfo_=t,<span class=\"code-keyword\">this</span>.currentMediaInfo_=t,<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"trackinfo update\"</span>,t),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"trackinfo\"</span>)),<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId)||(<span class=\"code-keyword\">this</span>.pendingSegment_.trackInfo=t,<span class=\"code-keyword\">this</span>.hasEnoughInfoToAppend_()&amp;&amp;<span class=\"code-keyword\">this</span>.processCallQueue_()))},t.handleTimingInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r;<span class=\"code-keyword\">this</span>.earlyAbortWhenNeeded_(e.stats),<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId)||((r=<span class=\"code-keyword\">this</span>.pendingSegment_)[e=ol(t)]=r[e]||{},r[e][i]=n,<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"timinginfo: \"</span>+t+<span class=\"code-string\">\" - \"</span>+i+<span class=\"code-string\">\" - \"</span>+n),<span class=\"code-keyword\">this</span>.hasEnoughInfoToAppend_()&amp;&amp;<span class=\"code-keyword\">this</span>.processCallQueue_())},t.handleCaptions_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> g,y,v=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.earlyAbortWhenNeeded_(e.stats),<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId)||(<span class=\"code-number\">0</span>!==t.length?<span class=\"code-keyword\">this</span>.pendingSegment_.hasAppendedData_?(g=<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset()?<span class=\"code-keyword\">this</span>.sourceUpdater_.audioTimestampOffset():<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset(),y={},t.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{y[e.stream]=y[e.stream]||{<span class=\"code-attr\">startTime</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-attr\">captions</span>:[],<span class=\"code-attr\">endTime</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">var</span> t=y[e.stream];t.startTime=<span class=\"code-built_in\">Math</span>.min(t.startTime,e.startTime+g),t.endTime=<span class=\"code-built_in\">Math</span>.max(t.endTime,e.endTime+g),t.captions.push(e)}),<span class=\"code-built_in\">Object</span>.keys(y).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,a,s,o,u,l,c,d=y[e],h=d.startTime,p=d.endTime,f=d.captions,m=v.inbandTextTracks_;v.logger_(<span class=\"code-string\">\"adding cues from \"</span>+h+<span class=\"code-string\">\" -&gt; \"</span>+p+<span class=\"code-string\">\" for \"</span>+e),t=m,i=v.vhs_.tech_,t[n=e]||(i.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-608\"</span>}),i.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-608\"</span>}),/^cc708_/.test(r=n)&amp;&amp;(r=<span class=\"code-string\">\"SERVICE\"</span>+n.split(<span class=\"code-string\">\"_\"</span>)[<span class=\"code-number\">1</span>]),(o=i.textTracks().getTrackById(r))?t[n]=o:(s=a=n,d=!<span class=\"code-number\">1</span>,(o=(i.options_.vhs&amp;&amp;i.options_.vhs.captionServices||{})[r])&amp;&amp;(a=o.label,s=o.language,d=o.default),t[n]=i.addRemoteTextTrack({<span class=\"code-attr\">kind</span>:<span class=\"code-string\">\"captions\"</span>,<span class=\"code-attr\">id</span>:r,<span class=\"code-attr\">default</span>:d,<span class=\"code-attr\">label</span>:a,<span class=\"code-attr\">language</span>:s},!<span class=\"code-number\">1</span>).track)),rl(h,p,m[e]),l=(f={<span class=\"code-attr\">captionArray</span>:f,<span class=\"code-attr\">inbandTextTracks</span>:m,<span class=\"code-attr\">timestampOffset</span>:g}).inbandTextTracks,m=f.captionArray,c=f.timestampOffset,m&amp;&amp;(u=<span class=\"code-built_in\">window</span>.WebKitDataCue||<span class=\"code-built_in\">window</span>.VTTCue,m.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.stream;l[t].addCue(<span class=\"code-keyword\">new</span> u(e.startTime+c,e.endTime+c,e.text))}))}),<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"clearParsedMp4Captions\"</span>})):<span class=\"code-keyword\">this</span>.metadataQueue_.caption.push(<span class=\"code-keyword\">this</span>.handleCaptions_.bind(<span class=\"code-keyword\">this</span>,e,t)):<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"SegmentLoader received no captions from a caption event\"</span>))},t.handleId3_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a,s;<span class=\"code-keyword\">this</span>.earlyAbortWhenNeeded_(e.stats),<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId)||(<span class=\"code-keyword\">this</span>.pendingSegment_.hasAppendedData_?(n=<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset()?<span class=\"code-keyword\">this</span>.sourceUpdater_.audioTimestampOffset():<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset(),r=<span class=\"code-keyword\">this</span>.inbandTextTracks_,a=i,s=<span class=\"code-keyword\">this</span>.vhs_.tech_,r.metadataTrack_||(r.metadataTrack_=s.addRemoteTextTrack({<span class=\"code-attr\">kind</span>:<span class=\"code-string\">\"metadata\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"Timed Metadata\"</span>},!<span class=\"code-number\">1</span>).track,r.metadataTrack_.inBandMetadataTrackDispatchType=a),nl({<span class=\"code-attr\">inbandTextTracks</span>:<span class=\"code-keyword\">this</span>.inbandTextTracks_,<span class=\"code-attr\">metadataArray</span>:t,<span class=\"code-attr\">timestampOffset</span>:n,<span class=\"code-attr\">videoDuration</span>:<span class=\"code-keyword\">this</span>.duration_()})):<span class=\"code-keyword\">this</span>.metadataQueue_.id3.push(<span class=\"code-keyword\">this</span>.handleId3_.bind(<span class=\"code-keyword\">this</span>,e,t,i)))},t.processMetadataQueue_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.metadataQueue_.id3.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e()}),<span class=\"code-keyword\">this</span>.metadataQueue_.caption.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e()}),<span class=\"code-keyword\">this</span>.metadataQueue_.id3=[],<span class=\"code-keyword\">this</span>.metadataQueue_.caption=[]},t.processCallQueue_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.callQueue_;<span class=\"code-keyword\">this</span>.callQueue_=[],e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e()})},t.processLoadQueue_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.loadQueue_;<span class=\"code-keyword\">this</span>.loadQueue_=[],e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e()})},t.hasEnoughInfoToLoad_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"audio\"</span>!==<span class=\"code-keyword\">this</span>.loaderType_)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.pendingSegment_;<span class=\"code-keyword\">return</span>!!e&amp;&amp;(!<span class=\"code-keyword\">this</span>.getCurrentMediaInfo_()||!ul({<span class=\"code-attr\">timelineChangeController</span>:<span class=\"code-keyword\">this</span>.timelineChangeController_,<span class=\"code-attr\">currentTimeline</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">segmentTimeline</span>:e.timeline,<span class=\"code-attr\">loaderType</span>:<span class=\"code-keyword\">this</span>.loaderType_,<span class=\"code-attr\">audioDisabled</span>:<span class=\"code-keyword\">this</span>.audioDisabled_}))},t.getCurrentMediaInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-keyword\">this</span>.pendingSegment_:e)&amp;&amp;e.trackInfo||<span class=\"code-keyword\">this</span>.currentMediaInfo_},t.getMediaInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">this</span>.pendingSegment_),<span class=\"code-keyword\">this</span>.getCurrentMediaInfo_(e)||<span class=\"code-keyword\">this</span>.startingMediaInfo_},t.hasEnoughInfoToAppend_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.sourceUpdater_.ready())<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.waitingOnRemove_||<span class=\"code-keyword\">this</span>.quotaExceededErrorRetryTimeout_)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.pendingSegment_,t=<span class=\"code-keyword\">this</span>.getCurrentMediaInfo_();<span class=\"code-keyword\">if</span>(!e||!t)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> i=t.hasAudio,n=t.hasVideo,t=t.isMuxed;<span class=\"code-keyword\">return</span>!(n&amp;&amp;!e.videoTimingInfo)&amp;&amp;(!(i&amp;&amp;!<span class=\"code-keyword\">this</span>.audioDisabled_&amp;&amp;!t&amp;&amp;!e.audioTimingInfo)&amp;&amp;!ul({<span class=\"code-attr\">timelineChangeController</span>:<span class=\"code-keyword\">this</span>.timelineChangeController_,<span class=\"code-attr\">currentTimeline</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">segmentTimeline</span>:e.timeline,<span class=\"code-attr\">loaderType</span>:<span class=\"code-keyword\">this</span>.loaderType_,<span class=\"code-attr\">audioDisabled</span>:<span class=\"code-keyword\">this</span>.audioDisabled_}))},t.handleData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.earlyAbortWhenNeeded_(e.stats),!<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId))<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.callQueue_.length&amp;&amp;<span class=\"code-keyword\">this</span>.hasEnoughInfoToAppend_()){<span class=\"code-keyword\">var</span> i,n=<span class=\"code-keyword\">this</span>.pendingSegment_;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.setTimeMapping_(n.timeline),<span class=\"code-keyword\">this</span>.updateMediaSecondsLoaded_(n.part||n.segment),<span class=\"code-string\">\"closed\"</span>!==<span class=\"code-keyword\">this</span>.mediaSource_.readyState){<span class=\"code-keyword\">if</span>(e.map&amp;&amp;(e.map=<span class=\"code-keyword\">this</span>.initSegmentForMap(e.map,!<span class=\"code-number\">0</span>),n.segment.map=e.map),e.key&amp;&amp;<span class=\"code-keyword\">this</span>.segmentKey(e.key,!<span class=\"code-number\">0</span>),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4?(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"fmp4\"</span>),n.timingInfo.start=n[ol(t.type)].start):(i=<span class=\"code-keyword\">this</span>.getCurrentMediaInfo_(),(i=<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_&amp;&amp;i&amp;&amp;i.hasVideo)&amp;&amp;(r=n.videoTimingInfo.start),n.timingInfo.start=<span class=\"code-keyword\">this</span>.trueSegmentStart_({<span class=\"code-attr\">currentStart</span>:n.timingInfo.start,<span class=\"code-attr\">playlist</span>:n.playlist,<span class=\"code-attr\">mediaIndex</span>:n.mediaIndex,<span class=\"code-attr\">currentVideoTimestampOffset</span>:<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset(),<span class=\"code-attr\">useVideoTimingInfo</span>:i,<span class=\"code-attr\">firstVideoFrameTimeForData</span>:r,<span class=\"code-attr\">videoTimingInfo</span>:n.videoTimingInfo,<span class=\"code-attr\">audioTimingInfo</span>:n.audioTimingInfo})),<span class=\"code-keyword\">this</span>.updateAppendInitSegmentStatus(n,t.type),<span class=\"code-keyword\">this</span>.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){<span class=\"code-keyword\">this</span>.updateTimingInfoEnd_(n),<span class=\"code-keyword\">this</span>.syncController_.saveSegmentTimingInfo({<span class=\"code-attr\">segmentInfo</span>:n,<span class=\"code-attr\">shouldSaveTimelineMapping</span>:<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_});<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.chooseNextRequest_();<span class=\"code-keyword\">if</span>(r.mediaIndex!==n.mediaIndex||r.partIndex!==n.partIndex)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"sync segment was incorrect, not appending\"</span>);<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"sync segment was correct, appending\"</span>)}n.hasAppendedData_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.processMetadataQueue_(),<span class=\"code-keyword\">this</span>.appendData_(n,t)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.callQueue_.push(<span class=\"code-keyword\">this</span>.handleData_.bind(<span class=\"code-keyword\">this</span>,e,t))},t.updateAppendInitSegmentStatus=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-string\">\"main\"</span>!==<span class=\"code-keyword\">this</span>.loaderType_||<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e.timestampOffset||e.changedTimestampOffset||(<span class=\"code-keyword\">this</span>.appendInitSegment_={<span class=\"code-attr\">audio</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">video</span>:!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.playlistOfLastInitSegment_[t]!==e.playlist&amp;&amp;(<span class=\"code-keyword\">this</span>.appendInitSegment_[t]=!<span class=\"code-number\">0</span>)},t.getInitSegmentAndUpdateState_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.type,i=e.initSegment,n=e.map,r=e.playlist;<span class=\"code-keyword\">if</span>(n){e=Su(n);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.activeInitSegmentId_===e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;i=<span class=\"code-keyword\">this</span>.initSegmentForMap(n,!<span class=\"code-number\">0</span>).bytes,<span class=\"code-keyword\">this</span>.activeInitSegmentId_=e}<span class=\"code-keyword\">return</span> i&amp;&amp;<span class=\"code-keyword\">this</span>.appendInitSegment_[t]?(<span class=\"code-keyword\">this</span>.playlistOfLastInitSegment_[t]=r,<span class=\"code-keyword\">this</span>.appendInitSegment_[t]=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.activeInitSegmentId_=<span class=\"code-literal\">null</span>,i):<span class=\"code-literal\">null</span>},t.handleQuotaExceededError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,n=e.segmentInfo,r=e.type,a=e.bytes,s=<span class=\"code-keyword\">this</span>.sourceUpdater_.audioBuffered(),o=<span class=\"code-keyword\">this</span>.sourceUpdater_.videoBuffered();<span class=\"code-number\">1</span>&lt;s.length&amp;&amp;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: \"</span>+jo(s).join(<span class=\"code-string\">\", \"</span>)),<span class=\"code-number\">1</span>&lt;o.length&amp;&amp;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: \"</span>+jo(o).join(<span class=\"code-string\">\", \"</span>));<span class=\"code-keyword\">var</span> u=s.length?s.start(<span class=\"code-number\">0</span>):<span class=\"code-number\">0</span>,l=s.length?s.end(s.length<span class=\"code-number\">-1</span>):<span class=\"code-number\">0</span>,c=o.length?o.start(<span class=\"code-number\">0</span>):<span class=\"code-number\">0</span>,e=o.length?o.end(o.length<span class=\"code-number\">-1</span>):<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(l-u&lt;=<span class=\"code-number\">1</span>&amp;&amp;e-c&lt;=<span class=\"code-number\">1</span>)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: \"</span>+a.byteLength+<span class=\"code-string\">\", audio buffer: \"</span>+jo(s).join(<span class=\"code-string\">\", \"</span>)+<span class=\"code-string\">\", video buffer: \"</span>+jo(o).join(<span class=\"code-string\">\", \"</span>)+<span class=\"code-string\">\", \"</span>),<span class=\"code-keyword\">this</span>.error({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Quota exceeded error with append of a single segment of content\"</span>,<span class=\"code-attr\">excludeUntil</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>);<span class=\"code-keyword\">this</span>.waitingOnRemove_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.callQueue_.push(<span class=\"code-keyword\">this</span>.appendToSourceBuffer_.bind(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">segmentInfo</span>:n,<span class=\"code-attr\">type</span>:r,<span class=\"code-attr\">bytes</span>:a}));a=<span class=\"code-keyword\">this</span>.currentTime_()<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to \"</span>+a),<span class=\"code-keyword\">this</span>.remove(<span class=\"code-number\">0</span>,a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.logger_(<span class=\"code-string\">\"On QUOTA_EXCEEDED_ERR, retrying append in 1s\"</span>),i.waitingOnRemove_=!<span class=\"code-number\">1</span>,i.quotaExceededErrorRetryTimeout_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.logger_(<span class=\"code-string\">\"On QUOTA_EXCEEDED_ERR, re-processing call queue\"</span>),i.quotaExceededErrorRetryTimeout_=<span class=\"code-literal\">null</span>,i.processCallQueue_()},<span class=\"code-number\">1e3</span>)},!<span class=\"code-number\">0</span>)},t.handleAppendError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=e.segmentInfo,n=e.type,e=e.bytes;t&amp;&amp;(<span class=\"code-number\">22</span>!==t.code?(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Received non QUOTA_EXCEEDED_ERR on append\"</span>,t),<span class=\"code-keyword\">this</span>.error(n+<span class=\"code-string\">\" append of \"</span>+e.length+<span class=\"code-string\">\"b failed for segment #\"</span>+i.mediaIndex+<span class=\"code-string\">\" in playlist \"</span>+i.playlist.id),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"appenderror\"</span>)):<span class=\"code-keyword\">this</span>.handleQuotaExceededError_({<span class=\"code-attr\">segmentInfo</span>:i,<span class=\"code-attr\">type</span>:n,<span class=\"code-attr\">bytes</span>:e}))},t.appendToSourceBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=e.segmentInfo,r=e.type,a=e.initSegment,s=e.data,o=e.bytes;o||(e=[s],s=s.byteLength,a&amp;&amp;(e.unshift(a),s+=a.byteLength),i=<span class=\"code-number\">0</span>,(e={<span class=\"code-attr\">bytes</span>:s,<span class=\"code-attr\">segments</span>:e}).bytes&amp;&amp;(t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.bytes),e.segments.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.set(e,i),i+=e.byteLength})),o=t),<span class=\"code-keyword\">this</span>.sourceUpdater_.appendBuffer({<span class=\"code-attr\">segmentInfo</span>:n,<span class=\"code-attr\">type</span>:r,<span class=\"code-attr\">bytes</span>:o},<span class=\"code-keyword\">this</span>.handleAppendError_.bind(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">segmentInfo</span>:n,<span class=\"code-attr\">type</span>:r,<span class=\"code-attr\">bytes</span>:o}))},t.handleSegmentTimingInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">this</span>.pendingSegment_&amp;&amp;t===<span class=\"code-keyword\">this</span>.pendingSegment_.requestId&amp;&amp;((t=<span class=\"code-keyword\">this</span>.pendingSegment_.segment)[e=e+<span class=\"code-string\">\"TimingInfo\"</span>]||(t[e]={}),t[e].transmuxerPrependedSeconds=i.prependedContentDuration||<span class=\"code-number\">0</span>,t[e].transmuxedPresentationStart=i.start.presentation,t[e].transmuxedDecodeStart=i.start.decode,t[e].transmuxedPresentationEnd=i.end.presentation,t[e].transmuxedDecodeEnd=i.end.decode,t[e].baseMediaDecodeTime=i.baseMediaDecodeTime)},t.appendData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.type,n=t.data;n&amp;&amp;n.byteLength&amp;&amp;(<span class=\"code-string\">\"audio\"</span>===i&amp;&amp;<span class=\"code-keyword\">this</span>.audioDisabled_||(t=<span class=\"code-keyword\">this</span>.getInitSegmentAndUpdateState_({<span class=\"code-attr\">type</span>:i,<span class=\"code-attr\">initSegment</span>:t.initSegment,<span class=\"code-attr\">playlist</span>:e.playlist,<span class=\"code-attr\">map</span>:e.isFmp4?e.segment.map:<span class=\"code-literal\">null</span>}),<span class=\"code-keyword\">this</span>.appendToSourceBuffer_({<span class=\"code-attr\">segmentInfo</span>:e,<span class=\"code-attr\">type</span>:i,<span class=\"code-attr\">initSegment</span>:t,<span class=\"code-attr\">data</span>:n})))},t.loadSegment_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"WAITING\"</span>,<span class=\"code-keyword\">this</span>.pendingSegment_=t,<span class=\"code-keyword\">this</span>.trimBackBuffer_(t),<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.timestampOffset&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxer_&amp;&amp;<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"clearAllMp4Captions\"</span>}),<span class=\"code-keyword\">this</span>.hasEnoughInfoToLoad_()?<span class=\"code-keyword\">this</span>.updateTransmuxerAndRequestSegment_(t):<span class=\"code-keyword\">this</span>.loadQueue_.push(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=g({},t,{<span class=\"code-attr\">forceTimestampOffset</span>:!<span class=\"code-number\">0</span>});g(t,i.generateSegmentInfo_(e)),i.isPendingTimestampOffset_=!<span class=\"code-number\">1</span>,i.updateTransmuxerAndRequestSegment_(t)})},t.updateTransmuxerAndRequestSegment_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&amp;&amp;(<span class=\"code-keyword\">this</span>.gopBuffer_.length=<span class=\"code-number\">0</span>,n.gopsToAlignWith=[],<span class=\"code-keyword\">this</span>.timeMapping_=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"reset\"</span>}),<span class=\"code-keyword\">this</span>.transmuxer_.postMessage({<span class=\"code-attr\">action</span>:<span class=\"code-string\">\"setTimestampOffset\"</span>,<span class=\"code-attr\">timestampOffset</span>:n.timestampOffset}));<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.createSimplifiedSegmentObj_(n),t=<span class=\"code-keyword\">this</span>.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),i=<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.mediaIndex,a=n.timeline!==<span class=\"code-keyword\">this</span>.currentTimeline_&amp;&amp;<span class=\"code-number\">0</span>&lt;n.timeline,a=t||i&amp;&amp;a;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Requesting \"</span>+sl(n)),e.map&amp;&amp;!e.map.bytes&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"going to request init segment.\"</span>),<span class=\"code-keyword\">this</span>.appendInitSegment_={<span class=\"code-attr\">video</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">audio</span>:!<span class=\"code-number\">0</span>}),n.abortRequests=Xu({<span class=\"code-attr\">xhr</span>:<span class=\"code-keyword\">this</span>.vhs_.xhr,<span class=\"code-attr\">xhrOptions</span>:<span class=\"code-keyword\">this</span>.xhrOptions_,<span class=\"code-attr\">decryptionWorker</span>:<span class=\"code-keyword\">this</span>.decrypter_,<span class=\"code-attr\">segment</span>:e,<span class=\"code-attr\">abortFn</span>:<span class=\"code-keyword\">this</span>.handleAbort_.bind(<span class=\"code-keyword\">this</span>,n),<span class=\"code-attr\">progressFn</span>:<span class=\"code-keyword\">this</span>.handleProgress_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">trackInfoFn</span>:<span class=\"code-keyword\">this</span>.handleTrackInfo_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">timingInfoFn</span>:<span class=\"code-keyword\">this</span>.handleTimingInfo_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">videoSegmentTimingInfoFn</span>:<span class=\"code-keyword\">this</span>.handleSegmentTimingInfo_.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"video\"</span>,n.requestId),<span class=\"code-attr\">audioSegmentTimingInfoFn</span>:<span class=\"code-keyword\">this</span>.handleSegmentTimingInfo_.bind(<span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"audio\"</span>,n.requestId),<span class=\"code-attr\">captionsFn</span>:<span class=\"code-keyword\">this</span>.handleCaptions_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">isEndOfTimeline</span>:a,<span class=\"code-attr\">endedTimelineFn</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r.logger_(<span class=\"code-string\">\"received endedtimeline callback\"</span>)},<span class=\"code-attr\">id3Fn</span>:<span class=\"code-keyword\">this</span>.handleId3_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">dataFn</span>:<span class=\"code-keyword\">this</span>.handleData_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">doneFn</span>:<span class=\"code-keyword\">this</span>.segmentRequestFinished_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">onTransmuxerLog</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.message,i=e.level,e=e.stream;r.logger_(sl(n)+<span class=\"code-string\">\" logged from transmuxer stream \"</span>+e+<span class=\"code-string\">\" as a \"</span>+i+<span class=\"code-string\">\": \"</span>+t)}})},t.trimBackBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r,r=(t=<span class=\"code-keyword\">this</span>.seekable_(),i=<span class=\"code-keyword\">this</span>.currentTime_(),n=<span class=\"code-keyword\">this</span>.playlist_.targetDuration||<span class=\"code-number\">10</span>,r=i-El.BACK_BUFFER_LENGTH,t.length&amp;&amp;(r=<span class=\"code-built_in\">Math</span>.max(r,t.start(<span class=\"code-number\">0</span>))),<span class=\"code-built_in\">Math</span>.min(i-n,r));<span class=\"code-number\">0</span>&lt;r&amp;&amp;<span class=\"code-keyword\">this</span>.remove(<span class=\"code-number\">0</span>,r)},t.createSimplifiedSegmentObj_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.segment,i=e.part,n={<span class=\"code-attr\">resolvedUri</span>:(i||t).resolvedUri,<span class=\"code-attr\">byterange</span>:(i||t).byterange,<span class=\"code-attr\">requestId</span>:e.requestId,<span class=\"code-attr\">transmuxer</span>:e.transmuxer,<span class=\"code-attr\">audioAppendStart</span>:e.audioAppendStart,<span class=\"code-attr\">gopsToAlignWith</span>:e.gopsToAlignWith,<span class=\"code-attr\">part</span>:e.part},i=e.playlist.segments[e.mediaIndex<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">return</span> i&amp;&amp;i.timeline===t.timeline&amp;&amp;(i.videoTimingInfo?n.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&amp;&amp;(n.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key&amp;&amp;(e=t.key.iv||<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e.mediaIndex+e.playlist.mediaSequence]),n.key=<span class=\"code-keyword\">this</span>.segmentKey(t.key),n.key.iv=e),t.map&amp;&amp;(n.map=<span class=\"code-keyword\">this</span>.initSegmentForMap(t.map)),n},t.saveTransferStats_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.mediaRequests+=<span class=\"code-number\">1</span>,e&amp;&amp;(<span class=\"code-keyword\">this</span>.mediaBytesTransferred+=e.bytesReceived,<span class=\"code-keyword\">this</span>.mediaTransferDuration+=e.roundTripTime)},t.saveBandwidthRelatedStats_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.pendingSegment_.byteLength=t.bytesReceived,e&lt;<span class=\"code-number\">1</span>/<span class=\"code-number\">60</span>?<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Ignoring segment's bandwidth because its duration of \"</span>+e+<span class=\"code-string\">\" is less than the min to record \"</span>+<span class=\"code-number\">1</span>/<span class=\"code-number\">60</span>):(<span class=\"code-keyword\">this</span>.bandwidth=t.bandwidth,<span class=\"code-keyword\">this</span>.roundTrip=t.roundTripTime)},t.handleTimeout_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mediaRequestsTimedout+=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.bandwidth=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.roundTrip=<span class=\"code-literal\">NaN</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"bandwidthupdate\"</span>)},t.segmentRequestFinished_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.callQueue_.length)<span class=\"code-keyword\">this</span>.callQueue_.push(<span class=\"code-keyword\">this</span>.segmentRequestFinished_.bind(<span class=\"code-keyword\">this</span>,e,t,i));<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.saveTransferStats_(t.stats),<span class=\"code-keyword\">this</span>.pendingSegment_&amp;&amp;t.requestId===<span class=\"code-keyword\">this</span>.pendingSegment_.requestId){<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pendingSegment_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,e.code===Ll?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:(<span class=\"code-keyword\">this</span>.pause(),e.code===Pl?<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.handleTimeout_():(<span class=\"code-keyword\">this</span>.mediaRequestsErrored+=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.error(e),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>)));e=<span class=\"code-keyword\">this</span>.pendingSegment_;<span class=\"code-keyword\">this</span>.saveBandwidthRelatedStats_(e.duration,t.stats),e.endOfAllRequests=t.endOfAllRequests,i.gopInfo&amp;&amp;(<span class=\"code-keyword\">this</span>.gopBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!t.length)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">if</span>(i)<span class=\"code-keyword\">return</span> t.slice();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=t[<span class=\"code-number\">0</span>].pts,r=<span class=\"code-number\">0</span>;r&lt;e.length&amp;&amp;!(e[r].pts&gt;=n);r++);<span class=\"code-keyword\">return</span> e.slice(<span class=\"code-number\">0</span>,r).concat(t)}(<span class=\"code-keyword\">this</span>.gopBuffer_,i.gopInfo,<span class=\"code-keyword\">this</span>.safeAppend_)),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"APPENDING\"</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"appending\"</span>),<span class=\"code-keyword\">this</span>.waitForAppendsToComplete_(e)}},t.setTimeMapping_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=<span class=\"code-keyword\">this</span>.syncController_.mappingForTimeline(e);<span class=\"code-literal\">null</span>!==e&amp;&amp;(<span class=\"code-keyword\">this</span>.timeMapping_=e)},t.updateMediaSecondsLoaded_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.start&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.end?<span class=\"code-keyword\">this</span>.mediaSecondsLoaded+=e.end-e.start:<span class=\"code-keyword\">this</span>.mediaSecondsLoaded+=e.duration},t.shouldUpdateTransmuxerTimestampOffset_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>!==e&amp;&amp;(<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_&amp;&amp;e!==<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset()||!<span class=\"code-keyword\">this</span>.audioDisabled_&amp;&amp;e!==<span class=\"code-keyword\">this</span>.sourceUpdater_.audioTimestampOffset())},t.trueSegmentStart_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.currentStart,i=e.playlist,n=e.mediaIndex,r=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,s=e.useVideoTimingInfo,o=e.videoTimingInfo,e=e.audioTimingInfo;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> t)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">if</span>(!s)<span class=\"code-keyword\">return</span> e.start;i=i.segments[n<span class=\"code-number\">-1</span>];<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==n&amp;&amp;i&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> i.start&amp;&amp;i.end===r+a?o.start:r},t.waitForAppendsToComplete_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getCurrentMediaInfo_(e);<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.error({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"No starting media returned, likely due to an unsupported media format.\"</span>,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>);<span class=\"code-keyword\">var</span> i=t.hasAudio,n=t.hasVideo,t=t.isMuxed,n=<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_&amp;&amp;n,t=!<span class=\"code-keyword\">this</span>.audioDisabled_&amp;&amp;i&amp;&amp;!t;<span class=\"code-keyword\">if</span>(e.waitingOnAppends=<span class=\"code-number\">0</span>,!e.hasAppendedData_)<span class=\"code-keyword\">return</span> e.timingInfo||<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e.timestampOffset||(<span class=\"code-keyword\">this</span>.isPendingTimestampOffset_=!<span class=\"code-number\">0</span>),e.timingInfo={<span class=\"code-attr\">start</span>:<span class=\"code-number\">0</span>},e.waitingOnAppends++,<span class=\"code-keyword\">this</span>.isPendingTimestampOffset_||(<span class=\"code-keyword\">this</span>.updateSourceBufferTimestampOffset_(e),<span class=\"code-keyword\">this</span>.processMetadataQueue_()),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.checkAppendsDone_(e);n&amp;&amp;e.waitingOnAppends++,t&amp;&amp;e.waitingOnAppends++,n&amp;&amp;<span class=\"code-keyword\">this</span>.sourceUpdater_.videoQueueCallback(<span class=\"code-keyword\">this</span>.checkAppendsDone_.bind(<span class=\"code-keyword\">this</span>,e)),t&amp;&amp;<span class=\"code-keyword\">this</span>.sourceUpdater_.audioQueueCallback(<span class=\"code-keyword\">this</span>.checkAppendsDone_.bind(<span class=\"code-keyword\">this</span>,e))},t.checkAppendsDone_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.checkForAbort_(e.requestId)||(e.waitingOnAppends--,<span class=\"code-number\">0</span>===e.waitingOnAppends&amp;&amp;<span class=\"code-keyword\">this</span>.handleAppendsDone_())},t.checkForIllegalMediaSwitch=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,e=(t=<span class=\"code-keyword\">this</span>.loaderType_,i=<span class=\"code-keyword\">this</span>.getCurrentMediaInfo_(),e=e,<span class=\"code-string\">\"main\"</span>===t&amp;&amp;i&amp;&amp;e?e.hasAudio||e.hasVideo?i.hasVideo&amp;&amp;!e.hasVideo?<span class=\"code-string\">\"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.\"</span>:!i.hasVideo&amp;&amp;e.hasVideo?<span class=\"code-string\">\"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.\"</span>:<span class=\"code-literal\">null</span>:<span class=\"code-string\">\"Neither audio nor video found in segment.\"</span>:<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">return</span>!!e&amp;&amp;(<span class=\"code-keyword\">this</span>.error({<span class=\"code-attr\">message</span>:e,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>),!<span class=\"code-number\">0</span>)},t.updateSourceBufferTimestampOffset_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-literal\">null</span>===e.timestampOffset||<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e.timingInfo.start||e.changedTimestampOffset||<span class=\"code-string\">\"main\"</span>!==<span class=\"code-keyword\">this</span>.loaderType_||(t=!<span class=\"code-number\">1</span>,e.timestampOffset-=<span class=\"code-keyword\">this</span>.getSegmentStartTimeForTimestampOffsetCalculation_({<span class=\"code-attr\">videoTimingInfo</span>:e.segment.videoTimingInfo,<span class=\"code-attr\">audioTimingInfo</span>:e.segment.audioTimingInfo,<span class=\"code-attr\">timingInfo</span>:e.timingInfo}),e.changedTimestampOffset=!<span class=\"code-number\">0</span>,e.timestampOffset!==<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset()&amp;&amp;(<span class=\"code-keyword\">this</span>.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!<span class=\"code-number\">0</span>),e.timestampOffset!==<span class=\"code-keyword\">this</span>.sourceUpdater_.audioTimestampOffset()&amp;&amp;(<span class=\"code-keyword\">this</span>.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!<span class=\"code-number\">0</span>),t&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timestampoffset\"</span>))},t.getSegmentStartTimeForTimestampOffsetCalculation_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.videoTimingInfo,i=e.audioTimingInfo,e=e.timingInfo;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.useDtsForTimestampOffset_?t&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.transmuxedDecodeStart?t.transmuxedDecodeStart:i&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i.transmuxedDecodeStart?i.transmuxedDecodeStart:e.start:e.start},t.updateTimingInfoEnd_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.timingInfo=e.timingInfo||{};<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.getMediaInfo_(),t=<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_&amp;&amp;t&amp;&amp;t.hasVideo&amp;&amp;e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&amp;&amp;(e.timingInfo.end=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> t.end?t.end:t.start+e.duration)},t.handleAppendsDone_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.pendingSegment_&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"appendsdone\"</span>),!<span class=\"code-keyword\">this</span>.pendingSegment_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.paused()||<span class=\"code-keyword\">this</span>.monitorBuffer_());<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.pendingSegment_;<span class=\"code-keyword\">this</span>.updateTimingInfoEnd_(e),<span class=\"code-keyword\">this</span>.shouldSaveSegmentTimingInfo_&amp;&amp;<span class=\"code-keyword\">this</span>.syncController_.saveSegmentTimingInfo({<span class=\"code-attr\">segmentInfo</span>:e,<span class=\"code-attr\">shouldSaveTimelineMapping</span>:<span class=\"code-string\">\"main\"</span>===<span class=\"code-keyword\">this</span>.loaderType_});<span class=\"code-keyword\">var</span> t=cl(e,<span class=\"code-keyword\">this</span>.sourceType_);<span class=\"code-keyword\">if</span>(t&amp;&amp;(<span class=\"code-string\">\"warn\"</span>===t.severity?tr.log.warn(t.message):<span class=\"code-keyword\">this</span>.logger_(t.message)),<span class=\"code-keyword\">this</span>.recordThroughput_(e),<span class=\"code-keyword\">this</span>.pendingSegment_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,!e.isSyncRequest||(<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"syncinfoupdate\"</span>),e.hasAppendedData_)){<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Appended \"</span>+sl(e)),<span class=\"code-keyword\">this</span>.addSegmentMetadataCue_(e),<span class=\"code-keyword\">this</span>.fetchAtBuffer_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.currentTimeline_!==e.timeline&amp;&amp;(<span class=\"code-keyword\">this</span>.timelineChangeController_.lastTimelineChange({<span class=\"code-attr\">type</span>:<span class=\"code-keyword\">this</span>.loaderType_,<span class=\"code-attr\">from</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">to</span>:e.timeline}),<span class=\"code-string\">\"main\"</span>!==<span class=\"code-keyword\">this</span>.loaderType_||<span class=\"code-keyword\">this</span>.audioDisabled_||<span class=\"code-keyword\">this</span>.timelineChangeController_.lastTimelineChange({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">from</span>:<span class=\"code-keyword\">this</span>.currentTimeline_,<span class=\"code-attr\">to</span>:e.timeline})),<span class=\"code-keyword\">this</span>.currentTimeline_=e.timeline,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"syncinfoupdate\"</span>);<span class=\"code-keyword\">var</span> i=e.segment,t=e.part,i=i.end&amp;&amp;<span class=\"code-keyword\">this</span>.currentTime_()-i.end&gt;<span class=\"code-number\">3</span>*e.playlist.targetDuration,t=t&amp;&amp;t.end&amp;&amp;<span class=\"code-keyword\">this</span>.currentTime_()-t.end&gt;<span class=\"code-number\">3</span>*e.playlist.partTargetDuration;<span class=\"code-keyword\">if</span>(i||t)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"bad \"</span>+(i?<span class=\"code-string\">\"segment\"</span>:<span class=\"code-string\">\"part\"</span>)+<span class=\"code-string\">\" \"</span>+sl(e)),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.resetEverything();<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.mediaIndex&amp;&amp;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"bandwidthupdate\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"progress\"</span>),<span class=\"code-keyword\">this</span>.mediaIndex=e.mediaIndex,<span class=\"code-keyword\">this</span>.partIndex=e.partIndex,<span class=\"code-keyword\">this</span>.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&amp;&amp;<span class=\"code-keyword\">this</span>.endOfStream(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"appended\"</span>),e.hasAppendedData_&amp;&amp;<span class=\"code-keyword\">this</span>.mediaAppends++,<span class=\"code-keyword\">this</span>.paused()||<span class=\"code-keyword\">this</span>.monitorBuffer_()}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Throwing away un-appended sync request \"</span>+sl(e))},t.recordThroughput_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i;e.duration&lt;<span class=\"code-number\">1</span>/<span class=\"code-number\">60</span>?<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Ignoring segment's throughput because its duration of \"</span>+e.duration+<span class=\"code-string\">\" is less than the min to record \"</span>+<span class=\"code-number\">1</span>/<span class=\"code-number\">60</span>):(t=<span class=\"code-keyword\">this</span>.throughput.rate,i=<span class=\"code-built_in\">Date</span>.now()-e.endOfAllRequests+<span class=\"code-number\">1</span>,i=<span class=\"code-built_in\">Math</span>.floor(e.byteLength/i*<span class=\"code-number\">8</span>*<span class=\"code-number\">1e3</span>),<span class=\"code-keyword\">this</span>.throughput.rate+=(i-t)/++<span class=\"code-keyword\">this</span>.throughput.count)},t.addSegmentMetadataCue_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n,r;<span class=\"code-keyword\">this</span>.segmentMetadataTrack_&amp;&amp;(i=(t=e.segment).start,r=t.end,al(i)&amp;&amp;al(r)&amp;&amp;(rl(i,r,<span class=\"code-keyword\">this</span>.segmentMetadataTrack_),n=<span class=\"code-built_in\">window</span>.WebKitDataCue||<span class=\"code-built_in\">window</span>.VTTCue,e={<span class=\"code-attr\">custom</span>:t.custom,<span class=\"code-attr\">dateTimeObject</span>:t.dateTimeObject,<span class=\"code-attr\">dateTimeString</span>:t.dateTimeString,<span class=\"code-attr\">bandwidth</span>:e.playlist.attributes.BANDWIDTH,<span class=\"code-attr\">resolution</span>:e.playlist.attributes.RESOLUTION,<span class=\"code-attr\">codecs</span>:e.playlist.attributes.CODECS,<span class=\"code-attr\">byteLength</span>:e.byteLength,<span class=\"code-attr\">uri</span>:e.uri,<span class=\"code-attr\">timeline</span>:e.timeline,<span class=\"code-attr\">playlist</span>:e.playlist.id,<span class=\"code-attr\">start</span>:i,<span class=\"code-attr\">end</span>:r},(r=<span class=\"code-keyword\">new</span> n(i,r,<span class=\"code-built_in\">JSON</span>.stringify(e))).value=e,<span class=\"code-keyword\">this</span>.segmentMetadataTrack_.addCue(r)))},e}(tr.EventTarget);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Rl</span>(<span class=\"code-params\"></span>)</span>{}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Nl</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e?e:e.replace(<span class=\"code-regexp\">/./</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.toUpperCase()})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ul</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t[e+<span class=\"code-string\">\"Buffer\"</span>];<span class=\"code-keyword\">return</span> i&amp;&amp;i.updating||t.queuePending[e]}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Bl</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==t.queue.length){<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,n=t.queue[i];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"mediaSource\"</span>!==n.type){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"mediaSource\"</span>!==e&amp;&amp;t.ready()&amp;&amp;<span class=\"code-string\">\"closed\"</span>!==t.mediaSource.readyState&amp;&amp;!Ul(e,t)){<span class=\"code-keyword\">if</span>(n.type!==e){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===(i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;t.length;i++){<span class=\"code-keyword\">var</span> n=t[i];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"mediaSource\"</span>===n.type)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(n.type===e)<span class=\"code-keyword\">return</span> i}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(e,t.queue)))<span class=\"code-keyword\">return</span>;n=t.queue[i]}t.queue.splice(i,<span class=\"code-number\">1</span>),(t.queuePending[e]=n).action(e,t),n.doneFn||(t.queuePending[e]=<span class=\"code-literal\">null</span>,Bl(e,t))}}<span class=\"code-keyword\">else</span> t.updating()||<span class=\"code-string\">\"closed\"</span>===t.mediaSource.readyState||(t.queue.shift(),n.action(t),n.doneFn&amp;&amp;n.doneFn(),Bl(<span class=\"code-string\">\"audio\"</span>,t),Bl(<span class=\"code-string\">\"video\"</span>,t))}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Fl</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t[e+<span class=\"code-string\">\"Buffer\"</span>],n=Nl(e);i&amp;&amp;(i.removeEventListener(<span class=\"code-string\">\"updateend\"</span>,t[<span class=\"code-string\">\"on\"</span>+n+<span class=\"code-string\">\"UpdateEnd_\"</span>]),i.removeEventListener(<span class=\"code-string\">\"error\"</span>,t[<span class=\"code-string\">\"on\"</span>+n+<span class=\"code-string\">\"Error_\"</span>]),t.codecs[e]=<span class=\"code-literal\">null</span>,t[e+<span class=\"code-string\">\"Buffer\"</span>]=<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">jl</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;t&amp;&amp;<span class=\"code-number\">-1</span>!==<span class=\"code-built_in\">Array</span>.prototype.indexOf.call(e.sourceBuffers,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Hl</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.type,i=e.sourceUpdater,n=e.action,r=e.doneFn,e=e.name;i.queue.push({<span class=\"code-attr\">type</span>:t,<span class=\"code-attr\">action</span>:n,<span class=\"code-attr\">doneFn</span>:r,<span class=\"code-attr\">name</span>:e}),Bl(t,i)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">ql</span>(<span class=\"code-params\">i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;n.queuePending[i]&amp;&amp;(t=n.queuePending[i].doneFn,n.queuePending[i]=<span class=\"code-literal\">null</span>,t&amp;&amp;t(n[i+<span class=\"code-string\">\"Error_\"</span>])),Bl(i,n)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Vl</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">decodeURIComponent</span>(<span class=\"code-built_in\">escape</span>(<span class=\"code-built_in\">String</span>.fromCharCode.apply(<span class=\"code-literal\">null</span>,e)))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Wl</span>(<span class=\"code-params\">e,t</span>)</span>{e.abort(),e.pause(),t&amp;&amp;t.activePlaylistLoader&amp;&amp;(t.activePlaylistLoader.pause(),t.activePlaylistLoader=<span class=\"code-literal\">null</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Gl</span>(<span class=\"code-params\">e,t</span>)</span>{(t.activePlaylistLoader=e).load()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">zl</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++){<span class=\"code-keyword\">if</span>(nu(t,e[i]))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(e[i].playlists&amp;&amp;zl(e[i].playlists,t))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Xl</span>(<span class=\"code-params\">a</span>)</span>{[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>,<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{yc[e](e,a)});<span class=\"code-keyword\">var</span> e,s=a.mediaTypes,t=a.masterPlaylistLoader,i=a.tech,n=a.vhs,r=a.segmentLoaders,o=r.AUDIO,u=r.main;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\"></span>)</span>{s.AUDIO.onTrackChanged(),i.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-audio-change\"</span>}),i.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-audio-change\"</span>})}<span class=\"code-keyword\">for</span>(e <span class=\"code-keyword\">in</span>[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> u,l,o,c,t,i,d,h,n,r;s[e].activeGroup=(u=e,l=a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=l.masterPlaylistLoader,i=l.mediaTypes[u].groups,n=e.media();<span class=\"code-keyword\">if</span>(!n)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> r=<span class=\"code-literal\">null</span>;n.attributes[u]&amp;&amp;(r=i[n.attributes[u]]);<span class=\"code-keyword\">var</span> a=<span class=\"code-built_in\">Object</span>.keys(i);<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"AUDIO\"</span>===u&amp;&amp;<span class=\"code-number\">1</span>&lt;a.length&amp;&amp;au(l.master))<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-number\">0</span>;s&lt;a.length;s++){<span class=\"code-keyword\">var</span> o=i[a[s]];<span class=\"code-keyword\">if</span>(zl(o,n)){r=o;<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">else</span> i.main?r=i.main:<span class=\"code-number\">1</span>===a.length&amp;&amp;(r=i[a[<span class=\"code-number\">0</span>]]);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> t?r:<span class=\"code-literal\">null</span>!==t&amp;&amp;r&amp;&amp;r.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.id===t.id})[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>}),s[e].activeTrack=vc[e](e,a),s[e].onGroupChanged=(o=e,c=a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=c.segmentLoaders,t=e[o],i=e.main,n=c.mediaTypes[o],r=n.activeTrack(),a=n.getActiveGroup(),s=n.activePlaylistLoader,e=n.lastGroup_;a&amp;&amp;e&amp;&amp;a.id===e.id||(n.lastGroup_=a,n.lastTrack_=r,Wl(t,n),a&amp;&amp;!a.isMasterPlaylist&amp;&amp;(a.playlistLoader?(t.resyncLoader(),Gl(a.playlistLoader,n)):s&amp;&amp;i.resetEverything()))}),s[e].onGroupChanging=(t=e,i=a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=i.segmentLoaders[t];i.mediaTypes[t].lastGroup_=<span class=\"code-literal\">null</span>,e.abort(),e.pause()}),s[e].onTrackChanged=(d=e,h=a,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=h.masterPlaylistLoader,t=h.segmentLoaders,i=t[d],n=t.main,r=h.mediaTypes[d],a=r.activeTrack(),s=r.getActiveGroup(),o=r.activePlaylistLoader,u=r.lastTrack_;<span class=\"code-keyword\">if</span>((!u||!a||u.id!==a.id)&amp;&amp;(r.lastGroup_=s,r.lastTrack_=a,Wl(i,r),s)){<span class=\"code-keyword\">if</span>(s.isMasterPlaylist){<span class=\"code-keyword\">if</span>(!a||!u||a.id===u.id)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> l=h.vhs.masterPlaylistController_,t=l.selectPlaylist();<span class=\"code-keyword\">return</span> l.media()===t?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:(r.logger_(<span class=\"code-string\">\"track change. Switching master audio from \"</span>+u.id+<span class=\"code-string\">\" to \"</span>+a.id),e.pause(),n.resetEverything(),<span class=\"code-keyword\">void</span> l.fastQualityChange_(t))}<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"AUDIO\"</span>===d){<span class=\"code-keyword\">if</span>(!s.playlistLoader)<span class=\"code-keyword\">return</span> n.setAudio(!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> n.resetEverything();i.setAudio(!<span class=\"code-number\">0</span>),n.setAudio(!<span class=\"code-number\">1</span>)}o!==s.playlistLoader&amp;&amp;(i.track&amp;&amp;i.track(a),i.resetEverything()),Gl(s.playlistLoader,r)}}),s[e].getActiveGroup=(n=e,r=a.mediaTypes,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=r[n].activeTrack();<span class=\"code-keyword\">return</span> e?r[n].activeGroup(e):<span class=\"code-literal\">null</span>})}),(r=s.AUDIO.activeGroup())&amp;&amp;(r=(r.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.default})[<span class=\"code-number\">0</span>]||r[<span class=\"code-number\">0</span>]).id,s.AUDIO.tracks[r].enabled=!<span class=\"code-number\">0</span>,s.AUDIO.onGroupChanged(),s.AUDIO.onTrackChanged(),s.AUDIO.getActiveGroup().playlistLoader?(u.setAudio(!<span class=\"code-number\">1</span>),o.setAudio(!<span class=\"code-number\">0</span>)):u.setAudio(!<span class=\"code-number\">0</span>)),t.on(<span class=\"code-string\">\"mediachange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> s[e].onGroupChanged()})}),t.on(<span class=\"code-string\">\"mediachanging\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> s[e].onGroupChanging()})}),i.audioTracks().addEventListener(<span class=\"code-string\">\"change\"</span>,l),i.remoteTextTracks().addEventListener(<span class=\"code-string\">\"change\"</span>,s.SUBTITLES.onTrackChanged),n.on(<span class=\"code-string\">\"dispose\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.audioTracks().removeEventListener(<span class=\"code-string\">\"change\"</span>,l),i.remoteTextTracks().removeEventListener(<span class=\"code-string\">\"change\"</span>,s.SUBTITLES.onTrackChanged)}),i.clearTracks(<span class=\"code-string\">\"audio\"</span>),s.AUDIO.tracks)i.audioTracks().addTrack(s.AUDIO.tracks[e])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Kl</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a,s,o=e.masterPlaylistController_,u=o[(e.options_.smoothQualityChange?<span class=\"code-string\">\"smooth\"</span>:<span class=\"code-string\">\"fast\"</span>)+<span class=\"code-string\">\"QualityChange_\"</span>].bind(o);t.attributes&amp;&amp;(n=t.attributes.RESOLUTION,<span class=\"code-keyword\">this</span>.width=n&amp;&amp;n.width,<span class=\"code-keyword\">this</span>.height=n&amp;&amp;n.height,<span class=\"code-keyword\">this</span>.bandwidth=t.attributes.BANDWIDTH),<span class=\"code-keyword\">this</span>.codecs=$u(o.master(),t),<span class=\"code-keyword\">this</span>.playlist=t,<span class=\"code-keyword\">this</span>.id=i,<span class=\"code-keyword\">this</span>.enabled=(r=e.playlists,a=t.id,s=u,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=r.master.playlists[a],i=Zo(t),n=eu(t);<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> e?n:(e?<span class=\"code-keyword\">delete</span> t.disabled:t.disabled=!<span class=\"code-number\">0</span>,e===n||i||(s(),e?r.trigger(<span class=\"code-string\">\"renditionenabled\"</span>):r.trigger(<span class=\"code-string\">\"renditiondisabled\"</span>)),e)})}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Yl</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>,n=<span class=\"code-number\">0</span>,r=tr.mergeOptions(wc,e);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\"></span>)</span>{n&amp;&amp;t.currentTime(n)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-literal\">null</span>!=e&amp;&amp;(n=t.duration()!==<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;t.currentTime()||<span class=\"code-number\">0</span>,t.one(<span class=\"code-string\">\"loadedmetadata\"</span>,a),t.src(e),t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-error-reload\"</span>}),t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-error-reload\"</span>}),t.play())}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Date</span>.now()-i&lt;<span class=\"code-number\">1e3</span>*r.errorInterval?(t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-error-reload-canceled\"</span>}),<span class=\"code-keyword\">void</span> t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-error-reload-canceled\"</span>})):r.getSource&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> r.getSource?(i=<span class=\"code-built_in\">Date</span>.now(),r.getSource.call(t,s)):<span class=\"code-keyword\">void</span> tr.log.error(<span class=\"code-string\">\"ERROR: reloadSourceOnError - The option getSource must be a function!\"</span>)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\"></span>)</span>{t.off(<span class=\"code-string\">\"loadedmetadata\"</span>,a),t.off(<span class=\"code-string\">\"error\"</span>,o),t.off(<span class=\"code-string\">\"dispose\"</span>,u)}t.ready(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-error-reload-initialized\"</span>}),t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-error-reload-initialized\"</span>})}),t.on(<span class=\"code-string\">\"error\"</span>,o),t.on(<span class=\"code-string\">\"dispose\"</span>,u),t.reloadSourceOnError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{u(),Yl(t,e)}}<span class=\"code-keyword\">var</span> Ql,$l=[<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"audio\"</span>],Jl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r,a</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,i</span>)</span>{<span class=\"code-keyword\">var</span> e=i[t+<span class=\"code-string\">\"Buffer\"</span>];<span class=\"code-keyword\">if</span>(jl(i.mediaSource,e)){i.logger_(<span class=\"code-string\">\"Appending segment \"</span>+r.mediaIndex+<span class=\"code-string\">\"'s \"</span>+n.length+<span class=\"code-string\">\" bytes to \"</span>+t+<span class=\"code-string\">\"Buffer\"</span>);<span class=\"code-keyword\">try</span>{e.appendBuffer(n)}<span class=\"code-keyword\">catch</span>(e){i.logger_(<span class=\"code-string\">\"Error with code \"</span>+e.code+<span class=\"code-string\">\" \"</span>+(<span class=\"code-number\">22</span>===e.code?<span class=\"code-string\">\"(QUOTA_EXCEEDED_ERR) \"</span>:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"when appending segment \"</span>+r.mediaIndex+<span class=\"code-string\">\" to \"</span>+t+<span class=\"code-string\">\"Buffer\"</span>),i.queuePending[t]=<span class=\"code-literal\">null</span>,a(e)}}}},Zl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,i</span>)</span>{<span class=\"code-keyword\">var</span> e=i[t+<span class=\"code-string\">\"Buffer\"</span>];<span class=\"code-keyword\">if</span>(jl(i.mediaSource,e)){i.logger_(<span class=\"code-string\">\"Removing \"</span>+n+<span class=\"code-string\">\" to \"</span>+r+<span class=\"code-string\">\" from \"</span>+t+<span class=\"code-string\">\"Buffer\"</span>);<span class=\"code-keyword\">try</span>{e.remove(n,r)}<span class=\"code-keyword\">catch</span>(e){i.logger_(<span class=\"code-string\">\"Remove \"</span>+n+<span class=\"code-string\">\" to \"</span>+r+<span class=\"code-string\">\" from \"</span>+t+<span class=\"code-string\">\"Buffer failed\"</span>)}}}},ec=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t[e+<span class=\"code-string\">\"Buffer\"</span>];jl(t.mediaSource,i)&amp;&amp;(t.logger_(<span class=\"code-string\">\"Setting \"</span>+e+<span class=\"code-string\">\"timestampOffset to \"</span>+n),i.timestampOffset=n)}},tc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{i()}},ic=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"open\"</span>===e.mediaSource.readyState){e.logger_(<span class=\"code-string\">\"Calling mediaSource endOfStream(\"</span>+(t||<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\")\"</span>);<span class=\"code-keyword\">try</span>{e.mediaSource.endOfStream(t)}<span class=\"code-keyword\">catch</span>(e){tr.log.warn(<span class=\"code-string\">\"Failed to call media source endOfStream\"</span>,e)}}}},nc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.logger_(<span class=\"code-string\">\"Setting mediaSource duration to \"</span>+t);<span class=\"code-keyword\">try</span>{e.mediaSource.duration=t}<span class=\"code-keyword\">catch</span>(e){tr.log.warn(<span class=\"code-string\">\"Failed to set media source duration\"</span>,e)}}},rc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"open\"</span>===e.mediaSource.readyState){<span class=\"code-keyword\">var</span> i=e[t+<span class=\"code-string\">\"Buffer\"</span>];<span class=\"code-keyword\">if</span>(jl(e.mediaSource,i)){e.logger_(<span class=\"code-string\">\"calling abort on \"</span>+t+<span class=\"code-string\">\"Buffer\"</span>);<span class=\"code-keyword\">try</span>{i.abort()}<span class=\"code-keyword\">catch</span>(e){tr.log.warn(<span class=\"code-string\">\"Failed to abort on \"</span>+t+<span class=\"code-string\">\"Buffer\"</span>,e)}}}}},ac=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Nl(n),i=mr(r);e.logger_(<span class=\"code-string\">\"Adding \"</span>+n+<span class=\"code-string\">\"Buffer with codec \"</span>+r+<span class=\"code-string\">\" to mediaSource\"</span>);i=e.mediaSource.addSourceBuffer(i);i.addEventListener(<span class=\"code-string\">\"updateend\"</span>,e[<span class=\"code-string\">\"on\"</span>+t+<span class=\"code-string\">\"UpdateEnd_\"</span>]),i.addEventListener(<span class=\"code-string\">\"error\"</span>,e[<span class=\"code-string\">\"on\"</span>+t+<span class=\"code-string\">\"Error_\"</span>]),e.codecs[n]=r,e[n+<span class=\"code-string\">\"Buffer\"</span>]=i}},sc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e[i+<span class=\"code-string\">\"Buffer\"</span>];<span class=\"code-keyword\">if</span>(Fl(i,e),jl(e.mediaSource,t)){e.logger_(<span class=\"code-string\">\"Removing \"</span>+i+<span class=\"code-string\">\"Buffer with codec \"</span>+e.codecs[i]+<span class=\"code-string\">\" from mediaSource\"</span>);<span class=\"code-keyword\">try</span>{e.mediaSource.removeSourceBuffer(t)}<span class=\"code-keyword\">catch</span>(e){tr.log.warn(<span class=\"code-string\">\"Failed to removeSourceBuffer \"</span>+i+<span class=\"code-string\">\"Buffer\"</span>,e)}}}},oc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t[e+<span class=\"code-string\">\"Buffer\"</span>],n=mr(r);jl(t.mediaSource,i)&amp;&amp;t.codecs[e]!==r&amp;&amp;(t.logger_(<span class=\"code-string\">\"changing \"</span>+e+<span class=\"code-string\">\"Buffer codec from \"</span>+t.codecs[e]+<span class=\"code-string\">\" to \"</span>+r),i.changeType(n),t.codecs[e]=r)}},uc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.mediaSource=e,t.sourceopenListener_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Bl(<span class=\"code-string\">\"mediaSource\"</span>,ft(t))},t.mediaSource.addEventListener(<span class=\"code-string\">\"sourceopen\"</span>,t.sourceopenListener_),t.logger_=Ro(<span class=\"code-string\">\"SourceUpdater\"</span>),t.audioTimestampOffset_=<span class=\"code-number\">0</span>,t.videoTimestampOffset_=<span class=\"code-number\">0</span>,t.queue=[],t.queuePending={<span class=\"code-attr\">audio</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">video</span>:<span class=\"code-literal\">null</span>},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!<span class=\"code-number\">1</span>,t.codecs={},t.onVideoUpdateEnd_=ql(<span class=\"code-string\">\"video\"</span>,ft(t)),t.onAudioUpdateEnd_=ql(<span class=\"code-string\">\"audio\"</span>,ft(t)),t.onVideoError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.videoError_=e},t.onAudioError_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.audioError_=e},t.createdSourceBuffers_=!<span class=\"code-number\">1</span>,t.initializedEme_=!<span class=\"code-number\">1</span>,t.triggeredReady_=!<span class=\"code-number\">1</span>,t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.initializedEme=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.initializedEme_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.triggerReady()},t.hasCreatedSourceBuffers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.createdSourceBuffers_},t.hasInitializedAnyEme=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.initializedEme_},t.ready=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasCreatedSourceBuffers()&amp;&amp;<span class=\"code-keyword\">this</span>.hasInitializedAnyEme()},t.createSourceBuffers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.hasCreatedSourceBuffers()||(<span class=\"code-keyword\">this</span>.addOrChangeSourceBuffers(e),<span class=\"code-keyword\">this</span>.createdSourceBuffers_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"createdsourcebuffers\"</span>),<span class=\"code-keyword\">this</span>.triggerReady())},t.triggerReady=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.ready()&amp;&amp;!<span class=\"code-keyword\">this</span>.triggeredReady_&amp;&amp;(<span class=\"code-keyword\">this</span>.triggeredReady_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"ready\"</span>))},t.addSourceBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"mediaSource\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:ac(e,t),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"addSourceBuffer\"</span>})},t.abort=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Hl({<span class=\"code-attr\">type</span>:e,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:rc(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"abort\"</span>})},t.removeSourceBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.canRemoveSourceBuffer()?Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"mediaSource\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:sc(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"removeSourceBuffer\"</span>}):tr.log.error(<span class=\"code-string\">\"removeSourceBuffer is not supported!\"</span>)},t.canRemoveSourceBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!tr.browser.IE_VERSION&amp;&amp;!tr.browser.IS_FIREFOX&amp;&amp;<span class=\"code-built_in\">window</span>.MediaSource&amp;&amp;<span class=\"code-built_in\">window</span>.MediaSource.prototype&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.MediaSource.prototype.removeSourceBuffer},e.canChangeType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">window</span>.SourceBuffer&amp;&amp;<span class=\"code-built_in\">window</span>.SourceBuffer.prototype&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.SourceBuffer.prototype.changeType},t.canChangeType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.constructor.canChangeType()},t.changeType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.canChangeType()?Hl({<span class=\"code-attr\">type</span>:e,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:oc(t),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"changeType\"</span>}):tr.log.error(<span class=\"code-string\">\"changeType is not supported!\"</span>)},t.addOrChangeSourceBuffers=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(!i||<span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> i||<span class=\"code-number\">0</span>===<span class=\"code-built_in\">Object</span>.keys(i).length)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot addOrChangeSourceBuffers to undefined codecs\"</span>);<span class=\"code-built_in\">Object</span>.keys(i).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i[e];<span class=\"code-keyword\">if</span>(!n.hasCreatedSourceBuffers())<span class=\"code-keyword\">return</span> n.addSourceBuffer(e,t);n.canChangeType()&amp;&amp;n.changeType(e,t)})},t.appendBuffer=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,n=e.segmentInfo,r=e.type,a=e.bytes;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.processedAppend_=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"audio\"</span>===r&amp;&amp;<span class=\"code-keyword\">this</span>.videoBuffer&amp;&amp;!<span class=\"code-keyword\">this</span>.videoAppendQueued_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.delayedAudioAppendQueue_.push([e,t]),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"delayed audio append of \"</span>+a.length+<span class=\"code-string\">\" until video append\"</span>);Hl({<span class=\"code-attr\">type</span>:r,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:Jl(a,n||{<span class=\"code-attr\">mediaIndex</span>:<span class=\"code-number\">-1</span>},t),<span class=\"code-attr\">doneFn</span>:t,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"appendBuffer\"</span>}),<span class=\"code-string\">\"video\"</span>===r&amp;&amp;(<span class=\"code-keyword\">this</span>.videoAppendQueued_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.delayedAudioAppendQueue_.length&amp;&amp;(r=<span class=\"code-keyword\">this</span>.delayedAudioAppendQueue_.slice(),<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"queuing delayed audio \"</span>+r.length+<span class=\"code-string\">\" appendBuffers\"</span>),<span class=\"code-keyword\">this</span>.delayedAudioAppendQueue_.length=<span class=\"code-number\">0</span>,r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{i.appendBuffer.apply(i,e)})))},t.audioBuffered=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> jl(<span class=\"code-keyword\">this</span>.mediaSource,<span class=\"code-keyword\">this</span>.audioBuffer)&amp;&amp;<span class=\"code-keyword\">this</span>.audioBuffer.buffered||tr.createTimeRange()},t.videoBuffered=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> jl(<span class=\"code-keyword\">this</span>.mediaSource,<span class=\"code-keyword\">this</span>.videoBuffer)&amp;&amp;<span class=\"code-keyword\">this</span>.videoBuffer.buffered||tr.createTimeRange()},t.buffered=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=jl(<span class=\"code-keyword\">this</span>.mediaSource,<span class=\"code-keyword\">this</span>.videoBuffer)?<span class=\"code-keyword\">this</span>.videoBuffer:<span class=\"code-literal\">null</span>,t=jl(<span class=\"code-keyword\">this</span>.mediaSource,<span class=\"code-keyword\">this</span>.audioBuffer)?<span class=\"code-keyword\">this</span>.audioBuffer:<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span> t&amp;&amp;!e?<span class=\"code-keyword\">this</span>.audioBuffered():e&amp;&amp;!t?<span class=\"code-keyword\">this</span>.videoBuffered():<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-literal\">null</span>,n=<span class=\"code-literal\">null</span>,r=<span class=\"code-number\">0</span>,a=[],s=[];<span class=\"code-keyword\">if</span>(!(e&amp;&amp;e.length&amp;&amp;t&amp;&amp;t.length))<span class=\"code-keyword\">return</span> tr.createTimeRange();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=e.length;o--;)a.push({<span class=\"code-attr\">time</span>:e.start(o),<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"start\"</span>}),a.push({<span class=\"code-attr\">time</span>:e.end(o),<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"end\"</span>});<span class=\"code-keyword\">for</span>(o=t.length;o--;)a.push({<span class=\"code-attr\">time</span>:t.start(o),<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"start\"</span>}),a.push({<span class=\"code-attr\">time</span>:t.end(o),<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"end\"</span>});<span class=\"code-keyword\">for</span>(a.sort(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.time-t.time}),o=<span class=\"code-number\">0</span>;o&lt;a.length;o++)<span class=\"code-string\">\"start\"</span>===a[o].type?<span class=\"code-number\">2</span>===++r&amp;&amp;(i=a[o].time):<span class=\"code-string\">\"end\"</span>===a[o].type&amp;&amp;<span class=\"code-number\">1</span>===--r&amp;&amp;(n=a[o].time),<span class=\"code-literal\">null</span>!==i&amp;&amp;<span class=\"code-literal\">null</span>!==n&amp;&amp;(s.push([i,n]),n=i=<span class=\"code-literal\">null</span>);<span class=\"code-keyword\">return</span> tr.createTimeRanges(s)}(<span class=\"code-keyword\">this</span>.audioBuffered(),<span class=\"code-keyword\">this</span>.videoBuffered())},t.setDuration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=Rl),Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"mediaSource\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:nc(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"duration\"</span>,<span class=\"code-attr\">doneFn</span>:t})},t.endOfStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=Rl),Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"mediaSource\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:ic(e=<span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span>(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-literal\">null</span>:e)?<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>:e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"endOfStream\"</span>,<span class=\"code-attr\">doneFn</span>:t})},t.removeAudio=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=Rl),<span class=\"code-keyword\">this</span>.audioBuffered().length&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.audioBuffered().end(<span class=\"code-number\">0</span>)?Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:Zl(e,t),<span class=\"code-attr\">doneFn</span>:i,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"remove\"</span>}):i()},t.removeVideo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=Rl),<span class=\"code-keyword\">this</span>.videoBuffered().length&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-keyword\">this</span>.videoBuffered().end(<span class=\"code-number\">0</span>)?Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"video\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:Zl(e,t),<span class=\"code-attr\">doneFn</span>:i,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"remove\"</span>}):i()},t.updating=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>!(!Ul(<span class=\"code-string\">\"audio\"</span>,<span class=\"code-keyword\">this</span>)&amp;&amp;!Ul(<span class=\"code-string\">\"video\"</span>,<span class=\"code-keyword\">this</span>))},t.audioTimestampOffset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-keyword\">this</span>.audioBuffer&amp;&amp;<span class=\"code-keyword\">this</span>.audioTimestampOffset_!==e&amp;&amp;(Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:ec(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"timestampOffset\"</span>}),<span class=\"code-keyword\">this</span>.audioTimestampOffset_=e),<span class=\"code-keyword\">this</span>.audioTimestampOffset_},t.videoTimestampOffset=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-keyword\">this</span>.videoBuffer&amp;&amp;<span class=\"code-keyword\">this</span>.videoTimestampOffset!==e&amp;&amp;(Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"video\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:ec(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"timestampOffset\"</span>}),<span class=\"code-keyword\">this</span>.videoTimestampOffset_=e),<span class=\"code-keyword\">this</span>.videoTimestampOffset_},t.audioQueueCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.audioBuffer&amp;&amp;Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"audio\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:tc(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"callback\"</span>})},t.videoQueueCallback=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.videoBuffer&amp;&amp;Hl({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"video\"</span>,<span class=\"code-attr\">sourceUpdater</span>:<span class=\"code-keyword\">this</span>,<span class=\"code-attr\">action</span>:tc(e),<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"callback\"</span>})},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),$l.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+<span class=\"code-string\">\"QueueCallback\"</span>](<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> Fl(e,t)})}),<span class=\"code-keyword\">this</span>.videoAppendQueued_=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.delayedAudioAppendQueue_.length=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.sourceopenListener_&amp;&amp;<span class=\"code-keyword\">this</span>.mediaSource.removeEventListener(<span class=\"code-string\">\"sourceopen\"</span>,<span class=\"code-keyword\">this</span>.sourceopenListener_),<span class=\"code-keyword\">this</span>.off()},e}(tr.EventTarget),lc=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(<span class=\"code-string\">\"\\n\\n\"</span>.split(<span class=\"code-string\">\"\"</span>).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.charCodeAt(<span class=\"code-number\">0</span>)})),cc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>(t=i.call(<span class=\"code-keyword\">this</span>,e,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t)||<span class=\"code-keyword\">this</span>).mediaSource_=<span class=\"code-literal\">null</span>,t.subtitlesTrack_=<span class=\"code-literal\">null</span>,t.loaderType_=<span class=\"code-string\">\"subtitle\"</span>,t.featuresNativeTextTracks_=e.featuresNativeTextTracks,t.shouldSaveSegmentTimingInfo_=!<span class=\"code-number\">1</span>,t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.createTransmuxer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},t.buffered_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.subtitlesTrack_||!<span class=\"code-keyword\">this</span>.subtitlesTrack_.cues||!<span class=\"code-keyword\">this</span>.subtitlesTrack_.cues.length)<span class=\"code-keyword\">return</span> tr.createTimeRanges();<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.subtitlesTrack_.cues,t=e[<span class=\"code-number\">0</span>].startTime,e=e[e.length<span class=\"code-number\">-1</span>].startTime;<span class=\"code-keyword\">return</span> tr.createTimeRanges([[t,e]])},t.initSegmentForMap=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t&amp;&amp;(t=!<span class=\"code-number\">1</span>),!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> i=Su(e),n=<span class=\"code-keyword\">this</span>.initSegments_[i];<span class=\"code-keyword\">return</span> t&amp;&amp;!n&amp;&amp;e.bytes&amp;&amp;(t=lc.byteLength+e.bytes.byteLength,(t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(t)).set(e.bytes),t.set(lc,e.bytes.byteLength),<span class=\"code-keyword\">this</span>.initSegments_[i]=n={<span class=\"code-attr\">resolvedUri</span>:e.resolvedUri,<span class=\"code-attr\">byterange</span>:e.byterange,<span class=\"code-attr\">bytes</span>:t}),n||e},t.couldBeginLoading_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.playlist_&amp;&amp;<span class=\"code-keyword\">this</span>.subtitlesTrack_&amp;&amp;!<span class=\"code-keyword\">this</span>.paused()},t.init_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,<span class=\"code-keyword\">this</span>.resetEverything(),<span class=\"code-keyword\">this</span>.monitorBuffer_()},t.track=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> e||(<span class=\"code-keyword\">this</span>.subtitlesTrack_=e,<span class=\"code-string\">\"INIT\"</span>===<span class=\"code-keyword\">this</span>.state&amp;&amp;<span class=\"code-keyword\">this</span>.couldBeginLoading_()&amp;&amp;<span class=\"code-keyword\">this</span>.init_()),<span class=\"code-keyword\">this</span>.subtitlesTrack_},t.remove=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{rl(e,t,<span class=\"code-keyword\">this</span>.subtitlesTrack_)},t.fillBuffer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.chooseNextRequest_();<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===<span class=\"code-keyword\">this</span>.syncController_.timestampOffsetForTimeline(t.timeline))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.syncController_.one(<span class=\"code-string\">\"timestampoffset\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.state=<span class=\"code-string\">\"READY\"</span>,e.paused()||e.monitorBuffer_()}),<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"WAITING_ON_TIMELINE\"</span>);<span class=\"code-keyword\">this</span>.loadSegment_(t)}},t.timestampOffsetForSegment_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},t.chooseNextRequest_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.skipEmptySegments_(i.prototype.chooseNextRequest_.call(<span class=\"code-keyword\">this</span>))},t.skipEmptySegments_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">for</span>(;e&amp;&amp;e.segment.empty;){<span class=\"code-keyword\">if</span>(e.mediaIndex+<span class=\"code-number\">1</span>&gt;=e.playlist.segments.length){e=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">break</span>}e=<span class=\"code-keyword\">this</span>.generateSegmentInfo_({<span class=\"code-attr\">playlist</span>:e.playlist,<span class=\"code-attr\">mediaIndex</span>:e.mediaIndex+<span class=\"code-number\">1</span>,<span class=\"code-attr\">startOfSegment</span>:e.startOfSegment+e.duration,<span class=\"code-attr\">isSyncRequest</span>:e.isSyncRequest})}<span class=\"code-keyword\">return</span> e},t.stopForError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.error(e),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,<span class=\"code-keyword\">this</span>.pause(),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>)},t.segmentRequestFinished_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.subtitlesTrack_){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.saveTransferStats_(t.stats),!<span class=\"code-keyword\">this</span>.pendingSegment_)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>,<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.mediaRequestsAborted+=<span class=\"code-number\">1</span>);<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span> e.code===Pl&amp;&amp;<span class=\"code-keyword\">this</span>.handleTimeout_(),e.code===Ll?<span class=\"code-keyword\">this</span>.mediaRequestsAborted+=<span class=\"code-number\">1</span>:<span class=\"code-keyword\">this</span>.mediaRequestsErrored+=<span class=\"code-number\">1</span>,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.stopForError(e);<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.pendingSegment_;<span class=\"code-keyword\">this</span>.saveBandwidthRelatedStats_(r.duration,t.stats),<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"APPENDING\"</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"appending\"</span>);<span class=\"code-keyword\">var</span> a=r.segment;<span class=\"code-keyword\">if</span>(a.map&amp;&amp;(a.map.bytes=t.map.bytes),r.bytes=t.bytes,<span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.WebVTT&amp;&amp;<span class=\"code-keyword\">this</span>.subtitlesTrack_&amp;&amp;<span class=\"code-keyword\">this</span>.subtitlesTrack_.tech_){<span class=\"code-keyword\">var</span> s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.subtitlesTrack_.tech_.off(<span class=\"code-string\">\"vttjsloaded\"</span>,o),n.stopForError({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Error loading vtt.js\"</span>})},o=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.subtitlesTrack_.tech_.off(<span class=\"code-string\">\"vttjserror\"</span>,s),n.segmentRequestFinished_(e,t,i)};<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"WAITING_ON_VTTJS\"</span>,<span class=\"code-keyword\">this</span>.subtitlesTrack_.tech_.one(<span class=\"code-string\">\"vttjsloaded\"</span>,o),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.subtitlesTrack_.tech_.one(<span class=\"code-string\">\"vttjserror\"</span>,s)}a.requested=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">this</span>.parseVTTCues_(r)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.stopForError({<span class=\"code-attr\">message</span>:e.message})}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.updateTimeMapping_(r,<span class=\"code-keyword\">this</span>.syncController_.timelines[r.timeline],<span class=\"code-keyword\">this</span>.playlist_),r.cues.length?r.timingInfo={<span class=\"code-attr\">start</span>:r.cues[<span class=\"code-number\">0</span>].startTime,<span class=\"code-attr\">end</span>:r.cues[r.cues.length<span class=\"code-number\">-1</span>].endTime}:r.timingInfo={<span class=\"code-attr\">start</span>:r.startOfSegment,<span class=\"code-attr\">end</span>:r.startOfSegment+r.duration},r.isSyncRequest)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"syncinfoupdate\"</span>),<span class=\"code-keyword\">this</span>.pendingSegment_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">void</span>(<span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>);r.byteLength=r.bytes.byteLength,<span class=\"code-keyword\">this</span>.mediaSecondsLoaded+=a.duration,r.cues.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.VTTCue(e.startTime,e.endTime,e.text):e)}),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=t.cues;<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=[],r=<span class=\"code-number\">0</span>,a=<span class=\"code-number\">0</span>;a&lt;e.length;a++)e[i].startTime===e[a].startTime&amp;&amp;e[i].endTime===e[a].endTime&amp;&amp;e[i].text===e[a].text&amp;&amp;<span class=\"code-number\">1</span>&lt;++r&amp;&amp;n.push(e[a]);n.length&amp;&amp;n.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t.removeCue(e)})}}(<span class=\"code-keyword\">this</span>.subtitlesTrack_),<span class=\"code-keyword\">this</span>.handleAppendsDone_()}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.state=<span class=\"code-string\">\"READY\"</span>},t.handleData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},t.updateTimingInfoEnd_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{},t.parseVTTCues_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> e=!<span class=\"code-number\">1</span>;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>.TextDecoder?i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.TextDecoder(<span class=\"code-string\">\"utf8\"</span>):(i=<span class=\"code-built_in\">window</span>.WebVTT.StringDecoder(),e=!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.WebVTT.Parser(<span class=\"code-built_in\">window</span>,<span class=\"code-built_in\">window</span>.vttjs,i);t.cues=[],t.timestampmap={<span class=\"code-attr\">MPEGTS</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">LOCAL</span>:<span class=\"code-number\">0</span>},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.timestampmap=e},i.onparsingerror=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{tr.log.warn(<span class=\"code-string\">\"Error encountered when parsing cues: \"</span>+e.message)},t.segment.map&amp;&amp;(n=t.segment.map.bytes,e&amp;&amp;(n=Vl(n)),i.parse(n));<span class=\"code-keyword\">var</span> n=t.bytes;e&amp;&amp;(n=Vl(n)),i.parse(n),i.flush()},t.updateTimeMapping_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a=e.segment;t&amp;&amp;(e.cues.length?(r=e.timestampmap,n=r.MPEGTS/hl-r.LOCAL+t.mapping,e.cues.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.startTime+=n,e.endTime+=n}),i.syncInfo||(r=e.cues[<span class=\"code-number\">0</span>].startTime,t=e.cues[e.cues.length<span class=\"code-number\">-1</span>].startTime,i.syncInfo={<span class=\"code-attr\">mediaSequence</span>:i.mediaSequence+e.mediaIndex,<span class=\"code-attr\">time</span>:<span class=\"code-built_in\">Math</span>.min(r,t-a.duration)})):a.empty=!<span class=\"code-number\">0</span>)},e}(Ml),dc=[{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"VOD\"</span>,<span class=\"code-attr\">run</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(i===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">time</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">segmentIndex</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">partIndex</span>:<span class=\"code-literal\">null</span>}}},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"ProgramDateTime\"</span>,<span class=\"code-attr\">run</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">Object</span>.keys(e.timelineToDatetimeMappings).length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>,s=<span class=\"code-literal\">null</span>,o=Wo(t);r=r||<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> u=<span class=\"code-number\">0</span>;u&lt;o.length;u++){<span class=\"code-keyword\">var</span> l=o[t.endList||<span class=\"code-number\">0</span>===r?u:o.length-(u+<span class=\"code-number\">1</span>)],c=l.segment,d=e.timelineToDatetimeMappings[c.timeline];<span class=\"code-keyword\">if</span>(d&amp;&amp;c.dateTimeObject){<span class=\"code-keyword\">var</span> h=c.dateTimeObject.getTime()/<span class=\"code-number\">1e3</span>+d;<span class=\"code-keyword\">if</span>(c.parts&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> l.partIndex)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p=<span class=\"code-number\">0</span>;p&lt;l.partIndex;p++)h+=c.parts[p].duration;d=<span class=\"code-built_in\">Math</span>.abs(r-h);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==s&amp;&amp;(<span class=\"code-number\">0</span>===d||s&lt;d))<span class=\"code-keyword\">break</span>;s=d,a={<span class=\"code-attr\">time</span>:h,<span class=\"code-attr\">segmentIndex</span>:l.segmentIndex,<span class=\"code-attr\">partIndex</span>:l.partIndex}}}<span class=\"code-keyword\">return</span> a}},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"Segment\"</span>,<span class=\"code-attr\">run</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>,s=<span class=\"code-literal\">null</span>;r=r||<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o=Wo(t),u=<span class=\"code-number\">0</span>;u&lt;o.length;u++){<span class=\"code-keyword\">var</span> l=o[t.endList||<span class=\"code-number\">0</span>===r?u:o.length-(u+<span class=\"code-number\">1</span>)],c=l.segment,d=l.part&amp;&amp;l.part.start||c&amp;&amp;c.start;<span class=\"code-keyword\">if</span>(c.timeline===n&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> d){c=<span class=\"code-built_in\">Math</span>.abs(r-d);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==s&amp;&amp;s&lt;c)<span class=\"code-keyword\">break</span>;(!a||<span class=\"code-literal\">null</span>===s||c&lt;=s)&amp;&amp;(s=c,a={<span class=\"code-attr\">time</span>:d,<span class=\"code-attr\">segmentIndex</span>:l.segmentIndex,<span class=\"code-attr\">partIndex</span>:l.partIndex})}}<span class=\"code-keyword\">return</span> a}},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"Discontinuity\"</span>,<span class=\"code-attr\">run</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">var</span> a=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">if</span>(r=r||<span class=\"code-number\">0</span>,t.discontinuityStarts&amp;&amp;t.discontinuityStarts.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s=<span class=\"code-literal\">null</span>,o=<span class=\"code-number\">0</span>;o&lt;t.discontinuityStarts.length;o++){<span class=\"code-keyword\">var</span> u=t.discontinuityStarts[o],l=t.discontinuitySequence+o+<span class=\"code-number\">1</span>,c=e.discontinuities[l];<span class=\"code-keyword\">if</span>(c){l=<span class=\"code-built_in\">Math</span>.abs(r-c.time);<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==s&amp;&amp;s&lt;l)<span class=\"code-keyword\">break</span>;(!a||<span class=\"code-literal\">null</span>===s||l&lt;=s)&amp;&amp;(s=l,a={<span class=\"code-attr\">time</span>:c.time,<span class=\"code-attr\">segmentIndex</span>:u,<span class=\"code-attr\">partIndex</span>:<span class=\"code-literal\">null</span>})}}<span class=\"code-keyword\">return</span> a}},{<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"Playlist\"</span>,<span class=\"code-attr\">run</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r</span>)</span>{<span class=\"code-keyword\">return</span> t.syncInfo?{<span class=\"code-attr\">time</span>:t.syncInfo.time,<span class=\"code-attr\">segmentIndex</span>:t.syncInfo.mediaSequence-t.mediaSequence,<span class=\"code-attr\">partIndex</span>:<span class=\"code-literal\">null</span>}:<span class=\"code-literal\">null</span>}}],hc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=i.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Ro(<span class=\"code-string\">\"SyncController\"</span>),t}mt(e,i);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.getSyncPoint=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{i=<span class=\"code-keyword\">this</span>.runStrategies_(e,t,i,n);<span class=\"code-keyword\">return</span> i.length?<span class=\"code-keyword\">this</span>.selectSyncPoint_(i,{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"time\"</span>,<span class=\"code-attr\">value</span>:n}):<span class=\"code-literal\">null</span>},t.getExpiredTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!e||!e.segments)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;t=<span class=\"code-keyword\">this</span>.runStrategies_(e,t,e.discontinuitySequence,<span class=\"code-number\">0</span>);<span class=\"code-keyword\">if</span>(!t.length)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;t=<span class=\"code-keyword\">this</span>.selectSyncPoint_(t,{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"segmentIndex\"</span>,<span class=\"code-attr\">value</span>:<span class=\"code-number\">0</span>});<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>&lt;t.segmentIndex&amp;&amp;(t.time*=<span class=\"code-number\">-1</span>),<span class=\"code-built_in\">Math</span>.abs(t.time+Qo({<span class=\"code-attr\">defaultDuration</span>:e.targetDuration,<span class=\"code-attr\">durationList</span>:e.segments,<span class=\"code-attr\">startIndex</span>:t.segmentIndex,<span class=\"code-attr\">endIndex</span>:<span class=\"code-number\">0</span>}))},t.runStrategies_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=[],a=<span class=\"code-number\">0</span>;a&lt;dc.length;a++){<span class=\"code-keyword\">var</span> s=dc[a],o=s.run(<span class=\"code-keyword\">this</span>,e,t,i,n);o&amp;&amp;(o.strategy=s.name,r.push({<span class=\"code-attr\">strategy</span>:s.name,<span class=\"code-attr\">syncPoint</span>:o}))}<span class=\"code-keyword\">return</span> r},t.selectSyncPoint_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e[<span class=\"code-number\">0</span>].syncPoint,n=<span class=\"code-built_in\">Math</span>.abs(e[<span class=\"code-number\">0</span>].syncPoint[t.key]-t.value),r=e[<span class=\"code-number\">0</span>].strategy,a=<span class=\"code-number\">1</span>;a&lt;e.length;a++){<span class=\"code-keyword\">var</span> s=<span class=\"code-built_in\">Math</span>.abs(e[a].syncPoint[t.key]-t.value);s&lt;n&amp;&amp;(n=s,i=e[a].syncPoint,r=e[a].strategy)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"syncPoint for [\"</span>+t.key+<span class=\"code-string\">\": \"</span>+t.value+<span class=\"code-string\">\"] chosen with strategy [\"</span>+r+<span class=\"code-string\">\"]: [time:\"</span>+i.time+<span class=\"code-string\">\", segmentIndex:\"</span>+i.segmentIndex+(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i.partIndex?<span class=\"code-string\">\",partIndex:\"</span>+i.partIndex:<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\"]\"</span>),i},t.saveExpiredSegmentInfo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=t.mediaSequence-e.mediaSequence;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">86400</span>&lt;i)tr.log.warn(<span class=\"code-string\">\"Not saving expired segment info. Media sequence gap \"</span>+i+<span class=\"code-string\">\" is too large.\"</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=i<span class=\"code-number\">-1</span>;<span class=\"code-number\">0</span>&lt;=n;n--){<span class=\"code-keyword\">var</span> r=e.segments[n];<span class=\"code-keyword\">if</span>(r&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> r.start){t.syncInfo={<span class=\"code-attr\">mediaSequence</span>:e.mediaSequence+n,<span class=\"code-attr\">time</span>:r.start},<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"playlist refresh sync: [time:\"</span>+t.syncInfo.time+<span class=\"code-string\">\", mediaSequence: \"</span>+t.syncInfo.mediaSequence+<span class=\"code-string\">\"]\"</span>),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"syncinfoupdate\"</span>);<span class=\"code-keyword\">break</span>}}},t.setDateTimeMappingForStart=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;<span class=\"code-keyword\">this</span>.timelineToDatetimeMappings={},e.segments&amp;&amp;e.segments.length&amp;&amp;e.segments[<span class=\"code-number\">0</span>].dateTimeObject&amp;&amp;(e=(t=e.segments[<span class=\"code-number\">0</span>]).dateTimeObject.getTime()/<span class=\"code-number\">1e3</span>,<span class=\"code-keyword\">this</span>.timelineToDatetimeMappings[t.timeline]=-e)},t.saveSegmentTimingInfo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.segmentInfo,i=e.shouldSaveTimelineMapping,n=<span class=\"code-keyword\">this</span>.calculateSegmentTimeMapping_(t,t.timingInfo,i),e=t.segment;n&amp;&amp;(<span class=\"code-keyword\">this</span>.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={<span class=\"code-attr\">mediaSequence</span>:t.playlist.mediaSequence+t.mediaIndex,<span class=\"code-attr\">time</span>:e.start}));t=e.dateTimeObject;e.discontinuity&amp;&amp;i&amp;&amp;t&amp;&amp;(<span class=\"code-keyword\">this</span>.timelineToDatetimeMappings[e.timeline]=-t.getTime()/<span class=\"code-number\">1e3</span>)},t.timestampOffsetForTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.timelines[e]?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.timelines[e].time},t.mappingForTimeline=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.timelines[e]?<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>.timelines[e].mapping},t.calculateSegmentTimeMapping_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a=e.segment,s=e.part,o=<span class=\"code-keyword\">this</span>.timelines[e.timeline];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e.timestampOffset)o={<span class=\"code-attr\">time</span>:e.startOfSegment,<span class=\"code-attr\">mapping</span>:e.startOfSegment-t.start},i&amp;&amp;(<span class=\"code-keyword\">this</span>.timelines[e.timeline]=o,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timestampoffset\"</span>),<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"time mapping for timeline \"</span>+e.timeline+<span class=\"code-string\">\": [time: \"</span>+o.time+<span class=\"code-string\">\"] [mapping: \"</span>+o.mapping+<span class=\"code-string\">\"]\"</span>)),n=e.startOfSegment,r=t.end+o.mapping;<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!o)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;n=t.start+o.mapping,r=t.end+o.mapping}<span class=\"code-keyword\">return</span> s&amp;&amp;(s.start=n,s.end=r),(!a.start||n&lt;a.start)&amp;&amp;(a.start=n),a.end=r,!<span class=\"code-number\">0</span>},t.saveDiscontinuitySyncInfo_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.playlist,i=e.segment;<span class=\"code-keyword\">if</span>(i.discontinuity)<span class=\"code-keyword\">this</span>.discontinuities[i.timeline]={<span class=\"code-attr\">time</span>:i.start,<span class=\"code-attr\">accuracy</span>:<span class=\"code-number\">0</span>};<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(t.discontinuityStarts&amp;&amp;t.discontinuityStarts.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;t.discontinuityStarts.length;n++){<span class=\"code-keyword\">var</span> r,a=t.discontinuityStarts[n],s=t.discontinuitySequence+n+<span class=\"code-number\">1</span>,o=a-e.mediaIndex,u=<span class=\"code-built_in\">Math</span>.abs(o);(!<span class=\"code-keyword\">this</span>.discontinuities[s]||<span class=\"code-keyword\">this</span>.discontinuities[s].accuracy&gt;u)&amp;&amp;(r=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,r=o&lt;<span class=\"code-number\">0</span>?i.start-Qo({<span class=\"code-attr\">defaultDuration</span>:t.targetDuration,<span class=\"code-attr\">durationList</span>:t.segments,<span class=\"code-attr\">startIndex</span>:e.mediaIndex,<span class=\"code-attr\">endIndex</span>:a}):i.end+Qo({<span class=\"code-attr\">defaultDuration</span>:t.targetDuration,<span class=\"code-attr\">durationList</span>:t.segments,<span class=\"code-attr\">startIndex</span>:e.mediaIndex+<span class=\"code-number\">1</span>,<span class=\"code-attr\">endIndex</span>:a}),<span class=\"code-keyword\">this</span>.discontinuities[s]={<span class=\"code-attr\">time</span>:r,<span class=\"code-attr\">accuracy</span>:u})}},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.off()},e}(tr.EventTarget),pc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}mt(e,t);<span class=\"code-keyword\">var</span> i=e.prototype;<span class=\"code-keyword\">return</span> i.clearPendingTimelineChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.pendingTimelineChanges_[e]=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"pendingtimelinechange\"</span>)},i.pendingTimelineChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.type,i=e.from,e=e.to;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(<span class=\"code-keyword\">this</span>.pendingTimelineChanges_[t]={<span class=\"code-attr\">type</span>:t,<span class=\"code-attr\">from</span>:i,<span class=\"code-attr\">to</span>:e},<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"pendingtimelinechange\"</span>)),<span class=\"code-keyword\">this</span>.pendingTimelineChanges_[t]},i.lastTimelineChange=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.type,i=e.from,e=e.to;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i&amp;&amp;<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;(<span class=\"code-keyword\">this</span>.lastTimelineChanges_[t]={<span class=\"code-attr\">type</span>:t,<span class=\"code-attr\">from</span>:i,<span class=\"code-attr\">to</span>:e},<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.pendingTimelineChanges_[t],<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"timelinechange\"</span>)),<span class=\"code-keyword\">this</span>.lastTimelineChanges_[t]},i.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.pendingTimelineChanges_={},<span class=\"code-keyword\">this</span>.lastTimelineChanges_={},<span class=\"code-keyword\">this</span>.off()},e}(tr.EventTarget),fc=x(U(W(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> globalThis?globalThis:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> global?global:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> self?self:{};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> e(i={<span class=\"code-attr\">path</span>:t,<span class=\"code-attr\">exports</span>:{},<span class=\"code-attr\">require</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\"</span>)}(<span class=\"code-literal\">null</span>==t&amp;&amp;i.path)}},i.exports),i.exports}<span class=\"code-keyword\">var</span> i=t(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;t.length;i++){<span class=\"code-keyword\">var</span> n=t[i];n.enumerable=n.enumerable||!<span class=\"code-number\">1</span>,n.configurable=!<span class=\"code-number\">0</span>,<span class=\"code-string\">\"value\"</span><span class=\"code-keyword\">in</span> n&amp;&amp;(n.writable=!<span class=\"code-number\">0</span>),<span class=\"code-built_in\">Object</span>.defineProperty(e,n.key,n)}}e.exports=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;n(e.prototype,t),i&amp;&amp;n(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!<span class=\"code-number\">0</span>}),n=t(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> i.exports=n=<span class=\"code-built_in\">Object</span>.setPrototypeOf||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e.__proto__=t,e},i.exports.default=i.exports,i.exports.__esModule=!<span class=\"code-number\">0</span>,n(e,t)}i.exports=n,i.exports.default=i.exports,i.exports.__esModule=!<span class=\"code-number\">0</span>}),r=t(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.exports=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{e.prototype=<span class=\"code-built_in\">Object</span>.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!<span class=\"code-number\">0</span>}),a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.listeners={}}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.on=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">this</span>.listeners[e]||(<span class=\"code-keyword\">this</span>.listeners[e]=[]),<span class=\"code-keyword\">this</span>.listeners[e].push(t)},t.off=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.listeners[e])<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;t=<span class=\"code-keyword\">this</span>.listeners[e].indexOf(t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.listeners[e]=<span class=\"code-keyword\">this</span>.listeners[e].slice(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.listeners[e].splice(t,<span class=\"code-number\">1</span>),<span class=\"code-number\">-1</span>&lt;t},t.trigger=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.listeners[e];<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">if</span>(<span class=\"code-number\">2</span>===<span class=\"code-built_in\">arguments</span>.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.length,n=<span class=\"code-number\">0</span>;n&lt;i;++n)t[n].call(<span class=\"code-keyword\">this</span>,<span class=\"code-built_in\">arguments</span>[<span class=\"code-number\">1</span>]);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> r=<span class=\"code-built_in\">Array</span>.prototype.slice.call(<span class=\"code-built_in\">arguments</span>,<span class=\"code-number\">1</span>),a=t.length,s=<span class=\"code-number\">0</span>;s&lt;a;++s)t[s].apply(<span class=\"code-keyword\">this</span>,r)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.listeners={}},t.pipe=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">this</span>.on(<span class=\"code-string\">\"data\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.push(e)})},e}();\n","<span class=\"code-comment\">/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */</span>\n","<span class=\"code-keyword\">var</span> c=<span class=\"code-literal\">null</span>,m=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n;c=c||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> e,t,i,n,r,a,s,o=[[[],[],[],[],[]],[[],[],[],[],[]]],u=o[<span class=\"code-number\">0</span>],l=o[<span class=\"code-number\">1</span>],c=u[<span class=\"code-number\">4</span>],d=l[<span class=\"code-number\">4</span>],h=[],p=[],f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">256</span>;f++)p[(h[f]=f&lt;&lt;<span class=\"code-number\">1</span>^<span class=\"code-number\">283</span>*(f&gt;&gt;<span class=\"code-number\">7</span>))^f]=f;<span class=\"code-keyword\">for</span>(e=t=<span class=\"code-number\">0</span>;!c[e];e^=i||<span class=\"code-number\">1</span>,t=p[t]||<span class=\"code-number\">1</span>)<span class=\"code-keyword\">for</span>(s=<span class=\"code-number\">16843009</span>*h[n=h[i=h[d[c[e]=r=(r=t^t&lt;&lt;<span class=\"code-number\">1</span>^t&lt;&lt;<span class=\"code-number\">2</span>^t&lt;&lt;<span class=\"code-number\">3</span>^t&lt;&lt;<span class=\"code-number\">4</span>)&gt;&gt;<span class=\"code-number\">8</span>^<span class=\"code-number\">255</span>&amp;r^<span class=\"code-number\">99</span>]=e]]]^<span class=\"code-number\">65537</span>*n^<span class=\"code-number\">257</span>*i^<span class=\"code-number\">16843008</span>*e,a=<span class=\"code-number\">257</span>*h[r]^<span class=\"code-number\">16843008</span>*r,f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">4</span>;f++)u[f][e]=a=a&lt;&lt;<span class=\"code-number\">24</span>^a&gt;&gt;&gt;<span class=\"code-number\">8</span>,l[f][r]=s=s&lt;&lt;<span class=\"code-number\">24</span>^s&gt;&gt;&gt;<span class=\"code-number\">8</span>;<span class=\"code-keyword\">for</span>(f=<span class=\"code-number\">0</span>;f&lt;<span class=\"code-number\">5</span>;f++)u[f]=u[f].slice(<span class=\"code-number\">0</span>),l[f]=l[f].slice(<span class=\"code-number\">0</span>);<span class=\"code-keyword\">return</span> o}(),<span class=\"code-keyword\">this</span>._tables=[[c[<span class=\"code-number\">0</span>][<span class=\"code-number\">0</span>].slice(),c[<span class=\"code-number\">0</span>][<span class=\"code-number\">1</span>].slice(),c[<span class=\"code-number\">0</span>][<span class=\"code-number\">2</span>].slice(),c[<span class=\"code-number\">0</span>][<span class=\"code-number\">3</span>].slice(),c[<span class=\"code-number\">0</span>][<span class=\"code-number\">4</span>].slice()],[c[<span class=\"code-number\">1</span>][<span class=\"code-number\">0</span>].slice(),c[<span class=\"code-number\">1</span>][<span class=\"code-number\">1</span>].slice(),c[<span class=\"code-number\">1</span>][<span class=\"code-number\">2</span>].slice(),c[<span class=\"code-number\">1</span>][<span class=\"code-number\">3</span>].slice(),c[<span class=\"code-number\">1</span>][<span class=\"code-number\">4</span>].slice()]];<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>._tables[<span class=\"code-number\">0</span>][<span class=\"code-number\">4</span>],a=<span class=\"code-keyword\">this</span>._tables[<span class=\"code-number\">1</span>],s=e.length,o=<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">4</span>!==s&amp;&amp;<span class=\"code-number\">6</span>!==s&amp;&amp;<span class=\"code-number\">8</span>!==s)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid aes key size\"</span>);<span class=\"code-keyword\">var</span> u=e.slice(<span class=\"code-number\">0</span>),l=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">this</span>._key=[u,l],t=s;t&lt;<span class=\"code-number\">4</span>*s+<span class=\"code-number\">28</span>;t++)n=u[t<span class=\"code-number\">-1</span>],(t%s==<span class=\"code-number\">0</span>||<span class=\"code-number\">8</span>===s&amp;&amp;t%s==<span class=\"code-number\">4</span>)&amp;&amp;(n=r[n&gt;&gt;&gt;<span class=\"code-number\">24</span>]&lt;&lt;<span class=\"code-number\">24</span>^r[n&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]&lt;&lt;<span class=\"code-number\">16</span>^r[n&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]&lt;&lt;<span class=\"code-number\">8</span>^r[<span class=\"code-number\">255</span>&amp;n],t%s==<span class=\"code-number\">0</span>&amp;&amp;(n=n&lt;&lt;<span class=\"code-number\">8</span>^n&gt;&gt;&gt;<span class=\"code-number\">24</span>^o&lt;&lt;<span class=\"code-number\">24</span>,o=o&lt;&lt;<span class=\"code-number\">1</span>^<span class=\"code-number\">283</span>*(o&gt;&gt;<span class=\"code-number\">7</span>))),u[t]=u[t-s]^n;<span class=\"code-keyword\">for</span>(i=<span class=\"code-number\">0</span>;t;i++,t--)n=u[<span class=\"code-number\">3</span>&amp;i?t:t<span class=\"code-number\">-4</span>],l[i]=t&lt;=<span class=\"code-number\">4</span>||i&lt;<span class=\"code-number\">4</span>?n:a[<span class=\"code-number\">0</span>][r[n&gt;&gt;&gt;<span class=\"code-number\">24</span>]]^a[<span class=\"code-number\">1</span>][r[n&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]]^a[<span class=\"code-number\">2</span>][r[n&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]]^a[<span class=\"code-number\">3</span>][r[<span class=\"code-number\">255</span>&amp;n]]}<span class=\"code-keyword\">return</span> e.prototype.decrypt=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n,r,a</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> s,o,u,l=<span class=\"code-keyword\">this</span>._key[<span class=\"code-number\">1</span>],c=e^l[<span class=\"code-number\">0</span>],d=n^l[<span class=\"code-number\">1</span>],h=i^l[<span class=\"code-number\">2</span>],p=t^l[<span class=\"code-number\">3</span>],f=l.length/<span class=\"code-number\">4</span><span class=\"code-number\">-2</span>,m=<span class=\"code-number\">4</span>,t=<span class=\"code-keyword\">this</span>._tables[<span class=\"code-number\">1</span>],g=t[<span class=\"code-number\">0</span>],y=t[<span class=\"code-number\">1</span>],v=t[<span class=\"code-number\">2</span>],_=t[<span class=\"code-number\">3</span>],b=t[<span class=\"code-number\">4</span>],T=<span class=\"code-number\">0</span>;T&lt;f;T++)s=g[c&gt;&gt;&gt;<span class=\"code-number\">24</span>]^y[d&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]^v[h&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]^_[<span class=\"code-number\">255</span>&amp;p]^l[m],o=g[d&gt;&gt;&gt;<span class=\"code-number\">24</span>]^y[h&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]^v[p&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]^_[<span class=\"code-number\">255</span>&amp;c]^l[m+<span class=\"code-number\">1</span>],u=g[h&gt;&gt;&gt;<span class=\"code-number\">24</span>]^y[p&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]^v[c&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]^_[<span class=\"code-number\">255</span>&amp;d]^l[m+<span class=\"code-number\">2</span>],p=g[p&gt;&gt;&gt;<span class=\"code-number\">24</span>]^y[c&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]^v[d&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]^_[<span class=\"code-number\">255</span>&amp;h]^l[m+<span class=\"code-number\">3</span>],m+=<span class=\"code-number\">4</span>,c=s,d=o,h=u;<span class=\"code-keyword\">for</span>(T=<span class=\"code-number\">0</span>;T&lt;<span class=\"code-number\">4</span>;T++)r[(<span class=\"code-number\">3</span>&amp;-T)+a]=b[c&gt;&gt;&gt;<span class=\"code-number\">24</span>]&lt;&lt;<span class=\"code-number\">24</span>^b[d&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>]&lt;&lt;<span class=\"code-number\">16</span>^b[h&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>]&lt;&lt;<span class=\"code-number\">8</span>^b[<span class=\"code-number\">255</span>&amp;p]^l[m++],s=c,c=d,d=h,h=p,p=s},e}(),l=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.call(<span class=\"code-keyword\">this</span>,a)||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">return</span> e.jobs=[],e.delay=<span class=\"code-number\">1</span>,e.timeout_=<span class=\"code-literal\">null</span>,e}r(e,t);<span class=\"code-keyword\">var</span> i=e.prototype;<span class=\"code-keyword\">return</span> i.processJob_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.jobs.shift()(),<span class=\"code-keyword\">this</span>.jobs.length?<span class=\"code-keyword\">this</span>.timeout_=setTimeout(<span class=\"code-keyword\">this</span>.processJob_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.delay):<span class=\"code-keyword\">this</span>.timeout_=<span class=\"code-literal\">null</span>},i.push=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.jobs.push(e),<span class=\"code-keyword\">this</span>.timeout_||(<span class=\"code-keyword\">this</span>.timeout_=setTimeout(<span class=\"code-keyword\">this</span>.processJob_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.delay))},e}(a),g=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e&lt;&lt;<span class=\"code-number\">24</span>|(<span class=\"code-number\">65280</span>&amp;e)&lt;&lt;<span class=\"code-number\">8</span>|(<span class=\"code-number\">16711680</span>&amp;e)&gt;&gt;<span class=\"code-number\">8</span>|e&gt;&gt;&gt;<span class=\"code-number\">24</span>},s=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">var</span> r=u.STEP,a=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int32Array</span>(e.buffer),s=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.byteLength),o=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">this</span>.asyncStream_=<span class=\"code-keyword\">new</span> l,<span class=\"code-keyword\">this</span>.asyncStream_.push(<span class=\"code-keyword\">this</span>.decryptChunk_(a.subarray(o,o+r),t,i,s)),o=r;o&lt;a.length;o+=r)i=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>([g(a[o<span class=\"code-number\">-4</span>]),g(a[o<span class=\"code-number\">-3</span>]),g(a[o<span class=\"code-number\">-2</span>]),g(a[o<span class=\"code-number\">-1</span>])]),<span class=\"code-keyword\">this</span>.asyncStream_.push(<span class=\"code-keyword\">this</span>.decryptChunk_(a.subarray(o,o+r),t,i,s));<span class=\"code-keyword\">this</span>.asyncStream_.push(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{\n","<span class=\"code-comment\">/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */</span>\n","<span class=\"code-keyword\">var</span> e;n(<span class=\"code-literal\">null</span>,(e=s).subarray(<span class=\"code-number\">0</span>,e.byteLength-e[e.byteLength<span class=\"code-number\">-1</span>]))})}<span class=\"code-keyword\">return</span> u.prototype.decryptChunk_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,i,n,r</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n,r,a,s,o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int32Array</span>(e.buffer,e.byteOffset,e.byteLength&gt;&gt;<span class=\"code-number\">2</span>),u=<span class=\"code-keyword\">new</span> m(<span class=\"code-built_in\">Array</span>.prototype.slice.call(t)),e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.byteLength),l=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Int32Array</span>(e.buffer),c=i[<span class=\"code-number\">0</span>],d=i[<span class=\"code-number\">1</span>],h=i[<span class=\"code-number\">2</span>],p=i[<span class=\"code-number\">3</span>],f=<span class=\"code-number\">0</span>;f&lt;o.length;f+=<span class=\"code-number\">4</span>)n=g(o[f]),r=g(o[f+<span class=\"code-number\">1</span>]),a=g(o[f+<span class=\"code-number\">2</span>]),s=g(o[f+<span class=\"code-number\">3</span>]),u.decrypt(n,r,a,s,l,f),l[f]=g(l[f]^c),l[f+<span class=\"code-number\">1</span>]=g(l[f+<span class=\"code-number\">1</span>]^d),l[f+<span class=\"code-number\">2</span>]=g(l[f+<span class=\"code-number\">2</span>]^h),l[f+<span class=\"code-number\">3</span>]=g(l[f+<span class=\"code-number\">3</span>]^p),c=n,d=r,h=a,p=s;<span class=\"code-keyword\">return</span> e}(t,i,n);r.set(e,t.byteOffset)}},i(u,<span class=\"code-literal\">null</span>,[{<span class=\"code-attr\">key</span>:<span class=\"code-string\">\"STEP\"</span>,<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">32e3</span>}}]),u}(),e=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span>?<span class=\"code-built_in\">window</span>:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> e?e:<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> self?self:{},e=e.BigInt||<span class=\"code-built_in\">Number</span>;e(<span class=\"code-string\">\"0x1\"</span>),e(<span class=\"code-string\">\"0x100\"</span>),e(<span class=\"code-string\">\"0x10000\"</span>),e(<span class=\"code-string\">\"0x1000000\"</span>),e(<span class=\"code-string\">\"0x100000000\"</span>),e(<span class=\"code-string\">\"0x10000000000\"</span>),e(<span class=\"code-string\">\"0x1000000000000\"</span>),e(<span class=\"code-string\">\"0x100000000000000\"</span>),e(<span class=\"code-string\">\"0x10000000000000000\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">n</span>)</span>{<span class=\"code-keyword\">var</span> r={};<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(n).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=n[e];t=i,(<span class=\"code-string\">\"function\"</span>===<span class=\"code-built_in\">ArrayBuffer</span>.isView?<span class=\"code-built_in\">ArrayBuffer</span>.isView(t):t&amp;&amp;t.buffer <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">ArrayBuffer</span>)?r[e]={<span class=\"code-attr\">bytes</span>:i.buffer,<span class=\"code-attr\">byteOffset</span>:i.byteOffset,<span class=\"code-attr\">byteLength</span>:i.byteLength}:r[e]=i}),r}self.onmessage=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=e.data,t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(i.key.bytes,i.key.byteOffset,i.key.byteLength/<span class=\"code-number\">4</span>),e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint32Array</span>(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/<span class=\"code-number\">4</span>);<span class=\"code-keyword\">new</span> s(t,n,e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{self.postMessage(o({<span class=\"code-attr\">source</span>:i.source,<span class=\"code-attr\">decrypted</span>:t}),[t.buffer])})}}))),mc={<span class=\"code-attr\">AUDIO</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">s,o</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=o.segmentLoaders[s],t=o.mediaTypes[s],i=o.blacklistCurrentPlaylist;Wl(e,t);<span class=\"code-keyword\">var</span> n=t.activeTrack(),e=t.activeGroup(),e=(e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.default})[<span class=\"code-number\">0</span>]||e[<span class=\"code-number\">0</span>]).id,r=t.tracks[e];<span class=\"code-keyword\">if</span>(n!==r){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> tr.log.warn(<span class=\"code-string\">\"Problem encountered loading the alternate audio track.Switching back to default.\"</span>),t.tracks)t.tracks[a].enabled=t.tracks[a]===r;t.onTrackChanged()}<span class=\"code-keyword\">else</span> i({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Problem encountered loading the default audio track.\"</span>})}},<span class=\"code-attr\">SUBTITLES</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=n.segmentLoaders[i],t=n.mediaTypes[i];tr.log.warn(<span class=\"code-string\">\"Problem encountered loading the subtitle track.Disabling subtitle track.\"</span>),Wl(e,t);e=t.activeTrack();e&amp;&amp;(e.mode=<span class=\"code-string\">\"disabled\"</span>),t.onTrackChanged()}}},gc={<span class=\"code-attr\">AUDIO</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n,r,a;t&amp;&amp;(n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],t.on(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.media();a.playlist(e,r),(!n.paused()||e.endList&amp;&amp;<span class=\"code-string\">\"none\"</span>!==n.preload())&amp;&amp;a.load()}),t.on(<span class=\"code-string\">\"loadedplaylist\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.playlist(t.media(),r),n.paused()||a.load()}),t.on(<span class=\"code-string\">\"error\"</span>,mc[e](e,i)))},<span class=\"code-attr\">SUBTITLES</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],s=i.mediaTypes[e];t.on(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!n.paused()||e.endList&amp;&amp;<span class=\"code-string\">\"none\"</span>!==n.preload())&amp;&amp;a.load()}),t.on(<span class=\"code-string\">\"loadedplaylist\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{a.playlist(t.media(),r),n.paused()||a.load()}),t.on(<span class=\"code-string\">\"error\"</span>,mc[e](e,i))}},yc={<span class=\"code-attr\">AUDIO</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n,r=t.vhs,a=t.sourceType,s=t.segmentLoaders[e],o=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,d=l.tracks,h=l.logger_,p=t.masterPlaylistLoader,f=au(p.master);<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> u[e]&amp;&amp;<span class=\"code-number\">0</span>!==<span class=\"code-built_in\">Object</span>.keys(u[e]).length||(u[e]={<span class=\"code-attr\">main</span>:{<span class=\"code-attr\">default</span>:{<span class=\"code-attr\">default</span>:!<span class=\"code-number\">0</span>}}},f&amp;&amp;(u[e].main.default.playlists=p.master.playlists)),u[e])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> m <span class=\"code-keyword\">in</span> c[i]||(c[i]=[]),u[e][i]){<span class=\"code-keyword\">var</span> g=u[e][i][m],y=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,y=f?(h(<span class=\"code-string\">\"AUDIO group '\"</span>+i+<span class=\"code-string\">\"' label '\"</span>+m+<span class=\"code-string\">\"' is a master playlist\"</span>),g.isMasterPlaylist=!<span class=\"code-number\">0</span>,<span class=\"code-literal\">null</span>):<span class=\"code-string\">\"vhs-json\"</span>===a&amp;&amp;g.playlists?<span class=\"code-keyword\">new</span> _l(g.playlists[<span class=\"code-number\">0</span>],r,o):g.resolvedUri?<span class=\"code-keyword\">new</span> _l(g.resolvedUri,r,o):g.playlists&amp;&amp;<span class=\"code-string\">\"dash\"</span>===a?<span class=\"code-keyword\">new</span> wl(g.playlists[<span class=\"code-number\">0</span>],r,o,p):<span class=\"code-literal\">null</span>,g=tr.mergeOptions({<span class=\"code-attr\">id</span>:m,<span class=\"code-attr\">playlistLoader</span>:y},g);gc[e](e,g.playlistLoader,t),c[i].push(g),<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> d[m]&amp;&amp;(g=<span class=\"code-keyword\">new</span> tr.AudioTrack({<span class=\"code-attr\">id</span>:m,<span class=\"code-attr\">kind</span>:(n=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,n=(y=g).default?<span class=\"code-string\">\"main\"</span>:<span class=\"code-string\">\"alternative\"</span>,n=y.characteristics&amp;&amp;<span class=\"code-number\">0</span>&lt;=y.characteristics.indexOf(<span class=\"code-string\">\"public.accessibility.describes-video\"</span>)?<span class=\"code-string\">\"main-desc\"</span>:n),<span class=\"code-attr\">enabled</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">language</span>:g.language,<span class=\"code-attr\">default</span>:g.default,<span class=\"code-attr\">label</span>:m}),d[m]=g)}s.on(<span class=\"code-string\">\"error\"</span>,mc[e](e,t))},<span class=\"code-attr\">SUBTITLES</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=t.tech,r=t.vhs,a=t.sourceType,s=t.segmentLoaders[e],o=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,d=l.tracks,h=t.masterPlaylistLoader;<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> u[e])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> p <span class=\"code-keyword\">in</span> c[i]||(c[i]=[]),u[e][i])<span class=\"code-keyword\">if</span>(!u[e][i][p].forced){<span class=\"code-keyword\">var</span> f=u[e][i][p],m=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"hls\"</span>===a)m=<span class=\"code-keyword\">new</span> _l(f.resolvedUri,r,o);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"dash\"</span>===a){<span class=\"code-keyword\">if</span>(!f.playlists.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e.excludeUntil!==<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>}).length)<span class=\"code-keyword\">return</span>;m=<span class=\"code-keyword\">new</span> wl(f.playlists[<span class=\"code-number\">0</span>],r,o,h)}<span class=\"code-keyword\">else</span><span class=\"code-string\">\"vhs-json\"</span>===a&amp;&amp;(m=<span class=\"code-keyword\">new</span> _l(f.playlists?f.playlists[<span class=\"code-number\">0</span>]:f.resolvedUri,r,o));f=tr.mergeOptions({<span class=\"code-attr\">id</span>:p,<span class=\"code-attr\">playlistLoader</span>:m},f),gc[e](e,f.playlistLoader,t),c[i].push(f),<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> d[p]&amp;&amp;(f=n.addRemoteTextTrack({<span class=\"code-attr\">id</span>:p,<span class=\"code-attr\">kind</span>:<span class=\"code-string\">\"subtitles\"</span>,<span class=\"code-attr\">default</span>:f.default&amp;&amp;f.autoselect,<span class=\"code-attr\">language</span>:f.language,<span class=\"code-attr\">label</span>:p},!<span class=\"code-number\">1</span>).track,d[p]=f)}s.on(<span class=\"code-string\">\"error\"</span>,mc[e](e,t))},<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=t.tech,r=t.master.mediaGroups,t=t.mediaTypes[e],a=t.groups,s=t.tracks;<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> r[e])<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> o <span class=\"code-keyword\">in</span> a[i]||(a[i]=[]),r[e][i]){<span class=\"code-keyword\">var</span> u,l,c=r[e][i][o];<span class=\"code-regexp\">/^(?:CC|SERVICE)/</span>.test(c.instreamId)&amp;&amp;(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(l=(u=n.options_.vhs&amp;&amp;n.options_.vhs.captionServices||{})[(l={<span class=\"code-attr\">label</span>:o,<span class=\"code-attr\">language</span>:c.language,<span class=\"code-attr\">instreamId</span>:c.instreamId,<span class=\"code-attr\">default</span>:c.default&amp;&amp;c.autoselect}).instreamId]?tr.mergeOptions(l,u[l.instreamId]):l).default&amp;&amp;<span class=\"code-keyword\">delete</span> l.default,a[i].push(tr.mergeOptions({<span class=\"code-attr\">id</span>:o},c)),<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> s[o]&amp;&amp;(l=n.addRemoteTextTrack({<span class=\"code-attr\">id</span>:l.instreamId,<span class=\"code-attr\">kind</span>:<span class=\"code-string\">\"captions\"</span>,<span class=\"code-attr\">default</span>:l.default,<span class=\"code-attr\">language</span>:l.language,<span class=\"code-attr\">label</span>:l.label},!<span class=\"code-number\">1</span>).track,s[o]=l))}}},vc={<span class=\"code-attr\">AUDIO</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=n.mediaTypes[i].tracks;<span class=\"code-keyword\">for</span>(e <span class=\"code-keyword\">in</span> t)<span class=\"code-keyword\">if</span>(t[e].enabled)<span class=\"code-keyword\">return</span> t[e];<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}},<span class=\"code-attr\">SUBTITLES</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=n.mediaTypes[i].tracks;<span class=\"code-keyword\">for</span>(e <span class=\"code-keyword\">in</span> t)<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"showing\"</span>===t[e].mode||<span class=\"code-string\">\"hidden\"</span>===t[e].mode)<span class=\"code-keyword\">return</span> t[e];<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}},_c=[<span class=\"code-string\">\"mediaRequests\"</span>,<span class=\"code-string\">\"mediaRequestsAborted\"</span>,<span class=\"code-string\">\"mediaRequestsTimedout\"</span>,<span class=\"code-string\">\"mediaRequestsErrored\"</span>,<span class=\"code-string\">\"mediaTransferDuration\"</span>,<span class=\"code-string\">\"mediaBytesTransferred\"</span>,<span class=\"code-string\">\"mediaAppends\"</span>],bc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">v</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=v.call(<span class=\"code-keyword\">this</span>)||<span class=\"code-keyword\">this</span>,i=e.src,n=e.handleManifestRedirects,r=e.withCredentials,a=e.tech,s=e.bandwidth,o=e.externVhs,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist,d=e.sourceType,h=e.cacheEncryptionKeys,p=e.experimentalBufferBasedABR,f=e.experimentalLeastPixelDiffSelector,m=e.captionServices;<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"A non-empty playlist URL or JSON manifest string is required\"</span>);<span class=\"code-keyword\">var</span> g,y=e.maxPlaylistRetries;<span class=\"code-literal\">null</span>!==y&amp;&amp;<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> y||(y=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>),Ql=o,t.experimentalBufferBasedABR=<span class=\"code-built_in\">Boolean</span>(p),t.experimentalLeastPixelDiffSelector=<span class=\"code-built_in\">Boolean</span>(f),t.withCredentials=r,t.tech_=a,t.vhs_=a.vhs,t.sourceType_=d,t.useCueTags_=u,t.blacklistDuration=l,t.maxPlaylistRetries=y,t.enableLowInitialPlaylist=c,t.useCueTags_&amp;&amp;(t.cueTagsTrack_=t.tech_.addTextTrack(<span class=\"code-string\">\"metadata\"</span>,<span class=\"code-string\">\"ad-cues\"</span>),t.cueTagsTrack_.inBandMetadataTrackDispatchType=<span class=\"code-string\">\"\"</span>),t.requestOptions_={<span class=\"code-attr\">withCredentials</span>:r,<span class=\"code-attr\">handleManifestRedirects</span>:n,<span class=\"code-attr\">maxPlaylistRetries</span>:y,<span class=\"code-attr\">timeout</span>:<span class=\"code-literal\">null</span>},t.on(<span class=\"code-string\">\"error\"</span>,t.pauseLoading),t.mediaTypes_=(g={},[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>,<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{g[e]={<span class=\"code-attr\">groups</span>:{},<span class=\"code-attr\">tracks</span>:{},<span class=\"code-attr\">activePlaylistLoader</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">activeGroup</span>:Rl,<span class=\"code-attr\">activeTrack</span>:Rl,<span class=\"code-attr\">getActiveGroup</span>:Rl,<span class=\"code-attr\">onGroupChanged</span>:Rl,<span class=\"code-attr\">onTrackChanged</span>:Rl,<span class=\"code-attr\">lastTrack_</span>:<span class=\"code-literal\">null</span>,<span class=\"code-attr\">logger_</span>:Ro(<span class=\"code-string\">\"MediaGroups[\"</span>+e+<span class=\"code-string\">\"]\"</span>)}}),g),t.mediaSource=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(ft(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(ft(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(ft(t)),t.mediaSource.addEventListener(<span class=\"code-string\">\"durationchange\"</span>,t.handleDurationChange_),t.mediaSource.addEventListener(<span class=\"code-string\">\"sourceopen\"</span>,t.handleSourceOpen_),t.mediaSource.addEventListener(<span class=\"code-string\">\"sourceended\"</span>,t.handleSourceEnded_),t.seekable_=tr.createTimeRanges(),t.hasPlayed_=!<span class=\"code-number\">1</span>,t.syncController_=<span class=\"code-keyword\">new</span> hc(e),t.segmentMetadataTrack_=a.addRemoteTextTrack({<span class=\"code-attr\">kind</span>:<span class=\"code-string\">\"metadata\"</span>,<span class=\"code-attr\">label</span>:<span class=\"code-string\">\"segment-metadata\"</span>},!<span class=\"code-number\">1</span>).track,t.decrypter_=<span class=\"code-keyword\">new</span> fc,t.sourceUpdater_=<span class=\"code-keyword\">new</span> uc(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=<span class=\"code-keyword\">new</span> pc;h={<span class=\"code-attr\">vhs</span>:t.vhs_,<span class=\"code-attr\">parse708captions</span>:e.parse708captions,<span class=\"code-attr\">useDtsForTimestampOffset</span>:e.useDtsForTimestampOffset,<span class=\"code-attr\">captionServices</span>:m,<span class=\"code-attr\">mediaSource</span>:t.mediaSource,<span class=\"code-attr\">currentTime</span>:t.tech_.currentTime.bind(t.tech_),<span class=\"code-attr\">seekable</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.seekable()},<span class=\"code-attr\">seeking</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.tech_.seeking()},<span class=\"code-attr\">duration</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.duration()},<span class=\"code-attr\">hasPlayed</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.hasPlayed_},<span class=\"code-attr\">goalBufferLength</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.goalBufferLength()},<span class=\"code-attr\">bandwidth</span>:s,<span class=\"code-attr\">syncController</span>:t.syncController_,<span class=\"code-attr\">decrypter</span>:t.decrypter_,<span class=\"code-attr\">sourceType</span>:t.sourceType_,<span class=\"code-attr\">inbandTextTracks</span>:t.inbandTextTracks_,<span class=\"code-attr\">cacheEncryptionKeys</span>:h,<span class=\"code-attr\">sourceUpdater</span>:t.sourceUpdater_,<span class=\"code-attr\">timelineChangeController</span>:t.timelineChangeController_,<span class=\"code-attr\">experimentalExactManifestTimings</span>:e.experimentalExactManifestTimings};t.masterPlaylistLoader_=<span class=\"code-keyword\">new</span>(<span class=\"code-string\">\"dash\"</span>===t.sourceType_?wl:_l)(i,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=<span class=\"code-keyword\">new</span> Ml(tr.mergeOptions(h,{<span class=\"code-attr\">segmentMetadataTrack</span>:t.segmentMetadataTrack_,<span class=\"code-attr\">loaderType</span>:<span class=\"code-string\">\"main\"</span>}),e),t.audioSegmentLoader_=<span class=\"code-keyword\">new</span> Ml(tr.mergeOptions(h,{<span class=\"code-attr\">loaderType</span>:<span class=\"code-string\">\"audio\"</span>}),e),t.subtitleSegmentLoader_=<span class=\"code-keyword\">new</span> cc(tr.mergeOptions(h,{<span class=\"code-attr\">loaderType</span>:<span class=\"code-string\">\"vtt\"</span>,<span class=\"code-attr\">featuresNativeTextTracks</span>:t.tech_.featuresNativeTextTracks}),e),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&amp;&amp;(t.masterPlaylistLoader_.one(<span class=\"code-string\">\"loadedplaylist\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.startABRTimer_()}),t.tech_.on(<span class=\"code-string\">\"pause\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.stopABRTimer_()}),t.tech_.on(<span class=\"code-string\">\"play\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> t.startABRTimer_()})),_c.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t[e+<span class=\"code-string\">\"_\"</span>]=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.audioSegmentLoader_[e]+<span class=\"code-keyword\">this</span>.mainSegmentLoader_[e]}.bind(ft(t),e)}),t.logger_=Ro(<span class=\"code-string\">\"MPC\"</span>),t.triggeredFmp4Usage=!<span class=\"code-number\">1</span>,<span class=\"code-string\">\"none\"</span>===t.tech_.preload()?(t.loadOnPlay_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.loadOnPlay_=<span class=\"code-literal\">null</span>,t.masterPlaylistLoader_.load()},t.tech_.one(<span class=\"code-string\">\"play\"</span>,t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=<span class=\"code-number\">-1</span>,t.mainAppendsToLoadedData__=<span class=\"code-number\">-1</span>,t.audioAppendsToLoadedData__=<span class=\"code-number\">-1</span>;e=<span class=\"code-string\">\"none\"</span>===t.tech_.preload()?<span class=\"code-string\">\"play\"</span>:<span class=\"code-string\">\"loadstart\"</span>;<span class=\"code-keyword\">return</span> t.tech_.one(e,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">Date</span>.now();t.tech_.one(<span class=\"code-string\">\"loadeddata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.timeToLoadedData__=<span class=\"code-built_in\">Date</span>.now()-e,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}mt(e,v);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.mainAppendsToLoadedData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.mainAppendsToLoadedData__},t.audioAppendsToLoadedData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.audioAppendsToLoadedData__},t.appendsToLoadedData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.mainAppendsToLoadedData_(),t=<span class=\"code-keyword\">this</span>.audioAppendsToLoadedData_();<span class=\"code-keyword\">return</span><span class=\"code-number\">-1</span>===e||<span class=\"code-number\">-1</span>===t?<span class=\"code-number\">-1</span>:e+t},t.timeToLoadedData_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.timeToLoadedData__},t.checkABR_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.selectPlaylist();e&amp;&amp;<span class=\"code-keyword\">this</span>.shouldSwitchToMedia_(e)&amp;&amp;<span class=\"code-keyword\">this</span>.switchMedia_(e,<span class=\"code-string\">\"abr\"</span>)},t.switchMedia_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.media(),r=n&amp;&amp;(n.id||n.uri),n=e.id||e.uri;r&amp;&amp;r!==n&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"switch media \"</span>+r+<span class=\"code-string\">\" -&gt; \"</span>+n+<span class=\"code-string\">\" from \"</span>+t),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-rendition-change-\"</span>+t})),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media(e,i)},t.startABRTimer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.stopABRTimer_(),<span class=\"code-keyword\">this</span>.abrTimer_=<span class=\"code-built_in\">window</span>.setInterval(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> e.checkABR_()},<span class=\"code-number\">250</span>)},t.stopABRTimer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_.scrubbing&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.scrubbing()||(<span class=\"code-built_in\">window</span>.clearInterval(<span class=\"code-keyword\">this</span>.abrTimer_),<span class=\"code-keyword\">this</span>.abrTimer_=<span class=\"code-literal\">null</span>)},t.getAudioTrackPlaylists_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.master(),t=e&amp;&amp;e.playlists||[];<span class=\"code-keyword\">if</span>(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> i,n=e.mediaGroups.AUDIO,r=<span class=\"code-built_in\">Object</span>.keys(n);<span class=\"code-keyword\">if</span>(<span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.groups).length)i=<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activeTrack();<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">var</span> a,s=n.main||r.length&amp;&amp;n[r[<span class=\"code-number\">0</span>]];<span class=\"code-keyword\">for</span>(a <span class=\"code-keyword\">in</span> s)<span class=\"code-keyword\">if</span>(s[a].default){i={<span class=\"code-attr\">label</span>:a};<span class=\"code-keyword\">break</span>}}<span class=\"code-keyword\">if</span>(!i)<span class=\"code-keyword\">return</span> t;<span class=\"code-keyword\">var</span> o,u=[];<span class=\"code-keyword\">for</span>(o <span class=\"code-keyword\">in</span> n)<span class=\"code-keyword\">if</span>(n[o][i.label]){<span class=\"code-keyword\">var</span> l=n[o][i.label];<span class=\"code-keyword\">if</span>(l.playlists&amp;&amp;l.playlists.length)u.push.apply(u,l.playlists);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(l.uri)u.push(l);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(e.playlists.length)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> c=<span class=\"code-number\">0</span>;c&lt;e.playlists.length;c++){<span class=\"code-keyword\">var</span> d=e.playlists[c];d.attributes&amp;&amp;d.attributes.AUDIO&amp;&amp;d.attributes.AUDIO===o&amp;&amp;u.push(d)}}<span class=\"code-keyword\">return</span> u.length?u:t},t.setupMasterPlaylistLoaderListeners_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=i.masterPlaylistLoader_.media(),t=<span class=\"code-number\">1.5</span>*e.targetDuration*<span class=\"code-number\">1e3</span>;iu(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=<span class=\"code-number\">0</span>:i.requestOptions_.timeout=t,e.endList&amp;&amp;<span class=\"code-string\">\"none\"</span>!==i.tech_.preload()&amp;&amp;(i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load()),Xl({<span class=\"code-attr\">sourceType</span>:i.sourceType_,<span class=\"code-attr\">segmentLoaders</span>:{<span class=\"code-attr\">AUDIO</span>:i.audioSegmentLoader_,<span class=\"code-attr\">SUBTITLES</span>:i.subtitleSegmentLoader_,<span class=\"code-attr\">main</span>:i.mainSegmentLoader_},<span class=\"code-attr\">tech</span>:i.tech_,<span class=\"code-attr\">requestOptions</span>:i.requestOptions_,<span class=\"code-attr\">masterPlaylistLoader</span>:i.masterPlaylistLoader_,<span class=\"code-attr\">vhs</span>:i.vhs_,<span class=\"code-attr\">master</span>:i.master(),<span class=\"code-attr\">mediaTypes</span>:i.mediaTypes_,<span class=\"code-attr\">blacklistCurrentPlaylist</span>:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),e),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger(<span class=\"code-string\">\"selectedinitialmedia\"</span>):i.mediaTypes_.AUDIO.activePlaylistLoader.one(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.trigger(<span class=\"code-string\">\"selectedinitialmedia\"</span>)})}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"loadedplaylist\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.loadOnPlay_&amp;&amp;i.tech_.off(<span class=\"code-string\">\"play\"</span>,i.loadOnPlay_);<span class=\"code-keyword\">var</span> e,t=i.masterPlaylistLoader_.media();<span class=\"code-keyword\">if</span>(!t){<span class=\"code-keyword\">if</span>(i.excludeUnsupportedVariants_(),!(e=(e=i.enableLowInitialPlaylist?i.selectInitialPlaylist():e)||i.selectPlaylist())||!i.shouldSwitchToMedia_(e))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(i.initialMedia_=e,i.switchMedia_(i.initialMedia_,<span class=\"code-string\">\"initial\"</span>),!(<span class=\"code-string\">\"vhs-json\"</span>===i.sourceType_&amp;&amp;i.initialMedia_.segments))<span class=\"code-keyword\">return</span>;t=i.initialMedia_}i.handleUpdatedMediaPlaylist(t)}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"error\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"mediachanging\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"mediachange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=i.masterPlaylistLoader_.media(),t=<span class=\"code-number\">1.5</span>*e.targetDuration*<span class=\"code-number\">1e3</span>;iu(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=<span class=\"code-number\">0</span>:i.requestOptions_.timeout=t,i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"mediachange\"</span>,<span class=\"code-attr\">bubbles</span>:!<span class=\"code-number\">0</span>})}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"playlistunchanged\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=i.masterPlaylistLoader_.media();<span class=\"code-string\">\"playlist-unchanged\"</span>!==e.lastExcludeReason_&amp;&amp;i.stuckAtPlaylistEnd_(e)&amp;&amp;(i.blacklistCurrentPlaylist({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Playlist no longer updating.\"</span>,<span class=\"code-attr\">reason</span>:<span class=\"code-string\">\"playlist-unchanged\"</span>}),i.tech_.trigger(<span class=\"code-string\">\"playliststuck\"</span>))}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"renditiondisabled\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-rendition-disabled\"</span>}),i.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-rendition-disabled\"</span>})}),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.on(<span class=\"code-string\">\"renditionenabled\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-rendition-enabled\"</span>}),i.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-rendition-enabled\"</span>})})},t.handleUpdatedMediaPlaylist=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.useCueTags_&amp;&amp;<span class=\"code-keyword\">this</span>.updateAdCues_(e),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.playlist(e,<span class=\"code-keyword\">this</span>.requestOptions_),<span class=\"code-keyword\">this</span>.updateDuration(!e.endList),<span class=\"code-keyword\">this</span>.tech_.paused()||(<span class=\"code-keyword\">this</span>.mainSegmentLoader_.load(),<span class=\"code-keyword\">this</span>.audioSegmentLoader_&amp;&amp;<span class=\"code-keyword\">this</span>.audioSegmentLoader_.load())},t.triggerPresenceUsage_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n=e.mediaGroups||{},r=!<span class=\"code-number\">0</span>,e=<span class=\"code-built_in\">Object</span>.keys(n.AUDIO);<span class=\"code-keyword\">for</span>(i <span class=\"code-keyword\">in</span> n.AUDIO)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> a <span class=\"code-keyword\">in</span> n.AUDIO[i])n.AUDIO[i][a].uri||(r=!<span class=\"code-number\">1</span>);r&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-demuxed\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-demuxed\"</span>})),<span class=\"code-built_in\">Object</span>.keys(n.SUBTITLES).length&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-webvtt\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-webvtt\"</span>})),Ql.Playlist.isAes(t)&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-aes\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-aes\"</span>})),e.length&amp;&amp;<span class=\"code-number\">1</span>&lt;<span class=\"code-built_in\">Object</span>.keys(n.AUDIO[e[<span class=\"code-number\">0</span>]]).length&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-alternate-audio\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-alternate-audio\"</span>})),<span class=\"code-keyword\">this</span>.useCueTags_&amp;&amp;(<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-playlist-cue-tags\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-playlist-cue-tags\"</span>}))},t.shouldSwitchToMedia_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media()||<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.pendingMedia_,i=<span class=\"code-keyword\">this</span>.tech_.currentTime(),n=<span class=\"code-keyword\">this</span>.bufferLowWaterLine(),r=<span class=\"code-keyword\">this</span>.bufferHighWaterLine();<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.currentPlaylist,i=e.buffered,n=e.currentTime,r=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,o=e.duration,u=e.experimentalBufferBasedABR,l=e.log;<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"We received no playlist to switch to. Please check your stream.\"</span>),!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> c=<span class=\"code-string\">\"allowing switch \"</span>+(t&amp;&amp;t.id||<span class=\"code-string\">\"null\"</span>)+<span class=\"code-string\">\" -&gt; \"</span>+r.id;<span class=\"code-keyword\">if</span>(!t)<span class=\"code-keyword\">return</span> l(c+<span class=\"code-string\">\" as current playlist is not set\"</span>),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(r.id===t.id)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;e=<span class=\"code-built_in\">Boolean</span>(Uo(i,n).length);<span class=\"code-keyword\">if</span>(!t.endList)<span class=\"code-keyword\">return</span> e||<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> t.partTargetDuration?(l(c+<span class=\"code-string\">\" as current playlist is live\"</span>),!<span class=\"code-number\">0</span>):(l(<span class=\"code-string\">\"not \"</span>+c+<span class=\"code-string\">\" as current playlist is live llhls, but currentTime isn't in buffered.\"</span>),!<span class=\"code-number\">1</span>);i=qo(i,n),n=u?El.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:El.MAX_BUFFER_LOW_WATER_LINE;<span class=\"code-keyword\">if</span>(o&lt;n)<span class=\"code-keyword\">return</span> l(c+<span class=\"code-string\">\" as duration &lt; max low water line (\"</span>+o+<span class=\"code-string\">\" &lt; \"</span>+n+<span class=\"code-string\">\")\"</span>),!<span class=\"code-number\">0</span>;n=r.attributes.BANDWIDTH,r=t.attributes.BANDWIDTH;<span class=\"code-keyword\">if</span>(n&lt;r&amp;&amp;(!u||i&lt;s)){t=c+<span class=\"code-string\">\" as next bandwidth &lt; current bandwidth (\"</span>+n+<span class=\"code-string\">\" &lt; \"</span>+r+<span class=\"code-string\">\")\"</span>;<span class=\"code-keyword\">return</span> u&amp;&amp;(t+=<span class=\"code-string\">\" and forwardBuffer &lt; bufferHighWaterLine (\"</span>+i+<span class=\"code-string\">\" &lt; \"</span>+s+<span class=\"code-string\">\")\"</span>),l(t),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">if</span>((!u||r&lt;n)&amp;&amp;a&lt;=i){a=c+<span class=\"code-string\">\" as forwardBuffer &gt;= bufferLowWaterLine (\"</span>+i+<span class=\"code-string\">\" &gt;= \"</span>+a+<span class=\"code-string\">\")\"</span>;<span class=\"code-keyword\">return</span> u&amp;&amp;(a+=<span class=\"code-string\">\" and next bandwidth &gt; current bandwidth (\"</span>+n+<span class=\"code-string\">\" &gt; \"</span>+r+<span class=\"code-string\">\")\"</span>),l(a),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span> l(<span class=\"code-string\">\"not \"</span>+c+<span class=\"code-string\">\" as no switching criteria met\"</span>),!<span class=\"code-number\">1</span>}({<span class=\"code-attr\">buffered</span>:<span class=\"code-keyword\">this</span>.tech_.buffered(),<span class=\"code-attr\">currentTime</span>:i,<span class=\"code-attr\">currentPlaylist</span>:t,<span class=\"code-attr\">nextPlaylist</span>:e,<span class=\"code-attr\">bufferLowWaterLine</span>:n,<span class=\"code-attr\">bufferHighWaterLine</span>:r,<span class=\"code-attr\">duration</span>:<span class=\"code-keyword\">this</span>.duration(),<span class=\"code-attr\">experimentalBufferBasedABR</span>:<span class=\"code-keyword\">this</span>.experimentalBufferBasedABR,<span class=\"code-attr\">log</span>:<span class=\"code-keyword\">this</span>.logger_})},t.setupSegmentLoaderListeners_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.experimentalBufferBasedABR||(<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"bandwidthupdate\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=t.selectPlaylist();t.shouldSwitchToMedia_(e)&amp;&amp;t.switchMedia_(e,<span class=\"code-string\">\"bandwidthupdate\"</span>),t.tech_.trigger(<span class=\"code-string\">\"bandwidthupdate\"</span>)}),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"progress\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.trigger(<span class=\"code-string\">\"progress\"</span>)})),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"error\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"appenderror\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.error=t.mainSegmentLoader_.error_,t.trigger(<span class=\"code-string\">\"error\"</span>)}),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"syncinfoupdate\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.onSyncInfoUpdate_()}),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"timestampoffset\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-timestamp-offset\"</span>}),t.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-timestamp-offset\"</span>})}),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.on(<span class=\"code-string\">\"syncinfoupdate\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.onSyncInfoUpdate_()}),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.on(<span class=\"code-string\">\"appenderror\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.error=t.audioSegmentLoader_.error_,t.trigger(<span class=\"code-string\">\"error\"</span>)}),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"ended\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.logger_(<span class=\"code-string\">\"main segment loader ended\"</span>),t.onEndOfStream()}),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"earlyabort\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.experimentalBufferBasedABR||(t.delegateLoaders_(<span class=\"code-string\">\"all\"</span>,[<span class=\"code-string\">\"abort\"</span>]),t.blacklistCurrentPlaylist({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Aborted early because there isn't enough bandwidth to complete the request without rebuffering.\"</span>},<span class=\"code-number\">120</span>))});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!t.sourceUpdater_.hasCreatedSourceBuffers())<span class=\"code-keyword\">return</span> t.tryToCreateSourceBuffers_();<span class=\"code-keyword\">var</span> e=t.getCodecsOrExclude_();e&amp;&amp;t.sourceUpdater_.addOrChangeSourceBuffers(e)}<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"trackinfo\"</span>,e),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.on(<span class=\"code-string\">\"trackinfo\"</span>,e),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.on(<span class=\"code-string\">\"fmp4\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.triggeredFmp4Usage||(t.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-fmp4\"</span>}),t.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-fmp4\"</span>}),t.triggeredFmp4Usage=!<span class=\"code-number\">0</span>)}),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.on(<span class=\"code-string\">\"fmp4\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.triggeredFmp4Usage||(t.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-fmp4\"</span>}),t.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-fmp4\"</span>}),t.triggeredFmp4Usage=!<span class=\"code-number\">0</span>)}),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.on(<span class=\"code-string\">\"ended\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.logger_(<span class=\"code-string\">\"audioSegmentLoader ended\"</span>),t.onEndOfStream()})},t.mediaSecondsLoaded_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.max(<span class=\"code-keyword\">this</span>.audioSegmentLoader_.mediaSecondsLoaded+<span class=\"code-keyword\">this</span>.mainSegmentLoader_.mediaSecondsLoaded)},t.load=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.mainSegmentLoader_.load(),<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader&amp;&amp;<span class=\"code-keyword\">this</span>.audioSegmentLoader_.load(),<span class=\"code-keyword\">this</span>.mediaTypes_.SUBTITLES.activePlaylistLoader&amp;&amp;<span class=\"code-keyword\">this</span>.subtitleSegmentLoader_.load()},t.smoothQualityChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e&amp;&amp;(e=<span class=\"code-keyword\">this</span>.selectPlaylist()),<span class=\"code-keyword\">this</span>.fastQualityChange_(e)},t.fastQualityChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>;(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?<span class=\"code-keyword\">this</span>.selectPlaylist():e)!==<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media()?(<span class=\"code-keyword\">this</span>.switchMedia_(e,<span class=\"code-string\">\"fast-quality\"</span>),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.resetEverything(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{tr.browser.IE_VERSION||tr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+<span class=\"code-number\">.04</span>):t.tech_.setCurrentTime(t.tech_.currentTime())})):<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"skipping fastQualityChange because new media is same as old\"</span>)},t.play=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.setupFirstPlay()){<span class=\"code-keyword\">this</span>.tech_.ended()&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.hasPlayed_&amp;&amp;<span class=\"code-keyword\">this</span>.load();<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.tech_.seekable();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_.duration()===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.currentTime()&lt;e.start(<span class=\"code-number\">0</span>)?<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(e.end(e.length<span class=\"code-number\">-1</span>)):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}},t.setupFirstPlay=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>,t=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media();<span class=\"code-keyword\">if</span>(!t||<span class=\"code-keyword\">this</span>.tech_.paused()||<span class=\"code-keyword\">this</span>.hasPlayed_)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!t.endList){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.seekable();<span class=\"code-keyword\">if</span>(!i.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(tr.browser.IE_VERSION&amp;&amp;<span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>.tech_.readyState())<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.tech_.one(<span class=\"code-string\">\"loadedmetadata\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{e.trigger(<span class=\"code-string\">\"firstplay\"</span>),e.tech_.setCurrentTime(i.end(<span class=\"code-number\">0</span>)),e.hasPlayed_=!<span class=\"code-number\">0</span>}),!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"firstplay\"</span>),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(i.end(<span class=\"code-number\">0</span>))}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.hasPlayed_=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.load(),!<span class=\"code-number\">0</span>},t.handleSourceOpen_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">this</span>.tryToCreateSourceBuffers_(),!<span class=\"code-keyword\">this</span>.tech_.autoplay()||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(e=<span class=\"code-keyword\">this</span>.tech_.play())&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> e.then&amp;&amp;e.then(<span class=\"code-literal\">null</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{}),<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"sourceopen\"</span>)},t.handleSourceEnded_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t;!<span class=\"code-keyword\">this</span>.inbandTextTracks_.metadataTrack_||(e=<span class=\"code-keyword\">this</span>.inbandTextTracks_.metadataTrack_.cues)&amp;&amp;e.length&amp;&amp;(t=<span class=\"code-keyword\">this</span>.duration(),e[e.length<span class=\"code-number\">-1</span>].endTime=<span class=\"code-built_in\">isNaN</span>(t)||<span class=\"code-built_in\">Math</span>.abs(t)===<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>?<span class=\"code-built_in\">Number</span>.MAX_VALUE:t)},t.handleDurationChange_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_.trigger(<span class=\"code-string\">\"durationchange\"</span>)},t.onEndOfStream=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>.mainSegmentLoader_.ended_;(t=<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader?((e=<span class=\"code-keyword\">this</span>.mainSegmentLoader_.getCurrentMediaInfo_())&amp;&amp;!e.hasVideo||t)&amp;&amp;<span class=\"code-keyword\">this</span>.audioSegmentLoader_.ended_:t)&amp;&amp;(<span class=\"code-keyword\">this</span>.stopABRTimer_(),<span class=\"code-keyword\">this</span>.sourceUpdater_.endOfStream())},t.stuckAtPlaylistEnd_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.seekable().length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.syncController_.getExpiredTime(e,<span class=\"code-keyword\">this</span>.duration());<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>===t)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> i=Ql.Playlist.playlistEnd(e,t),e=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=<span class=\"code-keyword\">this</span>.tech_.buffered();<span class=\"code-keyword\">if</span>(!t.length)<span class=\"code-keyword\">return</span> i-e&lt;=<span class=\"code-number\">.1</span>;t=t.end(t.length<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">return</span> t-e&lt;=<span class=\"code-number\">.1</span>&amp;&amp;i-t&lt;=<span class=\"code-number\">.1</span>},t.blacklistCurrentPlaylist=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=(e=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e?{}:e).playlist||<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media();<span class=\"code-keyword\">if</span>(t=t||e.blacklistDuration||<span class=\"code-keyword\">this</span>.blacklistDuration,!i)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.error=e,<span class=\"code-keyword\">void</span>(<span class=\"code-string\">\"open\"</span>!==<span class=\"code-keyword\">this</span>.mediaSource.readyState?<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>):<span class=\"code-keyword\">this</span>.sourceUpdater_.endOfStream(<span class=\"code-string\">\"network\"</span>));i.playlistErrors_++;<span class=\"code-keyword\">var</span> n,r=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master.playlists,a=r.filter(eu),s=<span class=\"code-number\">1</span>===a.length&amp;&amp;a[<span class=\"code-number\">0</span>]===i;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>===r.length&amp;&amp;t!==<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"Problem encountered with playlist \"</span>+i.id+<span class=\"code-string\">\". Trying again since it is the only playlist.\"</span>),<span class=\"code-keyword\">this</span>.tech_.trigger(<span class=\"code-string\">\"retryplaylist\"</span>),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.load(s);s&amp;&amp;(n=!<span class=\"code-number\">1</span>,r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t;e===i||<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(t=e.excludeUntil)&amp;&amp;t!==<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;(n=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">delete</span> e.excludeUntil)}),n&amp;&amp;(tr.log.warn(<span class=\"code-string\">\"Removing other playlists from the exclusion list because the last rendition is about to be excluded.\"</span>),<span class=\"code-keyword\">this</span>.tech_.trigger(<span class=\"code-string\">\"retryplaylist\"</span>))),a=i.playlistErrors_&gt;<span class=\"code-keyword\">this</span>.maxPlaylistRetries?<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>:<span class=\"code-built_in\">Date</span>.now()+<span class=\"code-number\">1e3</span>*t,i.excludeUntil=a,e.reason&amp;&amp;(i.lastExcludeReason_=e.reason),<span class=\"code-keyword\">this</span>.tech_.trigger(<span class=\"code-string\">\"blacklistplaylist\"</span>),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-rendition-blacklisted\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-rendition-blacklisted\"</span>});r=<span class=\"code-keyword\">this</span>.selectPlaylist();<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.error=<span class=\"code-string\">\"Playback cannot continue. No available working or supported playlists.\"</span>,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"error\"</span>);t=e.internal?<span class=\"code-keyword\">this</span>.logger_:tr.log.warn,a=e.message?<span class=\"code-string\">\" \"</span>+e.message:<span class=\"code-string\">\"\"</span>;t((e.internal?<span class=\"code-string\">\"Internal problem\"</span>:<span class=\"code-string\">\"Problem\"</span>)+<span class=\"code-string\">\" encountered with playlist \"</span>+i.id+<span class=\"code-string\">\".\"</span>+a+<span class=\"code-string\">\" Switching to playlist \"</span>+r.id+<span class=\"code-string\">\".\"</span>),r.attributes.AUDIO!==i.attributes.AUDIO&amp;&amp;<span class=\"code-keyword\">this</span>.delegateLoaders_(<span class=\"code-string\">\"audio\"</span>,[<span class=\"code-string\">\"abort\"</span>,<span class=\"code-string\">\"pause\"</span>]),r.attributes.SUBTITLES!==i.attributes.SUBTITLES&amp;&amp;<span class=\"code-keyword\">this</span>.delegateLoaders_(<span class=\"code-string\">\"subtitle\"</span>,[<span class=\"code-string\">\"abort\"</span>,<span class=\"code-string\">\"pause\"</span>]),<span class=\"code-keyword\">this</span>.delegateLoaders_(<span class=\"code-string\">\"main\"</span>,[<span class=\"code-string\">\"abort\"</span>,<span class=\"code-string\">\"pause\"</span>]);a=r.targetDuration/<span class=\"code-number\">2</span>*<span class=\"code-number\">1e3</span>||<span class=\"code-number\">5e3</span>,a=<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> r.lastRequest&amp;&amp;<span class=\"code-built_in\">Date</span>.now()-r.lastRequest&lt;=a;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.switchMedia_(r,<span class=\"code-string\">\"exclude\"</span>,s||a)},t.pauseLoading=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.delegateLoaders_(<span class=\"code-string\">\"all\"</span>,[<span class=\"code-string\">\"abort\"</span>,<span class=\"code-string\">\"pause\"</span>]),<span class=\"code-keyword\">this</span>.stopABRTimer_()},t.delegateLoaders_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">i,e</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r=[],t=<span class=\"code-string\">\"all\"</span>===i;!t&amp;&amp;<span class=\"code-string\">\"main\"</span>!==i||r.push(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_);<span class=\"code-keyword\">var</span> a=[];!t&amp;&amp;<span class=\"code-string\">\"audio\"</span>!==i||a.push(<span class=\"code-string\">\"AUDIO\"</span>),!t&amp;&amp;<span class=\"code-string\">\"subtitle\"</span>!==i||(a.push(<span class=\"code-string\">\"CLOSED-CAPTIONS\"</span>),a.push(<span class=\"code-string\">\"SUBTITLES\"</span>)),a.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e=n.mediaTypes_[e]&amp;&amp;n.mediaTypes_[e].activePlaylistLoader;e&amp;&amp;r.push(e)}),[<span class=\"code-string\">\"main\"</span>,<span class=\"code-string\">\"audio\"</span>,<span class=\"code-string\">\"subtitle\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=n[e+<span class=\"code-string\">\"SegmentLoader_\"</span>];!t||i!==e&amp;&amp;<span class=\"code-string\">\"all\"</span>!==i||r.push(t)}),r.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> t[e]&amp;&amp;t[e]()})})},t.setCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=Uo(<span class=\"code-keyword\">this</span>.tech_.buffered(),e);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistLoader_&amp;&amp;<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media()&amp;&amp;<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media().segments?t&amp;&amp;t.length?e:(<span class=\"code-keyword\">this</span>.mainSegmentLoader_.resetEverything(),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.abort(),<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader&amp;&amp;(<span class=\"code-keyword\">this</span>.audioSegmentLoader_.resetEverything(),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.abort()),<span class=\"code-keyword\">this</span>.mediaTypes_.SUBTITLES.activePlaylistLoader&amp;&amp;(<span class=\"code-keyword\">this</span>.subtitleSegmentLoader_.resetEverything(),<span class=\"code-keyword\">this</span>.subtitleSegmentLoader_.abort()),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.load()):<span class=\"code-number\">0</span>},t.duration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.masterPlaylistLoader_)<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media();<span class=\"code-keyword\">return</span> e?e.endList?<span class=\"code-keyword\">this</span>.mediaSource?<span class=\"code-keyword\">this</span>.mediaSource.duration:Ql.Playlist.duration(e):<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>:<span class=\"code-number\">0</span>},t.seekable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.seekable_},t.onSyncInfoUpdate_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_){<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media();<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>.syncController_.getExpiredTime(t,<span class=\"code-keyword\">this</span>.duration());<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==i){<span class=\"code-keyword\">var</span> n,r,a=<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master,s=Ql.Playlist.seekable(t,i,Ql.Playlist.liveEdgeDelay(a,t));<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>!==s.length){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader){<span class=\"code-keyword\">if</span>(t=<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader.media(),<span class=\"code-literal\">null</span>===(i=<span class=\"code-keyword\">this</span>.syncController_.getExpiredTime(t,<span class=\"code-keyword\">this</span>.duration())))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===(e=Ql.Playlist.seekable(t,i,Ql.Playlist.liveEdgeDelay(a,t))).length)<span class=\"code-keyword\">return</span>}<span class=\"code-keyword\">this</span>.seekable_&amp;&amp;<span class=\"code-keyword\">this</span>.seekable_.length&amp;&amp;(n=<span class=\"code-keyword\">this</span>.seekable_.end(<span class=\"code-number\">0</span>),r=<span class=\"code-keyword\">this</span>.seekable_.start(<span class=\"code-number\">0</span>)),!e||e.start(<span class=\"code-number\">0</span>)&gt;s.end(<span class=\"code-number\">0</span>)||s.start(<span class=\"code-number\">0</span>)&gt;e.end(<span class=\"code-number\">0</span>)?<span class=\"code-keyword\">this</span>.seekable_=s:<span class=\"code-keyword\">this</span>.seekable_=tr.createTimeRanges([[(e.start(<span class=\"code-number\">0</span>)&gt;s.start(<span class=\"code-number\">0</span>)?e:s).start(<span class=\"code-number\">0</span>),(e.end(<span class=\"code-number\">0</span>)&lt;s.end(<span class=\"code-number\">0</span>)?e:s).end(<span class=\"code-number\">0</span>)]]),<span class=\"code-keyword\">this</span>.seekable_&amp;&amp;<span class=\"code-keyword\">this</span>.seekable_.length&amp;&amp;<span class=\"code-keyword\">this</span>.seekable_.end(<span class=\"code-number\">0</span>)===n&amp;&amp;<span class=\"code-keyword\">this</span>.seekable_.start(<span class=\"code-number\">0</span>)===r||(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"seekable updated [\"</span>+Fo(<span class=\"code-keyword\">this</span>.seekable_)+<span class=\"code-string\">\"]\"</span>),<span class=\"code-keyword\">this</span>.tech_.trigger(<span class=\"code-string\">\"seekablechanged\"</span>))}}}}},t.updateDuration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.updateDuration_&amp;&amp;(<span class=\"code-keyword\">this</span>.mediaSource.removeEventListener(<span class=\"code-string\">\"sourceopen\"</span>,<span class=\"code-keyword\">this</span>.updateDuration_),<span class=\"code-keyword\">this</span>.updateDuration_=<span class=\"code-literal\">null</span>),<span class=\"code-string\">\"open\"</span>!==<span class=\"code-keyword\">this</span>.mediaSource.readyState)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.updateDuration_=<span class=\"code-keyword\">this</span>.updateDuration.bind(<span class=\"code-keyword\">this</span>,e),<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.mediaSource.addEventListener(<span class=\"code-string\">\"sourceopen\"</span>,<span class=\"code-keyword\">this</span>.updateDuration_);<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.seekable();<span class=\"code-keyword\">return</span> t.length?<span class=\"code-keyword\">void</span>((<span class=\"code-built_in\">isNaN</span>(<span class=\"code-keyword\">this</span>.mediaSource.duration)||<span class=\"code-keyword\">this</span>.mediaSource.duration&lt;t.end(t.length<span class=\"code-number\">-1</span>))&amp;&amp;<span class=\"code-keyword\">this</span>.sourceUpdater_.setDuration(t.end(t.length<span class=\"code-number\">-1</span>))):<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>}e=<span class=\"code-keyword\">this</span>.tech_.buffered(),t=Ql.Playlist.duration(<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media());<span class=\"code-number\">0</span>&lt;e.length&amp;&amp;(t=<span class=\"code-built_in\">Math</span>.max(t,e.end(e.length<span class=\"code-number\">-1</span>))),<span class=\"code-keyword\">this</span>.mediaSource.duration!==t&amp;&amp;<span class=\"code-keyword\">this</span>.sourceUpdater_.setDuration(t)},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.trigger(<span class=\"code-string\">\"dispose\"</span>),<span class=\"code-keyword\">this</span>.decrypter_.terminate(),<span class=\"code-keyword\">this</span>.masterPlaylistLoader_.dispose(),<span class=\"code-keyword\">this</span>.mainSegmentLoader_.dispose(),<span class=\"code-keyword\">this</span>.loadOnPlay_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.off(<span class=\"code-string\">\"play\"</span>,<span class=\"code-keyword\">this</span>.loadOnPlay_),[<span class=\"code-string\">\"AUDIO\"</span>,<span class=\"code-string\">\"SUBTITLES\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=n.mediaTypes_[e].groups;<span class=\"code-keyword\">for</span>(t <span class=\"code-keyword\">in</span> i)i[t].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.playlistLoader&amp;&amp;e.playlistLoader.dispose()})}),<span class=\"code-keyword\">this</span>.audioSegmentLoader_.dispose(),<span class=\"code-keyword\">this</span>.subtitleSegmentLoader_.dispose(),<span class=\"code-keyword\">this</span>.sourceUpdater_.dispose(),<span class=\"code-keyword\">this</span>.timelineChangeController_.dispose(),<span class=\"code-keyword\">this</span>.stopABRTimer_(),<span class=\"code-keyword\">this</span>.updateDuration_&amp;&amp;<span class=\"code-keyword\">this</span>.mediaSource.removeEventListener(<span class=\"code-string\">\"sourceopen\"</span>,<span class=\"code-keyword\">this</span>.updateDuration_),<span class=\"code-keyword\">this</span>.mediaSource.removeEventListener(<span class=\"code-string\">\"durationchange\"</span>,<span class=\"code-keyword\">this</span>.handleDurationChange_),<span class=\"code-keyword\">this</span>.mediaSource.removeEventListener(<span class=\"code-string\">\"sourceopen\"</span>,<span class=\"code-keyword\">this</span>.handleSourceOpen_),<span class=\"code-keyword\">this</span>.mediaSource.removeEventListener(<span class=\"code-string\">\"sourceended\"</span>,<span class=\"code-keyword\">this</span>.handleSourceEnded_),<span class=\"code-keyword\">this</span>.off()},t.master=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistLoader_.master},t.media=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistLoader_.media()||<span class=\"code-keyword\">this</span>.initialMedia_},t.areMediaTypesKnown_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=!!<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader,t=!!<span class=\"code-keyword\">this</span>.mainSegmentLoader_.getCurrentMediaInfo_(),e=!e||!!<span class=\"code-keyword\">this</span>.audioSegmentLoader_.getCurrentMediaInfo_();<span class=\"code-keyword\">return</span> t&amp;&amp;e},t.getCodecsOrExclude_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r={<span class=\"code-attr\">main</span>:<span class=\"code-keyword\">this</span>.mainSegmentLoader_.getCurrentMediaInfo_()||{},<span class=\"code-attr\">audio</span>:<span class=\"code-keyword\">this</span>.audioSegmentLoader_.getCurrentMediaInfo_()||{}};r.video=r.main;<span class=\"code-keyword\">var</span> e=$u(<span class=\"code-keyword\">this</span>.master(),<span class=\"code-keyword\">this</span>.media()),a={},t=!!<span class=\"code-keyword\">this</span>.mediaTypes_.AUDIO.activePlaylistLoader;<span class=\"code-keyword\">if</span>(r.main.hasVideo&amp;&amp;(a.video=e.video||r.main.videoCodec||<span class=\"code-string\">\"avc1.4d400d\"</span>),r.main.isMuxed&amp;&amp;(a.video+=<span class=\"code-string\">\",\"</span>+(e.audio||r.main.audioCodec||Lr)),(r.main.hasAudio&amp;&amp;!r.main.isMuxed||r.audio.hasAudio||t)&amp;&amp;(a.audio=e.audio||r.main.audioCodec||r.audio.audioCodec||Lr,r.audio.isFmp4=(r.main.hasAudio&amp;&amp;!r.main.isMuxed?r.main:r.audio).isFmp4),a.audio||a.video){<span class=\"code-keyword\">var</span> s,i,o={};<span class=\"code-keyword\">if</span>([<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"audio\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i;a.hasOwnProperty(e)&amp;&amp;(t=r[e].isFmp4,i=a[e],!(t?gr:yr)(i))&amp;&amp;(i=r[e].isFmp4?<span class=\"code-string\">\"browser\"</span>:<span class=\"code-string\">\"muxer\"</span>,o[i]=o[i]||[],o[i].push(a[e]),<span class=\"code-string\">\"audio\"</span>===e&amp;&amp;(s=i))}),t&amp;&amp;s&amp;&amp;<span class=\"code-keyword\">this</span>.media().attributes.AUDIO&amp;&amp;(i=<span class=\"code-keyword\">this</span>.media().attributes.AUDIO,<span class=\"code-keyword\">this</span>.master().playlists.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{(e.attributes&amp;&amp;e.attributes.AUDIO)===i&amp;&amp;e!==n.media()&amp;&amp;(e.excludeUntil=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>)}),<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"excluding audio group \"</span>+i+<span class=\"code-string\">\" as \"</span>+s+<span class=\"code-string\">' does not support codec(s): \"'</span>+a.audio+<span class=\"code-string\">'\"'</span>)),!<span class=\"code-built_in\">Object</span>.keys(o).length){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.sourceUpdater_.hasCreatedSourceBuffers()&amp;&amp;!<span class=\"code-keyword\">this</span>.sourceUpdater_.canChangeType()){<span class=\"code-keyword\">var</span> u=[];<span class=\"code-keyword\">if</span>([<span class=\"code-string\">\"video\"</span>,<span class=\"code-string\">\"audio\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=(pr(n.sourceUpdater_.codecs[e]||<span class=\"code-string\">\"\"</span>)[<span class=\"code-number\">0</span>]||{}).type,i=(pr(a[e]||<span class=\"code-string\">\"\"</span>)[<span class=\"code-number\">0</span>]||{}).type;t&amp;&amp;i&amp;&amp;t.toLowerCase()!==i.toLowerCase()&amp;&amp;u.push(<span class=\"code-string\">'\"'</span>+n.sourceUpdater_.codecs[e]+<span class=\"code-string\">'\" -&gt; \"'</span>+a[e]+<span class=\"code-string\">'\"'</span>)}),u.length)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>.blacklistCurrentPlaylist({<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.media(),<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Codec switching not supported: \"</span>+u.join(<span class=\"code-string\">\", \"</span>)+<span class=\"code-string\">\".\"</span>,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,<span class=\"code-attr\">internal</span>:!<span class=\"code-number\">0</span>})}<span class=\"code-keyword\">return</span> a}t=<span class=\"code-built_in\">Object</span>.keys(o).reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> e&amp;&amp;(e+=<span class=\"code-string\">\", \"</span>),e+=t+<span class=\"code-string\">' does not support codec(s): \"'</span>+o[t].join(<span class=\"code-string\">\",\"</span>)+<span class=\"code-string\">'\"'</span>},<span class=\"code-string\">\"\"</span>)+<span class=\"code-string\">\".\"</span>;<span class=\"code-keyword\">this</span>.blacklistCurrentPlaylist({<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.media(),<span class=\"code-attr\">internal</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">message</span>:t,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>})}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>.blacklistCurrentPlaylist({<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.media(),<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Could not determine codecs for playlist.\"</span>,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>})},t.tryToCreateSourceBuffers_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e;<span class=\"code-string\">\"open\"</span>!==<span class=\"code-keyword\">this</span>.mediaSource.readyState||<span class=\"code-keyword\">this</span>.sourceUpdater_.hasCreatedSourceBuffers()||!<span class=\"code-keyword\">this</span>.areMediaTypesKnown_()||(e=<span class=\"code-keyword\">this</span>.getCodecsOrExclude_())&amp;&amp;(<span class=\"code-keyword\">this</span>.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(<span class=\"code-built_in\">Boolean</span>).join(<span class=\"code-string\">\",\"</span>),<span class=\"code-keyword\">this</span>.excludeIncompatibleVariants_(e))},t.excludeUnsupportedVariants_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>,r=<span class=\"code-keyword\">this</span>.master().playlists,a=[];<span class=\"code-built_in\">Object</span>.keys(r).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i=r[e];<span class=\"code-number\">-1</span>===a.indexOf(i.id)&amp;&amp;(a.push(i.id),t=[],!(e=$u(n.master,i)).audio||yr(e.audio)||gr(e.audio)||t.push(<span class=\"code-string\">\"audio codec \"</span>+e.audio),!e.video||yr(e.video)||gr(e.video)||t.push(<span class=\"code-string\">\"video codec \"</span>+e.video),e.text&amp;&amp;<span class=\"code-string\">\"stpp.ttml.im1t\"</span>===e.text&amp;&amp;t.push(<span class=\"code-string\">\"text codec \"</span>+e.text),t.length&amp;&amp;(i.excludeUntil=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,n.logger_(<span class=\"code-string\">\"excluding \"</span>+i.id+<span class=\"code-string\">\" for unsupported: \"</span>+t.join(<span class=\"code-string\">\", \"</span>))))})},t.excludeIncompatibleVariants_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>,a=[],s=<span class=\"code-keyword\">this</span>.master().playlists,e=Yu(pr(e)),o=Qu(e),u=e.video&amp;&amp;pr(e.video)[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>,l=e.audio&amp;&amp;pr(e.audio)[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>;<span class=\"code-built_in\">Object</span>.keys(s).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=s[e];<span class=\"code-number\">-1</span>===a.indexOf(n.id)&amp;&amp;n.excludeUntil!==<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>&amp;&amp;(a.push(n.id),t=[],i=$u(r.masterPlaylistLoader_.master,n),e=Qu(i),(i.audio||i.video)&amp;&amp;(e!==o&amp;&amp;t.push(<span class=\"code-string\">'codec count \"'</span>+e+<span class=\"code-string\">'\" !== \"'</span>+o+<span class=\"code-string\">'\"'</span>),r.sourceUpdater_.canChangeType()||(e=i.video&amp;&amp;pr(i.video)[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>,i=i.audio&amp;&amp;pr(i.audio)[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>,e&amp;&amp;u&amp;&amp;e.type.toLowerCase()!==u.type.toLowerCase()&amp;&amp;t.push(<span class=\"code-string\">'video codec \"'</span>+e.type+<span class=\"code-string\">'\" !== \"'</span>+u.type+<span class=\"code-string\">'\"'</span>),i&amp;&amp;l&amp;&amp;i.type.toLowerCase()!==l.type.toLowerCase()&amp;&amp;t.push(<span class=\"code-string\">'audio codec \"'</span>+i.type+<span class=\"code-string\">'\" !== \"'</span>+l.type+<span class=\"code-string\">'\"'</span>)),t.length&amp;&amp;(n.excludeUntil=<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>,r.logger_(<span class=\"code-string\">\"blacklisting \"</span>+n.id+<span class=\"code-string\">\": \"</span>+t.join(<span class=\"code-string\">\" &amp;&amp; \"</span>)))))})},t.updateAdCues_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,i=<span class=\"code-keyword\">this</span>.seekable();i.length&amp;&amp;(t=i.start(<span class=\"code-number\">0</span>)),<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=<span class=\"code-number\">0</span>),e.segments)<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=i,r=<span class=\"code-number\">0</span>;r&lt;e.segments.length;r++){<span class=\"code-keyword\">var</span> a,s,o,u=e.segments[r];<span class=\"code-keyword\">if</span>(o=o||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=e.cues,n=<span class=\"code-number\">0</span>;n&lt;i.length;n++){<span class=\"code-keyword\">var</span> r=i[n];<span class=\"code-keyword\">if</span>(t&gt;=r.adStartTime&amp;&amp;t&lt;=r.adEndTime)<span class=\"code-keyword\">return</span> r}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}(t,n+u.duration/<span class=\"code-number\">2</span>)){<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"cueIn\"</span><span class=\"code-keyword\">in</span> u){o.endTime=n,o.adEndTime=n,n+=u.duration,o=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">continue</span>}<span class=\"code-keyword\">if</span>(n&lt;o.endTime){n+=u.duration;<span class=\"code-keyword\">continue</span>}o.endTime+=u.duration}<span class=\"code-keyword\">else</span><span class=\"code-string\">\"cueOut\"</span><span class=\"code-keyword\">in</span> u&amp;&amp;((o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.VTTCue(n,n+u.duration,u.cueOut)).adStartTime=n,o.adEndTime=n+<span class=\"code-built_in\">parseFloat</span>(u.cueOut),t.addCue(o)),<span class=\"code-string\">\"cueOutCont\"</span><span class=\"code-keyword\">in</span> u&amp;&amp;(a=(s=u.cueOutCont.split(<span class=\"code-string\">\"/\"</span>).map(<span class=\"code-built_in\">parseFloat</span>))[<span class=\"code-number\">0</span>],s=s[<span class=\"code-number\">1</span>],(o=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">window</span>.VTTCue(n,n+u.duration,<span class=\"code-string\">\"\"</span>)).adStartTime=n-a,o.adEndTime=o.adStartTime+s,t.addCue(o));n+=u.duration}}(e,<span class=\"code-keyword\">this</span>.cueTagsTrack_,t)},t.goalBufferLength=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=El.GOAL_BUFFER_LENGTH,i=El.GOAL_BUFFER_LENGTH_RATE,n=<span class=\"code-built_in\">Math</span>.max(t,El.MAX_GOAL_BUFFER_LENGTH);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.min(t+e*i,n)},t.bufferLowWaterLine=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=El.BUFFER_LOW_WATER_LINE,i=El.BUFFER_LOW_WATER_LINE_RATE,n=<span class=\"code-built_in\">Math</span>.max(t,El.MAX_BUFFER_LOW_WATER_LINE),r=<span class=\"code-built_in\">Math</span>.max(t,El.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.min(t+e*i,<span class=\"code-keyword\">this</span>.experimentalBufferBasedABR?r:n)},t.bufferHighWaterLine=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> El.BUFFER_HIGH_WATER_LINE},e}(tr.EventTarget),Tc=[<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-string\">\"pause\"</span>,<span class=\"code-string\">\"playing\"</span>,<span class=\"code-string\">\"error\"</span>],Sc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.masterPlaylistController_=e.masterPlaylistController,<span class=\"code-keyword\">this</span>.tech_=e.tech,<span class=\"code-keyword\">this</span>.seekable=e.seekable,<span class=\"code-keyword\">this</span>.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,<span class=\"code-keyword\">this</span>.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,<span class=\"code-keyword\">this</span>.media=e.media,<span class=\"code-keyword\">this</span>.consecutiveUpdates=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.lastRecordedTime=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.timer_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.checkCurrentTimeTimeout_=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.logger_=Ro(<span class=\"code-string\">\"PlaybackWatcher\"</span>),<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"initialize\"</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">t</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.monitorCurrentTime_()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.monitorCurrentTime_()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.techWaiting_()}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.cancelTimer_()}<span class=\"code-keyword\">var</span> s=<span class=\"code-keyword\">this</span>.masterPlaylistController_,o=[<span class=\"code-string\">\"main\"</span>,<span class=\"code-string\">\"subtitle\"</span>,<span class=\"code-string\">\"audio\"</span>],u={};o.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{u[e]={<span class=\"code-attr\">reset</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.resetSegmentDownloads_(e)},<span class=\"code-attr\">updateend</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> i.checkSegmentDownloads_(e)}},s[e+<span class=\"code-string\">\"SegmentLoader_\"</span>].on(<span class=\"code-string\">\"appendsdone\"</span>,u[e].updateend),s[e+<span class=\"code-string\">\"SegmentLoader_\"</span>].on(<span class=\"code-string\">\"playlistupdate\"</span>,u[e].reset),i.tech_.on([<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-string\">\"seeking\"</span>],u[e].reset)});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">t</span>)</span>{[<span class=\"code-string\">\"main\"</span>,<span class=\"code-string\">\"audio\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s[e+<span class=\"code-string\">\"SegmentLoader_\"</span>][t](<span class=\"code-string\">\"appended\"</span>,i.seekingAppendCheck_)})}<span class=\"code-keyword\">this</span>.seekingAppendCheck_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.fixesBadSeeks_()&amp;&amp;(i.consecutiveUpdates=<span class=\"code-number\">0</span>,i.lastRecordedTime=i.tech_.currentTime(),l(<span class=\"code-string\">\"off\"</span>))},<span class=\"code-keyword\">this</span>.clearSeekingAppendCheck_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> l(<span class=\"code-string\">\"off\"</span>)},<span class=\"code-keyword\">this</span>.watchForBadSeeking_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.clearSeekingAppendCheck_(),l(<span class=\"code-string\">\"on\"</span>)},<span class=\"code-keyword\">this</span>.tech_.on(<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-keyword\">this</span>.clearSeekingAppendCheck_),<span class=\"code-keyword\">this</span>.tech_.on(<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-keyword\">this</span>.watchForBadSeeking_),<span class=\"code-keyword\">this</span>.tech_.on(<span class=\"code-string\">\"waiting\"</span>,r),<span class=\"code-keyword\">this</span>.tech_.on(Tc,a),<span class=\"code-keyword\">this</span>.tech_.on(<span class=\"code-string\">\"canplay\"</span>,n),<span class=\"code-keyword\">this</span>.tech_.one(<span class=\"code-string\">\"play\"</span>,t),<span class=\"code-keyword\">this</span>.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{i.clearSeekingAppendCheck_(),i.logger_(<span class=\"code-string\">\"dispose\"</span>),i.tech_.off(<span class=\"code-string\">\"waiting\"</span>,r),i.tech_.off(Tc,a),i.tech_.off(<span class=\"code-string\">\"canplay\"</span>,n),i.tech_.off(<span class=\"code-string\">\"play\"</span>,t),i.tech_.off(<span class=\"code-string\">\"seeking\"</span>,i.watchForBadSeeking_),i.tech_.off(<span class=\"code-string\">\"seeked\"</span>,i.clearSeekingAppendCheck_),o.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s[e+<span class=\"code-string\">\"SegmentLoader_\"</span>].off(<span class=\"code-string\">\"appendsdone\"</span>,u[e].updateend),s[e+<span class=\"code-string\">\"SegmentLoader_\"</span>].off(<span class=\"code-string\">\"playlistupdate\"</span>,u[e].reset),i.tech_.off([<span class=\"code-string\">\"seeked\"</span>,<span class=\"code-string\">\"seeking\"</span>],u[e].reset)}),i.checkCurrentTimeTimeout_&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.monitorCurrentTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.checkCurrentTime_(),<span class=\"code-keyword\">this</span>.checkCurrentTimeTimeout_&amp;&amp;<span class=\"code-built_in\">window</span>.clearTimeout(<span class=\"code-keyword\">this</span>.checkCurrentTimeTimeout_),<span class=\"code-keyword\">this</span>.checkCurrentTimeTimeout_=<span class=\"code-built_in\">window</span>.setTimeout(<span class=\"code-keyword\">this</span>.monitorCurrentTime_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-number\">250</span>)},t.resetSegmentDownloads_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.masterPlaylistController_[e+<span class=\"code-string\">\"SegmentLoader_\"</span>];<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"StalledDownloads_\"</span>]&amp;&amp;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"resetting possible stalled download count for \"</span>+e+<span class=\"code-string\">\" loader\"</span>),<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"StalledDownloads_\"</span>]=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"Buffered_\"</span>]=t.buffered_()},t.checkSegmentDownloads_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.masterPlaylistController_,i=t[e+<span class=\"code-string\">\"SegmentLoader_\"</span>],n=i.buffered_(),r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(e===t)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">if</span>(!e&amp;&amp;t||!t&amp;&amp;e)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(e.length!==t.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">0</span>;i&lt;e.length;i++)<span class=\"code-keyword\">if</span>(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}(<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"Buffered_\"</span>],n);<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"Buffered_\"</span>]=n,r?<span class=\"code-keyword\">this</span>.resetSegmentDownloads_(e):(<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"StalledDownloads_\"</span>]++,<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"found #\"</span>+<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"StalledDownloads_\"</span>]+<span class=\"code-string\">\" \"</span>+e+<span class=\"code-string\">\" appends that did not increase buffer (possible stalled download)\"</span>,{<span class=\"code-attr\">playlistId</span>:i.playlist_&amp;&amp;i.playlist_.id,<span class=\"code-attr\">buffered</span>:jo(n)}),<span class=\"code-keyword\">this</span>[e+<span class=\"code-string\">\"StalledDownloads_\"</span>]&lt;<span class=\"code-number\">10</span>||(<span class=\"code-keyword\">this</span>.logger_(e+<span class=\"code-string\">\" loader stalled download exclusion\"</span>),<span class=\"code-keyword\">this</span>.resetSegmentDownloads_(e),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-\"</span>+e+<span class=\"code-string\">\"-download-exclusion\"</span>}),<span class=\"code-string\">\"subtitle\"</span>!==e&amp;&amp;t.blacklistCurrentPlaylist({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Excessive \"</span>+e+<span class=\"code-string\">\" segment downloading detected.\"</span>},<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>)))},t.checkCurrentTime_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.tech_.paused()&amp;&amp;!<span class=\"code-keyword\">this</span>.tech_.seeking()){<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=<span class=\"code-keyword\">this</span>.tech_.buffered();<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.lastRecordedTime===e&amp;&amp;(!t.length||e+<span class=\"code-number\">.1</span>&gt;=t.end(t.length<span class=\"code-number\">-1</span>)))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.techWaiting_();<span class=\"code-number\">5</span>&lt;=<span class=\"code-keyword\">this</span>.consecutiveUpdates&amp;&amp;e===<span class=\"code-keyword\">this</span>.lastRecordedTime?(<span class=\"code-keyword\">this</span>.consecutiveUpdates++,<span class=\"code-keyword\">this</span>.waiting_()):e===<span class=\"code-keyword\">this</span>.lastRecordedTime?<span class=\"code-keyword\">this</span>.consecutiveUpdates++:(<span class=\"code-keyword\">this</span>.consecutiveUpdates=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.lastRecordedTime=e)}},t.cancelTimer_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.consecutiveUpdates=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.timer_&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"cancelTimer_\"</span>),clearTimeout(<span class=\"code-keyword\">this</span>.timer_)),<span class=\"code-keyword\">this</span>.timer_=<span class=\"code-literal\">null</span>},t.fixesBadSeeks_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.tech_.seeking())<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>.seekable(),i=<span class=\"code-keyword\">this</span>.tech_.currentTime();<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.afterSeekableWindow_(t,i,<span class=\"code-keyword\">this</span>.media(),<span class=\"code-keyword\">this</span>.allowSeeksWithinUnsafeLiveWindow)&amp;&amp;(e=t.end(t.length<span class=\"code-number\">-1</span>)),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span>(e=<span class=\"code-keyword\">this</span>.beforeSeekableWindow_(t,i)?(a=t.start(<span class=\"code-number\">0</span>))+(a===t.end(<span class=\"code-number\">0</span>)?<span class=\"code-number\">0</span>:<span class=\"code-number\">.1</span>):e))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Trying to seek outside of seekable at time \"</span>+i+<span class=\"code-string\">\" with seekable range \"</span>+Fo(t)+<span class=\"code-string\">\". Seeking to \"</span>+e+<span class=\"code-string\">\".\"</span>),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(e),!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>.masterPlaylistController_.sourceUpdater_,r=<span class=\"code-keyword\">this</span>.tech_.buffered(),a=n.audioBuffer?n.audioBuffered():<span class=\"code-literal\">null</span>,t=n.videoBuffer?n.videoBuffered():<span class=\"code-literal\">null</span>,n=<span class=\"code-keyword\">this</span>.media(),s=n.partTargetDuration||<span class=\"code-number\">2</span>*(n.targetDuration-fl),o=[a,t],u=<span class=\"code-number\">0</span>;u&lt;o.length;u++)<span class=\"code-keyword\">if</span>(o[u])<span class=\"code-keyword\">if</span>(qo(o[u],i)&lt;s)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;r=Bo(r,i);<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==r.length&amp;&amp;(e=r.start(<span class=\"code-number\">0</span>)+<span class=\"code-number\">.1</span>,<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Buffered region starts (\"</span>+r.start(<span class=\"code-number\">0</span>)+<span class=\"code-string\">\")  just beyond seek point (\"</span>+i+<span class=\"code-string\">\"). Seeking to \"</span>+e+<span class=\"code-string\">\".\"</span>),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(e),!<span class=\"code-number\">0</span>)},t.waiting_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t;<span class=\"code-keyword\">this</span>.techWaiting_()||(e=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=<span class=\"code-keyword\">this</span>.tech_.buffered(),(t=Uo(t,e)).length&amp;&amp;e+<span class=\"code-number\">3</span>&lt;=t.end(<span class=\"code-number\">0</span>)&amp;&amp;(<span class=\"code-keyword\">this</span>.cancelTimer_(),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(e),<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Stopped at \"</span>+e+<span class=\"code-string\">\" while inside a buffered region [\"</span>+t.start(<span class=\"code-number\">0</span>)+<span class=\"code-string\">\" -&gt; \"</span>+t.end(<span class=\"code-number\">0</span>)+<span class=\"code-string\">\"]. Attempting to resume playback by seeking to the current time.\"</span>),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-unknown-waiting\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-unknown-waiting\"</span>})))},t.techWaiting_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.seekable(),t=<span class=\"code-keyword\">this</span>.tech_.currentTime();<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.tech_.seeking()||<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>.timer_)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.beforeSeekableWindow_(e,t)){<span class=\"code-keyword\">var</span> i=e.end(e.length<span class=\"code-number\">-1</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Fell out of live window at time \"</span>+t+<span class=\"code-string\">\". Seeking to live point (seekable end) \"</span>+i),<span class=\"code-keyword\">this</span>.cancelTimer_(),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(i),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-live-resync\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-live-resync\"</span>}),!<span class=\"code-number\">0</span>}e=<span class=\"code-keyword\">this</span>.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=<span class=\"code-keyword\">this</span>.tech_.buffered();<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.videoUnderflow_({<span class=\"code-attr\">audioBuffered</span>:e.audioBuffered(),<span class=\"code-attr\">videoBuffered</span>:e.videoBuffered(),<span class=\"code-attr\">currentTime</span>:t}))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.cancelTimer_(),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(t),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-video-underflow\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-video-underflow\"</span>}),!<span class=\"code-number\">0</span>;e=Bo(i,t);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>&lt;e.length){i=e.start(<span class=\"code-number\">0</span>)-t;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Stopped at \"</span>+t+<span class=\"code-string\">\", setting timer for \"</span>+i+<span class=\"code-string\">\", seeking to \"</span>+e.start(<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.cancelTimer_(),<span class=\"code-keyword\">this</span>.timer_=setTimeout(<span class=\"code-keyword\">this</span>.skipTheGap_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-number\">1e3</span>*i,t),!<span class=\"code-number\">0</span>}<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>},t.afterSeekableWindow_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=!<span class=\"code-number\">1</span>),!e.length)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> r=e.end(e.length<span class=\"code-number\">-1</span>)+<span class=\"code-number\">.1</span>;<span class=\"code-keyword\">return</span>(r=!i.endList&amp;&amp;n?e.end(e.length<span class=\"code-number\">-1</span>)+<span class=\"code-number\">3</span>*i.targetDuration:r)&lt;t},t.beforeSeekableWindow_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>!!(e.length&amp;&amp;<span class=\"code-number\">0</span>&lt;e.start(<span class=\"code-number\">0</span>)&amp;&amp;t&lt;e.start(<span class=\"code-number\">0</span>)-<span class=\"code-keyword\">this</span>.liveRangeSafeTimeDelta)},t.videoUnderflow_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t,i,n=e.videoBuffered,r=e.audioBuffered,a=e.currentTime;<span class=\"code-keyword\">if</span>(n)<span class=\"code-keyword\">return</span> n.length&amp;&amp;r.length?(i=Uo(n,a<span class=\"code-number\">-3</span>),e=Uo(n,a),(r=Uo(r,a)).length&amp;&amp;!e.length&amp;&amp;i.length&amp;&amp;(t={<span class=\"code-attr\">start</span>:i.end(<span class=\"code-number\">0</span>),<span class=\"code-attr\">end</span>:r.end(<span class=\"code-number\">0</span>)})):Bo(n,a).length||(t=<span class=\"code-keyword\">this</span>.gapFromVideoUnderflow_(n,a)),!!t&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"Encountered a gap in video from \"</span>+t.start+<span class=\"code-string\">\" to \"</span>+t.end+<span class=\"code-string\">\". Seeking to current time \"</span>+a),!<span class=\"code-number\">0</span>)},t.skipTheGap_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>.tech_.buffered(),i=<span class=\"code-keyword\">this</span>.tech_.currentTime(),t=Bo(t,i);<span class=\"code-keyword\">this</span>.cancelTimer_(),<span class=\"code-number\">0</span>!==t.length&amp;&amp;i===e&amp;&amp;(<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"skipTheGap_:\"</span>,<span class=\"code-string\">\"currentTime:\"</span>,i,<span class=\"code-string\">\"scheduled currentTime:\"</span>,e,<span class=\"code-string\">\"nextRange start:\"</span>,t.start(<span class=\"code-number\">0</span>)),<span class=\"code-keyword\">this</span>.tech_.setCurrentTime(t.start(<span class=\"code-number\">0</span>)+fl),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-gap-skip\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-gap-skip\"</span>}))},t.gapFromVideoUnderflow_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.length&lt;<span class=\"code-number\">2</span>)<span class=\"code-keyword\">return</span> tr.createTimeRanges();<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> t=[],i=<span class=\"code-number\">1</span>;i&lt;e.length;i++){<span class=\"code-keyword\">var</span> n=e.end(i<span class=\"code-number\">-1</span>),r=e.start(i);t.push([n,r])}<span class=\"code-keyword\">return</span> tr.createTimeRanges(t)}(e),n=<span class=\"code-number\">0</span>;n&lt;i.length;n++){<span class=\"code-keyword\">var</span> r=i.start(n),a=i.end(n);<span class=\"code-keyword\">if</span>(t-r&lt;<span class=\"code-number\">4</span>&amp;&amp;<span class=\"code-number\">2</span>&lt;t-r)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">start</span>:r,<span class=\"code-attr\">end</span>:a}}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},e}(),wc={<span class=\"code-attr\">errorInterval</span>:<span class=\"code-number\">30</span>,<span class=\"code-attr\">getSource</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> e(<span class=\"code-keyword\">this</span>.tech({<span class=\"code-attr\">IWillNotUseThisInPlugins</span>:!<span class=\"code-number\">0</span>}).currentSource_||<span class=\"code-keyword\">this</span>.currentSource())}},Ec={<span class=\"code-attr\">PlaylistLoader</span>:_l,<span class=\"code-attr\">Playlist</span>:gl,<span class=\"code-attr\">utils</span>:zt,<span class=\"code-attr\">STANDARD_PLAYLIST_SELECTOR</span>:ar,<span class=\"code-attr\">INITIAL_PLAYLIST_SELECTOR</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,e=<span class=\"code-keyword\">this</span>.playlists.master.playlists.filter(gl.isEnabled);<span class=\"code-keyword\">return</span> el(e,tl),e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!!$u(t.playlists.master,e).video})[<span class=\"code-number\">0</span>]||<span class=\"code-literal\">null</span>},<span class=\"code-attr\">lastBandwidthSelector</span>:ar,<span class=\"code-attr\">movingAverageBandwidthSelector</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-number\">-1</span>,n=<span class=\"code-number\">-1</span>;<span class=\"code-keyword\">if</span>(t&lt;<span class=\"code-number\">0</span>||<span class=\"code-number\">1</span>&lt;t)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Moving average bandwidth decay must be between 0 and 1.\"</span>);<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.useDevicePixelRatio&amp;&amp;<span class=\"code-built_in\">window</span>.devicePixelRatio||<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span> i&lt;<span class=\"code-number\">0</span>&amp;&amp;(i=<span class=\"code-keyword\">this</span>.systemBandwidth,n=<span class=\"code-keyword\">this</span>.systemBandwidth),<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.systemBandwidth&amp;&amp;<span class=\"code-keyword\">this</span>.systemBandwidth!==n&amp;&amp;(i=t*<span class=\"code-keyword\">this</span>.systemBandwidth+(<span class=\"code-number\">1</span>-t)*i,n=<span class=\"code-keyword\">this</span>.systemBandwidth),il(<span class=\"code-keyword\">this</span>.playlists.master,i,<span class=\"code-built_in\">parseInt</span>(Zu(<span class=\"code-keyword\">this</span>.tech_.el(),<span class=\"code-string\">\"width\"</span>),<span class=\"code-number\">10</span>)*e,<span class=\"code-built_in\">parseInt</span>(Zu(<span class=\"code-keyword\">this</span>.tech_.el(),<span class=\"code-string\">\"height\"</span>),<span class=\"code-number\">10</span>)*e,<span class=\"code-keyword\">this</span>.limitRenditionByPlayerDimensions,<span class=\"code-keyword\">this</span>.masterPlaylistController_)}},<span class=\"code-attr\">comparePlaylistBandwidth</span>:tl,<span class=\"code-attr\">comparePlaylistResolution</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i,n;<span class=\"code-keyword\">return</span>(i=(i=e.attributes.RESOLUTION&amp;&amp;e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:i)||<span class=\"code-built_in\">window</span>.Number.MAX_VALUE)===(n=(n=t.attributes.RESOLUTION&amp;&amp;t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:n)||<span class=\"code-built_in\">window</span>.Number.MAX_VALUE)&amp;&amp;e.attributes.BANDWIDTH&amp;&amp;t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},<span class=\"code-attr\">xhr</span>:yu()};<span class=\"code-built_in\">Object</span>.keys(El).forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{<span class=\"code-built_in\">Object</span>.defineProperty(Ec,t,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"using Vhs.\"</span>+t+<span class=\"code-string\">\" is UNSAFE be sure you know what you are doing\"</span>),El[t]},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{tr.log.warn(<span class=\"code-string\">\"using Vhs.\"</span>+t+<span class=\"code-string\">\" is UNSAFE be sure you know what you are doing\"</span>),<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> e||e&lt;<span class=\"code-number\">0</span>?tr.log.warn(<span class=\"code-string\">\"value of Vhs.\"</span>+t+<span class=\"code-string\">\" must be greater than or equal to 0\"</span>):El[t]=e}})});<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">kc</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> i=t.media(),n=<span class=\"code-number\">-1</span>,r=<span class=\"code-number\">0</span>;r&lt;e.length;r++)<span class=\"code-keyword\">if</span>(e[r].id===i.id){n=r;<span class=\"code-keyword\">break</span>}e.selectedIndex_=n,e.trigger({<span class=\"code-attr\">selectedIndex</span>:n,<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"change\"</span>})}<span class=\"code-keyword\">var</span> Cc=<span class=\"code-string\">\"videojs-vhs\"</span>;Ec.canPlaySource=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"HLS is no longer a tech. Please remove it from your player's techOrder.\"</span>)};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ic</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> n=e.player,t=e.sourceKeySystems,i=e.audioMedia,e=e.mainPlaylists;<span class=\"code-keyword\">if</span>(!n.eme.initializeMediaKeys)<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Promise</span>.resolve();<span class=\"code-keyword\">var</span> r,e=(e=e=i?e.concat([i]):e,r=<span class=\"code-built_in\">Object</span>.keys(t),e.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,n</span>)</span>{<span class=\"code-keyword\">if</span>(!n.contentProtection)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> t=r.reduce(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=n.contentProtection[t];<span class=\"code-keyword\">return</span> i&amp;&amp;i.pssh&amp;&amp;(e[t]={<span class=\"code-attr\">pssh</span>:i.pssh}),e},{});<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Object</span>.keys(t).length&amp;&amp;e.push(t),e},[])),a=[],s=[];<span class=\"code-keyword\">return</span> e.forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{s.push(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{n.tech_.one(<span class=\"code-string\">\"keysessioncreated\"</span>,e)})),a.push(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t,i</span>)</span>{n.eme.initializeMediaKeys({<span class=\"code-attr\">keySystems</span>:e},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e?i(e):t()})}))}),<span class=\"code-built_in\">Promise</span>.race([<span class=\"code-built_in\">Promise</span>.all(a),<span class=\"code-built_in\">Promise</span>.race(s)])}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">xc</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=e.player;<span class=\"code-keyword\">return</span>!!(e=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">var</span> n={};t&amp;&amp;t.attributes&amp;&amp;t.attributes.CODECS&amp;&amp;(n=Yu(pr(t.attributes.CODECS))),i&amp;&amp;i.attributes&amp;&amp;i.attributes.CODECS&amp;&amp;(n.audio=i.attributes.CODECS);<span class=\"code-keyword\">var</span> r,a=mr(n.video),s=mr(n.audio),o={};<span class=\"code-keyword\">for</span>(r <span class=\"code-keyword\">in</span> e)o[r]={},s&amp;&amp;(o[r].audioContentType=s),a&amp;&amp;(o[r].videoContentType=a),t.contentProtection&amp;&amp;t.contentProtection[r]&amp;&amp;t.contentProtection[r].pssh&amp;&amp;(o[r].pssh=t.contentProtection[r].pssh),<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e[r]&amp;&amp;(o[r].url=e[r]);<span class=\"code-keyword\">return</span> tr.mergeOptions(e,o)}(e.sourceKeySystems,e.media,e.audioMedia))&amp;&amp;(!((t.currentSource().keySystems=e)&amp;&amp;!t.eme)||(tr.log.warn(<span class=\"code-string\">\"DRM encrypted source cannot be decrypted without a DRM plugin\"</span>),!<span class=\"code-number\">1</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">Ac</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">window</span>.localStorage)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">var</span> e=<span class=\"code-built_in\">window</span>.localStorage.getItem(Cc);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">JSON</span>.parse(e)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>}}Ec.supportsNativeHls=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">document</span>||!<span class=\"code-built_in\">document</span>.createElement)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>);<span class=\"code-keyword\">if</span>(!tr.getTech(<span class=\"code-string\">\"Html5\"</span>).isSupported())<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>;<span class=\"code-keyword\">return</span>[<span class=\"code-string\">\"application/vnd.apple.mpegurl\"</span>,<span class=\"code-string\">\"audio/mpegurl\"</span>,<span class=\"code-string\">\"audio/x-mpegurl\"</span>,<span class=\"code-string\">\"application/x-mpegurl\"</span>,<span class=\"code-string\">\"video/x-mpegurl\"</span>,<span class=\"code-string\">\"video/mpegurl\"</span>,<span class=\"code-string\">\"application/mpegurl\"</span>].some(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-regexp\">/maybe|probably/i</span>.test(t.canPlayType(e))})}(),Ec.supportsNativeDash=!!(<span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-built_in\">document</span>.createElement&amp;&amp;tr.getTech(<span class=\"code-string\">\"Html5\"</span>).isSupported())&amp;&amp;<span class=\"code-regexp\">/maybe|probably/i</span>.test(<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"video\"</span>).canPlayType(<span class=\"code-string\">\"application/dash+xml\"</span>)),Ec.supportsTypeNatively=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span><span class=\"code-string\">\"hls\"</span>===e?Ec.supportsNativeHls:<span class=\"code-string\">\"dash\"</span>===e&amp;&amp;Ec.supportsNativeDash},Ec.isSupported=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"HLS is no longer a tech. Please remove it from your player's techOrder.\"</span>)};<span class=\"code-keyword\">var</span> Pc=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">e</span>(<span class=\"code-params\">e,t,i</span>)</span>{<span class=\"code-keyword\">var</span> n=r.call(<span class=\"code-keyword\">this</span>,t,tr.mergeOptions(i.hls,i.vhs))||<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">if</span>(i.hls&amp;&amp;<span class=\"code-built_in\">Object</span>.keys(i.hls).length&amp;&amp;tr.log.warn(<span class=\"code-string\">\"Using hls options is deprecated. Please rename `hls` to `vhs` in your options object.\"</span>),<span class=\"code-string\">\"number\"</span>==<span class=\"code-keyword\">typeof</span> i.initialBandwidth&amp;&amp;(n.options_.bandwidth=i.initialBandwidth),n.logger_=Ro(<span class=\"code-string\">\"VhsHandler\"</span>),t.options_&amp;&amp;t.options_.playerId&amp;&amp;((i=tr(t.options_.playerId)).hasOwnProperty(<span class=\"code-string\">\"hls\"</span>)||<span class=\"code-built_in\">Object</span>.defineProperty(i,<span class=\"code-string\">\"hls\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"player.hls is deprecated. Use player.tech().vhs instead.\"</span>),t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-player-access\"</span>}),ft(n)},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),i.hasOwnProperty(<span class=\"code-string\">\"vhs\"</span>)||<span class=\"code-built_in\">Object</span>.defineProperty(i,<span class=\"code-string\">\"vhs\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"player.vhs is deprecated. Use player.tech().vhs instead.\"</span>),t.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-player-access\"</span>}),ft(n)},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),i.hasOwnProperty(<span class=\"code-string\">\"dash\"</span>)||<span class=\"code-built_in\">Object</span>.defineProperty(i,<span class=\"code-string\">\"dash\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"player.dash is deprecated. Use player.tech().vhs instead.\"</span>),ft(n)},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),n.player_=i),n.tech_=t,n.source_=e,n.stats={},n.ignoreNextSeekingEvent_=!<span class=\"code-number\">1</span>,n.setOptions_(),n.options_.overrideNative&amp;&amp;t.overrideNativeAudioTracks&amp;&amp;t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!<span class=\"code-number\">0</span>),t.overrideNativeVideoTracks(!<span class=\"code-number\">0</span>);<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(n.options_.overrideNative&amp;&amp;(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Overriding native HLS requires emulated tracks. See https://git.io/vMpjB\"</span>);<span class=\"code-keyword\">return</span> n.on(<span class=\"code-built_in\">document</span>,[<span class=\"code-string\">\"fullscreenchange\"</span>,<span class=\"code-string\">\"webkitfullscreenchange\"</span>,<span class=\"code-string\">\"mozfullscreenchange\"</span>,<span class=\"code-string\">\"MSFullscreenChange\"</span>],<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-built_in\">document</span>.fullscreenElement||<span class=\"code-built_in\">document</span>.webkitFullscreenElement||<span class=\"code-built_in\">document</span>.mozFullScreenElement||<span class=\"code-built_in\">document</span>.msFullscreenElement;t&amp;&amp;t.contains(n.tech_.el())?n.masterPlaylistController_.fastQualityChange_():n.masterPlaylistController_.checkABR_()}),n.on(n.tech_,<span class=\"code-string\">\"seeking\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.ignoreNextSeekingEvent_?<span class=\"code-keyword\">this</span>.ignoreNextSeekingEvent_=!<span class=\"code-number\">1</span>:<span class=\"code-keyword\">this</span>.setCurrentTime(<span class=\"code-keyword\">this</span>.tech_.currentTime())}),n.on(n.tech_,<span class=\"code-string\">\"error\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_.error()&amp;&amp;<span class=\"code-keyword\">this</span>.masterPlaylistController_&amp;&amp;<span class=\"code-keyword\">this</span>.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,<span class=\"code-string\">\"play\"</span>,n.play),n}mt(e,r);<span class=\"code-keyword\">var</span> t=e.prototype;<span class=\"code-keyword\">return</span> t.setOptions_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e,t=<span class=\"code-keyword\">this</span>;<span class=\"code-keyword\">this</span>.options_.withCredentials=<span class=\"code-keyword\">this</span>.options_.withCredentials||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.options_.handleManifestRedirects=!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.options_.handleManifestRedirects,<span class=\"code-keyword\">this</span>.options_.limitRenditionByPlayerDimensions=!<span class=\"code-number\">1</span>!==<span class=\"code-keyword\">this</span>.options_.limitRenditionByPlayerDimensions,<span class=\"code-keyword\">this</span>.options_.useDevicePixelRatio=<span class=\"code-keyword\">this</span>.options_.useDevicePixelRatio||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.options_.smoothQualityChange=<span class=\"code-keyword\">this</span>.options_.smoothQualityChange||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.options_.useBandwidthFromLocalStorage=<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.source_.useBandwidthFromLocalStorage?<span class=\"code-keyword\">this</span>.source_.useBandwidthFromLocalStorage:<span class=\"code-keyword\">this</span>.options_.useBandwidthFromLocalStorage||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.options_.useNetworkInformationApi=<span class=\"code-keyword\">this</span>.options_.useNetworkInformationApi||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.options_.useDtsForTimestampOffset=<span class=\"code-keyword\">this</span>.options_.useDtsForTimestampOffset||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.options_.customTagParsers=<span class=\"code-keyword\">this</span>.options_.customTagParsers||[],<span class=\"code-keyword\">this</span>.options_.customTagMappers=<span class=\"code-keyword\">this</span>.options_.customTagMappers||[],<span class=\"code-keyword\">this</span>.options_.cacheEncryptionKeys=<span class=\"code-keyword\">this</span>.options_.cacheEncryptionKeys||!<span class=\"code-number\">1</span>,<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options_.blacklistDuration&amp;&amp;(<span class=\"code-keyword\">this</span>.options_.blacklistDuration=<span class=\"code-number\">300</span>),<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options_.bandwidth&amp;&amp;<span class=\"code-keyword\">this</span>.options_.useBandwidthFromLocalStorage&amp;&amp;((e=Ac())&amp;&amp;e.bandwidth&amp;&amp;(<span class=\"code-keyword\">this</span>.options_.bandwidth=e.bandwidth,<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-bandwidth-from-local-storage\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-bandwidth-from-local-storage\"</span>})),e&amp;&amp;e.throughput&amp;&amp;(<span class=\"code-keyword\">this</span>.options_.throughput=e.throughput,<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"vhs-throughput-from-local-storage\"</span>}),<span class=\"code-keyword\">this</span>.tech_.trigger({<span class=\"code-attr\">type</span>:<span class=\"code-string\">\"usage\"</span>,<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"hls-throughput-from-local-storage\"</span>}))),<span class=\"code-string\">\"number\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-keyword\">this</span>.options_.bandwidth&amp;&amp;(<span class=\"code-keyword\">this</span>.options_.bandwidth=El.INITIAL_BANDWIDTH),<span class=\"code-keyword\">this</span>.options_.enableLowInitialPlaylist=<span class=\"code-keyword\">this</span>.options_.enableLowInitialPlaylist&amp;&amp;<span class=\"code-keyword\">this</span>.options_.bandwidth===El.INITIAL_BANDWIDTH,[<span class=\"code-string\">\"withCredentials\"</span>,<span class=\"code-string\">\"useDevicePixelRatio\"</span>,<span class=\"code-string\">\"limitRenditionByPlayerDimensions\"</span>,<span class=\"code-string\">\"bandwidth\"</span>,<span class=\"code-string\">\"smoothQualityChange\"</span>,<span class=\"code-string\">\"customTagParsers\"</span>,<span class=\"code-string\">\"customTagMappers\"</span>,<span class=\"code-string\">\"handleManifestRedirects\"</span>,<span class=\"code-string\">\"cacheEncryptionKeys\"</span>,<span class=\"code-string\">\"playlistSelector\"</span>,<span class=\"code-string\">\"initialPlaylistSelector\"</span>,<span class=\"code-string\">\"experimentalBufferBasedABR\"</span>,<span class=\"code-string\">\"liveRangeSafeTimeDelta\"</span>,<span class=\"code-string\">\"experimentalLLHLS\"</span>,<span class=\"code-string\">\"useNetworkInformationApi\"</span>,<span class=\"code-string\">\"useDtsForTimestampOffset\"</span>,<span class=\"code-string\">\"experimentalExactManifestTimings\"</span>,<span class=\"code-string\">\"experimentalLeastPixelDiffSelector\"</span>].forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> t.source_[e]&amp;&amp;(t.options_[e]=t.source_[e])}),<span class=\"code-keyword\">this</span>.limitRenditionByPlayerDimensions=<span class=\"code-keyword\">this</span>.options_.limitRenditionByPlayerDimensions,<span class=\"code-keyword\">this</span>.useDevicePixelRatio=<span class=\"code-keyword\">this</span>.options_.useDevicePixelRatio},t.src=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> n=<span class=\"code-keyword\">this</span>;e&amp;&amp;(<span class=\"code-keyword\">this</span>.setOptions_(),<span class=\"code-keyword\">this</span>.options_.src=<span class=\"code-number\">0</span>===(e=<span class=\"code-keyword\">this</span>.source_.src).toLowerCase().indexOf(<span class=\"code-string\">\"data:application/vnd.videojs.vhs+json,\"</span>)?<span class=\"code-built_in\">JSON</span>.parse(e.substring(e.indexOf(<span class=\"code-string\">\",\"</span>)+<span class=\"code-number\">1</span>)):e,<span class=\"code-keyword\">this</span>.options_.tech=<span class=\"code-keyword\">this</span>.tech_,<span class=\"code-keyword\">this</span>.options_.externVhs=Ec,<span class=\"code-keyword\">this</span>.options_.sourceType=vr(t),<span class=\"code-keyword\">this</span>.options_.seekTo=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{n.tech_.setCurrentTime(e)},<span class=\"code-keyword\">this</span>.options_.smoothQualityChange&amp;&amp;tr.log.warn(<span class=\"code-string\">\"smoothQualityChange is deprecated and will be removed in the next major version\"</span>),<span class=\"code-keyword\">this</span>.masterPlaylistController_=<span class=\"code-keyword\">new</span> bc(<span class=\"code-keyword\">this</span>.options_),t=tr.mergeOptions({<span class=\"code-attr\">liveRangeSafeTimeDelta</span>:<span class=\"code-number\">.1</span>},<span class=\"code-keyword\">this</span>.options_,{<span class=\"code-attr\">seekable</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.seekable()},<span class=\"code-attr\">media</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.media()},<span class=\"code-attr\">masterPlaylistController</span>:<span class=\"code-keyword\">this</span>.masterPlaylistController_}),<span class=\"code-keyword\">this</span>.playbackWatcher_=<span class=\"code-keyword\">new</span> Sc(t),<span class=\"code-keyword\">this</span>.masterPlaylistController_.on(<span class=\"code-string\">\"error\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=tr.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;<span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> t||t.code?<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;(t={<span class=\"code-attr\">message</span>:t,<span class=\"code-attr\">code</span>:<span class=\"code-number\">3</span>}):t.code=<span class=\"code-number\">3</span>,e.error(t)}),t=<span class=\"code-keyword\">this</span>.options_.experimentalBufferBasedABR?Ec.movingAverageBandwidthSelector(<span class=\"code-number\">.55</span>):Ec.STANDARD_PLAYLIST_SELECTOR,<span class=\"code-keyword\">this</span>.masterPlaylistController_.selectPlaylist=(<span class=\"code-keyword\">this</span>.selectPlaylist||t).bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.masterPlaylistController_.selectInitialPlaylist=Ec.INITIAL_PLAYLIST_SELECTOR.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.playlists=<span class=\"code-keyword\">this</span>.masterPlaylistController_.masterPlaylistLoader_,<span class=\"code-keyword\">this</span>.mediaSource=<span class=\"code-keyword\">this</span>.masterPlaylistController_.mediaSource,<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>,{<span class=\"code-attr\">selectPlaylist</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistController_.selectPlaylist},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.masterPlaylistController_.selectPlaylist=e.bind(<span class=\"code-keyword\">this</span>)}},<span class=\"code-attr\">throughput</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput.rate},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,<span class=\"code-keyword\">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput.count=<span class=\"code-number\">1</span>}},<span class=\"code-attr\">bandwidth</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-keyword\">this</span>.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=<span class=\"code-built_in\">window</span>.navigator.connection||<span class=\"code-built_in\">window</span>.navigator.mozConnection||<span class=\"code-built_in\">window</span>.navigator.webkitConnection;<span class=\"code-keyword\">return</span> e=<span class=\"code-keyword\">this</span>.options_.useNetworkInformationApi&amp;&amp;t?<span class=\"code-number\">1e7</span>&lt;=(t=<span class=\"code-number\">1e3</span>*t.downlink*<span class=\"code-number\">1e3</span>)&amp;&amp;<span class=\"code-number\">1e7</span>&lt;=e?<span class=\"code-built_in\">Math</span>.max(e,t):t:e},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,<span class=\"code-keyword\">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput={<span class=\"code-attr\">rate</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">count</span>:<span class=\"code-number\">0</span>}}},<span class=\"code-attr\">systemBandwidth</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=<span class=\"code-number\">1</span>/(<span class=\"code-keyword\">this</span>.bandwidth||<span class=\"code-number\">1</span>),t=<span class=\"code-number\">0</span>&lt;<span class=\"code-keyword\">this</span>.throughput?<span class=\"code-number\">1</span>/<span class=\"code-keyword\">this</span>.throughput:<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Math</span>.floor(<span class=\"code-number\">1</span>/(e+t))},<span class=\"code-attr\">set</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{tr.log.error(<span class=\"code-string\">'The \"systemBandwidth\" property is read-only'</span>)}}}),<span class=\"code-keyword\">this</span>.options_.bandwidth&amp;&amp;(<span class=\"code-keyword\">this</span>.bandwidth=<span class=\"code-keyword\">this</span>.options_.bandwidth),<span class=\"code-keyword\">this</span>.options_.throughput&amp;&amp;(<span class=\"code-keyword\">this</span>.throughput=<span class=\"code-keyword\">this</span>.options_.throughput),<span class=\"code-built_in\">Object</span>.defineProperties(<span class=\"code-keyword\">this</span>.stats,{<span class=\"code-attr\">bandwidth</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.bandwidth||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaRequests</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaRequests_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaRequestsAborted</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaRequestsAborted_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaRequestsTimedout</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaRequestsTimedout_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaRequestsErrored</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaRequestsErrored_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaTransferDuration</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaTransferDuration_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaBytesTransferred</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaBytesTransferred_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaSecondsLoaded</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaSecondsLoaded_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mediaAppends</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mediaAppends_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">mainAppendsToLoadedData</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.mainAppendsToLoadedData_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">audioAppendsToLoadedData</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.audioAppendsToLoadedData_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">appendsToLoadedData</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.appendsToLoadedData_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">timeToLoadedData</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.masterPlaylistController_.timeToLoadedData_()||<span class=\"code-number\">0</span>},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">buffered</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> jo(n.tech_.buffered())},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">currentTime</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.tech_.currentTime()},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">currentSource</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.tech_.currentSource_},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">currentTech</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.tech_.name_},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">duration</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.tech_.duration()},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">master</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.playlists.master},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">playerDimensions</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.tech_.currentDimensions()},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">seekable</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> jo(n.tech_.seekable())},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">timestamp</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">Date</span>.now()},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>},<span class=\"code-attr\">videoPlaybackQuality</span>:{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> n.tech_.getVideoPlaybackQuality()},<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>}}),<span class=\"code-keyword\">this</span>.tech_.one(<span class=\"code-string\">\"canplay\"</span>,<span class=\"code-keyword\">this</span>.masterPlaylistController_.setupFirstPlay.bind(<span class=\"code-keyword\">this</span>.masterPlaylistController_)),<span class=\"code-keyword\">this</span>.tech_.on(<span class=\"code-string\">\"bandwidthupdate\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.options_.useBandwidthFromLocalStorage&amp;&amp;<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">window</span>.localStorage)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">var</span> t=(t=Ac())?tr.mergeOptions(t,e):e;<span class=\"code-keyword\">try</span>{<span class=\"code-built_in\">window</span>.localStorage.setItem(Cc,<span class=\"code-built_in\">JSON</span>.stringify(t))}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">return</span>}}({<span class=\"code-attr\">bandwidth</span>:n.bandwidth,<span class=\"code-attr\">throughput</span>:<span class=\"code-built_in\">Math</span>.round(n.throughput)})}),<span class=\"code-keyword\">this</span>.masterPlaylistController_.on(<span class=\"code-string\">\"selectedinitialmedia\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i;(i=n).representations=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> e=i.masterPlaylistController_.master(),e=au(e)?i.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;<span class=\"code-keyword\">return</span> e?e.filter(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!Zo(e)}).map(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> Kl(i,e,e.id)}):[]}}),<span class=\"code-keyword\">this</span>.masterPlaylistController_.sourceUpdater_.on(<span class=\"code-string\">\"createdsourcebuffers\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{n.setupEme_()}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.masterPlaylistController_,<span class=\"code-string\">\"progress\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.tech_.trigger(<span class=\"code-string\">\"progress\"</span>)}),<span class=\"code-keyword\">this</span>.on(<span class=\"code-keyword\">this</span>.masterPlaylistController_,<span class=\"code-string\">\"firstplay\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.ignoreNextSeekingEvent_=!<span class=\"code-number\">0</span>}),<span class=\"code-keyword\">this</span>.setupQualityLevels_(),<span class=\"code-keyword\">this</span>.tech_.el()&amp;&amp;(<span class=\"code-keyword\">this</span>.mediaSourceUrl_=<span class=\"code-built_in\">window</span>.URL.createObjectURL(<span class=\"code-keyword\">this</span>.masterPlaylistController_.mediaSource),<span class=\"code-keyword\">this</span>.tech_.src(<span class=\"code-keyword\">this</span>.mediaSourceUrl_)))},t.createKeySessions_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,e=<span class=\"code-keyword\">this</span>.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"waiting for EME key session creation\"</span>),Ic({<span class=\"code-attr\">player</span>:<span class=\"code-keyword\">this</span>.player_,<span class=\"code-attr\">sourceKeySystems</span>:<span class=\"code-keyword\">this</span>.source_.keySystems,<span class=\"code-attr\">audioMedia</span>:e&amp;&amp;e.media(),<span class=\"code-attr\">mainPlaylists</span>:<span class=\"code-keyword\">this</span>.playlists.master.playlists}).then(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{t.logger_(<span class=\"code-string\">\"created EME key session\"</span>),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.logger_(<span class=\"code-string\">\"error while creating EME key session\"</span>,e),t.player_.error({<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"Failed to initialize media keys for EME\"</span>,<span class=\"code-attr\">code</span>:<span class=\"code-number\">3</span>})})},t.handleWaitingForKey_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.logger_(<span class=\"code-string\">\"waitingforkey fired, attempting to create any new key sessions\"</span>),<span class=\"code-keyword\">this</span>.createKeySessions_()},t.setupEme_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t=<span class=\"code-keyword\">this</span>,e=<span class=\"code-keyword\">this</span>.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,e=xc({<span class=\"code-attr\">player</span>:<span class=\"code-keyword\">this</span>.player_,<span class=\"code-attr\">sourceKeySystems</span>:<span class=\"code-keyword\">this</span>.source_.keySystems,<span class=\"code-attr\">media</span>:<span class=\"code-keyword\">this</span>.playlists.media(),<span class=\"code-attr\">audioMedia</span>:e&amp;&amp;e.media()});<span class=\"code-keyword\">this</span>.player_.tech_.on(<span class=\"code-string\">\"keystatuschange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"output-restricted\"</span>===e.status&amp;&amp;t.masterPlaylistController_.blacklistCurrentPlaylist({<span class=\"code-attr\">playlist</span>:t.masterPlaylistController_.media(),<span class=\"code-attr\">message</span>:<span class=\"code-string\">\"DRM keystatus changed to \"</span>+e.status+<span class=\"code-string\">\". Playlist will fail to play. Check for HDCP content.\"</span>,<span class=\"code-attr\">blacklistDuration</span>:<span class=\"code-number\">1</span>/<span class=\"code-number\">0</span>})}),<span class=\"code-keyword\">this</span>.handleWaitingForKey_=<span class=\"code-keyword\">this</span>.handleWaitingForKey_.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>.player_.tech_.on(<span class=\"code-string\">\"waitingforkey\"</span>,<span class=\"code-keyword\">this</span>.handleWaitingForKey_),<span class=\"code-number\">11</span>!==tr.browser.IE_VERSION&amp;&amp;e?<span class=\"code-keyword\">this</span>.createKeySessions_():<span class=\"code-keyword\">this</span>.masterPlaylistController_.sourceUpdater_.initializedEme()},t.setupQualityLevels_=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> i=<span class=\"code-keyword\">this</span>,e=tr.players[<span class=\"code-keyword\">this</span>.tech_.options_.playerId];e&amp;&amp;e.qualityLevels&amp;&amp;!<span class=\"code-keyword\">this</span>.qualityLevels_&amp;&amp;(<span class=\"code-keyword\">this</span>.qualityLevels_=e.qualityLevels(),<span class=\"code-keyword\">this</span>.masterPlaylistController_.on(<span class=\"code-string\">\"selectedinitialmedia\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">var</span> t,e;t=i.qualityLevels_,(e=i).representations().forEach(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{t.addQualityLevel(e)}),kc(t,e.playlists)}),<span class=\"code-keyword\">this</span>.playlists.on(<span class=\"code-string\">\"mediachange\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{kc(i.qualityLevels_,i.playlists)}))},e.version=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-string\">\"@videojs/http-streaming\"</span>:<span class=\"code-string\">\"2.14.2\"</span>,<span class=\"code-string\">\"mux.js\"</span>:<span class=\"code-string\">\"6.0.1\"</span>,<span class=\"code-string\">\"mpd-parser\"</span>:<span class=\"code-string\">\"0.21.1\"</span>,<span class=\"code-string\">\"m3u8-parser\"</span>:<span class=\"code-string\">\"4.7.1\"</span>,<span class=\"code-string\">\"aes-decrypter\"</span>:<span class=\"code-string\">\"3.1.3\"</span>}},t.version=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.constructor.version()},t.canChangeType=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> uc.canChangeType()},t.play=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.masterPlaylistController_.play()},t.setCurrentTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">this</span>.masterPlaylistController_.setCurrentTime(e)},t.duration=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistController_.duration()},t.seekable=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.masterPlaylistController_.seekable()},t.dispose=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>.playbackWatcher_&amp;&amp;<span class=\"code-keyword\">this</span>.playbackWatcher_.dispose(),<span class=\"code-keyword\">this</span>.masterPlaylistController_&amp;&amp;<span class=\"code-keyword\">this</span>.masterPlaylistController_.dispose(),<span class=\"code-keyword\">this</span>.qualityLevels_&amp;&amp;<span class=\"code-keyword\">this</span>.qualityLevels_.dispose(),<span class=\"code-keyword\">this</span>.player_&amp;&amp;(<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.player_.vhs,<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.player_.dash,<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.player_.hls),<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.vhs&amp;&amp;<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.tech_.vhs,<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.tech_.hls,<span class=\"code-keyword\">this</span>.mediaSourceUrl_&amp;&amp;<span class=\"code-built_in\">window</span>.URL.revokeObjectURL&amp;&amp;(<span class=\"code-built_in\">window</span>.URL.revokeObjectURL(<span class=\"code-keyword\">this</span>.mediaSourceUrl_),<span class=\"code-keyword\">this</span>.mediaSourceUrl_=<span class=\"code-literal\">null</span>),<span class=\"code-keyword\">this</span>.tech_&amp;&amp;<span class=\"code-keyword\">this</span>.tech_.off(<span class=\"code-string\">\"waitingforkey\"</span>,<span class=\"code-keyword\">this</span>.handleWaitingForKey_),r.prototype.dispose.call(<span class=\"code-keyword\">this</span>)},t.convertToProgramTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> ku({<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.masterPlaylistController_.media(),<span class=\"code-attr\">time</span>:e,<span class=\"code-attr\">callback</span>:t})},t.seekToProgramTime=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i,n</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i&amp;&amp;(i=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===n&amp;&amp;(n=<span class=\"code-number\">2</span>),Cu({<span class=\"code-attr\">programTime</span>:e,<span class=\"code-attr\">playlist</span>:<span class=\"code-keyword\">this</span>.masterPlaylistController_.media(),<span class=\"code-attr\">retryCount</span>:n,<span class=\"code-attr\">pauseAfterSeek</span>:i,<span class=\"code-attr\">seekTo</span>:<span class=\"code-keyword\">this</span>.options_.seekTo,<span class=\"code-attr\">tech</span>:<span class=\"code-keyword\">this</span>.options_.tech,<span class=\"code-attr\">callback</span>:t})},e}(tr.getComponent(<span class=\"code-string\">\"Component\"</span>)),Lc={<span class=\"code-attr\">name</span>:<span class=\"code-string\">\"videojs-http-streaming\"</span>,<span class=\"code-attr\">VERSION</span>:<span class=\"code-string\">\"2.14.2\"</span>,<span class=\"code-attr\">canHandleSource</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{t=tr.mergeOptions(tr.options,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t);<span class=\"code-keyword\">return</span> Lc.canPlayType(e.type,t)},<span class=\"code-attr\">handleSource</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,i</span>)</span>{i=tr.mergeOptions(tr.options,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i?{}:i);<span class=\"code-keyword\">return</span> t.vhs=<span class=\"code-keyword\">new</span> Pc(e,t,i),tr.hasOwnProperty(<span class=\"code-string\">\"hls\"</span>)||<span class=\"code-built_in\">Object</span>.defineProperty(t,<span class=\"code-string\">\"hls\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"player.tech().hls is deprecated. Use player.tech().vhs instead.\"</span>),t.vhs},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),t.vhs.xhr=yu(),t.vhs.src(e.src,e.type),t.vhs},<span class=\"code-attr\">canPlayType</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">var</span> i=tr.mergeOptions(tr.options,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t),t=i.vhs,t=(t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?{}:t).overrideNative,t=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===t?!tr.browser.IS_ANY_SAFARI:t,i=i.hls,i=(i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===i?{}:i).overrideNative,i=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==i&amp;&amp;i,e=vr(e);<span class=\"code-keyword\">return</span> e&amp;&amp;(!Ec.supportsTypeNatively(e)||i||t)?<span class=\"code-string\">\"maybe\"</span>:<span class=\"code-string\">\"\"</span>}};<span class=\"code-keyword\">return</span> gr(<span class=\"code-string\">\"avc1.4d400d,mp4a.40.2\"</span>)&amp;&amp;tr.getTech(<span class=\"code-string\">\"Html5\"</span>).registerSourceHandler(Lc,<span class=\"code-number\">0</span>),tr.VhsHandler=Pc,<span class=\"code-built_in\">Object</span>.defineProperty(tr,<span class=\"code-string\">\"HlsHandler\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead.\"</span>),Pc},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),tr.VhsSourceHandler=Lc,<span class=\"code-built_in\">Object</span>.defineProperty(tr,<span class=\"code-string\">\"HlsSourceHandler\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead.\"</span>),Lc},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),tr.Vhs=Ec,<span class=\"code-built_in\">Object</span>.defineProperty(tr,<span class=\"code-string\">\"Hls\"</span>,{<span class=\"code-attr\">get</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> tr.log.warn(<span class=\"code-string\">\"videojs.Hls is deprecated. Use videojs.Vhs instead.\"</span>),Ec},<span class=\"code-attr\">configurable</span>:!<span class=\"code-number\">0</span>}),tr.use||(tr.registerComponent(<span class=\"code-string\">\"Hls\"</span>,Ec),tr.registerComponent(<span class=\"code-string\">\"Vhs\"</span>,Ec)),tr.options.vhs=tr.options.vhs||{},tr.options.hls=tr.options.hls||{},tr.getPlugin&amp;&amp;tr.getPlugin(<span class=\"code-string\">\"reloadSourceOnError\"</span>)||(tr.registerPlugin||tr.plugin)(<span class=\"code-string\">\"reloadSourceOnError\"</span>,<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{Yl(<span class=\"code-keyword\">this</span>,e)}),tr});"]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/video.js@7.20.1/" class="css-xt128v">video.js</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/video.js@7.20.1/dist/" class="css-xt128v">dist</a><span class="css-lllnmq">/</span><strong>video.min.js</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="4.1.0">4.1.0</option><option value="4.2.0">4.2.0</option><option value="4.2.1">4.2.1</option><option value="4.2.2">4.2.2</option><option value="4.3.0">4.3.0</option><option value="4.4.0">4.4.0</option><option value="4.4.1">4.4.1</option><option value="4.4.2">4.4.2</option><option value="4.4.3">4.4.3</option><option value="4.5.0">4.5.0</option><option value="4.5.1">4.5.1</option><option value="4.5.2">4.5.2</option><option value="4.6.0">4.6.0</option><option value="4.6.1">4.6.1</option><option value="4.6.2">4.6.2</option><option value="4.6.3">4.6.3</option><option value="4.6.4">4.6.4</option><option value="4.7.0">4.7.0</option><option value="4.7.1">4.7.1</option><option value="4.7.2">4.7.2</option><option value="4.7.3">4.7.3</option><option value="4.8.0">4.8.0</option><option value="4.8.1">4.8.1</option><option value="4.8.2">4.8.2</option><option value="4.8.3">4.8.3</option><option value="4.8.4">4.8.4</option><option value="4.8.5">4.8.5</option><option value="4.9.0">4.9.0</option><option value="4.9.1">4.9.1</option><option value="4.10.0">4.10.0</option><option value="4.10.1">4.10.1</option><option value="4.10.2">4.10.2</option><option value="4.11.0">4.11.0</option><option value="4.11.1">4.11.1</option><option value="4.11.2">4.11.2</option><option value="4.11.3">4.11.3</option><option value="4.11.4">4.11.4</option><option value="4.12.0">4.12.0</option><option value="4.12.1">4.12.1</option><option value="4.12.2">4.12.2</option><option value="4.12.3">4.12.3</option><option value="4.12.4">4.12.4</option><option value="4.12.5">4.12.5</option><option value="4.12.6">4.12.6</option><option value="4.12.7">4.12.7</option><option value="4.12.8">4.12.8</option><option value="4.12.9">4.12.9</option><option value="4.12.10">4.12.10</option><option value="4.12.11">4.12.11</option><option value="4.12.12">4.12.12</option><option value="4.12.13">4.12.13</option><option value="4.12.14">4.12.14</option><option value="4.12.15">4.12.15</option><option value="5.0.0-1">5.0.0-1</option><option value="5.0.0-2">5.0.0-2</option><option value="5.0.0-3">5.0.0-3</option><option value="5.0.0-4">5.0.0-4</option><option value="5.0.0-5">5.0.0-5</option><option value="5.0.0-6">5.0.0-6</option><option value="5.0.0-7">5.0.0-7</option><option value="5.0.0-8">5.0.0-8</option><option value="5.0.0-9">5.0.0-9</option><option value="5.0.0-10">5.0.0-10</option><option value="5.0.0-11">5.0.0-11</option><option value="5.0.0-12">5.0.0-12</option><option value="5.0.0-13">5.0.0-13</option><option value="5.0.0-14">5.0.0-14</option><option value="5.0.0-15">5.0.0-15</option><option value="5.0.0-16">5.0.0-16</option><option value="5.0.0-17">5.0.0-17</option><option value="5.0.0-18">5.0.0-18</option><option value="5.0.0-19">5.0.0-19</option><option value="5.0.0-20">5.0.0-20</option><option value="5.0.0-21">5.0.0-21</option><option value="5.0.0-22">5.0.0-22</option><option value="5.0.0-23">5.0.0-23</option><option value="5.0.0-24">5.0.0-24</option><option value="5.0.0-25">5.0.0-25</option><option value="5.0.0-26">5.0.0-26</option><option value="5.0.0-27">5.0.0-27</option><option value="5.0.0-28">5.0.0-28</option><option value="5.0.0-29">5.0.0-29</option><option value="5.0.0-30">5.0.0-30</option><option value="5.0.0-31">5.0.0-31</option><option value="5.0.0-32">5.0.0-32</option><option value="5.0.0-33">5.0.0-33</option><option value="5.0.0-34">5.0.0-34</option><option value="5.0.0-rc.1">5.0.0-rc.1</option><option value="5.0.0-rc.2">5.0.0-rc.2</option><option value="5.0.0-rc.3">5.0.0-rc.3</option><option value="5.0.0-rc.4">5.0.0-rc.4</option><option value="5.0.0-rc.5">5.0.0-rc.5</option><option value="5.0.0-rc.6">5.0.0-rc.6</option><option value="5.0.0-rc.7">5.0.0-rc.7</option><option value="5.0.0-rc.8">5.0.0-rc.8</option><option value="5.0.0-rc.9">5.0.0-rc.9</option><option value="5.0.0-rc.10">5.0.0-rc.10</option><option value="5.0.0-rc.11">5.0.0-rc.11</option><option value="5.0.0-rc.12">5.0.0-rc.12</option><option value="5.0.0-rc.13">5.0.0-rc.13</option><option value="5.0.0-rc.14">5.0.0-rc.14</option><option value="5.0.0-rc.15">5.0.0-rc.15</option><option value="5.0.0-rc.16">5.0.0-rc.16</option><option value="5.0.0-rc.17">5.0.0-rc.17</option><option value="5.0.0-rc.18">5.0.0-rc.18</option><option value="5.0.0-rc.19">5.0.0-rc.19</option><option value="5.0.0-rc.20">5.0.0-rc.20</option><option value="5.0.0-rc.21">5.0.0-rc.21</option><option value="5.0.0-rc.22">5.0.0-rc.22</option><option value="5.0.0-rc.23">5.0.0-rc.23</option><option value="5.0.0-rc.24">5.0.0-rc.24</option><option value="5.0.0-rc.25">5.0.0-rc.25</option><option value="5.0.0-rc.26">5.0.0-rc.26</option><option value="5.0.0-rc.27">5.0.0-rc.27</option><option value="5.0.0-rc.28">5.0.0-rc.28</option><option value="5.0.0-rc.29">5.0.0-rc.29</option><option value="5.0.0-rc.30">5.0.0-rc.30</option><option value="5.0.0-rc.31">5.0.0-rc.31</option><option value="5.0.0-rc.32">5.0.0-rc.32</option><option value="5.0.0-rc.33">5.0.0-rc.33</option><option value="5.0.0-rc.34">5.0.0-rc.34</option><option value="5.0.0-rc.35">5.0.0-rc.35</option><option value="5.0.0-rc.36">5.0.0-rc.36</option><option value="5.0.0-rc.37">5.0.0-rc.37</option><option value="5.0.0-rc.38">5.0.0-rc.38</option><option value="5.0.0-rc.39">5.0.0-rc.39</option><option value="5.0.0-rc.40">5.0.0-rc.40</option><option value="5.0.0-rc.41">5.0.0-rc.41</option><option value="5.0.0-rc.42">5.0.0-rc.42</option><option value="5.0.0-rc.43">5.0.0-rc.43</option><option value="5.0.0-rc.44">5.0.0-rc.44</option><option value="5.0.0-rc.45">5.0.0-rc.45</option><option value="5.0.0-rc.46">5.0.0-rc.46</option><option value="5.0.0-rc.47">5.0.0-rc.47</option><option value="5.0.0-rc.48">5.0.0-rc.48</option><option value="5.0.0-rc.49">5.0.0-rc.49</option><option value="5.0.0-rc.50">5.0.0-rc.50</option><option value="5.0.0-rc.51">5.0.0-rc.51</option><option value="5.0.0-rc.52">5.0.0-rc.52</option><option value="5.0.0-rc.53">5.0.0-rc.53</option><option value="5.0.0-rc.54">5.0.0-rc.54</option><option value="5.0.0-rc.55">5.0.0-rc.55</option><option value="5.0.0-rc.56">5.0.0-rc.56</option><option value="5.0.0-rc.57">5.0.0-rc.57</option><option value="5.0.0-rc.58">5.0.0-rc.58</option><option value="5.0.0-rc.59">5.0.0-rc.59</option><option value="5.0.0-rc.60">5.0.0-rc.60</option><option value="5.0.0-rc.61">5.0.0-rc.61</option><option value="5.0.0-rc.62">5.0.0-rc.62</option><option value="5.0.0-rc.63">5.0.0-rc.63</option><option value="5.0.0-rc.64">5.0.0-rc.64</option><option value="5.0.0-rc.65">5.0.0-rc.65</option><option value="5.0.0-rc.66">5.0.0-rc.66</option><option value="5.0.0-rc.67">5.0.0-rc.67</option><option value="5.0.0-rc.68">5.0.0-rc.68</option><option value="5.0.0-rc.69">5.0.0-rc.69</option><option value="5.0.0-rc.70">5.0.0-rc.70</option><option value="5.0.0-rc.71">5.0.0-rc.71</option><option value="5.0.0-rc.72">5.0.0-rc.72</option><option value="5.0.0-rc.73">5.0.0-rc.73</option><option value="5.0.0-rc.74">5.0.0-rc.74</option><option value="5.0.0-rc.75">5.0.0-rc.75</option><option value="5.0.0-rc.76">5.0.0-rc.76</option><option value="5.0.0-rc.77">5.0.0-rc.77</option><option value="5.0.0-rc.78">5.0.0-rc.78</option><option value="5.0.0-rc.79">5.0.0-rc.79</option><option value="5.0.0-rc.80">5.0.0-rc.80</option><option value="5.0.0-rc.81">5.0.0-rc.81</option><option value="5.0.0-rc.82">5.0.0-rc.82</option><option value="5.0.0-rc.83">5.0.0-rc.83</option><option value="5.0.0-rc.84">5.0.0-rc.84</option><option value="5.0.0-rc.85">5.0.0-rc.85</option><option value="5.0.0-rc.86">5.0.0-rc.86</option><option value="5.0.0-rc.87">5.0.0-rc.87</option><option value="5.0.0-rc.88">5.0.0-rc.88</option><option value="5.0.0-rc.89">5.0.0-rc.89</option><option value="5.0.0-rc.90">5.0.0-rc.90</option><option value="5.0.0-rc.91">5.0.0-rc.91</option><option value="5.0.0-rc.92">5.0.0-rc.92</option><option value="5.0.0-rc.93">5.0.0-rc.93</option><option value="5.0.0-rc.94">5.0.0-rc.94</option><option value="5.0.0-rc.95">5.0.0-rc.95</option><option value="5.0.0-rc.96">5.0.0-rc.96</option><option value="5.0.0-rc.97">5.0.0-rc.97</option><option value="5.0.0-rc.98">5.0.0-rc.98</option><option value="5.0.0-rc.99">5.0.0-rc.99</option><option value="5.0.0-rc.100">5.0.0-rc.100</option><option value="5.0.0-rc.101">5.0.0-rc.101</option><option value="5.0.0-rc.102">5.0.0-rc.102</option><option value="5.0.0-rc.103">5.0.0-rc.103</option><option value="5.0.0-rc.104">5.0.0-rc.104</option><option value="5.0.0">5.0.0</option><option value="5.0.2">5.0.2</option><option value="5.1.0">5.1.0</option><option value="5.2.0">5.2.0</option><option value="5.2.1">5.2.1</option><option value="5.2.2">5.2.2</option><option value="5.2.3">5.2.3</option><option value="5.2.4">5.2.4</option><option value="5.3.0">5.3.0</option><option value="5.4.0">5.4.0</option><option value="5.4.2">5.4.2</option><option value="5.4.3">5.4.3</option><option value="5.4.4">5.4.4</option><option value="5.4.5">5.4.5</option><option value="5.4.6">5.4.6</option><option value="5.5.0">5.5.0</option><option value="5.5.1">5.5.1</option><option value="5.5.2">5.5.2</option><option value="5.5.3">5.5.3</option><option value="5.6.0">5.6.0</option><option value="5.7.0">5.7.0</option><option value="5.7.1">5.7.1</option><option value="5.8.0">5.8.0</option><option value="5.8.1">5.8.1</option><option value="5.8.2">5.8.2</option><option value="5.8.3">5.8.3</option><option value="5.8.4">5.8.4</option><option value="5.8.5">5.8.5</option><option value="5.8.6">5.8.6</option><option value="5.8.7">5.8.7</option><option value="5.8.8">5.8.8</option><option value="5.9.0-0">5.9.0-0</option><option value="5.9.0-1">5.9.0-1</option><option value="5.9.0-2">5.9.0-2</option><option value="5.9.0">5.9.0</option><option value="5.9.1">5.9.1</option><option value="5.9.2">5.9.2</option><option value="5.10.1">5.10.1</option><option value="5.10.2">5.10.2</option><option value="5.10.3">5.10.3</option><option value="5.10.4">5.10.4</option><option value="5.10.5">5.10.5</option><option value="5.10.6">5.10.6</option><option value="5.10.7">5.10.7</option><option value="5.10.8">5.10.8</option><option value="5.11.0">5.11.0</option><option value="5.11.1">5.11.1</option><option value="5.11.2">5.11.2</option><option value="5.11.3">5.11.3</option><option value="5.11.4">5.11.4</option><option value="5.11.5">5.11.5</option><option value="5.11.6">5.11.6</option><option value="5.11.7">5.11.7</option><option value="5.11.8">5.11.8</option><option value="5.11.9">5.11.9</option><option value="5.12.0">5.12.0</option><option value="5.12.1">5.12.1</option><option value="5.12.2">5.12.2</option><option value="5.12.3">5.12.3</option><option value="5.12.4">5.12.4</option><option value="5.12.5">5.12.5</option><option value="5.12.6">5.12.6</option><option value="5.13.0">5.13.0</option><option value="5.13.1">5.13.1</option><option value="5.13.2">5.13.2</option><option value="5.14.0">5.14.0</option><option value="5.14.1">5.14.1</option><option value="5.15.0">5.15.0</option><option value="5.15.1">5.15.1</option><option value="5.16.0">5.16.0</option><option value="5.17.0">5.17.0</option><option value="5.18.0">5.18.0</option><option value="5.18.1">5.18.1</option><option value="5.18.2">5.18.2</option><option value="5.18.3">5.18.3</option><option value="5.18.4">5.18.4</option><option value="5.19.0">5.19.0</option><option value="5.19.1">5.19.1</option><option value="5.19.2">5.19.2</option><option value="5.20.0">5.20.0</option><option value="5.20.1">5.20.1</option><option value="5.20.2">5.20.2</option><option value="5.20.3">5.20.3</option><option value="5.20.4">5.20.4</option><option value="5.20.5">5.20.5</option><option value="6.0.0-RC.0">6.0.0-RC.0</option><option value="6.0.0-RC.1">6.0.0-RC.1</option><option value="6.0.0-RC.2">6.0.0-RC.2</option><option value="6.0.0-RC.3">6.0.0-RC.3</option><option value="6.0.0-RC.5">6.0.0-RC.5</option><option value="6.0.0-RC.6">6.0.0-RC.6</option><option value="6.0.0-RC.8">6.0.0-RC.8</option><option value="6.0.0">6.0.0</option><option value="6.0.1">6.0.1</option><option value="6.1.0">6.1.0</option><option value="6.2.0">6.2.0</option><option value="6.2.1">6.2.1</option><option value="6.2.2">6.2.2</option><option value="6.2.3">6.2.3</option><option value="6.2.4">6.2.4</option><option value="6.2.5">6.2.5</option><option value="6.2.6">6.2.6</option><option value="6.2.7">6.2.7</option><option value="6.2.8">6.2.8</option><option value="6.3.0">6.3.0</option><option value="6.3.1">6.3.1</option><option value="6.3.2">6.3.2</option><option value="6.3.3">6.3.3</option><option value="6.4.0">6.4.0</option><option value="6.5.0">6.5.0</option><option value="6.5.1">6.5.1</option><option value="6.5.2">6.5.2</option><option value="6.6.0">6.6.0</option><option value="6.6.1">6.6.1</option><option value="6.6.2">6.6.2</option><option value="6.6.3">6.6.3</option><option value="6.7.0">6.7.0</option><option value="6.7.1">6.7.1</option><option value="6.7.2">6.7.2</option><option value="6.7.3">6.7.3</option><option value="6.7.4">6.7.4</option><option value="6.8.0">6.8.0</option><option value="6.9.0">6.9.0</option><option value="6.10.0">6.10.0</option><option value="6.10.1">6.10.1</option><option value="6.10.2">6.10.2</option><option value="6.10.3">6.10.3</option><option value="6.11.0">6.11.0</option><option value="6.12.0">6.12.0</option><option value="6.12.1">6.12.1</option><option value="6.13.0">6.13.0</option><option value="7.0.0-alpha.1">7.0.0-alpha.1</option><option value="7.0.0-rc.1">7.0.0-rc.1</option><option value="7.0.0">7.0.0</option><option value="7.0.1">7.0.1</option><option value="7.0.2">7.0.2</option><option value="7.0.3">7.0.3</option><option value="7.0.4">7.0.4</option><option value="7.0.5">7.0.5</option><option value="7.1.0">7.1.0</option><option value="7.2.0">7.2.0</option><option value="7.2.1">7.2.1</option><option value="7.2.2">7.2.2</option><option value="7.2.3">7.2.3</option><option value="7.2.4">7.2.4</option><option value="7.3.0">7.3.0</option><option value="7.4.0">7.4.0</option><option value="7.4.1">7.4.1</option><option value="7.4.2">7.4.2</option><option value="7.4.3">7.4.3</option><option value="7.5.0">7.5.0</option><option value="7.5.1">7.5.1</option><option value="7.5.2">7.5.2</option><option value="7.5.3">7.5.3</option><option value="7.5.4">7.5.4</option><option value="7.5.5">7.5.5</option><option value="7.5.6">7.5.6</option><option value="7.6.0">7.6.0</option><option value="7.6.1">7.6.1</option><option value="7.6.2">7.6.2</option><option value="7.6.3">7.6.3</option><option value="7.6.4">7.6.4</option><option value="7.6.5">7.6.5</option><option value="7.6.6">7.6.6</option><option value="7.7.0">7.7.0</option><option value="7.7.1">7.7.1</option><option value="7.7.3">7.7.3</option><option value="7.7.4">7.7.4</option><option value="7.7.5">7.7.5</option><option value="7.7.6">7.7.6</option><option value="7.7.7">7.7.7</option><option value="7.8.0">7.8.0</option><option value="7.8.1">7.8.1</option><option value="7.8.2">7.8.2</option><option value="7.8.3">7.8.3</option><option value="7.8.4">7.8.4</option><option value="7.9.0">7.9.0</option><option value="7.9.1">7.9.1</option><option value="7.9.2">7.9.2</option><option value="7.9.3">7.9.3</option><option value="7.9.4">7.9.4</option><option value="7.9.5">7.9.5</option><option value="7.9.6">7.9.6</option><option value="7.9.7">7.9.7</option><option value="7.10.0">7.10.0</option><option value="7.10.1">7.10.1</option><option value="7.10.2">7.10.2</option><option value="7.11.0">7.11.0</option><option value="7.11.1">7.11.1</option><option value="7.11.2">7.11.2</option><option value="7.11.3">7.11.3</option><option value="7.11.4">7.11.4</option><option value="7.11.5">7.11.5</option><option value="7.11.6">7.11.6</option><option value="7.11.7">7.11.7</option><option value="7.11.8">7.11.8</option><option value="7.12.0">7.12.0</option><option value="7.12.1">7.12.1</option><option value="7.12.2">7.12.2</option><option value="7.12.3">7.12.3</option><option value="7.12.4">7.12.4</option><option value="7.13.0">7.13.0</option><option value="7.13.1">7.13.1</option><option value="7.13.2">7.13.2</option><option value="7.13.3">7.13.3</option><option value="7.13.4">7.13.4</option><option value="7.14.0">7.14.0</option><option value="7.14.1">7.14.1</option><option value="7.14.2">7.14.2</option><option value="7.14.3">7.14.3</option><option value="7.15.0">7.15.0</option><option value="7.15.1">7.15.1</option><option value="7.15.2">7.15.2</option><option value="7.15.3">7.15.3</option><option value="7.15.4">7.15.4</option><option value="7.15.5">7.15.5</option><option value="7.15.6">7.15.6</option><option value="7.15.7">7.15.7</option><option value="7.16.0">7.16.0</option><option value="7.17.0">7.17.0</option><option value="7.17.1">7.17.1</option><option value="7.17.2">7.17.2</option><option value="7.17.3">7.17.3</option><option value="7.18.0">7.18.0</option><option value="7.18.1">7.18.1</option><option value="7.19.0">7.19.0</option><option value="7.19.1">7.19.1</option><option value="7.19.2">7.19.2</option><option value="7.20.0">7.20.0</option><option selected="" value="7.20.1">7.20.1</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>582 kB</span><span>JavaScript</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/video.js@7.20.1/dist/video.min.js" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code><span class="code-comment">/**
</span></code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code><span class="code-comment"> * @license
</span></code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code><span class="code-comment"> * Video.js 7.20.1 &lt;http://videojs.com/&gt;
</span></code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code><span class="code-comment"> * Copyright Brightcove, Inc. &lt;https://www.brightcove.com/&gt;
</span></code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code><span class="code-comment"> * Available under Apache License Version 2.0
</span></code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code><span class="code-comment"> * &lt;https://github.com/videojs/video.js/blob/main/LICENSE&gt;
</span></code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L8" class="css-a4x74f"><span>8</span></td><td id="LC8" class="css-1dcdqdg"><code><span class="code-comment"> * Includes vtt.js &lt;https://github.com/mozilla/vtt.js&gt;
</span></code></td></tr><tr><td id="L9" class="css-a4x74f"><span>9</span></td><td id="LC9" class="css-1dcdqdg"><code><span class="code-comment"> * Available under Apache License Version 2.0
</span></code></td></tr><tr><td id="L10" class="css-a4x74f"><span>10</span></td><td id="LC10" class="css-1dcdqdg"><code><span class="code-comment"> * &lt;https://github.com/mozilla/vtt.js/blob/main/LICENSE&gt;
</span></code></td></tr><tr><td id="L11" class="css-a4x74f"><span>11</span></td><td id="LC11" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L12" class="css-a4x74f"><span>12</span></td><td id="LC12" class="css-1dcdqdg"><code>!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>?<span class="code-built_in">module</span>.exports=t():<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> define&amp;&amp;define.amd?define(t):(e=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> globalThis?globalThis:e||self).videojs=t()}(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,u=<span class="code-string">"7.20.1"</span>,i={},a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i[e]=i[e]||[],t&amp;&amp;(i[e]=i[e].concat(t)),i[e]},n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=a(e).indexOf(t);<span class="code-keyword">return</span>!(t&lt;=<span class="code-number">-1</span>)&amp;&amp;(i[e]=i[e].slice(),i[e].splice(t,<span class="code-number">1</span>),!<span class="code-number">0</span>)},l={<span class="code-attr">prefixed</span>:!<span class="code-number">0</span>},t=[[<span class="code-string">"requestFullscreen"</span>,<span class="code-string">"exitFullscreen"</span>,<span class="code-string">"fullscreenElement"</span>,<span class="code-string">"fullscreenEnabled"</span>,<span class="code-string">"fullscreenchange"</span>,<span class="code-string">"fullscreenerror"</span>,<span class="code-string">"fullscreen"</span>],[<span class="code-string">"webkitRequestFullscreen"</span>,<span class="code-string">"webkitExitFullscreen"</span>,<span class="code-string">"webkitFullscreenElement"</span>,<span class="code-string">"webkitFullscreenEnabled"</span>,<span class="code-string">"webkitfullscreenchange"</span>,<span class="code-string">"webkitfullscreenerror"</span>,<span class="code-string">"-webkit-full-screen"</span>],[<span class="code-string">"mozRequestFullScreen"</span>,<span class="code-string">"mozCancelFullScreen"</span>,<span class="code-string">"mozFullScreenElement"</span>,<span class="code-string">"mozFullScreenEnabled"</span>,<span class="code-string">"mozfullscreenchange"</span>,<span class="code-string">"mozfullscreenerror"</span>,<span class="code-string">"-moz-full-screen"</span>],[<span class="code-string">"msRequestFullscreen"</span>,<span class="code-string">"msExitFullscreen"</span>,<span class="code-string">"msFullscreenElement"</span>,<span class="code-string">"msFullscreenEnabled"</span>,<span class="code-string">"MSFullscreenChange"</span>,<span class="code-string">"MSFullscreenError"</span>,<span class="code-string">"-ms-fullscreen"</span>]],r=t[<span class="code-number">0</span>],s=<span class="code-number">0</span>;s&lt;t.length;s++)<span class="code-keyword">if</span>(t[s][<span class="code-number">1</span>]<span class="code-keyword">in</span> <span class="code-built_in">document</span>){e=t[s];<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(e){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;e.length;o++)l[r[o]]=e[o];l.prefixed=e[<span class="code-number">0</span>]!==r[<span class="code-number">0</span>]}<span class="code-keyword">var</span> c=[],d=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a,s</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r=s.levels[t],t=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"^("</span>+r+<span class="code-string">")$"</span>);<span class="code-string">"log"</span>!==e&amp;&amp;i.unshift(e.toUpperCase()+<span class="code-string">":"</span>),i.unshift(a+<span class="code-string">":"</span>),c&amp;&amp;(c.push([].concat(i)),n=c.length<span class="code-number">-1e3</span>,c.splice(<span class="code-number">0</span>,<span class="code-number">0</span>&lt;n?n:<span class="code-number">0</span>)),!<span class="code-built_in">window</span>.console||(n=!(n=<span class="code-built_in">window</span>.console[e])&amp;&amp;<span class="code-string">"debug"</span>===e?<span class="code-built_in">window</span>.console.info||<span class="code-built_in">window</span>.console.log:n)&amp;&amp;r&amp;&amp;t.test(e)&amp;&amp;n[<span class="code-built_in">Array</span>.isArray(i)?<span class="code-string">"apply"</span>:<span class="code-string">"call"</span>](<span class="code-built_in">window</span>.console,i)}};<span class="code-keyword">var</span> h=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];a(<span class="code-string">"log"</span>,r,t)}<span class="code-keyword">var</span> r=<span class="code-string">"info"</span>,a=d(i,n);<span class="code-keyword">return</span> n.createLogger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t(i+<span class="code-string">": "</span>+e)},n.levels={<span class="code-attr">all</span>:<span class="code-string">"debug|log|warn|error"</span>,<span class="code-attr">off</span>:<span class="code-string">""</span>,<span class="code-attr">debug</span>:<span class="code-string">"debug|log|warn|error"</span>,<span class="code-attr">info</span>:<span class="code-string">"log|warn|error"</span>,<span class="code-attr">warn</span>:<span class="code-string">"warn|error"</span>,<span class="code-attr">error</span>:<span class="code-string">"error"</span>,<span class="code-attr">DEFAULT</span>:r},n.level=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e){<span class="code-keyword">if</span>(!n.levels.hasOwnProperty(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'"'</span>+e+<span class="code-string">'" in not a valid log level'</span>);r=e}<span class="code-keyword">return</span> r},(n.history=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> c?[].concat(c):[]}).filter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>(c||[]).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">".*"</span>+t+<span class="code-string">".*"</span>).test(e[<span class="code-number">0</span>])})},n.history.clear=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{c&amp;&amp;(c.length=<span class="code-number">0</span>)},n.history.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>!==c&amp;&amp;(c.length=<span class="code-number">0</span>,c=<span class="code-literal">null</span>)},n.history.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>===c&amp;&amp;(c=[])},n.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">return</span> a(<span class="code-string">"error"</span>,r,t)},n.warn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">return</span> a(<span class="code-string">"warn"</span>,r,t)},n.debug=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">return</span> a(<span class="code-string">"debug"</span>,r,t)},n}(<span class="code-string">"VIDEOJS"</span>),p=h.createLogger,f=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> globalThis?globalThis:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> global?global:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> self?self:{};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">m</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e(t={<span class="code-attr">exports</span>:{}},t.exports),t.exports}<span class="code-keyword">var</span> g=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.exports=t=<span class="code-built_in">Object</span>.assign||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">1</span>;t&lt;<span class="code-built_in">arguments</span>.length;t++){<span class="code-keyword">var</span> i,n=<span class="code-built_in">arguments</span>[t];<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> n)<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(n,i)&amp;&amp;(e[i]=n[i])}<span class="code-keyword">return</span> e},t.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)}e.exports=t}),y=<span class="code-built_in">Object</span>.prototype.toString,v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> T(e)?<span class="code-built_in">Object</span>.keys(e):[]};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_</span>(<span class="code-params">t,i</span>)</span>{v(t).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i(t[e],e)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">b</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(<span class="code-number">1</span>&lt;e?e<span class="code-number">-1</span>:<span class="code-number">0</span>),n=<span class="code-number">1</span>;n&lt;e;n++)t[n<span class="code-number">-1</span>]=<span class="code-built_in">arguments</span>[n];<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.assign?g.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,[i].concat(t)):(t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e&amp;&amp;_(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{i[t]=e})}),i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">T</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!e&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">S</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> T(e)&amp;&amp;<span class="code-string">"[object Object]"</span>===y.call(e)&amp;&amp;e.constructor===<span class="code-built_in">Object</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">w</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!e||!t)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.getComputedStyle)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">var</span> i;<span class="code-keyword">try</span>{i=<span class="code-built_in">window</span>.getComputedStyle(e)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span><span class="code-string">""</span>}<span class="code-keyword">return</span> i?i.getPropertyValue(t)||i[t]:<span class="code-string">""</span>}<span class="code-keyword">var</span> E=<span class="code-built_in">window</span>.navigator&amp;&amp;<span class="code-built_in">window</span>.navigator.userAgent||<span class="code-string">""</span>,k=<span class="code-regexp">/AppleWebKit\/([\d.]+)/i</span>.exec(E),C=k?<span class="code-built_in">parseFloat</span>(k.pop()):<span class="code-literal">null</span>,I=<span class="code-regexp">/iPod/i</span>.test(E),x=(jt=E.match(<span class="code-regexp">/OS (\d+)_/i</span>))&amp;&amp;jt[<span class="code-number">1</span>]?jt[<span class="code-number">1</span>]:<span class="code-literal">null</span>,A=<span class="code-regexp">/Android/i</span>.test(E),P=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=E.match(<span class="code-regexp">/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i</span>);<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> t=e[<span class="code-number">1</span>]&amp;&amp;<span class="code-built_in">parseFloat</span>(e[<span class="code-number">1</span>]),i=e[<span class="code-number">2</span>]&amp;&amp;<span class="code-built_in">parseFloat</span>(e[<span class="code-number">2</span>]);<span class="code-keyword">return</span> t&amp;&amp;i?<span class="code-built_in">parseFloat</span>(e[<span class="code-number">1</span>]+<span class="code-string">"."</span>+e[<span class="code-number">2</span>]):t||<span class="code-literal">null</span>}(),L=A&amp;&amp;P&lt;<span class="code-number">5</span>&amp;&amp;C&lt;<span class="code-number">537</span>,D=<span class="code-regexp">/Firefox/i</span>.test(E),O=<span class="code-regexp">/Edg/i</span>.test(E),M=!O&amp;&amp;(<span class="code-regexp">/Chrome/i</span>.test(E)||<span class="code-regexp">/CriOS/i</span>.test(E)),R=(zt=E.match(<span class="code-regexp">/(Chrome|CriOS)\/(\d+)/</span>))&amp;&amp;zt[<span class="code-number">2</span>]?<span class="code-built_in">parseFloat</span>(zt[<span class="code-number">2</span>]):<span class="code-literal">null</span>,N=Xt=!(Xt=(Xt=<span class="code-regexp">/MSIE\s(\d+)\.\d/</span>.exec(E))&amp;&amp;<span class="code-built_in">parseFloat</span>(Xt[<span class="code-number">1</span>]))&amp;&amp;<span class="code-regexp">/Trident\/7.0/i</span>.test(E)&amp;&amp;<span class="code-regexp">/rv:11.0/</span>.test(E)?<span class="code-number">11</span>:Xt,U=<span class="code-regexp">/Safari/i</span>.test(E)&amp;&amp;!M&amp;&amp;!A&amp;&amp;!O,B=<span class="code-regexp">/Windows/i</span>.test(E),F=<span class="code-built_in">Boolean</span>(X()&amp;&amp;(<span class="code-string">"ontouchstart"</span><span class="code-keyword">in</span> <span class="code-built_in">window</span>||<span class="code-built_in">window</span>.navigator.maxTouchPoints||<span class="code-built_in">window</span>.DocumentTouch&amp;&amp;<span class="code-built_in">window</span>.document <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.DocumentTouch)),j=<span class="code-regexp">/iPad/i</span>.test(E)||U&amp;&amp;F&amp;&amp;!<span class="code-regexp">/iPhone/i</span>.test(E),H=<span class="code-regexp">/iPhone/i</span>.test(E)&amp;&amp;!j,q=H||j||I,V=(U||q)&amp;&amp;!M,W=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">IS_IPOD</span>:I,<span class="code-attr">IOS_VERSION</span>:x,<span class="code-attr">IS_ANDROID</span>:A,<span class="code-attr">ANDROID_VERSION</span>:P,<span class="code-attr">IS_NATIVE_ANDROID</span>:L,<span class="code-attr">IS_FIREFOX</span>:D,<span class="code-attr">IS_EDGE</span>:O,<span class="code-attr">IS_CHROME</span>:M,<span class="code-attr">CHROME_VERSION</span>:R,<span class="code-attr">IE_VERSION</span>:N,<span class="code-attr">IS_SAFARI</span>:U,<span class="code-attr">IS_WINDOWS</span>:B,<span class="code-attr">TOUCH_ENABLED</span>:F,<span class="code-attr">IS_IPAD</span>:j,<span class="code-attr">IS_IPHONE</span>:H,<span class="code-attr">IS_IOS</span>:q,<span class="code-attr">IS_ANY_SAFARI</span>:V});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">G</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-built_in">Boolean</span>(e.trim())}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">z</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;=e.indexOf(<span class="code-string">" "</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"class has illegal whitespace characters"</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">X</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">document</span>===<span class="code-built_in">window</span>.document}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">K</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> T(e)&amp;&amp;<span class="code-number">1</span>===e.nodeType}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Y</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-built_in">window</span>.parent!==<span class="code-built_in">window</span>.self}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">0</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Q</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!G(e))<span class="code-keyword">return</span> <span class="code-built_in">document</span>[i](<span class="code-literal">null</span>);t=K(t=G(t)?<span class="code-built_in">document</span>.querySelector(t):t)?t:<span class="code-built_in">document</span>;<span class="code-keyword">return</span> t[i]&amp;&amp;t[i](e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$</span>(<span class="code-params">e,i,t,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">"div"</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={});<span class="code-keyword">var</span> r=<span class="code-built_in">document</span>.createElement(e);<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.getOwnPropertyNames(i).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i[e];<span class="code-number">-1</span>!==e.indexOf(<span class="code-string">"aria-"</span>)||<span class="code-string">"role"</span>===e||<span class="code-string">"type"</span>===e?(h.warn(<span class="code-string">"Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "</span>+e+<span class="code-string">" to "</span>+t+<span class="code-string">"."</span>),r.setAttribute(e,t)):<span class="code-string">"textContent"</span>===e?J(r,t):r[e]===t&amp;&amp;<span class="code-string">"tabIndex"</span>!==e||(r[e]=t)}),<span class="code-built_in">Object</span>.getOwnPropertyNames(t).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r.setAttribute(e,t[e])}),n&amp;&amp;ye(r,n),r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">J</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> e.textContent?e.innerText=t:e.textContent=t,e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Z</span>(<span class="code-params">e,t</span>)</span>{t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ee</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> z(t),e.classList?e.classList.contains(t):<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"(^|\\s)"</span>+t+<span class="code-string">"($|\\s)"</span>).test(e.className)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">te</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.classList?e.classList.add(t):ee(e,t)||(e.className=(e.className+<span class="code-string">" "</span>+t).trim()),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ie</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e?(e.classList?e.classList.remove(t):(z(t),e.className=e.className.split(<span class="code-regexp">/\s+/</span>).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e!==t}).join(<span class="code-string">" "</span>)),e):(h.warn(<span class="code-string">"removeClass was called with an element that doesn't exist"</span>),<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ne</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=ee(e,t);<span class="code-keyword">if</span>((i=<span class="code-string">"boolean"</span>!=<span class="code-keyword">typeof</span>(i=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> i?i(e,t):i)?!n:i)!==n)<span class="code-keyword">return</span>(i?te:ie)(e,t),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">re</span>(<span class="code-params">i,n</span>)</span>{<span class="code-built_in">Object</span>.getOwnPropertyNames(n).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=n[e];<span class="code-literal">null</span>===t||<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t||!<span class="code-number">1</span>===t?i.removeAttribute(e):i.setAttribute(e,!<span class="code-number">0</span>===t?<span class="code-string">""</span>:t)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ae</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={},i=<span class="code-string">",autoplay,controls,playsinline,loop,muted,default,defaultMuted,"</span>;<span class="code-keyword">if</span>(e&amp;&amp;e.attributes&amp;&amp;<span class="code-number">0</span>&lt;e.attributes.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.attributes,r=n.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=r;r--){<span class="code-keyword">var</span> a=n[r].name,s=n[r].value;<span class="code-string">"boolean"</span>!=<span class="code-keyword">typeof</span> e[a]&amp;&amp;<span class="code-number">-1</span>===i.indexOf(<span class="code-string">","</span>+a+<span class="code-string">","</span>)||(s=<span class="code-literal">null</span>!==s),t[a]=s}<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">se</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.getAttribute(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oe</span>(<span class="code-params">e,t,i</span>)</span>{e.setAttribute(t,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ue</span>(<span class="code-params">e,t</span>)</span>{e.removeAttribute(t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">le</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">document</span>.body.focus(),<span class="code-built_in">document</span>.onselectstart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">1</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ce</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">document</span>.onselectstart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">de</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e.getBoundingClientRect&amp;&amp;e.parentNode){<span class="code-keyword">var</span> t=e.getBoundingClientRect(),i={};<span class="code-keyword">return</span>[<span class="code-string">"bottom"</span>,<span class="code-string">"height"</span>,<span class="code-string">"left"</span>,<span class="code-string">"right"</span>,<span class="code-string">"top"</span>,<span class="code-string">"width"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>!==t[e]&amp;&amp;(i[e]=t[e])}),i.height||(i.height=<span class="code-built_in">parseFloat</span>(w(e,<span class="code-string">"height"</span>))),i.width||(i.width=<span class="code-built_in">parseFloat</span>(w(e,<span class="code-string">"width"</span>))),i}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">he</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e||e&amp;&amp;!e.offsetParent)<span class="code-keyword">return</span>{<span class="code-attr">left</span>:<span class="code-number">0</span>,<span class="code-attr">top</span>:<span class="code-number">0</span>,<span class="code-attr">width</span>:<span class="code-number">0</span>,<span class="code-attr">height</span>:<span class="code-number">0</span>};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.offsetWidth,i=e.offsetHeight,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>;e.offsetParent&amp;&amp;e!==<span class="code-built_in">document</span>[l.fullscreenElement];)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;<span class="code-keyword">return</span>{<span class="code-attr">left</span>:n,<span class="code-attr">top</span>:r,<span class="code-attr">width</span>:t,<span class="code-attr">height</span>:i}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pe</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i={<span class="code-attr">x</span>:<span class="code-number">0</span>,<span class="code-attr">y</span>:<span class="code-number">0</span>};<span class="code-keyword">if</span>(q)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e;n&amp;&amp;<span class="code-string">"html"</span>!==n.nodeName.toLowerCase();){<span class="code-keyword">var</span> r,a=w(n,<span class="code-string">"transform"</span>);<span class="code-regexp">/^matrix/</span>.test(a)?(r=a.slice(<span class="code-number">7</span>,<span class="code-number">-1</span>).split(<span class="code-regexp">/,\s/</span>).map(<span class="code-built_in">Number</span>),i.x+=r[<span class="code-number">4</span>],i.y+=r[<span class="code-number">5</span>]):<span class="code-regexp">/^matrix3d/</span>.test(a)&amp;&amp;(a=a.slice(<span class="code-number">9</span>,<span class="code-number">-1</span>).split(<span class="code-regexp">/,\s/</span>).map(<span class="code-built_in">Number</span>),i.x+=a[<span class="code-number">12</span>],i.y+=a[<span class="code-number">13</span>]),n=n.parentNode}<span class="code-keyword">var</span> s={},o=he(t.target),u=he(e),l=u.width,c=u.height,e=t.offsetY-(u.top-o.top),o=t.offsetX-(u.left-o.left);<span class="code-keyword">return</span> t.changedTouches&amp;&amp;(o=t.changedTouches[<span class="code-number">0</span>].pageX-u.left,e=t.changedTouches[<span class="code-number">0</span>].pageY+u.top,q&amp;&amp;(o-=i.x,e-=i.y)),s.y=<span class="code-number">1</span>-<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-built_in">Math</span>.min(<span class="code-number">1</span>,e/c)),s.x=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-built_in">Math</span>.min(<span class="code-number">1</span>,o/l)),s}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> T(e)&amp;&amp;<span class="code-number">3</span>===e.nodeType}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">me</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(;e.firstChild;)e.removeChild(e.firstChild);<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ge</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(e=e()),(<span class="code-built_in">Array</span>.isArray(e)?e:[e]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> K(e=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e?e():e)||fe(e)?e:<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-regexp">/\S/</span>.test(e)?<span class="code-built_in">document</span>.createTextNode(e):<span class="code-keyword">void</span> <span class="code-number">0</span>}).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ye</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> ge(e).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.appendChild(e)}),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ve</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> ye(me(e),t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e.button&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===e.buttons||(<span class="code-number">0</span>===e.button&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===e.buttons||(<span class="code-string">"mouseup"</span>===e.type&amp;&amp;<span class="code-number">0</span>===e.button&amp;&amp;<span class="code-number">0</span>===e.buttons||<span class="code-number">0</span>===e.button&amp;&amp;<span class="code-number">1</span>===e.buttons))}<span class="code-keyword">var</span> be,Te=Q(<span class="code-string">"querySelector"</span>),Se=Q(<span class="code-string">"querySelectorAll"</span>),we=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">isReal</span>:X,<span class="code-attr">isEl</span>:K,<span class="code-attr">isInFrame</span>:Y,<span class="code-attr">createEl</span>:$,<span class="code-attr">textContent</span>:J,<span class="code-attr">prependTo</span>:Z,<span class="code-attr">hasClass</span>:ee,<span class="code-attr">addClass</span>:te,<span class="code-attr">removeClass</span>:ie,<span class="code-attr">toggleClass</span>:ne,<span class="code-attr">setAttributes</span>:re,<span class="code-attr">getAttributes</span>:ae,<span class="code-attr">getAttribute</span>:se,<span class="code-attr">setAttribute</span>:oe,<span class="code-attr">removeAttribute</span>:ue,<span class="code-attr">blockTextSelection</span>:le,<span class="code-attr">unblockTextSelection</span>:ce,<span class="code-attr">getBoundingClientRect</span>:de,<span class="code-attr">findPosition</span>:he,<span class="code-attr">getPointerPosition</span>:pe,<span class="code-attr">isTextNode</span>:fe,<span class="code-attr">emptyEl</span>:me,<span class="code-attr">normalizeContent</span>:ge,<span class="code-attr">appendContent</span>:ye,<span class="code-attr">insertContent</span>:ve,<span class="code-attr">isSingleLeftClick</span>:_e,<span class="code-attr">$</span>:Te,<span class="code-attr">$$</span>:Se}),Ee=!<span class="code-number">1</span>,ke=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-number">1</span>!==be.options.autoSetup){<span class="code-keyword">var</span> e=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">document</span>.getElementsByTagName(<span class="code-string">"video"</span>)),t=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">document</span>.getElementsByTagName(<span class="code-string">"audio"</span>)),i=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">document</span>.getElementsByTagName(<span class="code-string">"video-js"</span>)),n=e.concat(t,i);<span class="code-keyword">if</span>(n&amp;&amp;<span class="code-number">0</span>&lt;n.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,a=n.length;r&lt;a;r++){<span class="code-keyword">var</span> s=n[r];<span class="code-keyword">if</span>(!s||!s.getAttribute){Ce(<span class="code-number">1</span>);<span class="code-keyword">break</span>}<span class="code-keyword">void</span> <span class="code-number">0</span>===s.player&amp;&amp;<span class="code-literal">null</span>!==s.getAttribute(<span class="code-string">"data-setup"</span>)&amp;&amp;be(s)}<span class="code-keyword">else</span> Ee||Ce(<span class="code-number">1</span>)}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ce</span>(<span class="code-params">e,t</span>)</span>{X()&amp;&amp;(t&amp;&amp;(be=t),<span class="code-built_in">window</span>.setTimeout(ke,e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ie</span>(<span class="code-params"></span>)</span>{Ee=!<span class="code-number">0</span>,<span class="code-built_in">window</span>.removeEventListener(<span class="code-string">"load"</span>,Ie)}X()&amp;&amp;(<span class="code-string">"complete"</span>===<span class="code-built_in">document</span>.readyState?Ie():<span class="code-built_in">window</span>.addEventListener(<span class="code-string">"load"</span>,Ie));<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>.createElement(<span class="code-string">"style"</span>);<span class="code-keyword">return</span> t.className=e,t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ae</span>(<span class="code-params">e,t</span>)</span>{e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}<span class="code-keyword">var</span> Pe=<span class="code-number">3</span>;<span class="code-built_in">window</span>.WeakMap||(ui=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.vdata=<span class="code-string">"vdata"</span>+<span class="code-built_in">Math</span>.floor(<span class="code-built_in">window</span>.performance&amp;&amp;<span class="code-built_in">window</span>.performance.now()||<span class="code-built_in">Date</span>.now()),<span class="code-keyword">this</span>.data={}}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e[<span class="code-keyword">this</span>.vdata]||Pe++;<span class="code-keyword">return</span> e[<span class="code-keyword">this</span>.vdata]||(e[<span class="code-keyword">this</span>.vdata]=i),<span class="code-keyword">this</span>.data[i]=t,<span class="code-keyword">this</span>},t.get=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e[<span class="code-keyword">this</span>.vdata];<span class="code-keyword">if</span>(t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data[t];h(<span class="code-string">"We have no data for this element"</span>,e)},t.has=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e[<span class="code-keyword">this</span>.vdata]<span class="code-keyword">in</span> <span class="code-keyword">this</span>.data},t.delete=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e[<span class="code-keyword">this</span>.vdata];t&amp;&amp;(<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.data[t],<span class="code-keyword">delete</span> e[<span class="code-keyword">this</span>.vdata])},e}());<span class="code-keyword">var</span> Le,De=<span class="code-keyword">new</span>(<span class="code-built_in">window</span>.WeakMap?<span class="code-built_in">WeakMap</span>:ui);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oe</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;De.has(e)&amp;&amp;(<span class="code-number">0</span>===(i=De.get(e)).handlers[t].length&amp;&amp;(<span class="code-keyword">delete</span> i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!<span class="code-number">1</span>):e.detachEvent&amp;&amp;e.detachEvent(<span class="code-string">"on"</span>+t,i.dispatcher)),<span class="code-built_in">Object</span>.getOwnPropertyNames(i.handlers).length&lt;=<span class="code-number">0</span>&amp;&amp;(<span class="code-keyword">delete</span> i.handlers,<span class="code-keyword">delete</span> i.dispatcher,<span class="code-keyword">delete</span> i.disabled),<span class="code-number">0</span>===<span class="code-built_in">Object</span>.getOwnPropertyNames(i).length&amp;&amp;De.delete(e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Me</span>(<span class="code-params">t,i,e,n</span>)</span>{e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t(i,e,n)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Re</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.fixed_)<span class="code-keyword">return</span> e;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">if</span>(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){<span class="code-keyword">var</span> n,r,a,s=e||<span class="code-built_in">window</span>.event;<span class="code-keyword">for</span>(n <span class="code-keyword">in</span> e={},s)<span class="code-string">"layerX"</span>!==n&amp;&amp;<span class="code-string">"layerY"</span>!==n&amp;&amp;<span class="code-string">"keyLocation"</span>!==n&amp;&amp;<span class="code-string">"webkitMovementX"</span>!==n&amp;&amp;<span class="code-string">"webkitMovementY"</span>!==n&amp;&amp;<span class="code-string">"path"</span>!==n&amp;&amp;(<span class="code-string">"returnValue"</span>===n&amp;&amp;s.preventDefault||(e[n]=s[n]));e.target||(e.target=e.srcElement||<span class="code-built_in">document</span>),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.preventDefault&amp;&amp;s.preventDefault(),e.returnValue=!<span class="code-number">1</span>,s.returnValue=!<span class="code-number">1</span>,e.defaultPrevented=!<span class="code-number">0</span>},e.defaultPrevented=!<span class="code-number">1</span>,e.stopPropagation=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.stopPropagation&amp;&amp;s.stopPropagation(),e.cancelBubble=!<span class="code-number">0</span>,s.cancelBubble=!<span class="code-number">0</span>,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.stopImmediatePropagation&amp;&amp;s.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,<span class="code-literal">null</span>!==e.clientX&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.clientX&amp;&amp;(r=<span class="code-built_in">document</span>.documentElement,a=<span class="code-built_in">document</span>.body,e.pageX=e.clientX+(r&amp;&amp;r.scrollLeft||a&amp;&amp;a.scrollLeft||<span class="code-number">0</span>)-(r&amp;&amp;r.clientLeft||a&amp;&amp;a.clientLeft||<span class="code-number">0</span>),e.pageY=e.clientY+(r&amp;&amp;r.scrollTop||a&amp;&amp;a.scrollTop||<span class="code-number">0</span>)-(r&amp;&amp;r.clientTop||a&amp;&amp;a.clientTop||<span class="code-number">0</span>)),e.which=e.charCode||e.keyCode,<span class="code-literal">null</span>!==e.button&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.button&amp;&amp;(e.button=<span class="code-number">1</span>&amp;e.button?<span class="code-number">0</span>:<span class="code-number">4</span>&amp;e.button?<span class="code-number">1</span>:<span class="code-number">2</span>&amp;e.button?<span class="code-number">2</span>:<span class="code-number">0</span>)}<span class="code-keyword">return</span> e.fixed_=!<span class="code-number">0</span>,e}<span class="code-keyword">var</span> Ne=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"boolean"</span>!=<span class="code-keyword">typeof</span> Le){Le=!<span class="code-number">1</span>;<span class="code-keyword">try</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Object</span>.defineProperty({},<span class="code-string">"passive"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Le=!<span class="code-number">0</span>}});<span class="code-built_in">window</span>.addEventListener(<span class="code-string">"test"</span>,<span class="code-literal">null</span>,e),<span class="code-built_in">window</span>.removeEventListener(<span class="code-string">"test"</span>,<span class="code-literal">null</span>,e)}<span class="code-keyword">catch</span>(e){}}<span class="code-keyword">return</span> Le},Ue=[<span class="code-string">"touchstart"</span>,<span class="code-string">"touchmove"</span>];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Be</span>(<span class="code-params">s,e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(e))<span class="code-keyword">return</span> Me(Be,s,e,t);De.has(s)||De.set(s,{});<span class="code-keyword">var</span> o=De.get(s);o.handlers||(o.handlers={}),o.handlers[e]||(o.handlers[e]=[]),t.guid||(t.guid=Pe++),o.handlers[e].push(t),o.dispatcher||(o.disabled=!<span class="code-number">1</span>,o.dispatcher=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!o.disabled){e=Re(e);<span class="code-keyword">var</span> i=o.handlers[e.type];<span class="code-keyword">if</span>(i)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=i.slice(<span class="code-number">0</span>),r=<span class="code-number">0</span>,a=n.length;r&lt;a&amp;&amp;!e.isImmediatePropagationStopped();r++)<span class="code-keyword">try</span>{n[r].call(s,e,t)}<span class="code-keyword">catch</span>(e){h.error(e)}}}),<span class="code-number">1</span>===o.handlers[e].length&amp;&amp;(s.addEventListener?(t=!<span class="code-number">1</span>,Ne()&amp;&amp;<span class="code-number">-1</span>&lt;Ue.indexOf(e)&amp;&amp;(t={<span class="code-attr">passive</span>:!<span class="code-number">0</span>}),s.addEventListener(e,o.dispatcher,t)):s.attachEvent&amp;&amp;s.attachEvent(<span class="code-string">"on"</span>+e,o.dispatcher))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fe</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(De.has(e)){<span class="code-keyword">var</span> n=De.get(e);<span class="code-keyword">if</span>(n.handlers){<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">return</span> Me(Fe,e,t,i);<span class="code-keyword">var</span> r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{n.handlers[t]=[],Oe(e,t)};<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t){<span class="code-keyword">var</span> a=n.handlers[t];<span class="code-keyword">if</span>(a)<span class="code-keyword">if</span>(i){<span class="code-keyword">if</span>(i.guid)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>;s&lt;a.length;s++)a[s].guid===i.guid&amp;&amp;a.splice(s--,<span class="code-number">1</span>);Oe(e,t)}<span class="code-keyword">else</span> r(e,t)}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> n.handlers)<span class="code-built_in">Object</span>.prototype.hasOwnProperty.call(n.handlers||{},o)&amp;&amp;r(e,o)}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">je</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=De.has(e)?De.get(e):{},r=e.parentNode||e.ownerDocument;<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t?t={<span class="code-attr">type</span>:t,<span class="code-attr">target</span>:e}:t.target||(t.target=e),t=Re(t),n.dispatcher&amp;&amp;n.dispatcher.call(e,t,i),r&amp;&amp;!t.isPropagationStopped()&amp;&amp;!<span class="code-number">0</span>===t.bubbles?je.call(<span class="code-literal">null</span>,r,t,i):!r&amp;&amp;!t.defaultPrevented&amp;&amp;t.target&amp;&amp;t.target[t.type]&amp;&amp;(De.has(t.target)||De.set(t.target,{}),r=De.get(t.target),t.target[t.type]&amp;&amp;(r.disabled=!<span class="code-number">0</span>,<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t.target[t.type]&amp;&amp;t.target[t.type](),r.disabled=!<span class="code-number">1</span>)),!t.defaultPrevented}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">He</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(t))<span class="code-keyword">return</span> Me(He,e,t,i);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{Fe(e,t,n),i.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)}n.guid=i.guid=i.guid||Pe++,Be(e,t,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qe</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{Fe(e,t,n),i.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)}n.guid=i.guid=i.guid||Pe++,Be(e,t,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ve</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> t.guid||(t.guid=Pe++),(e=t.bind(e)).guid=i?i+<span class="code-string">"_"</span>+t.guid:t.guid,e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">We</span>(<span class="code-params">t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-built_in">window</span>.performance.now();<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">window</span>.performance.now();i&lt;=e-n&amp;&amp;(t.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">arguments</span>),n=e)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ge</span>(<span class="code-params">n,r,a,s</span>)</span>{<span class="code-keyword">var</span> o;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-built_in">arguments</span>,i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i=o=<span class="code-literal">null</span>,a||n.apply(e,t)};!o&amp;&amp;a&amp;&amp;n.apply(e,t),s.clearTimeout(o),o=s.setTimeout(i,r)}<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===s&amp;&amp;(s=<span class="code-built_in">window</span>),e.cancel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.clearTimeout(o),o=<span class="code-literal">null</span>},e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ze</span>(<span class="code-params"></span>)</span>{}<span class="code-keyword">var</span> Xe,Ke=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">fixEvent</span>:Re,<span class="code-attr">on</span>:Be,<span class="code-attr">off</span>:Fe,<span class="code-attr">trigger</span>:je,<span class="code-attr">one</span>:He,<span class="code-attr">any</span>:qe});ze.prototype.allowedEvents_={},ze.prototype.addEventListener=ze.prototype.on=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.addEventListener;<span class="code-keyword">this</span>.addEventListener=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},Be(<span class="code-keyword">this</span>,e,t),<span class="code-keyword">this</span>.addEventListener=i},ze.prototype.removeEventListener=ze.prototype.off=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{Fe(<span class="code-keyword">this</span>,e,t)},ze.prototype.one=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.addEventListener;<span class="code-keyword">this</span>.addEventListener=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},He(<span class="code-keyword">this</span>,e,t),<span class="code-keyword">this</span>.addEventListener=i},ze.prototype.any=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.addEventListener;<span class="code-keyword">this</span>.addEventListener=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},qe(<span class="code-keyword">this</span>,e,t),<span class="code-keyword">this</span>.addEventListener=i},ze.prototype.dispatchEvent=ze.prototype.trigger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.type||e;e=Re(e=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?{<span class="code-attr">type</span>:t}:e),<span class="code-keyword">this</span>.allowedEvents_[t]&amp;&amp;<span class="code-keyword">this</span>[<span class="code-string">"on"</span>+t]&amp;&amp;<span class="code-keyword">this</span>[<span class="code-string">"on"</span>+t](e),je(<span class="code-keyword">this</span>,e)},ze.prototype.queueTrigger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;Xe=Xe||<span class="code-keyword">new</span> <span class="code-built_in">Map</span>;<span class="code-keyword">var</span> i=e.type||e,n=Xe.get(<span class="code-keyword">this</span>);n||(n=<span class="code-keyword">new</span> <span class="code-built_in">Map</span>,Xe.set(<span class="code-keyword">this</span>,n));<span class="code-keyword">var</span> r=n.get(i);n.delete(i),<span class="code-built_in">window</span>.clearTimeout(r);r=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">0</span>===n.size&amp;&amp;(n=<span class="code-literal">null</span>,Xe.delete(t)),t.trigger(e)},<span class="code-number">0</span>);n.set(i,r)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ye</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.name?e.name():<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e.name?e.name:e.name_||(e.constructor&amp;&amp;e.constructor.name?e.constructor.name:<span class="code-keyword">typeof</span> e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-regexp">/\S/</span>.test(e)||<span class="code-built_in">Array</span>.isArray(e)&amp;&amp;!!e.length}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!e||!e.nodeName&amp;&amp;!it(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid target for "</span>+Ye(t)+<span class="code-string">"#"</span>+i+<span class="code-string">"; must be a DOM node or evented object."</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Je</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!Qe(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid event type for "</span>+Ye(t)+<span class="code-string">"#"</span>+i+<span class="code-string">"; must be a non-empty string or array."</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ze</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid listener for "</span>+Ye(t)+<span class="code-string">"#"</span>+i+<span class="code-string">"; must be a function."</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">et</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a=t.length&lt;<span class="code-number">3</span>||t[<span class="code-number">0</span>]===e||t[<span class="code-number">0</span>]===e.eventBusEl_,t=a?(n=e.eventBusEl_,<span class="code-number">3</span>&lt;=t.length&amp;&amp;t.shift(),r=t[<span class="code-number">0</span>],t[<span class="code-number">1</span>]):(n=t[<span class="code-number">0</span>],r=t[<span class="code-number">1</span>],t[<span class="code-number">2</span>]);<span class="code-keyword">return</span> $e(n,e,i),Je(r,e,i),Ze(t,e,i),{<span class="code-attr">isTargetingSelf</span>:a,<span class="code-attr">target</span>:n,<span class="code-attr">type</span>:r,<span class="code-attr">listener</span>:t=Ve(e,t)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tt</span>(<span class="code-params">e,t,i,n</span>)</span>{$e(e,e,t),e.nodeName?Ke[t](e,i,n):e[t](i,n)}<span class="code-keyword">var</span> it=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> t <span class="code-keyword">instanceof</span> ze||!!t.eventBusEl_&amp;&amp;[<span class="code-string">"on"</span>,<span class="code-string">"one"</span>,<span class="code-string">"off"</span>,<span class="code-string">"trigger"</span>].every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t[e]})},nt={<span class="code-attr">on</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-built_in">arguments</span>.length,i=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(t),n=<span class="code-number">0</span>;n&lt;t;n++)i[n]=<span class="code-built_in">arguments</span>[n];<span class="code-keyword">var</span> r,a=et(<span class="code-keyword">this</span>,i,<span class="code-string">"on"</span>),s=a.isTargetingSelf,o=a.target,u=a.type,l=a.listener;tt(o,<span class="code-string">"on"</span>,u,l),s||((r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.off(o,u,l)}).guid=l.guid,(s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.off(<span class="code-string">"dispose"</span>,r)}).guid=l.guid,tt(<span class="code-keyword">this</span>,<span class="code-string">"on"</span>,<span class="code-string">"dispose"</span>,r),tt(o,<span class="code-string">"on"</span>,<span class="code-string">"dispose"</span>,s))},<span class="code-attr">one</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">var</span> n=et(<span class="code-keyword">this</span>,t,<span class="code-string">"one"</span>),a=n.isTargetingSelf,s=n.target,o=n.type,u=n.listener;a?tt(s,<span class="code-string">"one"</span>,o,u):((a=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{r.off(s,o,e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-built_in">arguments</span>.length,i=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(t),n=<span class="code-number">0</span>;n&lt;t;n++)i[n]=<span class="code-built_in">arguments</span>[n];u.apply(<span class="code-literal">null</span>,i)}).guid=u.guid,tt(s,<span class="code-string">"one"</span>,o,a))},<span class="code-attr">any</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">var</span> n=et(<span class="code-keyword">this</span>,t,<span class="code-string">"any"</span>),a=n.isTargetingSelf,s=n.target,o=n.type,u=n.listener;a?tt(s,<span class="code-string">"any"</span>,o,u):((a=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{r.off(s,o,e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-built_in">arguments</span>.length,i=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(t),n=<span class="code-number">0</span>;n&lt;t;n++)i[n]=<span class="code-built_in">arguments</span>[n];u.apply(<span class="code-literal">null</span>,i)}).guid=u.guid,tt(s,<span class="code-string">"any"</span>,o,a))},<span class="code-attr">off</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{!e||Qe(e)?Fe(<span class="code-keyword">this</span>.eventBusEl_,e,t):(t=t,$e(e=e,<span class="code-keyword">this</span>,<span class="code-string">"off"</span>),Je(t,<span class="code-keyword">this</span>,<span class="code-string">"off"</span>),Ze(i,<span class="code-keyword">this</span>,<span class="code-string">"off"</span>),i=Ve(<span class="code-keyword">this</span>,i),<span class="code-keyword">this</span>.off(<span class="code-string">"dispose"</span>,i),e.nodeName?(Fe(e,t,i),Fe(e,<span class="code-string">"dispose"</span>,i)):it(e)&amp;&amp;(e.off(t,i),e.off(<span class="code-string">"dispose"</span>,i)))},<span class="code-attr">trigger</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{$e(<span class="code-keyword">this</span>.eventBusEl_,<span class="code-keyword">this</span>,<span class="code-string">"trigger"</span>);<span class="code-keyword">var</span> i=e&amp;&amp;<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e?e.type:e;<span class="code-keyword">if</span>(!Qe(i)){i=<span class="code-string">"Invalid event type for "</span>+Ye(<span class="code-keyword">this</span>)+<span class="code-string">"#trigger; must be a non-empty string or object with a type key that has a non-empty value."</span>;<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(i);(<span class="code-keyword">this</span>.log||h).error(i)}<span class="code-keyword">return</span> je(<span class="code-keyword">this</span>.eventBusEl_,e,t)}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rt</span>(<span class="code-params">e,t</span>)</span>{t=(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).eventBusKey;<span class="code-keyword">if</span>(t){<span class="code-keyword">if</span>(!e[t].nodeName)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'The eventBusKey "'</span>+t+<span class="code-string">'" does not refer to an element.'</span>);e.eventBusEl_=e[t]}<span class="code-keyword">else</span> e.eventBusEl_=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-event-bus"</span>});<span class="code-keyword">return</span> b(e,nt),e.eventedCallbacks&amp;&amp;e.eventedCallbacks.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e()}),e.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.off(),[e,e.el_,e.eventBusEl_].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e&amp;&amp;De.has(e)&amp;&amp;De.delete(e)}),<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.eventBusEl_=<span class="code-literal">null</span>},<span class="code-number">0</span>)}),e}<span class="code-keyword">var</span> at={<span class="code-attr">state</span>:{},<span class="code-attr">setState</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> _(e=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e?e():e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{n.state[t]!==e&amp;&amp;((i=i||{})[t]={<span class="code-attr">from</span>:n.state[t],<span class="code-attr">to</span>:e}),n.state[t]=e}),i&amp;&amp;it(<span class="code-keyword">this</span>)&amp;&amp;<span class="code-keyword">this</span>.trigger({<span class="code-attr">changes</span>:i,<span class="code-attr">type</span>:<span class="code-string">"statechanged"</span>}),i}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">st</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> b(e,at),e.state=b({},e.state,t),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.handleStateChanged&amp;&amp;it(e)&amp;&amp;e.on(<span class="code-string">"statechanged"</span>,e.handleStateChanged),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ot</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e?e:e.replace(<span class="code-regexp">/./</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.toLowerCase()})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ut</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e?e:e.replace(<span class="code-regexp">/./</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.toUpperCase()})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lt</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i={},e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),n=<span class="code-number">0</span>;n&lt;e;n++)t[n]=<span class="code-built_in">arguments</span>[n];<span class="code-keyword">return</span> t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e&amp;&amp;_(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{S(e)?(S(i[t])||(i[t]={}),i[t]=lt(i[t],e)):i[t]=e})}),i}<span class="code-keyword">var</span> ct=<span class="code-built_in">window</span>.Map||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.map_={}}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.has=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.map_},t.delete=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.has(e);<span class="code-keyword">return</span> <span class="code-keyword">delete</span> <span class="code-keyword">this</span>.map_[e],t},t.set=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.map_[e]=t,<span class="code-keyword">this</span>},t.forEach=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>.map_)e.call(t,<span class="code-keyword">this</span>.map_[i],i,<span class="code-keyword">this</span>)},e}(),dt=<span class="code-built_in">window</span>.Set||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.set_={}}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.has=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.set_},t.delete=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.has(e);<span class="code-keyword">return</span> <span class="code-keyword">delete</span> <span class="code-keyword">this</span>.set_[e],t},t.add=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.set_[e]=<span class="code-number">1</span>,<span class="code-keyword">this</span>},t.forEach=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> <span class="code-keyword">this</span>.set_)e.call(t,i,i,<span class="code-keyword">this</span>)},e}(),ht=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e||<span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> e||(t=e.which||e.keyCode||e.charCode)&amp;&amp;(e=t),<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e)<span class="code-keyword">return</span> o[e];<span class="code-keyword">var</span> t=<span class="code-built_in">String</span>(e),e=n[t.toLowerCase()];<span class="code-keyword">return</span> e||((e=r[t.toLowerCase()])?e:<span class="code-number">1</span>===t.length?t.charCodeAt(<span class="code-number">0</span>):<span class="code-keyword">void</span> <span class="code-number">0</span>)}i.isEventKey=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e){<span class="code-keyword">var</span> i=e.which||e.keyCode||e.charCode;<span class="code-keyword">if</span>(<span class="code-literal">null</span>==i)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t){e=n[t.toLowerCase()];<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> e===i;<span class="code-keyword">if</span>(e=r[t.toLowerCase()])<span class="code-keyword">return</span> e===i}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t)<span class="code-keyword">return</span> t===i;<span class="code-keyword">return</span>!<span class="code-number">1</span>}};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=(t=e.exports=i).code=t.codes={<span class="code-attr">backspace</span>:<span class="code-number">8</span>,<span class="code-attr">tab</span>:<span class="code-number">9</span>,<span class="code-attr">enter</span>:<span class="code-number">13</span>,<span class="code-attr">shift</span>:<span class="code-number">16</span>,<span class="code-attr">ctrl</span>:<span class="code-number">17</span>,<span class="code-attr">alt</span>:<span class="code-number">18</span>,<span class="code-string">"pause/break"</span>:<span class="code-number">19</span>,<span class="code-string">"caps lock"</span>:<span class="code-number">20</span>,<span class="code-attr">esc</span>:<span class="code-number">27</span>,<span class="code-attr">space</span>:<span class="code-number">32</span>,<span class="code-string">"page up"</span>:<span class="code-number">33</span>,<span class="code-string">"page down"</span>:<span class="code-number">34</span>,<span class="code-attr">end</span>:<span class="code-number">35</span>,<span class="code-attr">home</span>:<span class="code-number">36</span>,<span class="code-attr">left</span>:<span class="code-number">37</span>,<span class="code-attr">up</span>:<span class="code-number">38</span>,<span class="code-attr">right</span>:<span class="code-number">39</span>,<span class="code-attr">down</span>:<span class="code-number">40</span>,<span class="code-attr">insert</span>:<span class="code-number">45</span>,<span class="code-attr">delete</span>:<span class="code-number">46</span>,<span class="code-attr">command</span>:<span class="code-number">91</span>,<span class="code-string">"left command"</span>:<span class="code-number">91</span>,<span class="code-string">"right command"</span>:<span class="code-number">93</span>,<span class="code-string">"numpad *"</span>:<span class="code-number">106</span>,<span class="code-string">"numpad +"</span>:<span class="code-number">107</span>,<span class="code-string">"numpad -"</span>:<span class="code-number">109</span>,<span class="code-string">"numpad ."</span>:<span class="code-number">110</span>,<span class="code-string">"numpad /"</span>:<span class="code-number">111</span>,<span class="code-string">"num lock"</span>:<span class="code-number">144</span>,<span class="code-string">"scroll lock"</span>:<span class="code-number">145</span>,<span class="code-string">"my computer"</span>:<span class="code-number">182</span>,<span class="code-string">"my calculator"</span>:<span class="code-number">183</span>,<span class="code-string">";"</span>:<span class="code-number">186</span>,<span class="code-string">"="</span>:<span class="code-number">187</span>,<span class="code-string">","</span>:<span class="code-number">188</span>,<span class="code-string">"-"</span>:<span class="code-number">189</span>,<span class="code-string">"."</span>:<span class="code-number">190</span>,<span class="code-string">"/"</span>:<span class="code-number">191</span>,<span class="code-string">"`"</span>:<span class="code-number">192</span>,<span class="code-string">"["</span>:<span class="code-number">219</span>,<span class="code-string">"\\"</span>:<span class="code-number">220</span>,<span class="code-string">"]"</span>:<span class="code-number">221</span>,<span class="code-string">"'"</span>:<span class="code-number">222</span>},r=t.aliases={<span class="code-attr">windows</span>:<span class="code-number">91</span>,<span class="code-string">""</span>:<span class="code-number">16</span>,<span class="code-string">""</span>:<span class="code-number">18</span>,<span class="code-string">""</span>:<span class="code-number">17</span>,<span class="code-string">""</span>:<span class="code-number">91</span>,<span class="code-attr">ctl</span>:<span class="code-number">17</span>,<span class="code-attr">control</span>:<span class="code-number">17</span>,<span class="code-attr">option</span>:<span class="code-number">18</span>,<span class="code-attr">pause</span>:<span class="code-number">19</span>,<span class="code-attr">break</span>:<span class="code-number">19</span>,<span class="code-attr">caps</span>:<span class="code-number">20</span>,<span class="code-attr">return</span>:<span class="code-number">13</span>,<span class="code-attr">escape</span>:<span class="code-number">27</span>,<span class="code-attr">spc</span>:<span class="code-number">32</span>,<span class="code-attr">spacebar</span>:<span class="code-number">32</span>,<span class="code-attr">pgup</span>:<span class="code-number">33</span>,<span class="code-attr">pgdn</span>:<span class="code-number">34</span>,<span class="code-attr">ins</span>:<span class="code-number">45</span>,<span class="code-attr">del</span>:<span class="code-number">46</span>,<span class="code-attr">cmd</span>:<span class="code-number">91</span>},a=<span class="code-number">97</span>;a&lt;<span class="code-number">123</span>;a++)n[<span class="code-built_in">String</span>.fromCharCode(a)]=a<span class="code-number">-32</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">48</span>;a&lt;<span class="code-number">58</span>;a++)n[a<span class="code-number">-48</span>]=a;<span class="code-keyword">for</span>(a=<span class="code-number">1</span>;a&lt;<span class="code-number">13</span>;a++)n[<span class="code-string">"f"</span>+a]=a+<span class="code-number">111</span>;<span class="code-keyword">for</span>(a=<span class="code-number">0</span>;a&lt;<span class="code-number">10</span>;a++)n[<span class="code-string">"numpad "</span>+a]=a+<span class="code-number">96</span>;<span class="code-keyword">var</span> s,o=t.names=t.title={};<span class="code-keyword">for</span>(a <span class="code-keyword">in</span> n)o[n[a]]=a;<span class="code-keyword">for</span>(s <span class="code-keyword">in</span> r)n[s]=r[s]});ht.code,ht.codes,ht.aliases,ht.names,ht.title;<span class="code-keyword">var</span> pt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;!e&amp;&amp;<span class="code-keyword">this</span>.play?<span class="code-keyword">this</span>.player_=e=<span class="code-keyword">this</span>:<span class="code-keyword">this</span>.player_=e,<span class="code-keyword">this</span>.isDisposed_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.parentComponent_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.options_=lt({},<span class="code-keyword">this</span>.options_),t=<span class="code-keyword">this</span>.options_=lt(<span class="code-keyword">this</span>.options_,t),<span class="code-keyword">this</span>.id_=t.id||t.el&amp;&amp;t.el.id,<span class="code-keyword">this</span>.id_||(e=e&amp;&amp;e.id&amp;&amp;e.id()||<span class="code-string">"no_player"</span>,<span class="code-keyword">this</span>.id_=e+<span class="code-string">"_component_"</span>+Pe++),<span class="code-keyword">this</span>.name_=t.name||<span class="code-literal">null</span>,t.el?<span class="code-keyword">this</span>.el_=t.el:!<span class="code-number">1</span>!==t.createEl&amp;&amp;(<span class="code-keyword">this</span>.el_=<span class="code-keyword">this</span>.createEl()),t.className&amp;&amp;<span class="code-keyword">this</span>.el_&amp;&amp;t.className.split(<span class="code-string">" "</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.addClass(e)}),!<span class="code-number">1</span>!==t.evented&amp;&amp;(rt(<span class="code-keyword">this</span>,{<span class="code-attr">eventBusKey</span>:<span class="code-keyword">this</span>.el_?<span class="code-string">"el_"</span>:<span class="code-literal">null</span>}),<span class="code-keyword">this</span>.handleLanguagechange=<span class="code-keyword">this</span>.handleLanguagechange.bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,<span class="code-string">"languagechange"</span>,<span class="code-keyword">this</span>.handleLanguagechange)),st(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.constructor.defaultState),<span class="code-keyword">this</span>.children_=[],<span class="code-keyword">this</span>.childIndex_={},<span class="code-keyword">this</span>.childNameIndex_={},<span class="code-keyword">this</span>.setTimeoutIds_=<span class="code-keyword">new</span> dt,<span class="code-keyword">this</span>.setIntervalIds_=<span class="code-keyword">new</span> dt,<span class="code-keyword">this</span>.rafIds_=<span class="code-keyword">new</span> dt,<span class="code-keyword">this</span>.namedRafs_=<span class="code-keyword">new</span> ct,(<span class="code-keyword">this</span>.clearingTimersOnDispose_=!<span class="code-number">1</span>)!==t.initChildren&amp;&amp;<span class="code-keyword">this</span>.initChildren(),<span class="code-keyword">this</span>.ready(i),!<span class="code-number">1</span>!==t.reportTouchActivity&amp;&amp;<span class="code-keyword">this</span>.enableTouchActivity()}<span class="code-keyword">var</span> e=s.prototype;<span class="code-keyword">return</span> e.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={}),!<span class="code-keyword">this</span>.isDisposed_){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.readyQueue_&amp;&amp;(<span class="code-keyword">this</span>.readyQueue_.length=<span class="code-number">0</span>),<span class="code-keyword">this</span>.trigger({<span class="code-attr">type</span>:<span class="code-string">"dispose"</span>,<span class="code-attr">bubbles</span>:!<span class="code-number">1</span>}),<span class="code-keyword">this</span>.isDisposed_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.children_)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.children_.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=t;t--)<span class="code-keyword">this</span>.children_[t].dispose&amp;&amp;<span class="code-keyword">this</span>.children_[t].dispose();<span class="code-keyword">this</span>.children_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.childIndex_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.childNameIndex_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.parentComponent_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.el_&amp;&amp;(<span class="code-keyword">this</span>.el_.parentNode&amp;&amp;(e.restoreEl?<span class="code-keyword">this</span>.el_.parentNode.replaceChild(e.restoreEl,<span class="code-keyword">this</span>.el_):<span class="code-keyword">this</span>.el_.parentNode.removeChild(<span class="code-keyword">this</span>.el_)),<span class="code-keyword">this</span>.el_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.player_=<span class="code-literal">null</span>}},e.isDisposed=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Boolean</span>(<span class="code-keyword">this</span>.isDisposed_)},e.player=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.player_},e.options=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;(<span class="code-keyword">this</span>.options_=lt(<span class="code-keyword">this</span>.options_,e)),<span class="code-keyword">this</span>.options_},e.el=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_},e.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> $(e,t,i)},e.localize=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,i,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=e);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.player_.language&amp;&amp;<span class="code-keyword">this</span>.player_.language(),r=<span class="code-keyword">this</span>.player_.languages&amp;&amp;<span class="code-keyword">this</span>.player_.languages(),a=r&amp;&amp;r[n],n=n&amp;&amp;n.split(<span class="code-string">"-"</span>)[<span class="code-number">0</span>],n=r&amp;&amp;r[n],t=t;<span class="code-keyword">return</span> a&amp;&amp;a[e]?t=a[e]:n&amp;&amp;n[e]&amp;&amp;(t=n[e]),t=i?t.replace(<span class="code-regexp">/\{(\d+)\}/g</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=i[t<span class="code-number">-1</span>];<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t?e:t}):t},e.handleLanguagechange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.contentEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.contentEl_||<span class="code-keyword">this</span>.el_},e.id=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.id_},e.name=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.name_},e.children=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.children_},e.getChildById=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.childIndex_[e]},e.getChild=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.childNameIndex_[e]},e.getDescendant=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.concat(t)},[]),n=<span class="code-keyword">this</span>,r=<span class="code-number">0</span>;r&lt;t.length;r++)<span class="code-keyword">if</span>(!(n=n.getChild(t[r]))||!n.getChild)<span class="code-keyword">return</span>;<span class="code-keyword">return</span> n},e.addChild=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-keyword">this</span>.children_.length),<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e){<span class="code-keyword">var</span> n=ut(e),r=t.componentClass||n;t.name=n;<span class="code-keyword">var</span> a=s.getComponent(r);<span class="code-keyword">if</span>(!a)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Component "</span>+r+<span class="code-string">" does not exist"</span>);<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> a)<span class="code-keyword">return</span> <span class="code-literal">null</span>;a=<span class="code-keyword">new</span> a(<span class="code-keyword">this</span>.player_||<span class="code-keyword">this</span>,t)}<span class="code-keyword">else</span> a=e;<span class="code-keyword">return</span> a.parentComponent_&amp;&amp;a.parentComponent_.removeChild(a),<span class="code-keyword">this</span>.children_.splice(i,<span class="code-number">0</span>,a),a.parentComponent_=<span class="code-keyword">this</span>,<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> a.id&amp;&amp;(<span class="code-keyword">this</span>.childIndex_[a.id()]=a),(n=n||a.name&amp;&amp;ut(a.name()))&amp;&amp;(<span class="code-keyword">this</span>.childNameIndex_[n]=a,<span class="code-keyword">this</span>.childNameIndex_[ot(n)]=a),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> a.el&amp;&amp;a.el()&amp;&amp;(n=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.children_[i+<span class="code-number">1</span>]&amp;&amp;(<span class="code-keyword">this</span>.children_[i+<span class="code-number">1</span>].el_?n=<span class="code-keyword">this</span>.children_[i+<span class="code-number">1</span>].el_:K(<span class="code-keyword">this</span>.children_[i+<span class="code-number">1</span>])&amp;&amp;(n=<span class="code-keyword">this</span>.children_[i+<span class="code-number">1</span>])),<span class="code-keyword">this</span>.contentEl().insertBefore(a.el(),n)),a},e.removeChild=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>((e=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?<span class="code-keyword">this</span>.getChild(e):e)&amp;&amp;<span class="code-keyword">this</span>.children_){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=!<span class="code-number">1</span>,n=<span class="code-keyword">this</span>.children_.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=n;n--)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.children_[n]===e){i=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.children_.splice(n,<span class="code-number">1</span>);<span class="code-keyword">break</span>}i&amp;&amp;(e.parentComponent_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.childIndex_[e.id()]=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.childNameIndex_[ut(e.name())]=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.childNameIndex_[ot(e.name())]=<span class="code-literal">null</span>,(t=e.el())&amp;&amp;t.parentNode===<span class="code-keyword">this</span>.contentEl()&amp;&amp;<span class="code-keyword">this</span>.contentEl().removeChild(e.el()))}},e.initChildren=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i,t,e,n=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.options_.children;r&amp;&amp;(i=<span class="code-keyword">this</span>.options_,t=s.getComponent(<span class="code-string">"Tech"</span>),(e=<span class="code-built_in">Array</span>.isArray(r)?r:<span class="code-built_in">Object</span>.keys(r)).concat(<span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.options_).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span>!e.some(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?t===e:t===e.name})})).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,e=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?r[t=e]||n.options_[t]||{}:(t=e.name,e);<span class="code-keyword">return</span>{<span class="code-attr">name</span>:t,<span class="code-attr">opts</span>:e}}).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=s.getComponent(e.opts.componentClass||ut(e.name));<span class="code-keyword">return</span> e&amp;&amp;!t.isTech(e)}).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.name,e=e.opts;!<span class="code-number">1</span>!==(e=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i[t]?i[t]:e)&amp;&amp;((e=!<span class="code-number">0</span>===e?{}:e).playerOptions=n.options_.playerOptions,(e=n.addChild(t,e))&amp;&amp;(n[t]=e))}))},e.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>},e.ready=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">1</span>),e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isReady_?<span class="code-keyword">void</span>(t?e.call(<span class="code-keyword">this</span>):<span class="code-keyword">this</span>.setTimeout(e,<span class="code-number">1</span>)):(<span class="code-keyword">this</span>.readyQueue_=<span class="code-keyword">this</span>.readyQueue_||[],<span class="code-keyword">void</span> <span class="code-keyword">this</span>.readyQueue_.push(e))},e.triggerReady=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isReady_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.readyQueue_;<span class="code-keyword">this</span>.readyQueue_=[],e&amp;&amp;<span class="code-number">0</span>&lt;e.length&amp;&amp;e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.call(<span class="code-keyword">this</span>)},<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"ready"</span>)},<span class="code-number">1</span>)},e.$=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> Te(e,t||<span class="code-keyword">this</span>.contentEl())},e.$$=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> Se(e,t||<span class="code-keyword">this</span>.contentEl())},e.hasClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ee(<span class="code-keyword">this</span>.el_,e)},e.addClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{te(<span class="code-keyword">this</span>.el_,e)},e.removeClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ie(<span class="code-keyword">this</span>.el_,e)},e.toggleClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{ne(<span class="code-keyword">this</span>.el_,e,t)},e.show=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-hidden"</span>)},e.hide=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-hidden"</span>)},e.lockShowing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-lock-showing"</span>)},e.unlockShowing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-lock-showing"</span>)},e.getAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> se(<span class="code-keyword">this</span>.el_,e)},e.setAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{oe(<span class="code-keyword">this</span>.el_,e,t)},e.removeAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ue(<span class="code-keyword">this</span>.el_,e)},e.width=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.dimension(<span class="code-string">"width"</span>,e,t)},e.height=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.dimension(<span class="code-string">"height"</span>,e,t)},e.dimensions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.width(e,!<span class="code-number">0</span>),<span class="code-keyword">this</span>.height(t)},e.dimension=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>!==t)<span class="code-keyword">return</span><span class="code-number">-1</span>!==(<span class="code-string">""</span>+(t=<span class="code-literal">null</span>===t||t!=t?<span class="code-number">0</span>:t)).indexOf(<span class="code-string">"%"</span>)||<span class="code-number">-1</span>!==(<span class="code-string">""</span>+t).indexOf(<span class="code-string">"px"</span>)?<span class="code-keyword">this</span>.el_.style[e]=t:<span class="code-keyword">this</span>.el_.style[e]=<span class="code-string">"auto"</span>===t?<span class="code-string">""</span>:t+<span class="code-string">"px"</span>,<span class="code-keyword">void</span>(i||<span class="code-keyword">this</span>.trigger(<span class="code-string">"componentresize"</span>));<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.el_)<span class="code-keyword">return</span> <span class="code-number">0</span>;t=<span class="code-keyword">this</span>.el_.style[e],i=t.indexOf(<span class="code-string">"px"</span>);<span class="code-keyword">return</span><span class="code-number">-1</span>!==i?<span class="code-built_in">parseInt</span>(t.slice(<span class="code-number">0</span>,i),<span class="code-number">10</span>):<span class="code-built_in">parseInt</span>(<span class="code-keyword">this</span>.el_[<span class="code-string">"offset"</span>+ut(e)],<span class="code-number">10</span>)},e.currentDimension=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-string">"width"</span>!==e&amp;&amp;<span class="code-string">"height"</span>!==e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"currentDimension only accepts width or height value"</span>);<span class="code-keyword">return</span> t=w(<span class="code-keyword">this</span>.el_,e),<span class="code-number">0</span>!==(t=<span class="code-built_in">parseFloat</span>(t))&amp;&amp;!<span class="code-built_in">isNaN</span>(t)||(e=<span class="code-string">"offset"</span>+ut(e),t=<span class="code-keyword">this</span>.el_[e]),t},e.currentDimensions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">width</span>:<span class="code-keyword">this</span>.currentDimension(<span class="code-string">"width"</span>),<span class="code-attr">height</span>:<span class="code-keyword">this</span>.currentDimension(<span class="code-string">"height"</span>)}},e.currentWidth=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentDimension(<span class="code-string">"width"</span>)},e.currentHeight=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentDimension(<span class="code-string">"height"</span>)},e.focus=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.el_.focus()},e.blur=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.el_.blur()},e.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_&amp;&amp;(ht.isEventKey(e,<span class="code-string">"Tab"</span>)||e.stopPropagation(),<span class="code-keyword">this</span>.player_.handleKeyDown(e))},e.handleKeyPress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.handleKeyDown(e)},e.emitTapEvents=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i,t=<span class="code-number">0</span>,n=<span class="code-literal">null</span>;<span class="code-keyword">this</span>.on(<span class="code-string">"touchstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-number">1</span>===e.touches.length&amp;&amp;(n={<span class="code-attr">pageX</span>:e.touches[<span class="code-number">0</span>].pageX,<span class="code-attr">pageY</span>:e.touches[<span class="code-number">0</span>].pageY},t=<span class="code-built_in">window</span>.performance.now(),i=!<span class="code-number">0</span>)}),<span class="code-keyword">this</span>.on(<span class="code-string">"touchmove"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-number">1</span>&lt;e.touches.length?i=!<span class="code-number">1</span>:n&amp;&amp;(t=e.touches[<span class="code-number">0</span>].pageX-n.pageX,e=e.touches[<span class="code-number">0</span>].pageY-n.pageY,<span class="code-number">10</span>&lt;<span class="code-built_in">Math</span>.sqrt(t*t+e*e)&amp;&amp;(i=!<span class="code-number">1</span>))});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{i=!<span class="code-number">1</span>}<span class="code-keyword">this</span>.on(<span class="code-string">"touchleave"</span>,e),<span class="code-keyword">this</span>.on(<span class="code-string">"touchcancel"</span>,e),<span class="code-keyword">this</span>.on(<span class="code-string">"touchend"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{!(n=<span class="code-literal">null</span>)===i&amp;&amp;<span class="code-built_in">window</span>.performance.now()-t&lt;<span class="code-number">200</span>&amp;&amp;(e.preventDefault(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"tap"</span>))})},e.enableTouchActivity=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,i,e;<span class="code-keyword">this</span>.player()&amp;&amp;<span class="code-keyword">this</span>.player().reportUserActivity&amp;&amp;(t=Ve(<span class="code-keyword">this</span>.player(),<span class="code-keyword">this</span>.player().reportUserActivity),<span class="code-keyword">this</span>.on(<span class="code-string">"touchstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t(),<span class="code-keyword">this</span>.clearInterval(i),i=<span class="code-keyword">this</span>.setInterval(t,<span class="code-number">250</span>)}),e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t(),<span class="code-keyword">this</span>.clearInterval(i)},<span class="code-keyword">this</span>.on(<span class="code-string">"touchmove"</span>,t),<span class="code-keyword">this</span>.on(<span class="code-string">"touchend"</span>,e),<span class="code-keyword">this</span>.on(<span class="code-string">"touchcancel"</span>,e))},e.setTimeout=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e=Ve(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.clearTimersOnDispose_(),i=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.setTimeoutIds_.has(i)&amp;&amp;n.setTimeoutIds_.delete(i),e()},t),<span class="code-keyword">this</span>.setTimeoutIds_.add(i),i},e.clearTimeout=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setTimeoutIds_.has(e)&amp;&amp;(<span class="code-keyword">this</span>.setTimeoutIds_.delete(e),<span class="code-built_in">window</span>.clearTimeout(e)),e},e.setInterval=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e=Ve(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.clearTimersOnDispose_();t=<span class="code-built_in">window</span>.setInterval(e,t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setIntervalIds_.add(t),t},e.clearInterval=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.setIntervalIds_.has(e)&amp;&amp;(<span class="code-keyword">this</span>.setIntervalIds_.delete(e),<span class="code-built_in">window</span>.clearInterval(e)),e},e.requestAnimationFrame=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.supportsRaf_?(<span class="code-keyword">this</span>.clearTimersOnDispose_(),e=Ve(<span class="code-keyword">this</span>,e),t=<span class="code-built_in">window</span>.requestAnimationFrame(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.rafIds_.has(t)&amp;&amp;i.rafIds_.delete(t),e()}),<span class="code-keyword">this</span>.rafIds_.add(t),t):<span class="code-keyword">this</span>.setTimeout(e,<span class="code-number">1e3</span>/<span class="code-number">60</span>)},e.requestNamedAnimationFrame=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.namedRafs_.has(e)){<span class="code-keyword">this</span>.clearTimersOnDispose_(),t=Ve(<span class="code-keyword">this</span>,t);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.requestAnimationFrame(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t(),i.namedRafs_.has(e)&amp;&amp;i.namedRafs_.delete(e)});<span class="code-keyword">return</span> <span class="code-keyword">this</span>.namedRafs_.set(e,n),e}},e.cancelNamedAnimationFrame=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.namedRafs_.has(e)&amp;&amp;(<span class="code-keyword">this</span>.cancelAnimationFrame(<span class="code-keyword">this</span>.namedRafs_.get(e)),<span class="code-keyword">this</span>.namedRafs_.delete(e))},e.cancelAnimationFrame=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.supportsRaf_?(<span class="code-keyword">this</span>.rafIds_.has(e)&amp;&amp;(<span class="code-keyword">this</span>.rafIds_.delete(e),<span class="code-built_in">window</span>.cancelAnimationFrame(e)),e):<span class="code-keyword">this</span>.clearTimeout(e)},e.clearTimersOnDispose_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.clearingTimersOnDispose_||(<span class="code-keyword">this</span>.clearingTimersOnDispose_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.one(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{[[<span class="code-string">"namedRafs_"</span>,<span class="code-string">"cancelNamedAnimationFrame"</span>],[<span class="code-string">"rafIds_"</span>,<span class="code-string">"cancelAnimationFrame"</span>],[<span class="code-string">"setTimeoutIds_"</span>,<span class="code-string">"clearTimeout"</span>],[<span class="code-string">"setIntervalIds_"</span>,<span class="code-string">"clearInterval"</span>]].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e[<span class="code-number">0</span>],i=e[<span class="code-number">1</span>];n[t].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> n[i](t)})}),n.clearingTimersOnDispose_=!<span class="code-number">1</span>}))},s.registerComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e||!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Illegal component name, "'</span>+e+<span class="code-string">'"; must be a non-empty string.'</span>);<span class="code-keyword">var</span> i=s.getComponent(<span class="code-string">"Tech"</span>),n=i&amp;&amp;i.isTech(t),i=s===t||s.prototype.isPrototypeOf(t.prototype);<span class="code-keyword">if</span>(n||!i){<span class="code-keyword">var</span> r=n?<span class="code-string">"techs must be registered using Tech.registerTech()"</span>:<span class="code-string">"must be a Component subclass"</span>;<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Illegal component, "'</span>+e+<span class="code-string">'"; '</span>+r+<span class="code-string">"."</span>)}e=ut(e),s.components_||(s.components_={});r=s.getComponent(<span class="code-string">"Player"</span>);<span class="code-keyword">if</span>(<span class="code-string">"Player"</span>===e&amp;&amp;r&amp;&amp;r.players){<span class="code-keyword">var</span> a=r.players,r=<span class="code-built_in">Object</span>.keys(a);<span class="code-keyword">if</span>(a&amp;&amp;<span class="code-number">0</span>&lt;r.length&amp;&amp;r.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> a[e]}).every(<span class="code-built_in">Boolean</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Can not register Player component after player has been created."</span>)}<span class="code-keyword">return</span> s.components_[e]=t,s.components_[ot(e)]=t},s.getComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;s.components_)<span class="code-keyword">return</span> s.components_[e]},s}();pt.prototype.supportsRaf_=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.requestAnimationFrame&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.cancelAnimationFrame,pt.registerComponent(<span class="code-string">"Component"</span>,pt);<span class="code-keyword">var</span> ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">ReferenceError</span>(<span class="code-string">"this hasn't been initialised - super() hasn't been called"</span>);<span class="code-keyword">return</span> e};<span class="code-keyword">var</span> mt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.prototype=<span class="code-built_in">Object</span>.create(t.prototype),(e.prototype.constructor=e).__proto__=t};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gt</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> t||t&lt;<span class="code-number">0</span>||i&lt;t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Failed to execute '"</span>+e+<span class="code-string">"' on 'TimeRanges': The index provided ("</span>+t+<span class="code-string">") is non-numeric or out of bounds (0-"</span>+i+<span class="code-string">")."</span>)}(e,n,i.length<span class="code-number">-1</span>),i[n][t]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">void</span> <span class="code-number">0</span>===e||<span class="code-number">0</span>===e.length?{<span class="code-attr">length</span>:<span class="code-number">0</span>,<span class="code-attr">start</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"This TimeRanges object is empty"</span>)},<span class="code-attr">end</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"This TimeRanges object is empty"</span>)}}:{<span class="code-attr">length</span>:e.length,<span class="code-attr">start</span>:gt.bind(<span class="code-literal">null</span>,<span class="code-string">"start"</span>,<span class="code-number">0</span>,e),<span class="code-attr">end</span>:gt.bind(<span class="code-literal">null</span>,<span class="code-string">"end"</span>,<span class="code-number">1</span>,e)};<span class="code-keyword">return</span> <span class="code-built_in">window</span>.Symbol&amp;&amp;<span class="code-built_in">window</span>.Symbol.iterator&amp;&amp;(t[<span class="code-built_in">window</span>.Symbol.iterator]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>(e||[]).values()}),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vt</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Array</span>.isArray(e)?yt(e):<span class="code-keyword">void</span> <span class="code-number">0</span>===e||<span class="code-keyword">void</span> <span class="code-number">0</span>===t?yt():yt([[e,t]])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_t</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r=<span class="code-number">0</span>;<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> <span class="code-number">0</span>;e&amp;&amp;e.length||(e=vt(<span class="code-number">0</span>,<span class="code-number">0</span>));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;e.length;a++)i=e.start(a),r+=(n=t&lt;(n=e.end(a))?t:n)-i;<span class="code-keyword">return</span> r/t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e <span class="code-keyword">instanceof</span> bt)<span class="code-keyword">return</span> e;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e?<span class="code-keyword">this</span>.code=e:<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?<span class="code-keyword">this</span>.message=e:T(e)&amp;&amp;(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.code&amp;&amp;(<span class="code-keyword">this</span>.code=e.code),b(<span class="code-keyword">this</span>,e)),<span class="code-keyword">this</span>.message||(<span class="code-keyword">this</span>.message=bt.defaultMessages[<span class="code-keyword">this</span>.code]||<span class="code-string">""</span>)}bt.prototype.code=<span class="code-number">0</span>,bt.prototype.message=<span class="code-string">""</span>,bt.prototype.status=<span class="code-literal">null</span>,bt.errorTypes=[<span class="code-string">"MEDIA_ERR_CUSTOM"</span>,<span class="code-string">"MEDIA_ERR_ABORTED"</span>,<span class="code-string">"MEDIA_ERR_NETWORK"</span>,<span class="code-string">"MEDIA_ERR_DECODE"</span>,<span class="code-string">"MEDIA_ERR_SRC_NOT_SUPPORTED"</span>,<span class="code-string">"MEDIA_ERR_ENCRYPTED"</span>],bt.defaultMessages={<span class="code-number">1</span>:<span class="code-string">"You aborted the media playback"</span>,<span class="code-number">2</span>:<span class="code-string">"A network error caused the media download to fail part-way."</span>,<span class="code-number">3</span>:<span class="code-string">"The media playback was aborted due to a corruption problem or because the media used features your browser did not support."</span>,<span class="code-number">4</span>:<span class="code-string">"The media could not be loaded, either because the server or network failed or because the format is not supported."</span>,<span class="code-number">5</span>:<span class="code-string">"The media is encrypted and we do not have the keys to decrypt it."</span>};<span class="code-keyword">for</span>(<span class="code-keyword">var</span> Tt=<span class="code-number">0</span>;Tt&lt;bt.errorTypes.length;Tt++)bt[bt.errorTypes[Tt]]=Tt,bt.prototype[bt.errorTypes[Tt]]=Tt;<span class="code-keyword">var</span> St=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-literal">null</span>;<span class="code-keyword">try</span>{i=<span class="code-built_in">JSON</span>.parse(e,t)}<span class="code-keyword">catch</span>(e){n=e}<span class="code-keyword">return</span>[n,i]};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=e&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.then}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Et</span>(<span class="code-params">e</span>)</span>{wt(e)&amp;&amp;e.then(<span class="code-literal">null</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kt</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">return</span>[<span class="code-string">"kind"</span>,<span class="code-string">"label"</span>,<span class="code-string">"language"</span>,<span class="code-string">"id"</span>,<span class="code-string">"inBandMetadataTrackDispatchType"</span>,<span class="code-string">"mode"</span>,<span class="code-string">"src"</span>].reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> n[t]&amp;&amp;(e[t]=n[t]),e},{<span class="code-attr">cues</span>:n.cues&amp;&amp;<span class="code-built_in">Array</span>.prototype.map.call(n.cues,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">startTime</span>:e.startTime,<span class="code-attr">endTime</span>:e.endTime,<span class="code-attr">text</span>:e.text,<span class="code-attr">id</span>:e.id}})})}<span class="code-keyword">var</span> Ct=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.$$(<span class="code-string">"track"</span>),i=<span class="code-built_in">Array</span>.prototype.map.call(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.track});<span class="code-keyword">return</span> <span class="code-built_in">Array</span>.prototype.map.call(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=kt(e.track);<span class="code-keyword">return</span> e.src&amp;&amp;(t.src=e.src),t}).concat(<span class="code-built_in">Array</span>.prototype.filter.call(e.textTracks(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-number">-1</span>===i.indexOf(e)}).map(kt))},It=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,i</span>)</span>{<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i.addRemoteTextTrack(e).track;!e.src&amp;&amp;e.cues&amp;&amp;e.cues.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.addCue(e)})}),i.textTracks()},xt=<span class="code-string">"vjs-modal-dialog"</span>,At=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.handleKeyDown_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyDown(e)},i.close_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.close(e)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!<span class="code-number">1</span>,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=$(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:xt+<span class="code-string">"-content"</span>},{<span class="code-attr">role</span>:<span class="code-string">"document"</span>}),i.descEl_=$(<span class="code-string">"p"</span>,{<span class="code-attr">className</span>:xt+<span class="code-string">"-description vjs-control-text"</span>,<span class="code-attr">id</span>:i.el().getAttribute(<span class="code-string">"aria-describedby"</span>)}),J(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-keyword">this</span>.buildCSSClass(),<span class="code-attr">tabIndex</span>:<span class="code-number">-1</span>},{<span class="code-string">"aria-describedby"</span>:<span class="code-keyword">this</span>.id()+<span class="code-string">"_description"</span>,<span class="code-string">"aria-hidden"</span>:<span class="code-string">"true"</span>,<span class="code-string">"aria-label"</span>:<span class="code-keyword">this</span>.label(),<span class="code-attr">role</span>:<span class="code-string">"dialog"</span>})},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.contentEl_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.descEl_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.previouslyActiveEl_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> xt+<span class="code-string">" vjs-hidden "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.label=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.localize(<span class="code-keyword">this</span>.options_.label||<span class="code-string">"Modal Window"</span>)},t.description=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.options_.description||<span class="code-keyword">this</span>.localize(<span class="code-string">"This is a modal window."</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.closeable()&amp;&amp;(e+=<span class="code-string">" "</span>+<span class="code-keyword">this</span>.localize(<span class="code-string">"This modal can be closed by pressing the Escape key or activating the close button."</span>)),e},t.open=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.opened_||(e=<span class="code-keyword">this</span>.player(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"beforemodalopen"</span>),<span class="code-keyword">this</span>.opened_=!<span class="code-number">0</span>,!<span class="code-keyword">this</span>.options_.fillAlways&amp;&amp;(<span class="code-keyword">this</span>.hasBeenOpened_||<span class="code-keyword">this</span>.hasBeenFilled_)||<span class="code-keyword">this</span>.fill(),<span class="code-keyword">this</span>.wasPlaying_=!e.paused(),<span class="code-keyword">this</span>.options_.pauseOnOpen&amp;&amp;<span class="code-keyword">this</span>.wasPlaying_&amp;&amp;e.pause(),<span class="code-keyword">this</span>.on(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.handleKeyDown_),<span class="code-keyword">this</span>.hadControls_=e.controls(),e.controls(!<span class="code-number">1</span>),<span class="code-keyword">this</span>.show(),<span class="code-keyword">this</span>.conditionalFocus_(),<span class="code-keyword">this</span>.el().setAttribute(<span class="code-string">"aria-hidden"</span>,<span class="code-string">"false"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"modalopen"</span>),<span class="code-keyword">this</span>.hasBeenOpened_=!<span class="code-number">0</span>)},t.opened=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"boolean"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-keyword">this</span>[e?<span class="code-string">"open"</span>:<span class="code-string">"close"</span>](),<span class="code-keyword">this</span>.opened_},t.close=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.opened_&amp;&amp;(e=<span class="code-keyword">this</span>.player(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"beforemodalclose"</span>),<span class="code-keyword">this</span>.opened_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.wasPlaying_&amp;&amp;<span class="code-keyword">this</span>.options_.pauseOnOpen&amp;&amp;e.play(),<span class="code-keyword">this</span>.off(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.handleKeyDown_),<span class="code-keyword">this</span>.hadControls_&amp;&amp;e.controls(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.hide(),<span class="code-keyword">this</span>.el().setAttribute(<span class="code-string">"aria-hidden"</span>,<span class="code-string">"true"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"modalclose"</span>),<span class="code-keyword">this</span>.conditionalBlur_(),<span class="code-keyword">this</span>.options_.temporary&amp;&amp;<span class="code-keyword">this</span>.dispose())},t.closeable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i;<span class="code-keyword">return</span><span class="code-string">"boolean"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(t=<span class="code-keyword">this</span>.closeable_=!!e,i=<span class="code-keyword">this</span>.getChild(<span class="code-string">"closeButton"</span>),t&amp;&amp;!i&amp;&amp;(e=<span class="code-keyword">this</span>.contentEl_,<span class="code-keyword">this</span>.contentEl_=<span class="code-keyword">this</span>.el_,i=<span class="code-keyword">this</span>.addChild(<span class="code-string">"closeButton"</span>,{<span class="code-attr">controlText</span>:<span class="code-string">"Close Modal Dialog"</span>}),<span class="code-keyword">this</span>.contentEl_=e,<span class="code-keyword">this</span>.on(i,<span class="code-string">"close"</span>,<span class="code-keyword">this</span>.close_)),!t&amp;&amp;i&amp;&amp;(<span class="code-keyword">this</span>.off(i,<span class="code-string">"close"</span>,<span class="code-keyword">this</span>.close_),<span class="code-keyword">this</span>.removeChild(i),i.dispose())),<span class="code-keyword">this</span>.closeable_},t.fill=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.fillWith(<span class="code-keyword">this</span>.content())},t.fillWith=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.contentEl(),i=t.parentNode,n=t.nextSibling;<span class="code-keyword">this</span>.trigger(<span class="code-string">"beforemodalfill"</span>),<span class="code-keyword">this</span>.hasBeenFilled_=!<span class="code-number">0</span>,i.removeChild(t),<span class="code-keyword">this</span>.empty(),ve(t,e),<span class="code-keyword">this</span>.trigger(<span class="code-string">"modalfill"</span>),n?i.insertBefore(t,n):i.appendChild(t);t=<span class="code-keyword">this</span>.getChild(<span class="code-string">"closeButton"</span>);t&amp;&amp;i.appendChild(t.el_)},t.empty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"beforemodalempty"</span>),me(<span class="code-keyword">this</span>.contentEl()),<span class="code-keyword">this</span>.trigger(<span class="code-string">"modalempty"</span>)},t.content=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;(<span class="code-keyword">this</span>.content_=e),<span class="code-keyword">this</span>.content_},t.conditionalFocus_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">document</span>.activeElement,t=<span class="code-keyword">this</span>.player_.el_;<span class="code-keyword">this</span>.previouslyActiveEl_=<span class="code-literal">null</span>,!t.contains(e)&amp;&amp;t!==e||(<span class="code-keyword">this</span>.previouslyActiveEl_=e,<span class="code-keyword">this</span>.focus())},t.conditionalBlur_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.previouslyActiveEl_&amp;&amp;(<span class="code-keyword">this</span>.previouslyActiveEl_.focus(),<span class="code-keyword">this</span>.previouslyActiveEl_=<span class="code-literal">null</span>)},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.stopPropagation(),ht.isEventKey(e,<span class="code-string">"Escape"</span>)&amp;&amp;<span class="code-keyword">this</span>.closeable())<span class="code-keyword">return</span> e.preventDefault(),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.close();<span class="code-keyword">if</span>(ht.isEventKey(e,<span class="code-string">"Tab"</span>)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=<span class="code-keyword">this</span>.focusableEls_(),n=<span class="code-keyword">this</span>.el_.querySelector(<span class="code-string">":focus"</span>),r=<span class="code-number">0</span>;r&lt;i.length;r++)<span class="code-keyword">if</span>(n===i[r]){t=r;<span class="code-keyword">break</span>}<span class="code-built_in">document</span>.activeElement===<span class="code-keyword">this</span>.el_&amp;&amp;(t=<span class="code-number">0</span>),e.shiftKey&amp;&amp;<span class="code-number">0</span>===t?(i[i.length<span class="code-number">-1</span>].focus(),e.preventDefault()):e.shiftKey||t!==i.length<span class="code-number">-1</span>||(i[<span class="code-number">0</span>].focus(),e.preventDefault())}},t.focusableEls_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.el_.querySelectorAll(<span class="code-string">"*"</span>);<span class="code-keyword">return</span> <span class="code-built_in">Array</span>.prototype.filter.call(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLAnchorElement||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLAreaElement)&amp;&amp;e.hasAttribute(<span class="code-string">"href"</span>)||(e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLInputElement||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLSelectElement||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLTextAreaElement||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLButtonElement)&amp;&amp;!e.hasAttribute(<span class="code-string">"disabled"</span>)||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLIFrameElement||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLObjectElement||e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.HTMLEmbedElement||e.hasAttribute(<span class="code-string">"tabindex"</span>)&amp;&amp;<span class="code-number">-1</span>!==e.getAttribute(<span class="code-string">"tabindex"</span>)||e.hasAttribute(<span class="code-string">"contenteditable"</span>)})},e}(pt);At.prototype.options_={<span class="code-attr">pauseOnOpen</span>:!<span class="code-number">0</span>,<span class="code-attr">temporary</span>:!<span class="code-number">0</span>},pt.registerComponent(<span class="code-string">"ModalDialog"</span>,At);<span class="code-keyword">var</span> Pt,Lt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=[]),(t=n.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).tracks_=[],<span class="code-built_in">Object</span>.defineProperty(ft(t),<span class="code-string">"length"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tracks_.length}});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)t.addTrack(e[i]);<span class="code-keyword">return</span> t}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.addTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,i=<span class="code-keyword">this</span>.tracks_.length;<span class="code-string">""</span>+i <span class="code-keyword">in</span> <span class="code-keyword">this</span>||<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,i,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tracks_[i]}}),<span class="code-number">-1</span>===<span class="code-keyword">this</span>.tracks_.indexOf(e)&amp;&amp;(<span class="code-keyword">this</span>.tracks_.push(e),<span class="code-keyword">this</span>.trigger({<span class="code-attr">track</span>:e,<span class="code-attr">type</span>:<span class="code-string">"addtrack"</span>,<span class="code-attr">target</span>:<span class="code-keyword">this</span>})),e.labelchange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger({<span class="code-attr">track</span>:e,<span class="code-attr">type</span>:<span class="code-string">"labelchange"</span>,<span class="code-attr">target</span>:t})},it(e)&amp;&amp;e.addEventListener(<span class="code-string">"labelchange"</span>,e.labelchange_)},t.removeTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.length;i&lt;n;i++)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>[i]===e){(t=<span class="code-keyword">this</span>[i]).off&amp;&amp;t.off(),<span class="code-keyword">this</span>.tracks_.splice(i,<span class="code-number">1</span>);<span class="code-keyword">break</span>}t&amp;&amp;<span class="code-keyword">this</span>.trigger({<span class="code-attr">track</span>:t,<span class="code-attr">type</span>:<span class="code-string">"removetrack"</span>,<span class="code-attr">target</span>:<span class="code-keyword">this</span>})},t.getTrackById=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-literal">null</span>,i=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.length;i&lt;n;i++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>[i];<span class="code-keyword">if</span>(r.id===e){t=r;<span class="code-keyword">break</span>}}<span class="code-keyword">return</span> t},e}(ze);<span class="code-keyword">for</span>(Pt <span class="code-keyword">in</span> Lt.prototype.allowedEvents_={<span class="code-attr">change</span>:<span class="code-string">"change"</span>,<span class="code-attr">addtrack</span>:<span class="code-string">"addtrack"</span>,<span class="code-attr">removetrack</span>:<span class="code-string">"removetrack"</span>,<span class="code-attr">labelchange</span>:<span class="code-string">"labelchange"</span>},Lt.prototype.allowedEvents_)Lt.prototype[<span class="code-string">"on"</span>+Pt]=<span class="code-literal">null</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Dt</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)<span class="code-built_in">Object</span>.keys(e[i]).length&amp;&amp;t.id!==e[i].id&amp;&amp;(e[i].enabled=!<span class="code-number">1</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ot</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)<span class="code-built_in">Object</span>.keys(e[i]).length&amp;&amp;t.id!==e[i].id&amp;&amp;(e[i].selected=!<span class="code-number">1</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=[<span class="code-string">"protocol"</span>,<span class="code-string">"hostname"</span>,<span class="code-string">"port"</span>,<span class="code-string">"pathname"</span>,<span class="code-string">"search"</span>,<span class="code-string">"hash"</span>,<span class="code-string">"host"</span>],i=<span class="code-built_in">document</span>.createElement(<span class="code-string">"a"</span>);i.href=e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n={},r=<span class="code-number">0</span>;r&lt;t.length;r++)n[t[r]]=i[t[r]];<span class="code-keyword">return</span><span class="code-string">"http:"</span>===n.protocol&amp;&amp;(n.host=n.host.replace(<span class="code-regexp">/:80$/</span>,<span class="code-string">""</span>)),<span class="code-string">"https:"</span>===n.protocol&amp;&amp;(n.host=n.host.replace(<span class="code-regexp">/:443$/</span>,<span class="code-string">""</span>)),n.protocol||(n.protocol=<span class="code-built_in">window</span>.location.protocol),n.host||(n.host=<span class="code-built_in">window</span>.location.host),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Rt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">return</span> e.match(<span class="code-regexp">/^https?:\/\//</span>)||((t=<span class="code-built_in">document</span>.createElement(<span class="code-string">"a"</span>)).href=e,e=t.href),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e){e=<span class="code-regexp">/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/</span>.exec(e);<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> e.pop().toLowerCase()}<span class="code-keyword">return</span><span class="code-string">""</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ut</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-built_in">window</span>.location),(<span class="code-string">":"</span>===(e=Mt(e)).protocol?t:e).protocol+e.host!==t.protocol+t.host}<span class="code-keyword">var</span> Bt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?[]:e).length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=i;i--)<span class="code-keyword">if</span>(e[i].enabled){Dt(e,e[i]);<span class="code-keyword">break</span>}<span class="code-keyword">return</span>(t=n.call(<span class="code-keyword">this</span>,e)||<span class="code-keyword">this</span>).changing_=!<span class="code-number">1</span>,t}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.addTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;e.enabled&amp;&amp;Dt(<span class="code-keyword">this</span>,e),n.prototype.addTrack.call(<span class="code-keyword">this</span>,e),e.addEventListener&amp;&amp;(e.enabledChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.changing_||(t.changing_=!<span class="code-number">0</span>,Dt(t,e),t.changing_=!<span class="code-number">1</span>,t.trigger(<span class="code-string">"change"</span>))},e.addEventListener(<span class="code-string">"enabledchange"</span>,e.enabledChange_))},t.removeTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.prototype.removeTrack.call(<span class="code-keyword">this</span>,e),e.removeEventListener&amp;&amp;e.enabledChange_&amp;&amp;(e.removeEventListener(<span class="code-string">"enabledchange"</span>,e.enabledChange_),e.enabledChange_=<span class="code-literal">null</span>)},e}(Lt),Ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?[]:e).length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=i;i--)<span class="code-keyword">if</span>(e[i].selected){Ot(e,e[i]);<span class="code-keyword">break</span>}<span class="code-keyword">return</span>(t=n.call(<span class="code-keyword">this</span>,e)||<span class="code-keyword">this</span>).changing_=!<span class="code-number">1</span>,<span class="code-built_in">Object</span>.defineProperty(ft(t),<span class="code-string">"selectedIndex"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-keyword">this</span>.length;e++)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>[e].selected)<span class="code-keyword">return</span> e;<span class="code-keyword">return</span><span class="code-number">-1</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}),t}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.addTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;e.selected&amp;&amp;Ot(<span class="code-keyword">this</span>,e),n.prototype.addTrack.call(<span class="code-keyword">this</span>,e),e.addEventListener&amp;&amp;(e.selectedChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.changing_||(t.changing_=!<span class="code-number">0</span>,Ot(t,e),t.changing_=!<span class="code-number">1</span>,t.trigger(<span class="code-string">"change"</span>))},e.addEventListener(<span class="code-string">"selectedchange"</span>,e.selectedChange_))},t.removeTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.prototype.removeTrack.call(<span class="code-keyword">this</span>,e),e.removeEventListener&amp;&amp;e.selectedChange_&amp;&amp;(e.removeEventListener(<span class="code-string">"selectedchange"</span>,e.selectedChange_),e.selectedChange_=<span class="code-literal">null</span>)},e}(Lt),k=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.addTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;i.prototype.addTrack.call(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.queueChange_||(<span class="code-keyword">this</span>.queueChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.queueTrigger(<span class="code-string">"change"</span>)}),<span class="code-keyword">this</span>.triggerSelectedlanguagechange||(<span class="code-keyword">this</span>.triggerSelectedlanguagechange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.trigger(<span class="code-string">"selectedlanguagechange"</span>)}),e.addEventListener(<span class="code-string">"modechange"</span>,<span class="code-keyword">this</span>.queueChange_);<span class="code-number">-1</span>===[<span class="code-string">"metadata"</span>,<span class="code-string">"chapters"</span>].indexOf(e.kind)&amp;&amp;e.addEventListener(<span class="code-string">"modechange"</span>,<span class="code-keyword">this</span>.triggerSelectedlanguagechange_)},t.removeTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.prototype.removeTrack.call(<span class="code-keyword">this</span>,e),e.removeEventListener&amp;&amp;(<span class="code-keyword">this</span>.queueChange_&amp;&amp;e.removeEventListener(<span class="code-string">"modechange"</span>,<span class="code-keyword">this</span>.queueChange_),<span class="code-keyword">this</span>.selectedlanguagechange_&amp;&amp;e.removeEventListener(<span class="code-string">"modechange"</span>,<span class="code-keyword">this</span>.triggerSelectedlanguagechange_))},e}(Lt),jt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=[]),<span class="code-keyword">this</span>.trackElements_=[],<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"length"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.trackElements_.length}});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,i=e.length;t&lt;i;t++)<span class="code-keyword">this</span>.addTrackElement_(e[t])}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.addTrackElement_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.trackElements_.length;<span class="code-string">""</span>+t <span class="code-keyword">in</span> <span class="code-keyword">this</span>||<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,t,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.trackElements_[t]}}),<span class="code-number">-1</span>===<span class="code-keyword">this</span>.trackElements_.indexOf(e)&amp;&amp;<span class="code-keyword">this</span>.trackElements_.push(e)},t.getTrackElementByTrack_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.trackElements_.length;i&lt;n;i++)<span class="code-keyword">if</span>(e===<span class="code-keyword">this</span>.trackElements_[i].track){t=<span class="code-keyword">this</span>.trackElements_[i];<span class="code-keyword">break</span>}<span class="code-keyword">return</span> t},t.removeTrackElement_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.trackElements_.length;t&lt;i;t++)<span class="code-keyword">if</span>(e===<span class="code-keyword">this</span>.trackElements_[t]){<span class="code-keyword">this</span>.trackElements_[t].track&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.trackElements_[t].track.off&amp;&amp;<span class="code-keyword">this</span>.trackElements_[t].track.off(),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.trackElements_[t].off&amp;&amp;<span class="code-keyword">this</span>.trackElements_[t].off(),<span class="code-keyword">this</span>.trackElements_.splice(t,<span class="code-number">1</span>);<span class="code-keyword">break</span>}},e}(),Ht=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e</span>)</span>{t.prototype.setCues_.call(<span class="code-keyword">this</span>,e),<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">"length"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.length_}})}<span class="code-keyword">var</span> e=t.prototype;<span class="code-keyword">return</span> e.setCues_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.length||<span class="code-number">0</span>,i=<span class="code-number">0</span>,n=e.length;<span class="code-keyword">this</span>.cues_=e,<span class="code-keyword">this</span>.length_=e.length;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e</span>)</span>{<span class="code-string">""</span>+e <span class="code-keyword">in</span> <span class="code-keyword">this</span>||<span class="code-built_in">Object</span>.defineProperty(<span class="code-keyword">this</span>,<span class="code-string">""</span>+e,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cues_[e]}})}<span class="code-keyword">if</span>(t&lt;n)<span class="code-keyword">for</span>(i=t;i&lt;n;i++)r.call(<span class="code-keyword">this</span>,i)},e.getCueById=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-literal">null</span>,i=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.length;i&lt;n;i++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>[i];<span class="code-keyword">if</span>(r.id===e){t=r;<span class="code-keyword">break</span>}}<span class="code-keyword">return</span> t},t}(),qt={<span class="code-attr">alternative</span>:<span class="code-string">"alternative"</span>,<span class="code-attr">captions</span>:<span class="code-string">"captions"</span>,<span class="code-attr">main</span>:<span class="code-string">"main"</span>,<span class="code-attr">sign</span>:<span class="code-string">"sign"</span>,<span class="code-attr">subtitles</span>:<span class="code-string">"subtitles"</span>,<span class="code-attr">commentary</span>:<span class="code-string">"commentary"</span>},Vt={<span class="code-attr">alternative</span>:<span class="code-string">"alternative"</span>,<span class="code-attr">descriptions</span>:<span class="code-string">"descriptions"</span>,<span class="code-attr">main</span>:<span class="code-string">"main"</span>,<span class="code-string">"main-desc"</span>:<span class="code-string">"main-desc"</span>,<span class="code-attr">translation</span>:<span class="code-string">"translation"</span>,<span class="code-attr">commentary</span>:<span class="code-string">"commentary"</span>},Wt={<span class="code-attr">subtitles</span>:<span class="code-string">"subtitles"</span>,<span class="code-attr">captions</span>:<span class="code-string">"captions"</span>,<span class="code-attr">descriptions</span>:<span class="code-string">"descriptions"</span>,<span class="code-attr">chapters</span>:<span class="code-string">"chapters"</span>,<span class="code-attr">metadata</span>:<span class="code-string">"metadata"</span>},Gt={<span class="code-attr">disabled</span>:<span class="code-string">"disabled"</span>,<span class="code-attr">hidden</span>:<span class="code-string">"hidden"</span>,<span class="code-attr">showing</span>:<span class="code-string">"showing"</span>},C=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={});<span class="code-keyword">var</span> t,i=a.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>,n={<span class="code-attr">id</span>:e.id||<span class="code-string">"vjs_track_"</span>+Pe++,<span class="code-attr">kind</span>:e.kind||<span class="code-string">""</span>,<span class="code-attr">language</span>:e.language||<span class="code-string">""</span>},r=e.label||<span class="code-string">""</span>;<span class="code-keyword">for</span>(t <span class="code-keyword">in</span> n)!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(ft(i),e,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n[e]},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}})}(t);<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.defineProperty(ft(i),<span class="code-string">"label"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e!==r&amp;&amp;(r=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"labelchange"</span>))}}),i}<span class="code-keyword">return</span> mt(e,a),e}(ze),zt=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">parseUrl</span>:Mt,<span class="code-attr">getAbsoluteURL</span>:Rt,<span class="code-attr">getFileExtension</span>:Nt,<span class="code-attr">isCrossOrigin</span>:Ut}),Xt=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> f?f:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> self?self:{},Kt=Xt,Yt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> t=Qt.call(e);<span class="code-keyword">return</span><span class="code-string">"[object Function]"</span>===t||<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-string">"[object RegExp]"</span>!==t||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>&amp;&amp;(e===<span class="code-built_in">window</span>.setTimeout||e===<span class="code-built_in">window</span>.alert||e===<span class="code-built_in">window</span>.confirm||e===<span class="code-built_in">window</span>.prompt)},Qt=<span class="code-built_in">Object</span>.prototype.toString;ei.httpHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r=!<span class="code-number">1</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(e)n(e);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">400</span>&lt;=t.statusCode&amp;&amp;t.statusCode&lt;=<span class="code-number">599</span>){e=i;<span class="code-keyword">if</span>(r)<span class="code-keyword">if</span>(Kt.TextDecoder){t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">""</span>);<span class="code-keyword">return</span> e.toLowerCase().split(<span class="code-string">";"</span>).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.split(<span class="code-string">"="</span>),t=i[<span class="code-number">0</span>],i=i[<span class="code-number">1</span>];<span class="code-keyword">return</span><span class="code-string">"charset"</span>===t.trim()?i.trim():e},<span class="code-string">"utf-8"</span>)}(t.headers&amp;&amp;t.headers[<span class="code-string">"content-type"</span>]);<span class="code-keyword">try</span>{e=<span class="code-keyword">new</span> TextDecoder(t).decode(i)}<span class="code-keyword">catch</span>(e){}}<span class="code-keyword">else</span> e=<span class="code-built_in">String</span>.fromCharCode.apply(<span class="code-literal">null</span>,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(i));n({<span class="code-attr">cause</span>:e})}<span class="code-keyword">else</span> n(<span class="code-literal">null</span>,i)}};
</code></td></tr><tr><td id="L13" class="css-a4x74f"><span>13</span></td><td id="LC13" class="css-1dcdqdg"><code><span class="code-comment">/**
</span></code></td></tr><tr><td id="L14" class="css-a4x74f"><span>14</span></td><td id="LC14" class="css-1dcdqdg"><code><span class="code-comment">   * @license
</span></code></td></tr><tr><td id="L15" class="css-a4x74f"><span>15</span></td><td id="LC15" class="css-1dcdqdg"><code><span class="code-comment">   * slighly modified parse-headers 2.0.2 &lt;https://github.com/kesla/parse-headers/&gt;
</span></code></td></tr><tr><td id="L16" class="css-a4x74f"><span>16</span></td><td id="LC16" class="css-1dcdqdg"><code><span class="code-comment">   * Copyright (c) 2014 David Bjrklund
</span></code></td></tr><tr><td id="L17" class="css-a4x74f"><span>17</span></td><td id="LC17" class="css-1dcdqdg"><code><span class="code-comment">   * Available under the MIT license
</span></code></td></tr><tr><td id="L18" class="css-a4x74f"><span>18</span></td><td id="LC18" class="css-1dcdqdg"><code><span class="code-comment">   * &lt;https://github.com/kesla/parse-headers/blob/master/LICENCE&gt;
</span></code></td></tr><tr><td id="L19" class="css-a4x74f"><span>19</span></td><td id="LC19" class="css-1dcdqdg"><code><span class="code-comment">   */</span>
</code></td></tr><tr><td id="L20" class="css-a4x74f"><span>20</span></td><td id="LC20" class="css-1dcdqdg"><code><span class="code-keyword">var</span> $t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n={};<span class="code-keyword">return</span> e&amp;&amp;e.trim().split(<span class="code-string">"\n"</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.indexOf(<span class="code-string">":"</span>),i=e.slice(<span class="code-number">0</span>,t).trim().toLowerCase(),t=e.slice(t+<span class="code-number">1</span>).trim();<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> n[i]?n[i]=t:<span class="code-built_in">Array</span>.isArray(n[i])?n[i].push(t):n[i]=[n[i],t]}),n},Jt=ei,I=ei;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zt</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=e;<span class="code-keyword">return</span> Yt(t)?(i=t,<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(n={<span class="code-attr">uri</span>:e})):n=g({},t,{<span class="code-attr">uri</span>:e}),n.callback=i,n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ei</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> ti(t=Zt(e,t,i))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ti</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> n.callback)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"callback argument missing"</span>);<span class="code-keyword">var</span> r=!<span class="code-number">1</span>,a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{r||(r=!<span class="code-number">0</span>,n.callback(e,t,i))};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">void</span> <span class="code-number">0</span>,e=l.response||l.responseText||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">if</span>(<span class="code-string">"document"</span>===e.responseType)<span class="code-keyword">return</span> e.responseXML;<span class="code-keyword">var</span> t=e.responseXML&amp;&amp;<span class="code-string">"parsererror"</span>===e.responseXML.documentElement.nodeName;<span class="code-keyword">if</span>(<span class="code-string">""</span>===e.responseType&amp;&amp;!t)<span class="code-keyword">return</span> e.responseXML}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">return</span> <span class="code-literal">null</span>}(l);<span class="code-keyword">if</span>(m)<span class="code-keyword">try</span>{e=<span class="code-built_in">JSON</span>.parse(e)}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> clearTimeout(u),(e=!(e <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>)?<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">""</span>+(e||<span class="code-string">"Unknown XMLHttpRequest Error"</span>)):e).statusCode=<span class="code-number">0</span>,a(e,g)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!o){clearTimeout(u);<span class="code-keyword">var</span> e=n.useXDR&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===l.status?<span class="code-number">200</span>:<span class="code-number">1223</span>===l.status?<span class="code-number">204</span>:l.status,t=g,i=<span class="code-literal">null</span>;<span class="code-keyword">return</span> <span class="code-number">0</span>!==e?(t={<span class="code-attr">body</span>:s(),<span class="code-attr">statusCode</span>:e,<span class="code-attr">method</span>:d,<span class="code-attr">headers</span>:{},<span class="code-attr">url</span>:c,<span class="code-attr">rawRequest</span>:l},l.getAllResponseHeaders&amp;&amp;(t.headers=$t(l.getAllResponseHeaders()))):i=<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Internal XMLHttpRequest Error"</span>),a(i,t,t.body)}}<span class="code-keyword">var</span> i,o,u,l=n.xhr||<span class="code-literal">null</span>,c=(l=l||<span class="code-keyword">new</span>(n.cors||n.useXDR?ei.XDomainRequest:ei.XMLHttpRequest)).url=n.uri||n.url,d=l.method=n.method||<span class="code-string">"GET"</span>,h=n.body||n.data,p=l.headers=n.headers||{},f=!!n.sync,m=!<span class="code-number">1</span>,g={<span class="code-attr">body</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">headers</span>:{},<span class="code-attr">statusCode</span>:<span class="code-number">0</span>,<span class="code-attr">method</span>:d,<span class="code-attr">url</span>:c,<span class="code-attr">rawRequest</span>:l};<span class="code-keyword">if</span>(<span class="code-string">"json"</span><span class="code-keyword">in</span> n&amp;&amp;!<span class="code-number">1</span>!==n.json&amp;&amp;(m=!<span class="code-number">0</span>,p.accept||p.Accept||(p.Accept=<span class="code-string">"application/json"</span>),<span class="code-string">"GET"</span>!==d&amp;&amp;<span class="code-string">"HEAD"</span>!==d&amp;&amp;(p[<span class="code-string">"content-type"</span>]||p[<span class="code-string">"Content-Type"</span>]||(p[<span class="code-string">"Content-Type"</span>]=<span class="code-string">"application/json"</span>),h=<span class="code-built_in">JSON</span>.stringify(!<span class="code-number">0</span>===n.json?h:n.json))),l.onreadystatechange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">4</span>===l.readyState&amp;&amp;setTimeout(e,<span class="code-number">0</span>)},l.onload=e,l.onerror=t,l.onprogress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},l.onabort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{o=!<span class="code-number">0</span>},l.ontimeout=t,l.open(d,c,!f,n.username,n.password),f||(l.withCredentials=!!n.withCredentials),!f&amp;&amp;<span class="code-number">0</span>&lt;n.timeout&amp;&amp;(u=setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;o||(o=!<span class="code-number">0</span>,l.abort(<span class="code-string">"timeout"</span>),(e=<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"XMLHttpRequest timeout"</span>)).code=<span class="code-string">"ETIMEDOUT"</span>,t(e))},n.timeout)),l.setRequestHeader)<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> p)p.hasOwnProperty(i)&amp;&amp;l.setRequestHeader(i,p[i]);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n.headers&amp;&amp;!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> e)<span class="code-keyword">if</span>(e.hasOwnProperty(t))<span class="code-keyword">return</span>;<span class="code-keyword">return</span> <span class="code-number">1</span>}(n.headers))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Headers cannot be set on an XDomainRequest object"</span>);<span class="code-keyword">return</span><span class="code-string">"responseType"</span><span class="code-keyword">in</span> n&amp;&amp;(l.responseType=n.responseType),<span class="code-string">"beforeSend"</span><span class="code-keyword">in</span> n&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> n.beforeSend&amp;&amp;n.beforeSend(l),l.send(h||<span class="code-literal">null</span>),l}ei.XMLHttpRequest=Kt.XMLHttpRequest||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},ei.XDomainRequest=<span class="code-string">"withCredentials"</span><span class="code-keyword">in</span> <span class="code-keyword">new</span> ei.XMLHttpRequest?ei.XMLHttpRequest:Kt.XDomainRequest,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)t(e[i])}([<span class="code-string">"get"</span>,<span class="code-string">"put"</span>,<span class="code-string">"post"</span>,<span class="code-string">"patch"</span>,<span class="code-string">"head"</span>,<span class="code-string">"delete"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{ei[<span class="code-string">"delete"</span>===n?<span class="code-string">"del"</span>:n]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span>(t=Zt(e,t,i)).method=n.toUpperCase(),ti(t)}}),Jt.default=I;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ii</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.WebVTT.Parser(<span class="code-built_in">window</span>,<span class="code-built_in">window</span>.vttjs,<span class="code-built_in">window</span>.WebVTT.StringDecoder()),n=[];i.oncue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.addCue(e)},i.onparsingerror=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.push(e)},i.onflush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger({<span class="code-attr">type</span>:<span class="code-string">"loadeddata"</span>,<span class="code-attr">target</span>:t})},i.parse(e),<span class="code-number">0</span>&lt;n.length&amp;&amp;(<span class="code-built_in">window</span>.console&amp;&amp;<span class="code-built_in">window</span>.console.groupCollapsed&amp;&amp;<span class="code-built_in">window</span>.console.groupCollapsed(<span class="code-string">"Text Track parsing errors for "</span>+t.src),n.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> h.error(e)}),<span class="code-built_in">window</span>.console&amp;&amp;<span class="code-built_in">window</span>.console.groupEnd&amp;&amp;<span class="code-built_in">window</span>.console.groupEnd()),i.flush()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ni</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">uri</span>:e};(e=Ut(e))&amp;&amp;(t.cors=e),(e=<span class="code-string">"use-credentials"</span>===n.tech_.crossOrigin())&amp;&amp;(t.withCredentials=e),Jt(t,Ve(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> e?h.error(e,t):(n.loaded_=!<span class="code-number">0</span>,<span class="code-keyword">void</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.WebVTT?n.tech_&amp;&amp;n.tech_.any([<span class="code-string">"vttjsloaded"</span>,<span class="code-string">"vttjserror"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vttjserror"</span>!==e.type?ii(i,n):<span class="code-keyword">void</span> h.error(<span class="code-string">"vttjs failed to load, stopping trying to process "</span>+n.src)}):ii(i,n)))}))}<span class="code-keyword">var</span> ri=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">if</span>(!(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e).tech)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"A tech was not provided."</span>);<span class="code-keyword">var</span> e=lt(e,{<span class="code-attr">kind</span>:Wt[e.kind]||<span class="code-string">"subtitles"</span>,<span class="code-attr">language</span>:e.language||e.srclang||<span class="code-string">""</span>}),i=Gt[e.mode]||<span class="code-string">"disabled"</span>,n=e.default;<span class="code-string">"metadata"</span>!==e.kind&amp;&amp;<span class="code-string">"chapters"</span>!==e.kind||(i=<span class="code-string">"hidden"</span>),(t=a.call(<span class="code-keyword">this</span>,e)||<span class="code-keyword">this</span>).tech_=e.tech,t.cues_=[],t.activeCues_=[],t.preload_=!<span class="code-number">1</span>!==t.tech_.preloadTextTracks;<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> Ht(t.cues_),s=<span class="code-keyword">new</span> Ht(t.activeCues_),o=!<span class="code-number">1</span>;t.timeupdateHandler=Ve(ft(t),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_.isDisposed()||(<span class="code-keyword">this</span>.tech_.isReady_&amp;&amp;(<span class="code-keyword">this</span>.activeCues=<span class="code-keyword">this</span>.activeCues,o&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"cuechange"</span>),o=!<span class="code-number">1</span>)),<span class="code-keyword">this</span>.rvf_=<span class="code-keyword">this</span>.tech_.requestVideoFrameCallback(<span class="code-keyword">this</span>.timeupdateHandler))});<span class="code-keyword">return</span> t.tech_.one(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.stopTracking()}),<span class="code-string">"disabled"</span>!==i&amp;&amp;t.startTracking(),<span class="code-built_in">Object</span>.defineProperties(ft(t),{<span class="code-attr">default</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}},<span class="code-attr">mode</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Gt[e]&amp;&amp;i!==e&amp;&amp;(i=e,<span class="code-keyword">this</span>.preload_||<span class="code-string">"disabled"</span>===i||<span class="code-number">0</span>!==<span class="code-keyword">this</span>.cues.length||ni(<span class="code-keyword">this</span>.src,<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.stopTracking(),<span class="code-string">"disabled"</span>!==i&amp;&amp;<span class="code-keyword">this</span>.startTracking(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"modechange"</span>))}},<span class="code-attr">cues</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.loaded_?r:<span class="code-literal">null</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}},<span class="code-attr">activeCues</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.loaded_)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>===<span class="code-keyword">this</span>.cues.length)<span class="code-keyword">return</span> s;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.tech_.currentTime(),t=[],i=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.cues.length;i&lt;n;i++){<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.cues[i];(r.startTime&lt;=e&amp;&amp;r.endTime&gt;=e||r.startTime===r.endTime&amp;&amp;r.startTime&lt;=e&amp;&amp;r.startTime+<span class="code-number">.5</span>&gt;=e)&amp;&amp;t.push(r)}<span class="code-keyword">if</span>(o=!<span class="code-number">1</span>,t.length!==<span class="code-keyword">this</span>.activeCues_.length)o=!<span class="code-number">0</span>;<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;t.length;a++)<span class="code-number">-1</span>===<span class="code-keyword">this</span>.activeCues_.indexOf(t[a])&amp;&amp;(o=!<span class="code-number">0</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.activeCues_=t,s.setCues_(<span class="code-keyword">this</span>.activeCues_),s},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}}),e.src?(t.src=e.src,t.preload_||(t.loaded_=!<span class="code-number">0</span>),(t.preload_||<span class="code-string">"subtitles"</span>!==e.kind&amp;&amp;<span class="code-string">"captions"</span>!==e.kind)&amp;&amp;ni(t.src,ft(t))):t.loaded_=!<span class="code-number">0</span>,t}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.startTracking=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.rvf_=<span class="code-keyword">this</span>.tech_.requestVideoFrameCallback(<span class="code-keyword">this</span>.timeupdateHandler)},t.stopTracking=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.rvf_&amp;&amp;(<span class="code-keyword">this</span>.tech_.cancelVideoFrameCallback(<span class="code-keyword">this</span>.rvf_),<span class="code-keyword">this</span>.rvf_=<span class="code-keyword">void</span> <span class="code-number">0</span>)},t.addCue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e;<span class="code-keyword">if</span>(<span class="code-built_in">window</span>.vttjs&amp;&amp;!(e <span class="code-keyword">instanceof</span> <span class="code-built_in">window</span>.vttjs.VTTCue)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> t=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i <span class="code-keyword">in</span> t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.tech_.textTracks(),r=<span class="code-number">0</span>;r&lt;n.length;r++)n[r]!==<span class="code-keyword">this</span>&amp;&amp;n[r].removeCue(t);<span class="code-keyword">this</span>.cues_.push(t),<span class="code-keyword">this</span>.cues.setCues_(<span class="code-keyword">this</span>.cues_)},t.removeCue=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.cues_.length;t--;){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.cues_[t];<span class="code-keyword">if</span>(i===e||i.originalCue_&amp;&amp;i.originalCue_===e){<span class="code-keyword">this</span>.cues_.splice(t,<span class="code-number">1</span>),<span class="code-keyword">this</span>.cues.setCues_(<span class="code-keyword">this</span>.cues_);<span class="code-keyword">break</span>}}},e}(C);ri.prototype.allowedEvents_={<span class="code-attr">cuechange</span>:<span class="code-string">"cuechange"</span>};x=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=lt(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e,{<span class="code-attr">kind</span>:Vt[e.kind]||<span class="code-string">""</span>}),e=n.call(<span class="code-keyword">this</span>,t)||<span class="code-keyword">this</span>,i=!<span class="code-number">1</span>;<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.defineProperty(ft(e),<span class="code-string">"enabled"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"boolean"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e!==i&amp;&amp;(i=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"enabledchange"</span>))}}),t.enabled&amp;&amp;(e.enabled=t.enabled),e.loaded_=!<span class="code-number">0</span>,e}<span class="code-keyword">return</span> mt(e,n),e}(C),U=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=lt(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e,{<span class="code-attr">kind</span>:qt[e.kind]||<span class="code-string">""</span>}),e=n.call(<span class="code-keyword">this</span>,t)||<span class="code-keyword">this</span>,i=!<span class="code-number">1</span>;<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.defineProperty(ft(e),<span class="code-string">"selected"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"boolean"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e!==i&amp;&amp;(i=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"selectedchange"</span>))}}),t.selected&amp;&amp;(e.selected=t.selected),e}<span class="code-keyword">return</span> mt(e,n),e}(C),j=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e={});<span class="code-keyword">var</span> i=r.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>,n=<span class="code-keyword">new</span> ri(e);<span class="code-keyword">return</span> i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,<span class="code-built_in">Object</span>.defineProperties(ft(i),{<span class="code-attr">readyState</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t}},<span class="code-attr">track</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n}}}),t=<span class="code-number">0</span>,n.addEventListener(<span class="code-string">"loadeddata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t=<span class="code-number">2</span>,i.trigger({<span class="code-attr">type</span>:<span class="code-string">"load"</span>,<span class="code-attr">target</span>:ft(i)})}),i}<span class="code-keyword">return</span> mt(e,r),e}(ze);j.prototype.allowedEvents_={<span class="code-attr">load</span>:<span class="code-string">"load"</span>},j.NONE=<span class="code-number">0</span>,j.LOADING=<span class="code-number">1</span>,j.LOADED=<span class="code-number">2</span>,j.ERROR=<span class="code-number">3</span>;<span class="code-keyword">var</span> ai={<span class="code-attr">audio</span>:{<span class="code-attr">ListClass</span>:Bt,<span class="code-attr">TrackClass</span>:x,<span class="code-attr">capitalName</span>:<span class="code-string">"Audio"</span>},<span class="code-attr">video</span>:{<span class="code-attr">ListClass</span>:Ft,<span class="code-attr">TrackClass</span>:U,<span class="code-attr">capitalName</span>:<span class="code-string">"Video"</span>},<span class="code-attr">text</span>:{<span class="code-attr">ListClass</span>:k,<span class="code-attr">TrackClass</span>:ri,<span class="code-attr">capitalName</span>:<span class="code-string">"Text"</span>}};<span class="code-built_in">Object</span>.keys(ai).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ai[e].getterName=e+<span class="code-string">"Tracks"</span>,ai[e].privateName=e+<span class="code-string">"Tracks_"</span>});<span class="code-keyword">var</span> si={<span class="code-attr">remoteText</span>:{<span class="code-attr">ListClass</span>:k,<span class="code-attr">TrackClass</span>:ri,<span class="code-attr">capitalName</span>:<span class="code-string">"RemoteText"</span>,<span class="code-attr">getterName</span>:<span class="code-string">"remoteTextTracks"</span>,<span class="code-attr">privateName</span>:<span class="code-string">"remoteTextTracks_"</span>},<span class="code-attr">remoteTextEl</span>:{<span class="code-attr">ListClass</span>:jt,<span class="code-attr">TrackClass</span>:j,<span class="code-attr">capitalName</span>:<span class="code-string">"RemoteTextTrackEls"</span>,<span class="code-attr">getterName</span>:<span class="code-string">"remoteTextTrackEls"</span>,<span class="code-attr">privateName</span>:<span class="code-string">"remoteTextTrackEls_"</span>}},oi=g({},ai,si);si.names=<span class="code-built_in">Object</span>.keys(si),ai.names=<span class="code-built_in">Object</span>.keys(ai),oi.names=[].concat(si.names).concat(ai.names);<span class="code-keyword">var</span> ui=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> f?f:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:{},li=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">document</span>?<span class="code-built_in">document</span>:(li=ui[<span class="code-string">"__GLOBAL_DOCUMENT_CACHE@4"</span>])||(ui[<span class="code-string">"__GLOBAL_DOCUMENT_CACHE@4"</span>]={}),Xt=li,ci=<span class="code-built_in">Object</span>.create||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>!==<span class="code-built_in">arguments</span>.length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Object.create shim only accepts one parameter."</span>);<span class="code-keyword">return</span> di.prototype=e,<span class="code-keyword">new</span> di};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">di</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hi</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.name=<span class="code-string">"ParsingError"</span>,<span class="code-keyword">this</span>.code=e.code,<span class="code-keyword">this</span>.message=t||e.message}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pi</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">3600</span>*(<span class="code-number">0</span>|e)+<span class="code-number">60</span>*(<span class="code-number">0</span>|t)+(<span class="code-number">0</span>|i)+(<span class="code-number">0</span>|n)/<span class="code-number">1e3</span>}e=e.match(<span class="code-regexp">/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/</span>);<span class="code-keyword">return</span> e?e[<span class="code-number">3</span>]?t(e[<span class="code-number">1</span>],e[<span class="code-number">2</span>],e[<span class="code-number">3</span>].replace(<span class="code-string">":"</span>,<span class="code-string">""</span>),e[<span class="code-number">4</span>]):<span class="code-number">59</span>&lt;e[<span class="code-number">1</span>]?t(e[<span class="code-number">1</span>],e[<span class="code-number">2</span>],<span class="code-number">0</span>,e[<span class="code-number">4</span>]):t(<span class="code-number">0</span>,e[<span class="code-number">1</span>],e[<span class="code-number">2</span>],e[<span class="code-number">4</span>]):<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fi</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.values=ci(<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mi</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r,a,s=n?e.split(n):[e];<span class="code-keyword">for</span>(r <span class="code-keyword">in</span> s)<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> s[r]&amp;&amp;(<span class="code-number">2</span>===(a=s[r].split(i)).length&amp;&amp;t(a[<span class="code-number">0</span>],a[<span class="code-number">1</span>]))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gi</span>(<span class="code-params">t,e,s</span>)</span>{<span class="code-keyword">var</span> i=t;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=pi(t);<span class="code-keyword">if</span>(<span class="code-literal">null</span>===e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> hi(hi.Errors.BadTimeStamp,<span class="code-string">"Malformed timestamp: "</span>+i);<span class="code-keyword">return</span> t=t.replace(<span class="code-regexp">/^[^\sa-zA-Z-]+/</span>,<span class="code-string">""</span>),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{t=t.replace(<span class="code-regexp">/^\s+/</span>,<span class="code-string">""</span>)}<span class="code-keyword">if</span>(r(),e.startTime=n(),r(),<span class="code-string">"--\x3e"</span>!==t.substr(<span class="code-number">0</span>,<span class="code-number">3</span>))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> hi(hi.Errors.BadTimeStamp,<span class="code-string">"Malformed time stamp (time stamps must be separated by '--\x3e'): "</span>+i);t=t.substr(<span class="code-number">3</span>),r(),e.endTime=n(),r(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> fi;mi(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span><span class="code-string">"region"</span>:<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=s.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=i;i--)<span class="code-keyword">if</span>(s[i].id===t){a.set(e,s[i].region);<span class="code-keyword">break</span>}<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"vertical"</span>:a.alt(e,t,[<span class="code-string">"rl"</span>,<span class="code-string">"lr"</span>]);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"line"</span>:<span class="code-keyword">var</span> n=t.split(<span class="code-string">","</span>),r=n[<span class="code-number">0</span>];a.integer(e,r),a.percent(e,r)&amp;&amp;a.set(<span class="code-string">"snapToLines"</span>,!<span class="code-number">1</span>),a.alt(e,r,[<span class="code-string">"auto"</span>]),<span class="code-number">2</span>===n.length&amp;&amp;a.alt(<span class="code-string">"lineAlign"</span>,n[<span class="code-number">1</span>],[<span class="code-string">"start"</span>,<span class="code-string">"center"</span>,<span class="code-string">"end"</span>]);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"position"</span>:n=t.split(<span class="code-string">","</span>),a.percent(e,n[<span class="code-number">0</span>]),<span class="code-number">2</span>===n.length&amp;&amp;a.alt(<span class="code-string">"positionAlign"</span>,n[<span class="code-number">1</span>],[<span class="code-string">"start"</span>,<span class="code-string">"center"</span>,<span class="code-string">"end"</span>]);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"size"</span>:a.percent(e,t);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"align"</span>:a.alt(e,t,[<span class="code-string">"start"</span>,<span class="code-string">"center"</span>,<span class="code-string">"end"</span>,<span class="code-string">"left"</span>,<span class="code-string">"right"</span>])}},/:<span class="code-regexp">/,/</span>\s/),t.region=a.get(<span class="code-string">"region"</span>,<span class="code-literal">null</span>),t.vertical=a.get(<span class="code-string">"vertical"</span>,<span class="code-string">""</span>);<span class="code-keyword">try</span>{t.line=a.get(<span class="code-string">"line"</span>,<span class="code-string">"auto"</span>)}<span class="code-keyword">catch</span>(e){}t.lineAlign=a.get(<span class="code-string">"lineAlign"</span>,<span class="code-string">"start"</span>),t.snapToLines=a.get(<span class="code-string">"snapToLines"</span>,!<span class="code-number">0</span>),t.size=a.get(<span class="code-string">"size"</span>,<span class="code-number">100</span>);<span class="code-keyword">try</span>{t.align=a.get(<span class="code-string">"align"</span>,<span class="code-string">"center"</span>)}<span class="code-keyword">catch</span>(e){t.align=a.get(<span class="code-string">"align"</span>,<span class="code-string">"middle"</span>)}<span class="code-keyword">try</span>{t.position=a.get(<span class="code-string">"position"</span>,<span class="code-string">"auto"</span>)}<span class="code-keyword">catch</span>(e){t.position=a.get(<span class="code-string">"position"</span>,{<span class="code-attr">start</span>:<span class="code-number">0</span>,<span class="code-attr">left</span>:<span class="code-number">0</span>,<span class="code-attr">center</span>:<span class="code-number">50</span>,<span class="code-attr">middle</span>:<span class="code-number">50</span>,<span class="code-attr">end</span>:<span class="code-number">100</span>,<span class="code-attr">right</span>:<span class="code-number">100</span>},t.align)}t.positionAlign=a.get(<span class="code-string">"positionAlign"</span>,{<span class="code-attr">start</span>:<span class="code-string">"start"</span>,<span class="code-attr">left</span>:<span class="code-string">"start"</span>,<span class="code-attr">center</span>:<span class="code-string">"center"</span>,<span class="code-attr">middle</span>:<span class="code-string">"center"</span>,<span class="code-attr">end</span>:<span class="code-string">"end"</span>,<span class="code-attr">right</span>:<span class="code-string">"end"</span>},t.align)}(t,e)}((hi.prototype=ci(<span class="code-built_in">Error</span>.prototype)).constructor=hi).Errors={<span class="code-attr">BadSignature</span>:{<span class="code-attr">code</span>:<span class="code-number">0</span>,<span class="code-attr">message</span>:<span class="code-string">"Malformed WebVTT signature."</span>},<span class="code-attr">BadTimeStamp</span>:{<span class="code-attr">code</span>:<span class="code-number">1</span>,<span class="code-attr">message</span>:<span class="code-string">"Malformed time stamp."</span>}},fi.prototype={<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.get(e)||<span class="code-string">""</span>===t||(<span class="code-keyword">this</span>.values[e]=t)},<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> i?<span class="code-keyword">this</span>.has(e)?<span class="code-keyword">this</span>.values[e]:t[i]:<span class="code-keyword">this</span>.has(e)?<span class="code-keyword">this</span>.values[e]:t},<span class="code-attr">has</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.values},<span class="code-attr">alt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;i.length;++n)<span class="code-keyword">if</span>(t===i[n]){<span class="code-keyword">this</span>.set(e,t);<span class="code-keyword">break</span>}},<span class="code-attr">integer</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{/^-?\d+$/.test(t)&amp;&amp;<span class="code-keyword">this</span>.set(e,<span class="code-built_in">parseInt</span>(t,<span class="code-number">10</span>))},<span class="code-attr">percent</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>!!(t.match(<span class="code-regexp">/^([\d]{1,3})(\.[\d]*)?%$/</span>)&amp;&amp;<span class="code-number">0</span>&lt;=(t=<span class="code-built_in">parseFloat</span>(t))&amp;&amp;t&lt;=<span class="code-number">100</span>)&amp;&amp;(<span class="code-keyword">this</span>.set(e,t),!<span class="code-number">0</span>)}};<span class="code-keyword">var</span> yi=Xt.createElement&amp;&amp;Xt.createElement(<span class="code-string">"textarea"</span>),vi={<span class="code-attr">c</span>:<span class="code-string">"span"</span>,<span class="code-attr">i</span>:<span class="code-string">"i"</span>,<span class="code-attr">b</span>:<span class="code-string">"b"</span>,<span class="code-attr">u</span>:<span class="code-string">"u"</span>,<span class="code-attr">ruby</span>:<span class="code-string">"ruby"</span>,<span class="code-attr">rt</span>:<span class="code-string">"rt"</span>,<span class="code-attr">v</span>:<span class="code-string">"span"</span>,<span class="code-attr">lang</span>:<span class="code-string">"span"</span>},_i={<span class="code-attr">white</span>:<span class="code-string">"rgba(255,255,255,1)"</span>,<span class="code-attr">lime</span>:<span class="code-string">"rgba(0,255,0,1)"</span>,<span class="code-attr">cyan</span>:<span class="code-string">"rgba(0,255,255,1)"</span>,<span class="code-attr">red</span>:<span class="code-string">"rgba(255,0,0,1)"</span>,<span class="code-attr">yellow</span>:<span class="code-string">"rgba(255,255,0,1)"</span>,<span class="code-attr">magenta</span>:<span class="code-string">"rgba(255,0,255,1)"</span>,<span class="code-attr">blue</span>:<span class="code-string">"rgba(0,0,255,1)"</span>,<span class="code-attr">black</span>:<span class="code-string">"rgba(0,0,0,1)"</span>},bi={<span class="code-attr">v</span>:<span class="code-string">"title"</span>,<span class="code-attr">lang</span>:<span class="code-string">"lang"</span>},Ti={<span class="code-attr">rt</span>:<span class="code-string">"ruby"</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Si</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n,r,a,s,o,u,l,c,d,h=e.document.createElement(<span class="code-string">"div"</span>),p=h,f=[];<span class="code-literal">null</span>!==(i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> e=t.match(<span class="code-regexp">/^([^&lt;]*)(&lt;[^&gt;]*&gt;?)?/</span>);<span class="code-keyword">return</span> e=e[<span class="code-number">1</span>]||e[<span class="code-number">2</span>],t=t.substr(e.length),e}());)<span class="code-string">"&lt;"</span>!==i[<span class="code-number">0</span>]?p.appendChild(e.document.createTextNode((s=i,yi.innerHTML=s,s=yi.textContent,yi.textContent=<span class="code-string">""</span>,s))):<span class="code-string">"/"</span>!==i[<span class="code-number">1</span>]?(a=pi(i.substr(<span class="code-number">1</span>,i.length<span class="code-number">-2</span>)))?(n=e.document.createProcessingInstruction(<span class="code-string">"timestamp"</span>,a),p.appendChild(n)):(r=i.match(<span class="code-regexp">/^&lt;([^.\s/0-9&gt;]+)(\.[^\s\\&gt;]+)?([^&gt;\\]+)?(\\?)&gt;?$/</span>))&amp;&amp;(l=r[<span class="code-number">1</span>],c=r[<span class="code-number">3</span>],d=<span class="code-keyword">void</span> <span class="code-number">0</span>,d=vi[l],(n=d?(d=e.document.createElement(d),(l=bi[l])&amp;&amp;c&amp;&amp;(d[l]=c.trim()),d):<span class="code-literal">null</span>)&amp;&amp;(o=p,Ti[(u=n).localName]&amp;&amp;Ti[u.localName]!==o.localName||(r[<span class="code-number">2</span>]&amp;&amp;((a=r[<span class="code-number">2</span>].split(<span class="code-string">"."</span>)).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-regexp">/^bg_/</span>.test(e),e=t?e.slice(<span class="code-number">3</span>):e;_i.hasOwnProperty(e)&amp;&amp;(e=_i[e],n.style[t?<span class="code-string">"background-color"</span>:<span class="code-string">"color"</span>]=e)}),n.className=a.join(<span class="code-string">" "</span>)),f.push(r[<span class="code-number">1</span>]),p.appendChild(n),p=n))):f.length&amp;&amp;f[f.length<span class="code-number">-1</span>]===i.substr(<span class="code-number">2</span>).replace(<span class="code-string">"&gt;"</span>,<span class="code-string">""</span>)&amp;&amp;(f.pop(),p=p.parentNode);<span class="code-keyword">return</span> h}<span class="code-keyword">var</span> wi=[[<span class="code-number">1470</span>,<span class="code-number">1470</span>],[<span class="code-number">1472</span>,<span class="code-number">1472</span>],[<span class="code-number">1475</span>,<span class="code-number">1475</span>],[<span class="code-number">1478</span>,<span class="code-number">1478</span>],[<span class="code-number">1488</span>,<span class="code-number">1514</span>],[<span class="code-number">1520</span>,<span class="code-number">1524</span>],[<span class="code-number">1544</span>,<span class="code-number">1544</span>],[<span class="code-number">1547</span>,<span class="code-number">1547</span>],[<span class="code-number">1549</span>,<span class="code-number">1549</span>],[<span class="code-number">1563</span>,<span class="code-number">1563</span>],[<span class="code-number">1566</span>,<span class="code-number">1610</span>],[<span class="code-number">1645</span>,<span class="code-number">1647</span>],[<span class="code-number">1649</span>,<span class="code-number">1749</span>],[<span class="code-number">1765</span>,<span class="code-number">1766</span>],[<span class="code-number">1774</span>,<span class="code-number">1775</span>],[<span class="code-number">1786</span>,<span class="code-number">1805</span>],[<span class="code-number">1807</span>,<span class="code-number">1808</span>],[<span class="code-number">1810</span>,<span class="code-number">1839</span>],[<span class="code-number">1869</span>,<span class="code-number">1957</span>],[<span class="code-number">1969</span>,<span class="code-number">1969</span>],[<span class="code-number">1984</span>,<span class="code-number">2026</span>],[<span class="code-number">2036</span>,<span class="code-number">2037</span>],[<span class="code-number">2042</span>,<span class="code-number">2042</span>],[<span class="code-number">2048</span>,<span class="code-number">2069</span>],[<span class="code-number">2074</span>,<span class="code-number">2074</span>],[<span class="code-number">2084</span>,<span class="code-number">2084</span>],[<span class="code-number">2088</span>,<span class="code-number">2088</span>],[<span class="code-number">2096</span>,<span class="code-number">2110</span>],[<span class="code-number">2112</span>,<span class="code-number">2136</span>],[<span class="code-number">2142</span>,<span class="code-number">2142</span>],[<span class="code-number">2208</span>,<span class="code-number">2208</span>],[<span class="code-number">2210</span>,<span class="code-number">2220</span>],[<span class="code-number">8207</span>,<span class="code-number">8207</span>],[<span class="code-number">64285</span>,<span class="code-number">64285</span>],[<span class="code-number">64287</span>,<span class="code-number">64296</span>],[<span class="code-number">64298</span>,<span class="code-number">64310</span>],[<span class="code-number">64312</span>,<span class="code-number">64316</span>],[<span class="code-number">64318</span>,<span class="code-number">64318</span>],[<span class="code-number">64320</span>,<span class="code-number">64321</span>],[<span class="code-number">64323</span>,<span class="code-number">64324</span>],[<span class="code-number">64326</span>,<span class="code-number">64449</span>],[<span class="code-number">64467</span>,<span class="code-number">64829</span>],[<span class="code-number">64848</span>,<span class="code-number">64911</span>],[<span class="code-number">64914</span>,<span class="code-number">64967</span>],[<span class="code-number">65008</span>,<span class="code-number">65020</span>],[<span class="code-number">65136</span>,<span class="code-number">65140</span>],[<span class="code-number">65142</span>,<span class="code-number">65276</span>],[<span class="code-number">67584</span>,<span class="code-number">67589</span>],[<span class="code-number">67592</span>,<span class="code-number">67592</span>],[<span class="code-number">67594</span>,<span class="code-number">67637</span>],[<span class="code-number">67639</span>,<span class="code-number">67640</span>],[<span class="code-number">67644</span>,<span class="code-number">67644</span>],[<span class="code-number">67647</span>,<span class="code-number">67669</span>],[<span class="code-number">67671</span>,<span class="code-number">67679</span>],[<span class="code-number">67840</span>,<span class="code-number">67867</span>],[<span class="code-number">67872</span>,<span class="code-number">67897</span>],[<span class="code-number">67903</span>,<span class="code-number">67903</span>],[<span class="code-number">67968</span>,<span class="code-number">68023</span>],[<span class="code-number">68030</span>,<span class="code-number">68031</span>],[<span class="code-number">68096</span>,<span class="code-number">68096</span>],[<span class="code-number">68112</span>,<span class="code-number">68115</span>],[<span class="code-number">68117</span>,<span class="code-number">68119</span>],[<span class="code-number">68121</span>,<span class="code-number">68147</span>],[<span class="code-number">68160</span>,<span class="code-number">68167</span>],[<span class="code-number">68176</span>,<span class="code-number">68184</span>],[<span class="code-number">68192</span>,<span class="code-number">68223</span>],[<span class="code-number">68352</span>,<span class="code-number">68405</span>],[<span class="code-number">68416</span>,<span class="code-number">68437</span>],[<span class="code-number">68440</span>,<span class="code-number">68466</span>],[<span class="code-number">68472</span>,<span class="code-number">68479</span>],[<span class="code-number">68608</span>,<span class="code-number">68680</span>],[<span class="code-number">126464</span>,<span class="code-number">126467</span>],[<span class="code-number">126469</span>,<span class="code-number">126495</span>],[<span class="code-number">126497</span>,<span class="code-number">126498</span>],[<span class="code-number">126500</span>,<span class="code-number">126500</span>],[<span class="code-number">126503</span>,<span class="code-number">126503</span>],[<span class="code-number">126505</span>,<span class="code-number">126514</span>],[<span class="code-number">126516</span>,<span class="code-number">126519</span>],[<span class="code-number">126521</span>,<span class="code-number">126521</span>],[<span class="code-number">126523</span>,<span class="code-number">126523</span>],[<span class="code-number">126530</span>,<span class="code-number">126530</span>],[<span class="code-number">126535</span>,<span class="code-number">126535</span>],[<span class="code-number">126537</span>,<span class="code-number">126537</span>],[<span class="code-number">126539</span>,<span class="code-number">126539</span>],[<span class="code-number">126541</span>,<span class="code-number">126543</span>],[<span class="code-number">126545</span>,<span class="code-number">126546</span>],[<span class="code-number">126548</span>,<span class="code-number">126548</span>],[<span class="code-number">126551</span>,<span class="code-number">126551</span>],[<span class="code-number">126553</span>,<span class="code-number">126553</span>],[<span class="code-number">126555</span>,<span class="code-number">126555</span>],[<span class="code-number">126557</span>,<span class="code-number">126557</span>],[<span class="code-number">126559</span>,<span class="code-number">126559</span>],[<span class="code-number">126561</span>,<span class="code-number">126562</span>],[<span class="code-number">126564</span>,<span class="code-number">126564</span>],[<span class="code-number">126567</span>,<span class="code-number">126570</span>],[<span class="code-number">126572</span>,<span class="code-number">126578</span>],[<span class="code-number">126580</span>,<span class="code-number">126583</span>],[<span class="code-number">126585</span>,<span class="code-number">126588</span>],[<span class="code-number">126590</span>,<span class="code-number">126590</span>],[<span class="code-number">126592</span>,<span class="code-number">126601</span>],[<span class="code-number">126603</span>,<span class="code-number">126619</span>],[<span class="code-number">126625</span>,<span class="code-number">126627</span>],[<span class="code-number">126629</span>,<span class="code-number">126633</span>],[<span class="code-number">126635</span>,<span class="code-number">126651</span>],[<span class="code-number">1114109</span>,<span class="code-number">1114109</span>]];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ei</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=[],i=<span class="code-string">""</span>;<span class="code-keyword">if</span>(!e||!e.childNodes)<span class="code-keyword">return</span><span class="code-string">"ltr"</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.childNodes.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=i;i--)e.push(t.childNodes[i])}<span class="code-keyword">for</span>(a(t,e);i=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(!t||!t.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i=t.pop(),n=i.textContent||i.innerText;<span class="code-keyword">if</span>(n){<span class="code-keyword">var</span> r=n.match(<span class="code-regexp">/^.*(\n|\r)/</span>);<span class="code-keyword">return</span> r?r[t.length=<span class="code-number">0</span>]:n}<span class="code-keyword">return</span><span class="code-string">"ruby"</span>===i.tagName?e(t):i.childNodes?(a(t,i),e(t)):<span class="code-keyword">void</span> <span class="code-number">0</span>}(t);)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;i.length;n++)<span class="code-keyword">if</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;wi.length;t++){<span class="code-keyword">var</span> i=wi[t];<span class="code-keyword">if</span>(e&gt;=i[<span class="code-number">0</span>]&amp;&amp;e&lt;=i[<span class="code-number">1</span>])<span class="code-keyword">return</span> <span class="code-number">1</span>}}(i.charCodeAt(n)))<span class="code-keyword">return</span><span class="code-string">"rtl"</span>;<span class="code-keyword">return</span><span class="code-string">"ltr"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ki</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ci</span>(<span class="code-params">e,t,i</span>)</span>{ki.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.cue=t,<span class="code-keyword">this</span>.cueDiv=Si(e,t.text);<span class="code-keyword">var</span> n={<span class="code-attr">color</span>:<span class="code-string">"rgba(255, 255, 255, 1)"</span>,<span class="code-attr">backgroundColor</span>:<span class="code-string">"rgba(0, 0, 0, 0.8)"</span>,<span class="code-attr">position</span>:<span class="code-string">"relative"</span>,<span class="code-attr">left</span>:<span class="code-number">0</span>,<span class="code-attr">right</span>:<span class="code-number">0</span>,<span class="code-attr">top</span>:<span class="code-number">0</span>,<span class="code-attr">bottom</span>:<span class="code-number">0</span>,<span class="code-attr">display</span>:<span class="code-string">"inline"</span>,<span class="code-attr">writingMode</span>:<span class="code-string">""</span>===t.vertical?<span class="code-string">"horizontal-tb"</span>:<span class="code-string">"lr"</span>===t.vertical?<span class="code-string">"vertical-lr"</span>:<span class="code-string">"vertical-rl"</span>,<span class="code-attr">unicodeBidi</span>:<span class="code-string">"plaintext"</span>};<span class="code-keyword">this</span>.applyStyles(n,<span class="code-keyword">this</span>.cueDiv),<span class="code-keyword">this</span>.div=e.document.createElement(<span class="code-string">"div"</span>),n={<span class="code-attr">direction</span>:Ei(<span class="code-keyword">this</span>.cueDiv),<span class="code-attr">writingMode</span>:<span class="code-string">""</span>===t.vertical?<span class="code-string">"horizontal-tb"</span>:<span class="code-string">"lr"</span>===t.vertical?<span class="code-string">"vertical-lr"</span>:<span class="code-string">"vertical-rl"</span>,<span class="code-attr">unicodeBidi</span>:<span class="code-string">"plaintext"</span>,<span class="code-attr">textAlign</span>:<span class="code-string">"middle"</span>===t.align?<span class="code-string">"center"</span>:t.align,<span class="code-attr">font</span>:i.font,<span class="code-attr">whiteSpace</span>:<span class="code-string">"pre-line"</span>,<span class="code-attr">position</span>:<span class="code-string">"absolute"</span>},<span class="code-keyword">this</span>.applyStyles(n),<span class="code-keyword">this</span>.div.appendChild(<span class="code-keyword">this</span>.cueDiv);<span class="code-keyword">var</span> r=<span class="code-number">0</span>;<span class="code-keyword">switch</span>(t.positionAlign){<span class="code-keyword">case</span><span class="code-string">"start"</span>:r=t.position;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"center"</span>:r=t.position-t.size/<span class="code-number">2</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"end"</span>:r=t.position-t.size}<span class="code-string">""</span>===t.vertical?<span class="code-keyword">this</span>.applyStyles({<span class="code-attr">left</span>:<span class="code-keyword">this</span>.formatStyle(r,<span class="code-string">"%"</span>),<span class="code-attr">width</span>:<span class="code-keyword">this</span>.formatStyle(t.size,<span class="code-string">"%"</span>)}):<span class="code-keyword">this</span>.applyStyles({<span class="code-attr">top</span>:<span class="code-keyword">this</span>.formatStyle(r,<span class="code-string">"%"</span>),<span class="code-attr">height</span>:<span class="code-keyword">this</span>.formatStyle(t.size,<span class="code-string">"%"</span>)}),<span class="code-keyword">this</span>.move=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.applyStyles({<span class="code-attr">top</span>:<span class="code-keyword">this</span>.formatStyle(e.top,<span class="code-string">"px"</span>),<span class="code-attr">bottom</span>:<span class="code-keyword">this</span>.formatStyle(e.bottom,<span class="code-string">"px"</span>),<span class="code-attr">left</span>:<span class="code-keyword">this</span>.formatStyle(e.left,<span class="code-string">"px"</span>),<span class="code-attr">right</span>:<span class="code-keyword">this</span>.formatStyle(e.right,<span class="code-string">"px"</span>),<span class="code-attr">height</span>:<span class="code-keyword">this</span>.formatStyle(e.height,<span class="code-string">"px"</span>),<span class="code-attr">width</span>:<span class="code-keyword">this</span>.formatStyle(e.width,<span class="code-string">"px"</span>)})}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ii</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r;e.div&amp;&amp;(t=e.div.offsetHeight,i=e.div.offsetWidth,n=e.div.offsetTop,r=(r=e.div.childNodes)&amp;&amp;(r=r[<span class="code-number">0</span>])&amp;&amp;r.getClientRects&amp;&amp;r.getClientRects(),e=e.div.getBoundingClientRect(),r=r?<span class="code-built_in">Math</span>.max(r[<span class="code-number">0</span>]&amp;&amp;r[<span class="code-number">0</span>].height||<span class="code-number">0</span>,e.height/r.length):<span class="code-number">0</span>),<span class="code-keyword">this</span>.left=e.left,<span class="code-keyword">this</span>.right=e.right,<span class="code-keyword">this</span>.top=e.top||n,<span class="code-keyword">this</span>.height=e.height||t,<span class="code-keyword">this</span>.bottom=e.bottom||n+(e.height||t),<span class="code-keyword">this</span>.width=e.width||i,<span class="code-keyword">this</span>.lineHeight=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r?r:e.lineHeight}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xi</span>(<span class="code-params">e,t,o,u</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-keyword">new</span> Ii(t),r=t.cue,a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.line&amp;&amp;(e.snapToLines||<span class="code-number">0</span>&lt;=e.line&amp;&amp;e.line&lt;=<span class="code-number">100</span>))<span class="code-keyword">return</span> e.line;<span class="code-keyword">if</span>(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)<span class="code-keyword">return</span><span class="code-number">-1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.track,i=t.textTrackList,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>;r&lt;i.length&amp;&amp;i[r]!==t;r++)<span class="code-string">"showing"</span>===i[r].mode&amp;&amp;n++;<span class="code-keyword">return</span><span class="code-number">-1</span>*++n}(r),s=[];<span class="code-keyword">if</span>(r.snapToLines){<span class="code-keyword">switch</span>(r.vertical){<span class="code-keyword">case</span><span class="code-string">""</span>:s=[<span class="code-string">"+y"</span>,<span class="code-string">"-y"</span>],i=<span class="code-string">"height"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"rl"</span>:s=[<span class="code-string">"+x"</span>,<span class="code-string">"-x"</span>],i=<span class="code-string">"width"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"lr"</span>:s=[<span class="code-string">"-x"</span>,<span class="code-string">"+x"</span>],i=<span class="code-string">"width"</span>}<span class="code-keyword">var</span> l=n.lineHeight,c=l*<span class="code-built_in">Math</span>.round(a),d=o[i]+l,h=s[<span class="code-number">0</span>];<span class="code-built_in">Math</span>.abs(c)&gt;d&amp;&amp;(c=c&lt;<span class="code-number">0</span>?<span class="code-number">-1</span>:<span class="code-number">1</span>,c*=<span class="code-built_in">Math</span>.ceil(d/l)*l),a&lt;<span class="code-number">0</span>&amp;&amp;(c+=<span class="code-string">""</span>===r.vertical?o.height:o.width,s=s.reverse()),n.move(h,c)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> p=n.lineHeight/o.height*<span class="code-number">100</span>;<span class="code-keyword">switch</span>(r.lineAlign){<span class="code-keyword">case</span><span class="code-string">"center"</span>:a-=p/<span class="code-number">2</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"end"</span>:a-=p}<span class="code-keyword">switch</span>(r.vertical){<span class="code-keyword">case</span><span class="code-string">""</span>:t.applyStyles({<span class="code-attr">top</span>:t.formatStyle(a,<span class="code-string">"%"</span>)});<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"rl"</span>:t.applyStyles({<span class="code-attr">left</span>:t.formatStyle(a,<span class="code-string">"%"</span>)});<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"lr"</span>:t.applyStyles({<span class="code-attr">right</span>:t.formatStyle(a,<span class="code-string">"%"</span>)})}s=[<span class="code-string">"+y"</span>,<span class="code-string">"-x"</span>,<span class="code-string">"+x"</span>,<span class="code-string">"-y"</span>],n=<span class="code-keyword">new</span> Ii(t)}n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n=<span class="code-keyword">new</span> Ii(e),r=<span class="code-number">1</span>,a=<span class="code-number">0</span>;a&lt;t.length;a++){<span class="code-keyword">for</span>(;e.overlapsOppositeAxis(o,t[a])||e.within(o)&amp;&amp;e.overlapsAny(u);)e.move(t[a]);<span class="code-keyword">if</span>(e.within(o))<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> s=e.intersectPercentage(o);s&lt;r&amp;&amp;(i=<span class="code-keyword">new</span> Ii(e),r=s),e=<span class="code-keyword">new</span> Ii(n)}<span class="code-keyword">return</span> i||n}(n,s);t.move(n.toCSSCompatValues(o))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ai</span>(<span class="code-params"></span>)</span>{}ki.prototype.applyStyles=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> t=t||<span class="code-keyword">this</span>.div,e)e.hasOwnProperty(i)&amp;&amp;(t.style[i]=e[i])},ki.prototype.formatStyle=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===e?<span class="code-number">0</span>:e+t},(Ci.prototype=ci(ki.prototype)).constructor=Ci,Ii.prototype.move=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">switch</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t?t:<span class="code-keyword">this</span>.lineHeight,e){<span class="code-keyword">case</span><span class="code-string">"+x"</span>:<span class="code-keyword">this</span>.left+=t,<span class="code-keyword">this</span>.right+=t;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"-x"</span>:<span class="code-keyword">this</span>.left-=t,<span class="code-keyword">this</span>.right-=t;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"+y"</span>:<span class="code-keyword">this</span>.top+=t,<span class="code-keyword">this</span>.bottom+=t;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"-y"</span>:<span class="code-keyword">this</span>.top-=t,<span class="code-keyword">this</span>.bottom-=t}},Ii.prototype.overlaps=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.left&lt;e.right&amp;&amp;<span class="code-keyword">this</span>.right&gt;e.left&amp;&amp;<span class="code-keyword">this</span>.top&lt;e.bottom&amp;&amp;<span class="code-keyword">this</span>.bottom&gt;e.top},Ii.prototype.overlapsAny=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;e.length;t++)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.overlaps(e[t]))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>},Ii.prototype.within=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.top&gt;=e.top&amp;&amp;<span class="code-keyword">this</span>.bottom&lt;=e.bottom&amp;&amp;<span class="code-keyword">this</span>.left&gt;=e.left&amp;&amp;<span class="code-keyword">this</span>.right&lt;=e.right},Ii.prototype.overlapsOppositeAxis=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span><span class="code-string">"+x"</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.left&lt;e.left;<span class="code-keyword">case</span><span class="code-string">"-x"</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.right&gt;e.right;<span class="code-keyword">case</span><span class="code-string">"+y"</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.top&lt;e.top;<span class="code-keyword">case</span><span class="code-string">"-y"</span>:<span class="code-keyword">return</span> <span class="code-keyword">this</span>.bottom&gt;e.bottom}},Ii.prototype.intersectPercentage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.right,e.right)-<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.left,e.left))*<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-built_in">Math</span>.min(<span class="code-keyword">this</span>.bottom,e.bottom)-<span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.top,e.top))/(<span class="code-keyword">this</span>.height*<span class="code-keyword">this</span>.width)},Ii.prototype.toCSSCompatValues=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">top</span>:<span class="code-keyword">this</span>.top-e.top,<span class="code-attr">bottom</span>:e.bottom-<span class="code-keyword">this</span>.bottom,<span class="code-attr">left</span>:<span class="code-keyword">this</span>.left-e.left,<span class="code-attr">right</span>:e.right-<span class="code-keyword">this</span>.right,<span class="code-attr">height</span>:<span class="code-keyword">this</span>.height,<span class="code-attr">width</span>:<span class="code-keyword">this</span>.width}},Ii.getSimpleBoxPosition=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:<span class="code-number">0</span>,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:<span class="code-number">0</span>,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:<span class="code-number">0</span>;<span class="code-keyword">return</span>{<span class="code-attr">left</span>:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,<span class="code-attr">right</span>:e.right,<span class="code-attr">top</span>:e.top||n,<span class="code-attr">height</span>:e.height||t,<span class="code-attr">bottom</span>:e.bottom||n+(e.height||t),<span class="code-attr">width</span>:e.width||i}},Ai.StringDecoder=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">decode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">if</span>(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error - expected string data."</span>);<span class="code-keyword">return</span> <span class="code-built_in">decodeURIComponent</span>(<span class="code-built_in">encodeURIComponent</span>(e))}}},Ai.convertCueToDOMTree=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;t?Si(e,t):<span class="code-literal">null</span>};Ai.processCues=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r,e</span>)</span>{<span class="code-keyword">if</span>(!n||!r||!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">for</span>(;e.firstChild;)e.removeChild(e.firstChild);<span class="code-keyword">var</span> a=n.document.createElement(<span class="code-string">"div"</span>);<span class="code-keyword">if</span>(a.style.position=<span class="code-string">"absolute"</span>,a.style.left=<span class="code-string">"0"</span>,a.style.right=<span class="code-string">"0"</span>,a.style.top=<span class="code-string">"0"</span>,a.style.bottom=<span class="code-string">"0"</span>,a.style.margin=<span class="code-string">"1.5%"</span>,e.appendChild(a),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;e.length;t++)<span class="code-keyword">if</span>(e[t].hasBeenReset||!e[t].displayState)<span class="code-keyword">return</span> <span class="code-number">1</span>}(r)){<span class="code-keyword">var</span> s=[],o=Ii.getSimpleBoxPosition(a),u={<span class="code-attr">font</span>:<span class="code-built_in">Math</span>.round(<span class="code-number">.05</span>*o.height*<span class="code-number">100</span>)/<span class="code-number">100</span>+<span class="code-string">"px sans-serif"</span>};!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,t,i=<span class="code-number">0</span>;i&lt;r.length;i++)t=r[i],e=<span class="code-keyword">new</span> Ci(n,t,u),a.appendChild(e.div),xi(<span class="code-number">0</span>,e,o,s),t.displayState=e.div,s.push(Ii.getSimpleBoxPosition(e))}()}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;r.length;t++)a.appendChild(r[t].displayState)},(Ai.Parser=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{i||(i=t,t={}),t=t||{},<span class="code-keyword">this</span>.window=e,<span class="code-keyword">this</span>.vttjs=t,<span class="code-keyword">this</span>.state=<span class="code-string">"INITIAL"</span>,<span class="code-keyword">this</span>.buffer=<span class="code-string">""</span>,<span class="code-keyword">this</span>.decoder=i||<span class="code-keyword">new</span> TextDecoder(<span class="code-string">"utf8"</span>),<span class="code-keyword">this</span>.regionList=[]}).prototype={<span class="code-attr">reportOrThrowError</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!(e <span class="code-keyword">instanceof</span> hi))<span class="code-keyword">throw</span> e;<span class="code-keyword">this</span>.onparsingerror&amp;&amp;<span class="code-keyword">this</span>.onparsingerror(e)},<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=n.buffer,t=<span class="code-number">0</span>;t&lt;e.length&amp;&amp;<span class="code-string">"\r"</span>!==e[t]&amp;&amp;<span class="code-string">"\n"</span>!==e[t];)++t;<span class="code-keyword">var</span> i=e.substr(<span class="code-number">0</span>,t);<span class="code-keyword">return</span><span class="code-string">"\r"</span>===e[t]&amp;&amp;++t,<span class="code-string">"\n"</span>===e[t]&amp;&amp;++t,n.buffer=e.substr(t),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e</span>)</span>{e.match(<span class="code-regexp">/X-TIMESTAMP-MAP/</span>)?mi(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-string">"X-TIMESTAMP-MAP"</span>===e&amp;&amp;(t=t,i=<span class="code-keyword">new</span> fi,mi(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span><span class="code-string">"MPEGT"</span>:i.integer(e+<span class="code-string">"S"</span>,t);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"LOCA"</span>:i.set(e+<span class="code-string">"L"</span>,pi(t))}},/[^\d]:<span class="code-regexp">/,/</span>,/),n.ontimestampmap&amp;&amp;n.ontimestampmap({<span class="code-attr">MPEGTS</span>:i.get(<span class="code-string">"MPEGTS"</span>),<span class="code-attr">LOCAL</span>:i.get(<span class="code-string">"LOCAL"</span>)}))},/=<span class="code-regexp">/):mi(e,function(e,t){var r;"Region"===e&amp;&amp;(t=t,r=new fi,mi(t,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var n=new fi;if(n.percent("x",i[0]),n.percent("y",i[1]),!n.has("x")||!n.has("y"))break;r.set(e+"X",n.get("x")),r.set(e+"Y",n.get("y"));break;case"scroll":r.alt(e,t,["up"])}},/</span>=<span class="code-regexp">/,/</span>\s/),r.has(<span class="code-string">"id"</span>)&amp;&amp;((t=<span class="code-keyword">new</span>(n.vttjs.VTTRegion||n.window.VTTRegion)).width=r.get(<span class="code-string">"width"</span>,<span class="code-number">100</span>),t.lines=r.get(<span class="code-string">"lines"</span>,<span class="code-number">3</span>),t.regionAnchorX=r.get(<span class="code-string">"regionanchorX"</span>,<span class="code-number">0</span>),t.regionAnchorY=r.get(<span class="code-string">"regionanchorY"</span>,<span class="code-number">100</span>),t.viewportAnchorX=r.get(<span class="code-string">"viewportanchorX"</span>,<span class="code-number">0</span>),t.viewportAnchorY=r.get(<span class="code-string">"viewportanchorY"</span>,<span class="code-number">100</span>),t.scroll=r.get(<span class="code-string">"scroll"</span>,<span class="code-string">""</span>),n.onregion&amp;&amp;n.onregion(t),n.regionList.push({<span class="code-attr">id</span>:r.get(<span class="code-string">"id"</span>),<span class="code-attr">region</span>:t})))},/:<span class="code-regexp">/)}e&amp;&amp;(n.buffer+=n.decoder.decode(e,{stream:!0}));try{if("INITIAL"===n.state){if(!/</span>\r\n|\n/.test(n.buffer))<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">var</span> r,a=(r=t()).match(<span class="code-regexp">/^WEBVTT([ \t].*)?$/</span>);<span class="code-keyword">if</span>(!a||!a[<span class="code-number">0</span>])<span class="code-keyword">throw</span> <span class="code-keyword">new</span> hi(hi.Errors.BadSignature);n.state=<span class="code-string">"HEADER"</span>}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=!<span class="code-number">1</span>;n.buffer;){<span class="code-keyword">if</span>(!<span class="code-regexp">/\r\n|\n/</span>.test(n.buffer))<span class="code-keyword">return</span> <span class="code-keyword">this</span>;<span class="code-keyword">switch</span>(s?s=!<span class="code-number">1</span>:r=t(),n.state){<span class="code-keyword">case</span><span class="code-string">"HEADER"</span>:<span class="code-regexp">/:/</span>.test(r)?i(r):r||(n.state=<span class="code-string">"ID"</span>);<span class="code-keyword">continue</span>;<span class="code-keyword">case</span><span class="code-string">"NOTE"</span>:r||(n.state=<span class="code-string">"ID"</span>);<span class="code-keyword">continue</span>;<span class="code-keyword">case</span><span class="code-string">"ID"</span>:<span class="code-keyword">if</span>(<span class="code-regexp">/^NOTE($|[ \t])/</span>.test(r)){n.state=<span class="code-string">"NOTE"</span>;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(!r)<span class="code-keyword">continue</span>;n.cue=<span class="code-keyword">new</span>(n.vttjs.VTTCue||n.window.VTTCue)(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-string">""</span>);<span class="code-keyword">try</span>{n.cue.align=<span class="code-string">"center"</span>}<span class="code-keyword">catch</span>(e){n.cue.align=<span class="code-string">"middle"</span>}<span class="code-keyword">if</span>(n.state=<span class="code-string">"CUE"</span>,<span class="code-number">-1</span>===r.indexOf(<span class="code-string">"--\x3e"</span>)){n.cue.id=r;<span class="code-keyword">continue</span>}<span class="code-keyword">case</span><span class="code-string">"CUE"</span>:<span class="code-keyword">try</span>{gi(r,n.cue,n.regionList)}<span class="code-keyword">catch</span>(e){n.reportOrThrowError(e),n.cue=<span class="code-literal">null</span>,n.state=<span class="code-string">"BADCUE"</span>;<span class="code-keyword">continue</span>}n.state=<span class="code-string">"CUETEXT"</span>;<span class="code-keyword">continue</span>;<span class="code-keyword">case</span><span class="code-string">"CUETEXT"</span>:<span class="code-keyword">var</span> o=<span class="code-number">-1</span>!==r.indexOf(<span class="code-string">"--\x3e"</span>);<span class="code-keyword">if</span>(!r||o&amp;&amp;(s=!<span class="code-number">0</span>)){n.oncue&amp;&amp;n.oncue(n.cue),n.cue=<span class="code-literal">null</span>,n.state=<span class="code-string">"ID"</span>;<span class="code-keyword">continue</span>}n.cue.text&amp;&amp;(n.cue.text+=<span class="code-string">"\n"</span>),n.cue.text+=r.replace(<span class="code-regexp">/\u2028/g</span>,<span class="code-string">"\n"</span>).replace(<span class="code-regexp">/u2029/g</span>,<span class="code-string">"\n"</span>);<span class="code-keyword">continue</span>;<span class="code-keyword">case</span><span class="code-string">"BADCUE"</span>:r||(n.state=<span class="code-string">"ID"</span>);<span class="code-keyword">continue</span>}}}<span class="code-keyword">catch</span>(e){n.reportOrThrowError(e),<span class="code-string">"CUETEXT"</span>===n.state&amp;&amp;n.cue&amp;&amp;n.oncue&amp;&amp;n.oncue(n.cue),n.cue=<span class="code-literal">null</span>,n.state=<span class="code-string">"INITIAL"</span>===n.state?<span class="code-string">"BADWEBVTT"</span>:<span class="code-string">"BADCUE"</span>}<span class="code-keyword">return</span> <span class="code-keyword">this</span>},<span class="code-attr">flush</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">try</span>{<span class="code-keyword">if</span>(t.buffer+=t.decoder.decode(),!t.cue&amp;&amp;<span class="code-string">"HEADER"</span>!==t.state||(t.buffer+=<span class="code-string">"\n\n"</span>,t.parse()),<span class="code-string">"INITIAL"</span>===t.state)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> hi(hi.Errors.BadSignature)}<span class="code-keyword">catch</span>(e){t.reportOrThrowError(e)}<span class="code-keyword">return</span> t.onflush&amp;&amp;t.onflush(),<span class="code-keyword">this</span>}};<span class="code-keyword">var</span> Pi=Ai,Li={<span class="code-string">""</span>:<span class="code-number">1</span>,<span class="code-attr">lr</span>:<span class="code-number">1</span>,<span class="code-attr">rl</span>:<span class="code-number">1</span>},Di={<span class="code-attr">start</span>:<span class="code-number">1</span>,<span class="code-attr">center</span>:<span class="code-number">1</span>,<span class="code-attr">end</span>:<span class="code-number">1</span>,<span class="code-attr">left</span>:<span class="code-number">1</span>,<span class="code-attr">right</span>:<span class="code-number">1</span>,<span class="code-attr">auto</span>:<span class="code-number">1</span>,<span class="code-string">"line-left"</span>:<span class="code-number">1</span>,<span class="code-string">"line-right"</span>:<span class="code-number">1</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oi</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(!!Di[e.toLowerCase()]&amp;&amp;e.toLowerCase())}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mi</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">1</span>;<span class="code-keyword">var</span> n=<span class="code-string">""</span>,r=!<span class="code-number">1</span>,a=e,s=t,o=i,u=<span class="code-literal">null</span>,l=<span class="code-string">""</span>,c=!<span class="code-number">0</span>,d=<span class="code-string">"auto"</span>,h=<span class="code-string">"start"</span>,p=<span class="code-string">"auto"</span>,f=<span class="code-string">"auto"</span>,m=<span class="code-number">100</span>,g=<span class="code-string">"center"</span>;<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>,{<span class="code-attr">id</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n=<span class="code-string">""</span>+e}},<span class="code-attr">pauseOnExit</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r=!!e}},<span class="code-attr">startTime</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> a},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Start time must be set to a number."</span>);a=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">endTime</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> s},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"End time must be set to a number."</span>);s=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">text</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> o},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{o=<span class="code-string">""</span>+e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">region</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> u},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{u=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">vertical</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span>(e=e)&amp;&amp;(!!Li[e.toLowerCase()]&amp;&amp;e.toLowerCase());<span class="code-keyword">if</span>(!<span class="code-number">1</span>===e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">SyntaxError</span>(<span class="code-string">"Vertical: an invalid or illegal direction string was specified."</span>);l=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">snapToLines</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> c},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{c=!!e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">line</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> d},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-string">"auto"</span>!==e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">SyntaxError</span>(<span class="code-string">"Line: an invalid number or illegal string was specified."</span>);d=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">lineAlign</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> h},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=Oi(e);e&amp;&amp;(h=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>)}},<span class="code-attr">position</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> p},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&lt;<span class="code-number">0</span>||<span class="code-number">100</span>&lt;e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Position must be between 0 and 100."</span>);p=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">positionAlign</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> f},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=Oi(e);e&amp;&amp;(f=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>)}},<span class="code-attr">size</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> m},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&lt;<span class="code-number">0</span>||<span class="code-number">100</span>&lt;e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Size must be between 0 and 100."</span>);m=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}},<span class="code-attr">align</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> g},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=Oi(e);<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">SyntaxError</span>(<span class="code-string">"align: an invalid or illegal alignment string was specified."</span>);g=e,<span class="code-keyword">this</span>.hasBeenReset=!<span class="code-number">0</span>}}}),<span class="code-keyword">this</span>.displayState=<span class="code-keyword">void</span> <span class="code-number">0</span>}Mi.prototype.getCueAsHTML=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> WebVTT.convertCueToDOMTree(<span class="code-built_in">window</span>,<span class="code-keyword">this</span>.text)};<span class="code-keyword">var</span> Ri=Mi,Ni={<span class="code-string">""</span>:!<span class="code-number">0</span>,<span class="code-attr">up</span>:!<span class="code-number">0</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ui</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-number">0</span>&lt;=e&amp;&amp;e&lt;=<span class="code-number">100</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bi</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">100</span>,i=<span class="code-number">3</span>,n=<span class="code-number">0</span>,r=<span class="code-number">100</span>,a=<span class="code-number">0</span>,s=<span class="code-number">100</span>,o=<span class="code-string">""</span>;<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>,{<span class="code-attr">width</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!Ui(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Width must be between 0 and 100."</span>);t=e}},<span class="code-attr">lines</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Lines must be set to a number."</span>);i=e}},<span class="code-attr">regionAnchorY</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!Ui(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"RegionAnchorX must be between 0 and 100."</span>);r=e}},<span class="code-attr">regionAnchorX</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!Ui(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"RegionAnchorY must be between 0 and 100."</span>);n=e}},<span class="code-attr">viewportAnchorY</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> s},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!Ui(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"ViewportAnchorY must be between 0 and 100."</span>);s=e}},<span class="code-attr">viewportAnchorX</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> a},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!Ui(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"ViewportAnchorX must be between 0 and 100."</span>);a=e}},<span class="code-attr">scroll</span>:{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> o},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span>(e=e)&amp;&amp;(!!Ni[e.toLowerCase()]&amp;&amp;e.toLowerCase());!<span class="code-number">1</span>===e||(o=e)}}})}<span class="code-keyword">var</span> Fi=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.exports={<span class="code-attr">WebVTT</span>:Pi,<span class="code-attr">VTTCue</span>:Ri,<span class="code-attr">VTTRegion</span>:Bi};Kt.vttjs=e,Kt.WebVTT=e.WebVTT;<span class="code-keyword">var</span> t=e.VTTCue,i=e.VTTRegion,n=Kt.VTTCue,r=Kt.VTTRegion;e.shim=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Kt.VTTCue=t,Kt.VTTRegion=i},e.restore=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Kt.VTTCue=n,Kt.VTTRegion=r},Kt.VTTCue||e.shim()});Fi.WebVTT,Fi.VTTCue,Fi.VTTRegion;<span class="code-keyword">var</span> ji=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}),(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).reportTouchActivity=!<span class="code-number">1</span>,(i=n.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>,t,e)||<span class="code-keyword">this</span>).onDurationChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.onDurationChange(e)},i.trackProgress_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.trackProgress(e)},i.trackCurrentTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.trackCurrentTime(e)},i.stopTrackingCurrentTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.stopTrackingCurrentTime(e)},i.disposeSourceHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.disposeSourceHandler(e)},i.queuedHanders_=<span class="code-keyword">new</span> <span class="code-built_in">Set</span>,i.hasStarted_=!<span class="code-number">1</span>,i.on(<span class="code-string">"playing"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.hasStarted_=!<span class="code-number">0</span>}),i.on(<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.hasStarted_=!<span class="code-number">1</span>}),oi.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=oi[e];t&amp;&amp;t[e.getterName]&amp;&amp;(i[e.privateName]=t[e.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),[<span class="code-string">"Text"</span>,<span class="code-string">"Audio"</span>,<span class="code-string">"Video"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{!<span class="code-number">1</span>===t[<span class="code-string">"native"</span>+e+<span class="code-string">"Tracks"</span>]&amp;&amp;(i[<span class="code-string">"featuresNative"</span>+e+<span class="code-string">"Tracks"</span>]=!<span class="code-number">1</span>)}),!<span class="code-number">1</span>===t.nativeCaptions||!<span class="code-number">1</span>===t.nativeTextTracks?i.featuresNativeTextTracks=!<span class="code-number">1</span>:!<span class="code-number">0</span>!==t.nativeCaptions&amp;&amp;!<span class="code-number">0</span>!==t.nativeTextTracks||(i.featuresNativeTextTracks=!<span class="code-number">0</span>),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!<span class="code-number">1</span>!==t.preloadTextTracks,i.autoRemoteTextTracks_=<span class="code-keyword">new</span> oi.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&amp;&amp;(i.name_=i.constructor.name||<span class="code-string">"Unknown Tech"</span>),i}mt(i,n);<span class="code-keyword">var</span> e=i.prototype;<span class="code-keyword">return</span> e.triggerSourceset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.isReady_||<span class="code-keyword">this</span>.one(<span class="code-string">"ready"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.triggerSourceset(e)},<span class="code-number">1</span>)}),<span class="code-keyword">this</span>.trigger({<span class="code-attr">src</span>:e,<span class="code-attr">type</span>:<span class="code-string">"sourceset"</span>})},e.manualProgressOn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.on(<span class="code-string">"durationchange"</span>,<span class="code-keyword">this</span>.onDurationChange_),<span class="code-keyword">this</span>.manualProgress=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.one(<span class="code-string">"ready"</span>,<span class="code-keyword">this</span>.trackProgress_)},e.manualProgressOff=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manualProgress=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.stopTrackingProgress(),<span class="code-keyword">this</span>.off(<span class="code-string">"durationchange"</span>,<span class="code-keyword">this</span>.onDurationChange_)},e.trackProgress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.stopTrackingProgress(),<span class="code-keyword">this</span>.progressInterval=<span class="code-keyword">this</span>.setInterval(Ve(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.bufferedPercent();<span class="code-keyword">this</span>.bufferedPercent_!==e&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"progress"</span>),<span class="code-number">1</span>===(<span class="code-keyword">this</span>.bufferedPercent_=e)&amp;&amp;<span class="code-keyword">this</span>.stopTrackingProgress()}),<span class="code-number">500</span>)},e.onDurationChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.duration_=<span class="code-keyword">this</span>.duration()},e.buffered=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> vt(<span class="code-number">0</span>,<span class="code-number">0</span>)},e.bufferedPercent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> _t(<span class="code-keyword">this</span>.buffered(),<span class="code-keyword">this</span>.duration_)},e.stopTrackingProgress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clearInterval(<span class="code-keyword">this</span>.progressInterval)},e.manualTimeUpdatesOn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manualTimeUpdates=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.on(<span class="code-string">"play"</span>,<span class="code-keyword">this</span>.trackCurrentTime_),<span class="code-keyword">this</span>.on(<span class="code-string">"pause"</span>,<span class="code-keyword">this</span>.stopTrackingCurrentTime_)},e.manualTimeUpdatesOff=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manualTimeUpdates=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.stopTrackingCurrentTime(),<span class="code-keyword">this</span>.off(<span class="code-string">"play"</span>,<span class="code-keyword">this</span>.trackCurrentTime_),<span class="code-keyword">this</span>.off(<span class="code-string">"pause"</span>,<span class="code-keyword">this</span>.stopTrackingCurrentTime_)},e.trackCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.currentTimeInterval&amp;&amp;<span class="code-keyword">this</span>.stopTrackingCurrentTime(),<span class="code-keyword">this</span>.currentTimeInterval=<span class="code-keyword">this</span>.setInterval(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger({<span class="code-attr">type</span>:<span class="code-string">"timeupdate"</span>,<span class="code-attr">target</span>:<span class="code-keyword">this</span>,<span class="code-attr">manuallyTriggered</span>:!<span class="code-number">0</span>})},<span class="code-number">250</span>)},e.stopTrackingCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clearInterval(<span class="code-keyword">this</span>.currentTimeInterval),<span class="code-keyword">this</span>.trigger({<span class="code-attr">type</span>:<span class="code-string">"timeupdate"</span>,<span class="code-attr">target</span>:<span class="code-keyword">this</span>,<span class="code-attr">manuallyTriggered</span>:!<span class="code-number">0</span>})},e.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clearTracks(ai.names),<span class="code-keyword">this</span>.manualProgress&amp;&amp;<span class="code-keyword">this</span>.manualProgressOff(),<span class="code-keyword">this</span>.manualTimeUpdates&amp;&amp;<span class="code-keyword">this</span>.manualTimeUpdatesOff(),n.prototype.dispose.call(<span class="code-keyword">this</span>)},e.clearTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;(e=[].concat(e)).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=r[e+<span class="code-string">"Tracks"</span>]()||[],i=t.length;i--;){<span class="code-keyword">var</span> n=t[i];<span class="code-string">"text"</span>===e&amp;&amp;r.removeRemoteTextTrack(n),t.removeTrack(n)}})},e.cleanupAutoTextTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.autoRemoteTextTracks_||[],t=e.length;t--;){<span class="code-keyword">var</span> i=e[t];<span class="code-keyword">this</span>.removeRemoteTextTrack(i)}},e.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.crossOrigin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.setCrossOrigin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(<span class="code-keyword">this</span>.error_=<span class="code-keyword">new</span> bt(e),<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>)),<span class="code-keyword">this</span>.error_},e.played=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasStarted_?vt(<span class="code-number">0</span>,<span class="code-number">0</span>):vt()},e.play=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.setScrubbing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.scrubbing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.setCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manualTimeUpdates&amp;&amp;<span class="code-keyword">this</span>.trigger({<span class="code-attr">type</span>:<span class="code-string">"timeupdate"</span>,<span class="code-attr">target</span>:<span class="code-keyword">this</span>,<span class="code-attr">manuallyTriggered</span>:!<span class="code-number">0</span>})},e.initTrackListeners=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;ai.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{r.trigger(e+<span class="code-string">"trackchange"</span>)}<span class="code-keyword">var</span> i=ai[e],n=r[i.getterName]();n.addEventListener(<span class="code-string">"removetrack"</span>,t),n.addEventListener(<span class="code-string">"addtrack"</span>,t),r.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.removeEventListener(<span class="code-string">"removetrack"</span>,t),n.removeEventListener(<span class="code-string">"addtrack"</span>,t)})})},e.addWebVttScript_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>;<span class="code-built_in">window</span>.WebVTT||(<span class="code-built_in">document</span>.body.contains(<span class="code-keyword">this</span>.el())?!<span class="code-keyword">this</span>.options_[<span class="code-string">"vtt.js"</span>]&amp;&amp;S(Fi)&amp;&amp;<span class="code-number">0</span>&lt;<span class="code-built_in">Object</span>.keys(Fi).length?<span class="code-keyword">this</span>.trigger(<span class="code-string">"vttjsloaded"</span>):((e=<span class="code-built_in">document</span>.createElement(<span class="code-string">"script"</span>)).src=<span class="code-keyword">this</span>.options_[<span class="code-string">"vtt.js"</span>]||<span class="code-string">"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js"</span>,e.onload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger(<span class="code-string">"vttjsloaded"</span>)},e.onerror=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger(<span class="code-string">"vttjserror"</span>)},<span class="code-keyword">this</span>.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.onload=<span class="code-literal">null</span>,e.onerror=<span class="code-literal">null</span>}),<span class="code-built_in">window</span>.WebVTT=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.el().parentNode.appendChild(e)):<span class="code-keyword">this</span>.ready(<span class="code-keyword">this</span>.addWebVttScript_))},e.emulateTextTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.addTrack(e.track)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.removeTrack(e.track)}<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,n=<span class="code-keyword">this</span>.textTracks(),r=<span class="code-keyword">this</span>.remoteTextTracks();r.on(<span class="code-string">"addtrack"</span>,t),r.on(<span class="code-string">"removetrack"</span>,i),<span class="code-keyword">this</span>.addWebVttScript_();<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.trigger(<span class="code-string">"texttrackchange"</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params"></span>)</span>{a();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;n.length;e++){<span class="code-keyword">var</span> t=n[e];t.removeEventListener(<span class="code-string">"cuechange"</span>,a),<span class="code-string">"showing"</span>===t.mode&amp;&amp;t.addEventListener(<span class="code-string">"cuechange"</span>,a)}}s(),n.addEventListener(<span class="code-string">"change"</span>,s),n.addEventListener(<span class="code-string">"addtrack"</span>,s),n.addEventListener(<span class="code-string">"removetrack"</span>,s),<span class="code-keyword">this</span>.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.off(<span class="code-string">"addtrack"</span>,t),r.off(<span class="code-string">"removetrack"</span>,i),n.removeEventListener(<span class="code-string">"change"</span>,s),n.removeEventListener(<span class="code-string">"addtrack"</span>,s),n.removeEventListener(<span class="code-string">"removetrack"</span>,s);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;n.length;e++)n[e].removeEventListener(<span class="code-string">"cuechange"</span>,a)})},e.addTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"TextTrack kind is required but was not provided"</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===r&amp;&amp;(r={});<span class="code-keyword">var</span> a=e.textTracks();<span class="code-keyword">return</span> r.kind=t,i&amp;&amp;(r.label=i),n&amp;&amp;(r.language=n),r.tech=e,r=<span class="code-keyword">new</span> oi.text.TrackClass(r),a.addTrack(r),r}(<span class="code-keyword">this</span>,e,t,i)},e.createRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=lt(e,{<span class="code-attr">tech</span>:<span class="code-keyword">this</span>});<span class="code-keyword">return</span> <span class="code-keyword">new</span> si.remoteTextEl.TrackClass(e)},e.addRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,n=<span class="code-keyword">this</span>.createRemoteTextTrack(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e);<span class="code-keyword">return</span>!<span class="code-number">0</span>!==t&amp;&amp;!<span class="code-number">1</span>!==t&amp;&amp;(h.warn(<span class="code-string">'Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'</span>),t=!<span class="code-number">0</span>),<span class="code-keyword">this</span>.remoteTextTrackEls().addTrackElement_(n),<span class="code-keyword">this</span>.remoteTextTracks().addTrack(n.track),!<span class="code-number">0</span>!==t&amp;&amp;<span class="code-keyword">this</span>.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.autoRemoteTextTracks_.addTrack(n.track)}),n},e.removeRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.remoteTextTrackEls().getTrackElementByTrack_(e);<span class="code-keyword">this</span>.remoteTextTrackEls().removeTrackElement_(t),<span class="code-keyword">this</span>.remoteTextTracks().removeTrack(e),<span class="code-keyword">this</span>.autoRemoteTextTracks_.removeTrack(e)},e.getVideoPlaybackQuality=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{}},e.requestPictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> e.reject()},e.disablePictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>},e.setDisablePictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.requestVideoFrameCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,i=Pe++;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.paused()?(<span class="code-keyword">this</span>.queuedHanders_.add(i),<span class="code-keyword">this</span>.one(<span class="code-string">"playing"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.queuedHanders_.has(i)&amp;&amp;(t.queuedHanders_.delete(i),e())})):<span class="code-keyword">this</span>.requestNamedAnimationFrame(i,e),i},e.cancelVideoFrameCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.queuedHanders_.has(e)?<span class="code-keyword">this</span>.queuedHanders_.delete(e):<span class="code-keyword">this</span>.cancelNamedAnimationFrame(e)},e.setPoster=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.playsinline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.setPlaysinline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.overrideNativeAudioTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.overrideNativeVideoTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},e.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>},i.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>},i.canPlaySource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i.canPlayType(e.type)},i.isTech=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.prototype <span class="code-keyword">instanceof</span> i||e <span class="code-keyword">instanceof</span> i||e===i},i.registerTech=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(i.techs_||(i.techs_={}),!i.isTech(t))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Tech "</span>+e+<span class="code-string">" must be a Tech"</span>);<span class="code-keyword">if</span>(!i.canPlayType)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Techs must have a static canPlayType method on them"</span>);<span class="code-keyword">if</span>(!i.canPlaySource)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Techs must have a static canPlaySource method on them"</span>);<span class="code-keyword">return</span> e=ut(e),i.techs_[e]=t,i.techs_[ot(e)]=t,<span class="code-string">"Tech"</span>!==e&amp;&amp;i.defaultTechOrder_.push(e),t},i.getTech=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> i.techs_&amp;&amp;i.techs_[e]?i.techs_[e]:(e=ut(e),<span class="code-built_in">window</span>&amp;&amp;<span class="code-built_in">window</span>.videojs&amp;&amp;<span class="code-built_in">window</span>.videojs[e]?(h.warn(<span class="code-string">"The "</span>+e+<span class="code-string">" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"</span>),<span class="code-built_in">window</span>.videojs[e]):<span class="code-keyword">void</span> <span class="code-number">0</span>)},i}(pt);oi.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=oi[e];ji.prototype[t.getterName]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[t.privateName]=<span class="code-keyword">this</span>[t.privateName]||<span class="code-keyword">new</span> t.ListClass,<span class="code-keyword">this</span>[t.privateName]}}),ji.prototype.featuresVolumeControl=!<span class="code-number">0</span>,ji.prototype.featuresMuteControl=!<span class="code-number">0</span>,ji.prototype.featuresFullscreenResize=!<span class="code-number">1</span>,ji.prototype.featuresPlaybackRate=!<span class="code-number">1</span>,ji.prototype.featuresProgressEvents=!<span class="code-number">1</span>,ji.prototype.featuresSourceset=!<span class="code-number">1</span>,ji.prototype.featuresTimeupdateEvents=!<span class="code-number">1</span>,ji.prototype.featuresNativeTextTracks=!<span class="code-number">1</span>,ji.prototype.featuresVideoFrameCallback=!<span class="code-number">1</span>,ji.withSourceHandlers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{r.registerSourceHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=(i=r.sourceHandlers)||(r.sourceHandlers=[]);<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=i.length),i.splice(t,<span class="code-number">0</span>,e)},r.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=r.sourceHandlers||[],n=<span class="code-number">0</span>;n&lt;i.length;n++)<span class="code-keyword">if</span>(t=i[n].canPlayType(e))<span class="code-keyword">return</span> t;<span class="code-keyword">return</span><span class="code-string">""</span>},r.selectSourceHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=r.sourceHandlers||[],n=<span class="code-number">0</span>;n&lt;i.length;n++)<span class="code-keyword">if</span>(i[n].canHandleSource(e,t))<span class="code-keyword">return</span> i[n];<span class="code-keyword">return</span> <span class="code-literal">null</span>},r.canPlaySource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=r.selectSourceHandler(e,t);<span class="code-keyword">return</span> i?i.canHandleSource(e,t):<span class="code-string">""</span>};[<span class="code-string">"seekable"</span>,<span class="code-string">"seeking"</span>,<span class="code-string">"duration"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>[e];<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;(<span class="code-keyword">this</span>[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.sourceHandler_&amp;&amp;<span class="code-keyword">this</span>.sourceHandler_[e]?<span class="code-keyword">this</span>.sourceHandler_[e].apply(<span class="code-keyword">this</span>.sourceHandler_,<span class="code-built_in">arguments</span>):t.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)})},r.prototype),r.prototype.setSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r.selectSourceHandler(e,<span class="code-keyword">this</span>.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:h.error(<span class="code-string">"No source handler found for the current source."</span>)),<span class="code-keyword">this</span>.disposeSourceHandler(),<span class="code-keyword">this</span>.off(<span class="code-string">"dispose"</span>,<span class="code-keyword">this</span>.disposeSourceHandler_),t!==r.nativeSourceHandler&amp;&amp;(<span class="code-keyword">this</span>.currentSource_=e),<span class="code-keyword">this</span>.sourceHandler_=t.handleSource(e,<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.options_),<span class="code-keyword">this</span>.one(<span class="code-string">"dispose"</span>,<span class="code-keyword">this</span>.disposeSourceHandler_)},r.prototype.disposeSourceHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.currentSource_&amp;&amp;(<span class="code-keyword">this</span>.clearTracks([<span class="code-string">"audio"</span>,<span class="code-string">"video"</span>]),<span class="code-keyword">this</span>.currentSource_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.cleanupAutoTextTracks(),<span class="code-keyword">this</span>.sourceHandler_&amp;&amp;(<span class="code-keyword">this</span>.sourceHandler_.dispose&amp;&amp;<span class="code-keyword">this</span>.sourceHandler_.dispose(),<span class="code-keyword">this</span>.sourceHandler_=<span class="code-literal">null</span>)}},pt.registerComponent(<span class="code-string">"Tech"</span>,ji),ji.registerTech(<span class="code-string">"Tech"</span>,ji),ji.defaultTechOrder_=[];<span class="code-keyword">var</span> Hi={},qi={},Vi={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wi</span>(<span class="code-params">e,t,i</span>)</span>{e.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">n,e,r,a,s,o</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n={});<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=[]);<span class="code-keyword">void</span> <span class="code-number">0</span>===s&amp;&amp;(s=[]);<span class="code-keyword">void</span> <span class="code-number">0</span>===o&amp;&amp;(o=!<span class="code-number">1</span>);<span class="code-keyword">var</span> t=e,e=t[<span class="code-number">0</span>],u=t.slice(<span class="code-number">1</span>);<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e)i(n,Hi[e],r,a,s,o);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> l=Qi(a,e);<span class="code-keyword">if</span>(!l.setSource)<span class="code-keyword">return</span> s.push(l),i(n,u,r,a,s,o);l.setSource(b({},n),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e?i(n,u,r,a,s,o):(s.push(l),<span class="code-keyword">void</span> i(t,n.type===t.type?u:Hi[t.type],r,a,s,o))})}<span class="code-keyword">else</span> u.length?i(n,u,r,a,s,o):o?r(n,s):i(n,Hi[<span class="code-string">"*"</span>],r,a,s,!<span class="code-number">0</span>)}(t,Hi[t.type],i,e)},<span class="code-number">1</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gi</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-literal">null</span>);<span class="code-keyword">var</span> r=<span class="code-string">"call"</span>+ut(i),r=e.reduce(Yi(r),n),n=r===Vi,r=n?<span class="code-literal">null</span>:t[i](r);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=e.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=r;r--){<span class="code-keyword">var</span> a=e[r];a[t]&amp;&amp;a[t](n,i)}}(e,i,r,n),r}<span class="code-keyword">var</span> zi={<span class="code-attr">buffered</span>:<span class="code-number">1</span>,<span class="code-attr">currentTime</span>:<span class="code-number">1</span>,<span class="code-attr">duration</span>:<span class="code-number">1</span>,<span class="code-attr">muted</span>:<span class="code-number">1</span>,<span class="code-attr">played</span>:<span class="code-number">1</span>,<span class="code-attr">paused</span>:<span class="code-number">1</span>,<span class="code-attr">seekable</span>:<span class="code-number">1</span>,<span class="code-attr">volume</span>:<span class="code-number">1</span>,<span class="code-attr">ended</span>:<span class="code-number">1</span>},Xi={<span class="code-attr">setCurrentTime</span>:<span class="code-number">1</span>,<span class="code-attr">setMuted</span>:<span class="code-number">1</span>,<span class="code-attr">setVolume</span>:<span class="code-number">1</span>},Ki={<span class="code-attr">play</span>:<span class="code-number">1</span>,<span class="code-attr">pause</span>:<span class="code-number">1</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yi</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e===Vi?Vi:t[i]?t[i](e):e}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qi</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=qi[e.id()],n=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-literal">null</span>==i)<span class="code-keyword">return</span> n=t(e),qi[e.id()]=[[t,n]],n;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;i.length;r++){<span class="code-keyword">var</span> a=i[r],s=a[<span class="code-number">0</span>],a=a[<span class="code-number">1</span>];s===t&amp;&amp;(n=a)}<span class="code-keyword">return</span> <span class="code-literal">null</span>===n&amp;&amp;(n=t(e),i.push([t,n])),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$i</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e=Nt(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-string">""</span>:e),Zi[e.toLowerCase()]||<span class="code-string">""</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ji</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">return</span> e=<span class="code-built_in">Array</span>.isArray(e)?(t=[],e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=Ji(e),<span class="code-built_in">Array</span>.isArray(e)?t=t.concat(e):T(e)&amp;&amp;t.push(e)}),t):<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e.trim()?[en({<span class="code-attr">src</span>:e})]:T(e)&amp;&amp;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e.src&amp;&amp;e.src&amp;&amp;e.src.trim()?[en(e)]:[]}<span class="code-keyword">var</span> Zi={<span class="code-attr">opus</span>:<span class="code-string">"video/ogg"</span>,<span class="code-attr">ogv</span>:<span class="code-string">"video/ogg"</span>,<span class="code-attr">mp4</span>:<span class="code-string">"video/mp4"</span>,<span class="code-attr">mov</span>:<span class="code-string">"video/mp4"</span>,<span class="code-attr">m4v</span>:<span class="code-string">"video/mp4"</span>,<span class="code-attr">mkv</span>:<span class="code-string">"video/x-matroska"</span>,<span class="code-attr">m4a</span>:<span class="code-string">"audio/mp4"</span>,<span class="code-attr">mp3</span>:<span class="code-string">"audio/mpeg"</span>,<span class="code-attr">aac</span>:<span class="code-string">"audio/aac"</span>,<span class="code-attr">caf</span>:<span class="code-string">"audio/x-caf"</span>,<span class="code-attr">flac</span>:<span class="code-string">"audio/flac"</span>,<span class="code-attr">oga</span>:<span class="code-string">"audio/ogg"</span>,<span class="code-attr">wav</span>:<span class="code-string">"audio/wav"</span>,<span class="code-attr">m3u8</span>:<span class="code-string">"application/x-mpegURL"</span>,<span class="code-attr">mpd</span>:<span class="code-string">"application/dash+xml"</span>,<span class="code-attr">jpg</span>:<span class="code-string">"image/jpeg"</span>,<span class="code-attr">jpeg</span>:<span class="code-string">"image/jpeg"</span>,<span class="code-attr">gif</span>:<span class="code-string">"image/gif"</span>,<span class="code-attr">png</span>:<span class="code-string">"image/png"</span>,<span class="code-attr">svg</span>:<span class="code-string">"image/svg+xml"</span>,<span class="code-attr">webp</span>:<span class="code-string">"image/webp"</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">en</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">return</span> e.type||(t=$i(e.src))&amp;&amp;(e.type=t),e}I=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">u</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=lt({<span class="code-attr">createEl</span>:!<span class="code-number">1</span>},t),i=u.call(<span class="code-keyword">this</span>,e,n,i)||<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(t.playerOptions.sources&amp;&amp;<span class="code-number">0</span>!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>,a=t.playerOptions.techOrder;r&lt;a.length;r++){<span class="code-keyword">var</span> s=ut(a[r]),o=ji.getTech(s);<span class="code-keyword">if</span>((o=!s?pt.getComponent(s):o)&amp;&amp;o.isSupported()){e.loadTech_(s);<span class="code-keyword">break</span>}}<span class="code-keyword">return</span> i}<span class="code-keyword">return</span> mt(e,u),e}(pt);pt.registerComponent(<span class="code-string">"MediaLoader"</span>,I);C=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.options_.controlText&amp;&amp;i.controlText(i.options_.controlText),i.handleMouseOver_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseOver(e)},i.handleMouseOut_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseOut(e)},i.handleClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleClick(e)},i.handleKeyDown_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyDown(e)},i.emitTapEvents(),i.enable(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">"div"</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={}),t=b({<span class="code-attr">className</span>:<span class="code-keyword">this</span>.buildCSSClass(),<span class="code-attr">tabIndex</span>:<span class="code-number">0</span>},t),<span class="code-string">"button"</span>===e&amp;&amp;h.error(<span class="code-string">"Creating a ClickableComponent with an HTML element of "</span>+e+<span class="code-string">" is not supported; use a Button instead."</span>),i=b({<span class="code-attr">role</span>:<span class="code-string">"button"</span>},i),<span class="code-keyword">this</span>.tabIndex_=t.tabIndex;i=$(e,t,i);<span class="code-keyword">return</span> i.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-icon-placeholder"</span>},{<span class="code-string">"aria-hidden"</span>:!<span class="code-number">0</span>})),<span class="code-keyword">this</span>.createControlTextEl(i),i},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.controlTextEl_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.createControlTextEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.controlTextEl_=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>},{<span class="code-string">"aria-live"</span>:<span class="code-string">"polite"</span>}),e&amp;&amp;e.appendChild(<span class="code-keyword">this</span>.controlTextEl_),<span class="code-keyword">this</span>.controlText(<span class="code-keyword">this</span>.controlText_,e),<span class="code-keyword">this</span>.controlTextEl_},t.controlText=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">this</span>.el()),<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.controlText_||<span class="code-string">"Need Text"</span>;<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.localize(e);<span class="code-keyword">this</span>.controlText_=e,J(<span class="code-keyword">this</span>.controlTextEl_,i),<span class="code-keyword">this</span>.nonIconControl||<span class="code-keyword">this</span>.player_.options_.noUITitleAttributes||t.setAttribute(<span class="code-string">"title"</span>,i)},t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-control vjs-button "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enabled_||(<span class="code-keyword">this</span>.enabled_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-disabled"</span>),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"aria-disabled"</span>,<span class="code-string">"false"</span>),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.tabIndex_&amp;&amp;<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"tabIndex"</span>,<span class="code-keyword">this</span>.tabIndex_),<span class="code-keyword">this</span>.on([<span class="code-string">"tap"</span>,<span class="code-string">"click"</span>],<span class="code-keyword">this</span>.handleClick_),<span class="code-keyword">this</span>.on(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.handleKeyDown_))},t.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enabled_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-disabled"</span>),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"aria-disabled"</span>,<span class="code-string">"true"</span>),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.tabIndex_&amp;&amp;<span class="code-keyword">this</span>.el_.removeAttribute(<span class="code-string">"tabIndex"</span>),<span class="code-keyword">this</span>.off(<span class="code-string">"mouseover"</span>,<span class="code-keyword">this</span>.handleMouseOver_),<span class="code-keyword">this</span>.off(<span class="code-string">"mouseout"</span>,<span class="code-keyword">this</span>.handleMouseOut_),<span class="code-keyword">this</span>.off([<span class="code-string">"tap"</span>,<span class="code-string">"click"</span>],<span class="code-keyword">this</span>.handleClick_),<span class="code-keyword">this</span>.off(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.handleKeyDown_)},t.handleLanguagechange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.controlText(<span class="code-keyword">this</span>.controlText_)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.options_.clickHandler&amp;&amp;<span class="code-keyword">this</span>.options_.clickHandler.call(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Space"</span>)||ht.isEventKey(e,<span class="code-string">"Enter"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"click"</span>)):n.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,e)},e}(pt);pt.registerComponent(<span class="code-string">"ClickableComponent"</span>,C),pt.registerComponent(<span class="code-string">"PosterImage"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.update(),i.update_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.update(e)},e.on(<span class="code-string">"posterchange"</span>,i.update_),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player().off(<span class="code-string">"posterchange"</span>,<span class="code-keyword">this</span>.update_),n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> $(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-poster"</span>,<span class="code-attr">tabIndex</span>:<span class="code-number">-1</span>})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player().poster();<span class="code-keyword">this</span>.setSrc(t),t?<span class="code-keyword">this</span>.show():<span class="code-keyword">this</span>.hide()},t.setSrc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.el_.style.backgroundImage=e?<span class="code-string">'url("'</span>+e+<span class="code-string">'")'</span>:<span class="code-string">""</span>},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">this</span>.player_.controls()&amp;&amp;(t=<span class="code-keyword">this</span>.player_.usingPlugin(<span class="code-string">"eme"</span>)&amp;&amp;<span class="code-keyword">this</span>.player_.eme.sessions&amp;&amp;<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.player_.eme.sessions.length,!<span class="code-keyword">this</span>.player_.tech(!<span class="code-number">0</span>)||(N||O)&amp;&amp;t||<span class="code-keyword">this</span>.player_.tech(!<span class="code-number">0</span>).focus(),<span class="code-keyword">this</span>.player_.paused()?Et(<span class="code-keyword">this</span>.player_.play()):<span class="code-keyword">this</span>.player_.pause())},e}(C));<span class="code-keyword">var</span> tn=<span class="code-string">"#222"</span>,nn={<span class="code-attr">monospace</span>:<span class="code-string">"monospace"</span>,<span class="code-attr">sansSerif</span>:<span class="code-string">"sans-serif"</span>,<span class="code-attr">serif</span>:<span class="code-string">"serif"</span>,<span class="code-attr">monospaceSansSerif</span>:<span class="code-string">'"Andale Mono", "Lucida Console", monospace'</span>,<span class="code-attr">monospaceSerif</span>:<span class="code-string">'"Courier New", monospace'</span>,<span class="code-attr">proportionalSansSerif</span>:<span class="code-string">"sans-serif"</span>,<span class="code-attr">proportionalSerif</span>:<span class="code-string">"serif"</span>,<span class="code-attr">casual</span>:<span class="code-string">'"Comic Sans MS", Impact, fantasy'</span>,<span class="code-attr">script</span>:<span class="code-string">'"Monotype Corsiva", cursive'</span>,<span class="code-attr">smallcaps</span>:<span class="code-string">'"Andale Mono", "Lucida Console", monospace, sans-serif'</span>};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rn</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">if</span>(<span class="code-number">4</span>===e.length)i=e[<span class="code-number">1</span>]+e[<span class="code-number">1</span>]+e[<span class="code-number">2</span>]+e[<span class="code-number">2</span>]+e[<span class="code-number">3</span>]+e[<span class="code-number">3</span>];<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(<span class="code-number">7</span>!==e.length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid color code provided, "</span>+e+<span class="code-string">"; must be formatted as e.g. #f0e or #f604e2."</span>);i=e.slice(<span class="code-number">1</span>)}<span class="code-keyword">return</span><span class="code-string">"rgba("</span>+<span class="code-built_in">parseInt</span>(i.slice(<span class="code-number">0</span>,<span class="code-number">2</span>),<span class="code-number">16</span>)+<span class="code-string">","</span>+<span class="code-built_in">parseInt</span>(i.slice(<span class="code-number">2</span>,<span class="code-number">4</span>),<span class="code-number">16</span>)+<span class="code-string">","</span>+<span class="code-built_in">parseInt</span>(i.slice(<span class="code-number">4</span>,<span class="code-number">6</span>),<span class="code-number">16</span>)+<span class="code-string">","</span>+t+<span class="code-string">")"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">an</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">try</span>{e.style[t]=i}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>}}pt.registerComponent(<span class="code-string">"TextTrackDisplay"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">i,e,t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.updateDisplay(e)}<span class="code-keyword">var</span> r=a.call(<span class="code-keyword">this</span>,i,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.toggleDisplay(e)}),i.on(<span class="code-string">"texttrackchange"</span>,n),i.on(<span class="code-string">"loadedmetadata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.preselectTrack(e)}),i.ready(Ve(ft(r),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(i.tech_&amp;&amp;i.tech_.featuresNativeTextTracks)<span class="code-keyword">this</span>.hide();<span class="code-keyword">else</span>{i.on(<span class="code-string">"fullscreenchange"</span>,n),i.on(<span class="code-string">"playerresize"</span>,n),<span class="code-built_in">window</span>.addEventListener(<span class="code-string">"orientationchange"</span>,n),i.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">window</span>.removeEventListener(<span class="code-string">"orientationchange"</span>,n)});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.options_.playerOptions.tracks||[],t=<span class="code-number">0</span>;t&lt;e.length;t++)<span class="code-keyword">this</span>.player_.addRemoteTextTrack(e[t],!<span class="code-number">0</span>);<span class="code-keyword">this</span>.preselectTrack()}})),r}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.preselectTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,t,i,n={<span class="code-attr">captions</span>:<span class="code-number">1</span>,<span class="code-attr">subtitles</span>:<span class="code-number">1</span>},r=<span class="code-keyword">this</span>.player_.textTracks(),a=<span class="code-keyword">this</span>.player_.cache_.selectedLanguage,s=<span class="code-number">0</span>;s&lt;r.length;s++){<span class="code-keyword">var</span> o=r[s];a&amp;&amp;a.enabled&amp;&amp;a.language&amp;&amp;a.language===o.language&amp;&amp;o.kind <span class="code-keyword">in</span> n?i=o.kind!==a.kind&amp;&amp;i||o:a&amp;&amp;!a.enabled?t=e=i=<span class="code-literal">null</span>:o.default&amp;&amp;(<span class="code-string">"descriptions"</span>!==o.kind||e?o.kind <span class="code-keyword">in</span> n&amp;&amp;!t&amp;&amp;(t=o):e=o)}i?i.mode=<span class="code-string">"showing"</span>:t?t.mode=<span class="code-string">"showing"</span>:e&amp;&amp;(e.mode=<span class="code-string">"showing"</span>)},t.toggleDisplay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_.tech_&amp;&amp;<span class="code-keyword">this</span>.player_.tech_.featuresNativeTextTracks?<span class="code-keyword">this</span>.hide():<span class="code-keyword">this</span>.show()},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> a.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-text-track-display"</span>},{<span class="code-attr">translate</span>:<span class="code-string">"yes"</span>,<span class="code-string">"aria-live"</span>:<span class="code-string">"off"</span>,<span class="code-string">"aria-atomic"</span>:<span class="code-string">"true"</span>})},t.clearDisplay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.WebVTT&amp;&amp;<span class="code-built_in">window</span>.WebVTT.processCues(<span class="code-built_in">window</span>,[],<span class="code-keyword">this</span>.el_)},t.updateDisplay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.textTracks(),t=<span class="code-keyword">this</span>.options_.allowMultipleShowingTracks;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.clearDisplay(),t){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=[],n=<span class="code-number">0</span>;n&lt;e.length;++n){<span class="code-keyword">var</span> r=e[n];<span class="code-string">"showing"</span>===r.mode&amp;&amp;i.push(r)}<span class="code-keyword">this</span>.updateForTrack(i)}<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-literal">null</span>,s=<span class="code-literal">null</span>,o=e.length;o--;){<span class="code-keyword">var</span> u=e[o];<span class="code-string">"showing"</span>===u.mode&amp;&amp;(<span class="code-string">"descriptions"</span>===u.kind?a=u:s=u)}s?(<span class="code-string">"off"</span>!==<span class="code-keyword">this</span>.getAttribute(<span class="code-string">"aria-live"</span>)&amp;&amp;<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"aria-live"</span>,<span class="code-string">"off"</span>),<span class="code-keyword">this</span>.updateForTrack(s)):a&amp;&amp;(<span class="code-string">"assertive"</span>!==<span class="code-keyword">this</span>.getAttribute(<span class="code-string">"aria-live"</span>)&amp;&amp;<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"aria-live"</span>,<span class="code-string">"assertive"</span>),<span class="code-keyword">this</span>.updateForTrack(a))}},t.updateDisplayState=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.textTrackSettings.getValues(),i=e.activeCues,n=i.length;n--;){<span class="code-keyword">var</span> r,a=i[n];a&amp;&amp;(r=a.displayState,t.color&amp;&amp;(r.firstChild.style.color=t.color),t.textOpacity&amp;&amp;an(r.firstChild,<span class="code-string">"color"</span>,rn(t.color||<span class="code-string">"#fff"</span>,t.textOpacity)),t.backgroundColor&amp;&amp;(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&amp;&amp;an(r.firstChild,<span class="code-string">"backgroundColor"</span>,rn(t.backgroundColor||<span class="code-string">"#000"</span>,t.backgroundOpacity)),t.windowColor&amp;&amp;(t.windowOpacity?an(r,<span class="code-string">"backgroundColor"</span>,rn(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&amp;&amp;(<span class="code-string">"dropshadow"</span>===t.edgeStyle?r.firstChild.style.textShadow=<span class="code-string">"2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "</span>+tn:<span class="code-string">"raised"</span>===t.edgeStyle?r.firstChild.style.textShadow=<span class="code-string">"1px 1px #222, 2px 2px #222, 3px 3px "</span>+tn:<span class="code-string">"depressed"</span>===t.edgeStyle?r.firstChild.style.textShadow=<span class="code-string">"1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "</span>+tn:<span class="code-string">"uniform"</span>===t.edgeStyle&amp;&amp;(r.firstChild.style.textShadow=<span class="code-string">"0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "</span>+tn)),t.fontPercent&amp;&amp;<span class="code-number">1</span>!==t.fontPercent&amp;&amp;(a=<span class="code-built_in">window</span>.parseFloat(r.style.fontSize),r.style.fontSize=a*t.fontPercent+<span class="code-string">"px"</span>,r.style.height=<span class="code-string">"auto"</span>,r.style.top=<span class="code-string">"auto"</span>),t.fontFamily&amp;&amp;<span class="code-string">"default"</span>!==t.fontFamily&amp;&amp;(<span class="code-string">"small-caps"</span>===t.fontFamily?r.firstChild.style.fontVariant=<span class="code-string">"small-caps"</span>:r.firstChild.style.fontFamily=nn[t.fontFamily]))}},t.updateForTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-built_in">Array</span>.isArray(e)||(e=[e]),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.WebVTT&amp;&amp;!e.every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!e.activeCues})){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],i=<span class="code-number">0</span>;i&lt;e.length;++i)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e[i],r=<span class="code-number">0</span>;r&lt;n.activeCues.length;++r)t.push(n.activeCues[r]);<span class="code-built_in">window</span>.WebVTT.processCues(<span class="code-built_in">window</span>,t,<span class="code-keyword">this</span>.el_);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;e.length;++a){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=e[a],o=<span class="code-number">0</span>;o&lt;s.activeCues.length;++o){<span class="code-keyword">var</span> u=s.activeCues[o].displayState;te(u,<span class="code-string">"vjs-text-track-cue"</span>),te(u,<span class="code-string">"vjs-text-track-cue-"</span>+(s.language||a)),s.language&amp;&amp;oe(u,<span class="code-string">"lang"</span>,s.language)}<span class="code-keyword">this</span>.player_.textTrackSettings&amp;&amp;<span class="code-keyword">this</span>.updateDisplayState(s)}}},e}(pt)),pt.registerComponent(<span class="code-string">"LoadingSpinner"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}<span class="code-keyword">return</span> mt(e,i),e.prototype.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.isAudio(),t=<span class="code-keyword">this</span>.localize(e?<span class="code-string">"Audio Player"</span>:<span class="code-string">"Video Player"</span>),e=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>,<span class="code-attr">textContent</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"{1} is loading."</span>,[t])}),t=i.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-loading-spinner"</span>,<span class="code-attr">dir</span>:<span class="code-string">"ltr"</span>});<span class="code-keyword">return</span> t.appendChild(e),t},e}(pt));<span class="code-keyword">var</span> sn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}mt(e,t);<span class="code-keyword">var</span> i=e.prototype;<span class="code-keyword">return</span> i.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={});i=$(<span class="code-string">"button"</span>,t=b({<span class="code-attr">className</span>:<span class="code-keyword">this</span>.buildCSSClass()},t),i=b({<span class="code-attr">type</span>:<span class="code-string">"button"</span>},i));<span class="code-keyword">return</span> i.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-icon-placeholder"</span>},{<span class="code-string">"aria-hidden"</span>:!<span class="code-number">0</span>})),<span class="code-keyword">this</span>.createControlTextEl(i),i},i.addChild=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={});<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.constructor.name;<span class="code-keyword">return</span> h.warn(<span class="code-string">"Adding an actionable (user controllable) child to a Button ("</span>+i+<span class="code-string">") is not supported; use a ClickableComponent instead."</span>),pt.prototype.addChild.call(<span class="code-keyword">this</span>,e,t)},i.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.prototype.enable.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.el_.removeAttribute(<span class="code-string">"disabled"</span>)},i.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.prototype.disable.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"disabled"</span>,<span class="code-string">"disabled"</span>)},i.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Space"</span>)||ht.isEventKey(e,<span class="code-string">"Enter"</span>)?e.stopPropagation():t.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,e)},e}(C);pt.registerComponent(<span class="code-string">"Button"</span>,sn);Bt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.mouseused_=!<span class="code-number">1</span>,i.on(<span class="code-string">"mousedown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseDown(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-big-play-button"</span>},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.play();<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.mouseused_&amp;&amp;e.clientX&amp;&amp;e.clientY){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.player_.usingPlugin(<span class="code-string">"eme"</span>)&amp;&amp;<span class="code-keyword">this</span>.player_.eme.sessions&amp;&amp;<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.player_.eme.sessions.length;<span class="code-keyword">return</span> Et(t),<span class="code-keyword">void</span>(!<span class="code-keyword">this</span>.player_.tech(!<span class="code-number">0</span>)||(N||O)&amp;&amp;i||<span class="code-keyword">this</span>.player_.tech(!<span class="code-number">0</span>).focus())}<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.player_.getChild(<span class="code-string">"controlBar"</span>),n=i&amp;&amp;i.getChild(<span class="code-string">"playToggle"</span>);n?(i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.focus()},wt(t)?t.then(i,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}):<span class="code-keyword">this</span>.setTimeout(i,<span class="code-number">1</span>)):<span class="code-keyword">this</span>.player_.tech(!<span class="code-number">0</span>).focus()},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.mouseused_=!<span class="code-number">1</span>,n.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,e)},t.handleMouseDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.mouseused_=!<span class="code-number">0</span>},e}(sn);Bt.prototype.controlText_=<span class="code-string">"Play Video"</span>,pt.registerComponent(<span class="code-string">"BigPlayButton"</span>,Bt),pt.registerComponent(<span class="code-string">"CloseButton"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{e=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e.controlText(t&amp;&amp;t.controlText||e.localize(<span class="code-string">"Close"</span>)),e}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-close-button "</span>+i.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger({<span class="code-attr">type</span>:<span class="code-string">"close"</span>,<span class="code-attr">bubbles</span>:!<span class="code-number">1</span>})},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Esc"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"click"</span>)):i.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,e)},e}(sn));Ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.replay=<span class="code-keyword">void</span> <span class="code-number">0</span>===t.replay||t.replay,i.on(e,<span class="code-string">"play"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handlePlay(e)}),i.on(e,<span class="code-string">"pause"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handlePause(e)}),t.replay&amp;&amp;i.on(e,<span class="code-string">"ended"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleEnded(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-play-control "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.paused()?Et(<span class="code-keyword">this</span>.player_.play()):<span class="code-keyword">this</span>.player_.pause()},t.handleSeeked=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.player_.paused()?<span class="code-keyword">this</span>.handlePause(e):<span class="code-keyword">this</span>.handlePlay(e)},t.handlePlay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-paused"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-playing"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">"Pause"</span>)},t.handlePause=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-playing"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-paused"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">"Play"</span>)},t.handleEnded=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-playing"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">"Replay"</span>),<span class="code-keyword">this</span>.one(<span class="code-keyword">this</span>.player_,<span class="code-string">"seeked"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.handleSeeked(e)})},e}(sn);Ft.prototype.controlText_=<span class="code-string">"Play"</span>,pt.registerComponent(<span class="code-string">"PlayToggle"</span>,Ft);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">on</span>(<span class="code-params">e,t</span>)</span>{e=e&lt;<span class="code-number">0</span>?<span class="code-number">0</span>:e;<span class="code-keyword">var</span> i=<span class="code-built_in">Math</span>.floor(e%<span class="code-number">60</span>),n=<span class="code-built_in">Math</span>.floor(e/<span class="code-number">60</span>%<span class="code-number">60</span>),r=<span class="code-built_in">Math</span>.floor(e/<span class="code-number">3600</span>),a=<span class="code-built_in">Math</span>.floor(t/<span class="code-number">60</span>%<span class="code-number">60</span>),t=<span class="code-built_in">Math</span>.floor(t/<span class="code-number">3600</span>);<span class="code-keyword">return</span>(r=<span class="code-number">0</span>&lt;(r=<span class="code-built_in">isNaN</span>(e)||e===<span class="code-number">1</span>/<span class="code-number">0</span>?n=i=<span class="code-string">"-"</span>:r)||<span class="code-number">0</span>&lt;t?r+<span class="code-string">":"</span>:<span class="code-string">""</span>)+(n=((r||<span class="code-number">10</span>&lt;=a)&amp;&amp;n&lt;<span class="code-number">10</span>?<span class="code-string">"0"</span>+n:n)+<span class="code-string">":"</span>)+(i=i&lt;<span class="code-number">10</span>?<span class="code-string">"0"</span>+i:i)}<span class="code-keyword">var</span> un=on;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ln</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> un(e,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?e:t)}k=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(e,[<span class="code-string">"timeupdate"</span>,<span class="code-string">"ended"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateContent(e)}),i.updateTextNode_(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.buildCSSClass(),t=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:e+<span class="code-string">" vjs-time-control vjs-control"</span>}),i=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>,<span class="code-attr">textContent</span>:<span class="code-keyword">this</span>.localize(<span class="code-keyword">this</span>.labelText_)+<span class="code-string">""</span>},{<span class="code-attr">role</span>:<span class="code-string">"presentation"</span>});<span class="code-keyword">return</span> t.appendChild(i),<span class="code-keyword">this</span>.contentEl_=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:e+<span class="code-string">"-display"</span>},{<span class="code-string">"aria-live"</span>:<span class="code-string">"off"</span>,<span class="code-attr">role</span>:<span class="code-string">"presentation"</span>}),t.appendChild(<span class="code-keyword">this</span>.contentEl_),t},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.contentEl_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.textNode_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.updateTextNode_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;e=ln(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-number">0</span>:e),<span class="code-keyword">this</span>.formattedTime_!==e&amp;&amp;(<span class="code-keyword">this</span>.formattedTime_=e,<span class="code-keyword">this</span>.requestNamedAnimationFrame(<span class="code-string">"TimeDisplay#updateTextNode_"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;t.contentEl_&amp;&amp;((e=t.textNode_)&amp;&amp;t.contentEl_.firstChild!==e&amp;&amp;(e=<span class="code-literal">null</span>,h.warn(<span class="code-string">"TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead."</span>)),t.textNode_=<span class="code-built_in">document</span>.createTextNode(t.formattedTime_),t.textNode_&amp;&amp;(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_)))}))},t.updateContent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},e}(pt);k.prototype.labelText_=<span class="code-string">"Time"</span>,k.prototype.controlText_=<span class="code-string">"Time"</span>,pt.registerComponent(<span class="code-string">"TimeDisplay"</span>,k);jt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}mt(t,e);<span class="code-keyword">var</span> i=t.prototype;<span class="code-keyword">return</span> i.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-current-time"</span>},i.updateContent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.ended()?<span class="code-keyword">this</span>.player_.duration():<span class="code-keyword">this</span>.player_.scrubbing()?<span class="code-keyword">this</span>.player_.getCache().currentTime:<span class="code-keyword">this</span>.player_.currentTime();<span class="code-keyword">this</span>.updateTextNode_(t)},t}(k);jt.prototype.labelText_=<span class="code-string">"Current Time"</span>,jt.prototype.controlText_=<span class="code-string">"Current Time"</span>,pt.registerComponent(<span class="code-string">"CurrentTimeDisplay"</span>,jt);j=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>,t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateContent(e)};<span class="code-keyword">return</span> i.on(e,<span class="code-string">"durationchange"</span>,t),i.on(e,<span class="code-string">"loadstart"</span>,t),i.on(e,<span class="code-string">"loadedmetadata"</span>,t),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-duration"</span>},t.updateContent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.duration();<span class="code-keyword">this</span>.updateTextNode_(t)},e}(k);j.prototype.labelText_=<span class="code-string">"Duration"</span>,j.prototype.controlText_=<span class="code-string">"Duration"</span>,pt.registerComponent(<span class="code-string">"DurationDisplay"</span>,j),pt.registerComponent(<span class="code-string">"TimeDivider"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}<span class="code-keyword">return</span> mt(e,n),e.prototype.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-time-control vjs-time-divider"</span>},{<span class="code-string">"aria-hidden"</span>:!<span class="code-number">0</span>}),t=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>),i=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"span"</span>,{<span class="code-attr">textContent</span>:<span class="code-string">"/"</span>});<span class="code-keyword">return</span> t.appendChild(i),e.appendChild(t),e},e}(pt));f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(e,<span class="code-string">"durationchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateContent(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-remaining-time"</span>},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.prototype.createEl.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span>!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.options_.displayNegative&amp;&amp;e.insertBefore($(<span class="code-string">"span"</span>,{},{<span class="code-string">"aria-hidden"</span>:!<span class="code-number">0</span>},<span class="code-string">"-"</span>),<span class="code-keyword">this</span>.contentEl_),e},t.updateContent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.player_.duration()&amp;&amp;(t=<span class="code-keyword">this</span>.player_.ended()?<span class="code-number">0</span>:<span class="code-keyword">this</span>.player_.remainingTimeDisplay?<span class="code-keyword">this</span>.player_.remainingTimeDisplay():<span class="code-keyword">this</span>.player_.remainingTime(),<span class="code-keyword">this</span>.updateTextNode_(t))},e}(k);f.prototype.labelText_=<span class="code-string">"Remaining Time"</span>,f.prototype.controlText_=<span class="code-string">"Remaining Time"</span>,pt.registerComponent(<span class="code-string">"RemainingTimeDisplay"</span>,f),pt.registerComponent(<span class="code-string">"LiveDisplay"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.updateShowing(),i.on(i.player(),<span class="code-string">"durationchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateShowing(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-live-control vjs-control"</span>});<span class="code-keyword">return</span> <span class="code-keyword">this</span>.contentEl_=$(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-live-display"</span>},{<span class="code-string">"aria-live"</span>:<span class="code-string">"off"</span>}),<span class="code-keyword">this</span>.contentEl_.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>,<span class="code-attr">textContent</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"Stream Type"</span>)+<span class="code-string">""</span>})),<span class="code-keyword">this</span>.contentEl_.appendChild(<span class="code-built_in">document</span>.createTextNode(<span class="code-keyword">this</span>.localize(<span class="code-string">"LIVE"</span>))),e.appendChild(<span class="code-keyword">this</span>.contentEl_),e},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.contentEl_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.updateShowing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player().duration()===<span class="code-number">1</span>/<span class="code-number">0</span>?<span class="code-keyword">this</span>.show():<span class="code-keyword">this</span>.hide()},e}(pt));ui=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.updateLiveEdgeStatus(),i.player_.liveTracker&amp;&amp;(i.updateLiveEdgeStatusHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateLiveEdgeStatus(e)},i.on(i.player_.liveTracker,<span class="code-string">"liveedgechange"</span>,i.updateLiveEdgeStatusHandler_)),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"button"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-seek-to-live-control vjs-control"</span>});<span class="code-keyword">return</span> <span class="code-keyword">this</span>.textEl_=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-seek-to-live-text"</span>,<span class="code-attr">textContent</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"LIVE"</span>)},{<span class="code-string">"aria-hidden"</span>:<span class="code-string">"true"</span>}),e.appendChild(<span class="code-keyword">this</span>.textEl_),e},t.updateLiveEdgeStatus=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{!<span class="code-keyword">this</span>.player_.liveTracker||<span class="code-keyword">this</span>.player_.liveTracker.atLiveEdge()?(<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"aria-disabled"</span>,!<span class="code-number">0</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-at-live-edge"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">"Seek to live, currently playing live"</span>)):(<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"aria-disabled"</span>,!<span class="code-number">1</span>),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-at-live-edge"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">"Seek to live, currently behind live"</span>))},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_.liveTracker.seekToLiveEdge()},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_.liveTracker&amp;&amp;<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_.liveTracker,<span class="code-string">"liveedgechange"</span>,<span class="code-keyword">this</span>.updateLiveEdgeStatusHandler_),<span class="code-keyword">this</span>.textEl_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},e}(sn);ui.prototype.controlText_=<span class="code-string">"Seek to live, currently playing live"</span>,pt.registerComponent(<span class="code-string">"SeekToLive"</span>,ui);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cn</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> e=<span class="code-built_in">Number</span>(e),<span class="code-built_in">Math</span>.min(i,<span class="code-built_in">Math</span>.max(t,<span class="code-built_in">isNaN</span>(e)?t:e))}li=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.handleMouseDown_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseDown(e)},i.handleMouseUp_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseUp(e)},i.handleKeyDown_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyDown(e)},i.handleClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleClick(e)},i.handleMouseMove_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseMove(e)},i.update_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.update(e)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.enabled=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.enabled_},t.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enabled()||(<span class="code-keyword">this</span>.on(<span class="code-string">"mousedown"</span>,<span class="code-keyword">this</span>.handleMouseDown_),<span class="code-keyword">this</span>.on(<span class="code-string">"touchstart"</span>,<span class="code-keyword">this</span>.handleMouseDown_),<span class="code-keyword">this</span>.on(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.handleKeyDown_),<span class="code-keyword">this</span>.on(<span class="code-string">"click"</span>,<span class="code-keyword">this</span>.handleClick_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,<span class="code-string">"controlsvisible"</span>,<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.playerEvent&amp;&amp;<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,<span class="code-keyword">this</span>.playerEvent,<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"disabled"</span>),<span class="code-keyword">this</span>.setAttribute(<span class="code-string">"tabindex"</span>,<span class="code-number">0</span>),<span class="code-keyword">this</span>.enabled_=!<span class="code-number">0</span>)},t.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.enabled()&amp;&amp;(e=<span class="code-keyword">this</span>.bar.el_.ownerDocument,<span class="code-keyword">this</span>.off(<span class="code-string">"mousedown"</span>,<span class="code-keyword">this</span>.handleMouseDown_),<span class="code-keyword">this</span>.off(<span class="code-string">"touchstart"</span>,<span class="code-keyword">this</span>.handleMouseDown_),<span class="code-keyword">this</span>.off(<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.handleKeyDown_),<span class="code-keyword">this</span>.off(<span class="code-string">"click"</span>,<span class="code-keyword">this</span>.handleClick_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,<span class="code-string">"controlsvisible"</span>,<span class="code-keyword">this</span>.update_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.handleMouseMove_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUp_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.handleMouseMove_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUp_),<span class="code-keyword">this</span>.removeAttribute(<span class="code-string">"tabindex"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"disabled"</span>),<span class="code-keyword">this</span>.playerEvent&amp;&amp;<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,<span class="code-keyword">this</span>.playerEvent,<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.enabled_=!<span class="code-number">1</span>)},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={}),(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).className=t.className+<span class="code-string">" vjs-slider"</span>,t=b({<span class="code-attr">tabIndex</span>:<span class="code-number">0</span>},t),i=b({<span class="code-attr">role</span>:<span class="code-string">"slider"</span>,<span class="code-string">"aria-valuenow"</span>:<span class="code-number">0</span>,<span class="code-string">"aria-valuemin"</span>:<span class="code-number">0</span>,<span class="code-string">"aria-valuemax"</span>:<span class="code-number">100</span>,<span class="code-attr">tabIndex</span>:<span class="code-number">0</span>},i),n.prototype.createEl.call(<span class="code-keyword">this</span>,e,t,i)},t.handleMouseDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.bar.el_.ownerDocument;<span class="code-string">"mousedown"</span>===e.type&amp;&amp;e.preventDefault(),<span class="code-string">"touchstart"</span>!==e.type||M||e.preventDefault(),le(),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-sliding"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"slideractive"</span>),<span class="code-keyword">this</span>.on(t,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.handleMouseMove_),<span class="code-keyword">this</span>.on(t,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUp_),<span class="code-keyword">this</span>.on(t,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.handleMouseMove_),<span class="code-keyword">this</span>.on(t,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUp_),<span class="code-keyword">this</span>.handleMouseMove(e,!<span class="code-number">0</span>)},t.handleMouseMove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},t.handleMouseUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.bar.el_.ownerDocument;ce(),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-sliding"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"sliderinactive"</span>),<span class="code-keyword">this</span>.off(e,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.handleMouseMove_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUp_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.handleMouseMove_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUp_),<span class="code-keyword">this</span>.update()},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.el_&amp;&amp;<span class="code-keyword">this</span>.bar){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.getProgress();<span class="code-keyword">return</span> i===<span class="code-keyword">this</span>.progress_?i:(<span class="code-keyword">this</span>.progress_=i,<span class="code-keyword">this</span>.requestNamedAnimationFrame(<span class="code-string">"Slider#update"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.vertical()?<span class="code-string">"height"</span>:<span class="code-string">"width"</span>;t.bar.el().style[e]=(<span class="code-number">100</span>*i).toFixed(<span class="code-number">2</span>)+<span class="code-string">"%"</span>}),i)}},t.getProgress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Number</span>(cn(<span class="code-keyword">this</span>.getPercent(),<span class="code-number">0</span>,<span class="code-number">1</span>).toFixed(<span class="code-number">4</span>))},t.calculateDistance=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=pe(<span class="code-keyword">this</span>.el_,e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.vertical()?e.y:e.x},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Left"</span>)||ht.isEventKey(e,<span class="code-string">"Down"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.stepBack()):ht.isEventKey(e,<span class="code-string">"Right"</span>)||ht.isEventKey(e,<span class="code-string">"Up"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.stepForward()):n.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,e)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.stopPropagation(),e.preventDefault()},t.vertical=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.vertical_||!<span class="code-number">1</span>;<span class="code-keyword">this</span>.vertical_=!!e,<span class="code-keyword">this</span>.vertical_?<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-slider-vertical"</span>):<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-slider-horizontal"</span>)},e}(pt);pt.registerComponent(<span class="code-string">"Slider"</span>,li);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dn</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> cn(e/t*<span class="code-number">100</span>,<span class="code-number">0</span>,<span class="code-number">100</span>).toFixed(<span class="code-number">2</span>)+<span class="code-string">"%"</span>}pt.registerComponent(<span class="code-string">"LoadProgressBar"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=r.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.partEls_=[],i.on(e,<span class="code-string">"progress"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.update(e)}),i}mt(e,r);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=r.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-load-progress"</span>}),t=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>}),i=$(<span class="code-string">"span"</span>,{<span class="code-attr">textContent</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"Loaded"</span>)}),n=<span class="code-built_in">document</span>.createTextNode(<span class="code-string">": "</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.percentageEl_=$(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text-loaded-percentage"</span>,<span class="code-attr">textContent</span>:<span class="code-string">"0%"</span>}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(<span class="code-keyword">this</span>.percentageEl_),e},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.partEls_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.percentageEl_=<span class="code-literal">null</span>,r.prototype.dispose.call(<span class="code-keyword">this</span>)},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> l=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.requestNamedAnimationFrame(<span class="code-string">"LoadProgressBar#update"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=l.player_.liveTracker,t=l.player_.buffered(),e=e&amp;&amp;e.isLive()?e.seekableEnd():l.player_.duration(),i=l.player_.bufferedEnd(),n=l.partEls_,e=dn(i,e);l.percent_!==e&amp;&amp;(l.el_.style.width=e,J(l.percentageEl_,e),l.percent_=e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;t.length;r++){<span class="code-keyword">var</span> a=t.start(r),s=t.end(r),o=n[r];o||(o=l.el_.appendChild($()),n[r]=o),o.dataset.start===a&amp;&amp;o.dataset.end===s||(o.dataset.start=a,o.dataset.end=s,o.style.left=dn(a,i),o.style.width=dn(s-a,i))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=n.length;u&gt;t.length;u--)l.el_.removeChild(n[u<span class="code-number">-1</span>]);n.length=t.length})},e}(pt)),pt.registerComponent(<span class="code-string">"TimeTooltip"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{t=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.update=We(Ve(ft(t),t.update),<span class="code-number">30</span>),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-time-tooltip"</span>},{<span class="code-string">"aria-hidden"</span>:<span class="code-string">"true"</span>})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=he(<span class="code-keyword">this</span>.el_),r=de(<span class="code-keyword">this</span>.player_.el()),a=e.width*t;r&amp;&amp;n&amp;&amp;(t=e.left-r.left+a,r=e.width-a+(r.right-e.right),t&lt;(e=n.width/<span class="code-number">2</span>)?e+=e-t:r&lt;e&amp;&amp;(e=r),e&lt;<span class="code-number">0</span>?e=<span class="code-number">0</span>:e&gt;n.width&amp;&amp;(e=n.width),e=<span class="code-built_in">Math</span>.round(e),<span class="code-keyword">this</span>.el_.style.right=<span class="code-string">"-"</span>+e+<span class="code-string">"px"</span>,<span class="code-keyword">this</span>.write(i))},t.write=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{J(<span class="code-keyword">this</span>.el_,e)},t.updateTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r,a,s</span>)</span>{<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.requestNamedAnimationFrame(<span class="code-string">"TimeTooltip#updateTime"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,i=o.player_.duration();i=o.player_.liveTracker&amp;&amp;o.player_.liveTracker.isLive()?((t=(e=o.player_.liveTracker.liveWindow())-r*e)&lt;<span class="code-number">1</span>?<span class="code-string">""</span>:<span class="code-string">"-"</span>)+ln(t,e):ln(a,i),o.update(n,r,i),s&amp;&amp;s()})},e}(pt));Xt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{t=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.update=We(Ve(ft(t),t.update),<span class="code-number">30</span>),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-play-progress vjs-slider-bar"</span>},{<span class="code-string">"aria-hidden"</span>:<span class="code-string">"true"</span>})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>.getChild(<span class="code-string">"timeTooltip"</span>);n&amp;&amp;(i=<span class="code-keyword">this</span>.player_.scrubbing()?<span class="code-keyword">this</span>.player_.getCache().currentTime:<span class="code-keyword">this</span>.player_.currentTime(),n.updateTime(e,t,i))},e}(pt);Xt.prototype.options_={<span class="code-attr">children</span>:[]},q||A||Xt.prototype.options_.children.push(<span class="code-string">"timeTooltip"</span>),pt.registerComponent(<span class="code-string">"PlayProgressBar"</span>,Xt);I=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{t=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.update=We(Ve(ft(t),t.update),<span class="code-number">30</span>),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-mouse-display"</span>})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,n=t*<span class="code-keyword">this</span>.player_.duration();<span class="code-keyword">this</span>.getChild(<span class="code-string">"timeTooltip"</span>).updateTime(e,t,n,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.el_.style.left=e.width*t+<span class="code-string">"px"</span>})},e}(pt);I.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"timeTooltip"</span>]},pt.registerComponent(<span class="code-string">"MouseTimeDisplay"</span>,I);Bt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{t=a.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.setEventHandlers_(),t}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.setEventHandlers_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.update_=Ve(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.update=We(<span class="code-keyword">this</span>.update_,<span class="code-number">30</span>),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,[<span class="code-string">"ended"</span>,<span class="code-string">"durationchange"</span>,<span class="code-string">"timeupdate"</span>],<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.player_.liveTracker&amp;&amp;<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_.liveTracker,<span class="code-string">"liveedgechange"</span>,<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.updateInterval=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.enableIntervalHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.enableInterval_(e)},<span class="code-keyword">this</span>.disableIntervalHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.disableInterval_(e)},<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,[<span class="code-string">"playing"</span>],<span class="code-keyword">this</span>.enableIntervalHandler_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,[<span class="code-string">"ended"</span>,<span class="code-string">"pause"</span>,<span class="code-string">"waiting"</span>],<span class="code-keyword">this</span>.disableIntervalHandler_),<span class="code-string">"hidden"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-string">"visibilityState"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-keyword">this</span>.on(<span class="code-built_in">document</span>,<span class="code-string">"visibilitychange"</span>,<span class="code-keyword">this</span>.toggleVisibility_)},t.toggleVisibility_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"hidden"</span>===<span class="code-built_in">document</span>.visibilityState?(<span class="code-keyword">this</span>.cancelNamedAnimationFrame(<span class="code-string">"SeekBar#update"</span>),<span class="code-keyword">this</span>.cancelNamedAnimationFrame(<span class="code-string">"Slider#update"</span>),<span class="code-keyword">this</span>.disableInterval_(e)):(<span class="code-keyword">this</span>.player_.ended()||<span class="code-keyword">this</span>.player_.paused()||<span class="code-keyword">this</span>.enableInterval_(),<span class="code-keyword">this</span>.update())},t.enableInterval_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.updateInterval||(<span class="code-keyword">this</span>.updateInterval=<span class="code-keyword">this</span>.setInterval(<span class="code-keyword">this</span>.update,<span class="code-number">30</span>))},t.disableInterval_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.liveTracker&amp;&amp;<span class="code-keyword">this</span>.player_.liveTracker.isLive()&amp;&amp;e&amp;&amp;<span class="code-string">"ended"</span>!==e.type||<span class="code-keyword">this</span>.updateInterval&amp;&amp;(<span class="code-keyword">this</span>.clearInterval(<span class="code-keyword">this</span>.updateInterval),<span class="code-keyword">this</span>.updateInterval=<span class="code-literal">null</span>)},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> a.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-progress-holder"</span>},{<span class="code-string">"aria-label"</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"Progress Bar"</span>)})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-string">"hidden"</span>!==<span class="code-built_in">document</span>.visibilityState){<span class="code-keyword">var</span> r=a.prototype.update.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.requestNamedAnimationFrame(<span class="code-string">"SeekBar#update"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&amp;&amp;t.isLive()&amp;&amp;(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&amp;&amp;(n.el_.setAttribute(<span class="code-string">"aria-valuenow"</span>,(<span class="code-number">100</span>*r).toFixed(<span class="code-number">2</span>)),n.percent_=r),n.currentTime_===e&amp;&amp;n.duration_===i||(n.el_.setAttribute(<span class="code-string">"aria-valuetext"</span>,n.localize(<span class="code-string">"progress bar timing: currentTime={1} duration={2}"</span>,[ln(e,i),ln(i,i)],<span class="code-string">"{1} of {2}"</span>)),n.currentTime_=e,n.duration_=i),n.bar&amp;&amp;n.bar.update(de(n.el()),n.getProgress())}),r}},t.userSeek_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.liveTracker&amp;&amp;<span class="code-keyword">this</span>.player_.liveTracker.isLive()&amp;&amp;<span class="code-keyword">this</span>.player_.liveTracker.nextSeekedFromUser(),<span class="code-keyword">this</span>.player_.currentTime(e)},t.getCurrentTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.player_.scrubbing()?<span class="code-keyword">this</span>.player_.getCache().currentTime:<span class="code-keyword">this</span>.player_.currentTime()},t.getPercent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>.getCurrentTime_(),i=<span class="code-keyword">this</span>.player_.liveTracker;<span class="code-keyword">return</span> i&amp;&amp;i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&amp;&amp;(e=<span class="code-number">1</span>)):e=t/<span class="code-keyword">this</span>.player_.duration(),e},t.handleMouseDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{_e(e)&amp;&amp;(e.stopPropagation(),<span class="code-keyword">this</span>.videoWasPlaying=!<span class="code-keyword">this</span>.player_.paused(),<span class="code-keyword">this</span>.player_.pause(),a.prototype.handleMouseDown.call(<span class="code-keyword">this</span>,e))},t.handleMouseMove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">1</span>),_e(e)){t||<span class="code-keyword">this</span>.player_.scrubbing()||<span class="code-keyword">this</span>.player_.scrubbing(!<span class="code-number">0</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.calculateDistance(e),n=<span class="code-keyword">this</span>.player_.liveTracker;<span class="code-keyword">if</span>(n&amp;&amp;n.isLive()){<span class="code-keyword">if</span>(<span class="code-number">.99</span>&lt;=i)<span class="code-keyword">return</span> <span class="code-keyword">void</span> n.seekToLiveEdge();<span class="code-keyword">var</span> r,t=n.seekableStart(),e=n.liveCurrentTime();<span class="code-keyword">if</span>((r=(r=e&lt;=(r=t+i*n.liveWindow())?e:r)&lt;=t?t+<span class="code-number">.1</span>:r)===<span class="code-number">1</span>/<span class="code-number">0</span>)<span class="code-keyword">return</span>}<span class="code-keyword">else</span>(r=i*<span class="code-keyword">this</span>.player_.duration())===<span class="code-keyword">this</span>.player_.duration()&amp;&amp;(r-=<span class="code-number">.1</span>);<span class="code-keyword">this</span>.userSeek_(r)}},t.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.prototype.enable.call(<span class="code-keyword">this</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getChild(<span class="code-string">"mouseTimeDisplay"</span>);e&amp;&amp;e.show()},t.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.prototype.disable.call(<span class="code-keyword">this</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getChild(<span class="code-string">"mouseTimeDisplay"</span>);e&amp;&amp;e.hide()},t.handleMouseUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.prototype.handleMouseUp.call(<span class="code-keyword">this</span>,e),e&amp;&amp;e.stopPropagation(),<span class="code-keyword">this</span>.player_.scrubbing(!<span class="code-number">1</span>),<span class="code-keyword">this</span>.player_.trigger({<span class="code-attr">type</span>:<span class="code-string">"timeupdate"</span>,<span class="code-attr">target</span>:<span class="code-keyword">this</span>,<span class="code-attr">manuallyTriggered</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.videoWasPlaying?Et(<span class="code-keyword">this</span>.player_.play()):<span class="code-keyword">this</span>.update_()},t.stepForward=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.userSeek_(<span class="code-keyword">this</span>.player_.currentTime()+<span class="code-number">5</span>)},t.stepBack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.userSeek_(<span class="code-keyword">this</span>.player_.currentTime()<span class="code-number">-5</span>)},t.handleAction=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.paused()?<span class="code-keyword">this</span>.player_.play():<span class="code-keyword">this</span>.player_.pause()},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-keyword">this</span>.player_.liveTracker;ht.isEventKey(e,<span class="code-string">"Space"</span>)||ht.isEventKey(e,<span class="code-string">"Enter"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.handleAction(e)):ht.isEventKey(e,<span class="code-string">"Home"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.userSeek_(<span class="code-number">0</span>)):ht.isEventKey(e,<span class="code-string">"End"</span>)?(e.preventDefault(),e.stopPropagation(),i&amp;&amp;i.isLive()?<span class="code-keyword">this</span>.userSeek_(i.liveCurrentTime()):<span class="code-keyword">this</span>.userSeek_(<span class="code-keyword">this</span>.player_.duration())):<span class="code-regexp">/^[0-9]$/</span>.test(ht(e))?(e.preventDefault(),e.stopPropagation(),t=<span class="code-number">10</span>*(ht.codes[ht(e)]-ht.codes[<span class="code-number">0</span>])/<span class="code-number">100</span>,i&amp;&amp;i.isLive()?<span class="code-keyword">this</span>.userSeek_(i.seekableStart()+i.liveWindow()*t):<span class="code-keyword">this</span>.userSeek_(<span class="code-keyword">this</span>.player_.duration()*t)):ht.isEventKey(e,<span class="code-string">"PgDn"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.userSeek_(<span class="code-keyword">this</span>.player_.currentTime()<span class="code-number">-60</span>)):ht.isEventKey(e,<span class="code-string">"PgUp"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.userSeek_(<span class="code-keyword">this</span>.player_.currentTime()+<span class="code-number">60</span>)):a.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,e)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.disableInterval_(),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,[<span class="code-string">"ended"</span>,<span class="code-string">"durationchange"</span>,<span class="code-string">"timeupdate"</span>],<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.player_.liveTracker&amp;&amp;<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_.liveTracker,<span class="code-string">"liveedgechange"</span>,<span class="code-keyword">this</span>.update),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,[<span class="code-string">"playing"</span>],<span class="code-keyword">this</span>.enableIntervalHandler_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,[<span class="code-string">"ended"</span>,<span class="code-string">"pause"</span>,<span class="code-string">"waiting"</span>],<span class="code-keyword">this</span>.disableIntervalHandler_),<span class="code-string">"hidden"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-string">"visibilityState"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-keyword">this</span>.off(<span class="code-built_in">document</span>,<span class="code-string">"visibilitychange"</span>,<span class="code-keyword">this</span>.toggleVisibility_),a.prototype.dispose.call(<span class="code-keyword">this</span>)},e}(li);Bt.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"loadProgressBar"</span>,<span class="code-string">"playProgressBar"</span>],<span class="code-attr">barName</span>:<span class="code-string">"playProgressBar"</span>},q||A||Bt.prototype.options_.children.splice(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-string">"mouseTimeDisplay"</span>),pt.registerComponent(<span class="code-string">"SeekBar"</span>,Bt);Ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.handleMouseMove=We(Ve(ft(i),i.handleMouseMove),<span class="code-number">30</span>),i.throttledHandleMouseSeek=We(Ve(ft(i),i.handleMouseSeek),<span class="code-number">30</span>),i.handleMouseUpHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseUp(e)},i.handleMouseDownHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseDown(e)},i.enable(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-progress-control vjs-control"</span>})},t.handleMouseMove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a=<span class="code-keyword">this</span>.getChild(<span class="code-string">"seekBar"</span>);a&amp;&amp;(t=a.getChild(<span class="code-string">"playProgressBar"</span>),i=a.getChild(<span class="code-string">"mouseTimeDisplay"</span>),(t||i)&amp;&amp;(r=he(n=a.el()),e=pe(n,e).x,e=cn(e,<span class="code-number">0</span>,<span class="code-number">1</span>),i&amp;&amp;i.update(r,e),t&amp;&amp;t.update(r,a.getProgress())))},t.handleMouseSeek=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getChild(<span class="code-string">"seekBar"</span>);t&amp;&amp;t.handleMouseMove(e)},t.enabled=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.enabled_},t.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.children().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.disable&amp;&amp;e.disable()}),<span class="code-keyword">this</span>.enabled()&amp;&amp;(<span class="code-keyword">this</span>.off([<span class="code-string">"mousedown"</span>,<span class="code-string">"touchstart"</span>],<span class="code-keyword">this</span>.handleMouseDownHandler_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.el_,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.handleMouseMove),<span class="code-keyword">this</span>.removeListenersAddedOnMousedownAndTouchstart(),<span class="code-keyword">this</span>.addClass(<span class="code-string">"disabled"</span>),<span class="code-keyword">this</span>.enabled_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.player_.scrubbing()&amp;&amp;(e=<span class="code-keyword">this</span>.getChild(<span class="code-string">"seekBar"</span>),<span class="code-keyword">this</span>.player_.scrubbing(!<span class="code-number">1</span>),e.videoWasPlaying&amp;&amp;Et(<span class="code-keyword">this</span>.player_.play())))},t.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.children().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.enable&amp;&amp;e.enable()}),<span class="code-keyword">this</span>.enabled()||(<span class="code-keyword">this</span>.on([<span class="code-string">"mousedown"</span>,<span class="code-string">"touchstart"</span>],<span class="code-keyword">this</span>.handleMouseDownHandler_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.el_,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.handleMouseMove),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"disabled"</span>),<span class="code-keyword">this</span>.enabled_=!<span class="code-number">0</span>)},t.removeListenersAddedOnMousedownAndTouchstart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.el_.ownerDocument;<span class="code-keyword">this</span>.off(e,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseSeek),<span class="code-keyword">this</span>.off(e,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseSeek),<span class="code-keyword">this</span>.off(e,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_),<span class="code-keyword">this</span>.off(e,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_)},t.handleMouseDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.el_.ownerDocument,i=<span class="code-keyword">this</span>.getChild(<span class="code-string">"seekBar"</span>);i&amp;&amp;i.handleMouseDown(e),<span class="code-keyword">this</span>.on(t,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseSeek),<span class="code-keyword">this</span>.on(t,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseSeek),<span class="code-keyword">this</span>.on(t,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_),<span class="code-keyword">this</span>.on(t,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_)},t.handleMouseUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getChild(<span class="code-string">"seekBar"</span>);t&amp;&amp;t.handleMouseUp(e),<span class="code-keyword">this</span>.removeListenersAddedOnMousedownAndTouchstart()},e}(pt);Ft.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"seekBar"</span>]},pt.registerComponent(<span class="code-string">"ProgressControl"</span>,Ft);jt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(e,[<span class="code-string">"enterpictureinpicture"</span>,<span class="code-string">"leavepictureinpicture"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handlePictureInPictureChange(e)}),i.on(e,[<span class="code-string">"disablepictureinpicturechanged"</span>,<span class="code-string">"loadedmetadata"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handlePictureInPictureEnabledChange(e)}),i.on(e,[<span class="code-string">"loadedmetadata"</span>,<span class="code-string">"audioonlymodechange"</span>,<span class="code-string">"audiopostermodechange"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"audio"</span>===e.currentType().substring(<span class="code-number">0</span>,<span class="code-number">5</span>)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&amp;&amp;e.exitPictureInPicture(),i.hide()):i.show()}),i.disable(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-picture-in-picture-control "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.handlePictureInPictureEnabledChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">document</span>.pictureInPictureEnabled&amp;&amp;!<span class="code-number">1</span>===<span class="code-keyword">this</span>.player_.disablePictureInPicture()?<span class="code-keyword">this</span>.enable():<span class="code-keyword">this</span>.disable()},t.handlePictureInPictureChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.isInPictureInPicture()?<span class="code-keyword">this</span>.controlText(<span class="code-string">"Exit Picture-in-Picture"</span>):<span class="code-keyword">this</span>.controlText(<span class="code-string">"Picture-in-Picture"</span>),<span class="code-keyword">this</span>.handlePictureInPictureEnabledChange()},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.isInPictureInPicture()?<span class="code-keyword">this</span>.player_.exitPictureInPicture():<span class="code-keyword">this</span>.player_.requestPictureInPicture()},e}(sn);jt.prototype.controlText_=<span class="code-string">"Picture-in-Picture"</span>,pt.registerComponent(<span class="code-string">"PictureInPictureToggle"</span>,jt);j=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(e,<span class="code-string">"fullscreenchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleFullscreenChange(e)}),!<span class="code-number">1</span>===<span class="code-built_in">document</span>[e.fsApi_.fullscreenEnabled]&amp;&amp;i.disable(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-fullscreen-control "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.handleFullscreenChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.isFullscreen()?<span class="code-keyword">this</span>.controlText(<span class="code-string">"Non-Fullscreen"</span>):<span class="code-keyword">this</span>.controlText(<span class="code-string">"Fullscreen"</span>)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player_.isFullscreen()?<span class="code-keyword">this</span>.player_.exitFullscreen():<span class="code-keyword">this</span>.player_.requestFullscreen()},e}(sn);j.prototype.controlText_=<span class="code-string">"Fullscreen"</span>,pt.registerComponent(<span class="code-string">"FullscreenToggle"</span>,j);pt.registerComponent(<span class="code-string">"VolumeLevel"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}<span class="code-keyword">return</span> mt(e,t),e.prototype.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-volume-level"</span>});<span class="code-keyword">return</span> e.appendChild(t.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>})),e},e}(pt)),pt.registerComponent(<span class="code-string">"VolumeLevelTooltip"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{t=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.update=We(Ve(ft(t),t.update),<span class="code-number">30</span>),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-volume-tooltip"</span>},{<span class="code-string">"aria-hidden"</span>:<span class="code-string">"true"</span>})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">if</span>(!i){<span class="code-keyword">var</span> r=de(<span class="code-keyword">this</span>.el_),a=de(<span class="code-keyword">this</span>.player_.el()),i=e.width*t;<span class="code-keyword">if</span>(!a||!r)<span class="code-keyword">return</span>;t=e.left-a.left+i,a=e.width-i+(a.right-e.right),e=r.width/<span class="code-number">2</span>;t&lt;e?e+=e-t:a&lt;e&amp;&amp;(e=a),e&lt;<span class="code-number">0</span>?e=<span class="code-number">0</span>:e&gt;r.width&amp;&amp;(e=r.width),<span class="code-keyword">this</span>.el_.style.right=<span class="code-string">"-"</span>+e+<span class="code-string">"px"</span>}<span class="code-keyword">this</span>.write(n+<span class="code-string">"%"</span>)},t.write=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{J(<span class="code-keyword">this</span>.el_,e)},t.updateVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.requestNamedAnimationFrame(<span class="code-string">"VolumeLevelTooltip#updateVolume"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.update(e,t,i,n.toFixed(<span class="code-number">0</span>)),r&amp;&amp;r()})},e}(pt));k=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{t=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.update=We(Ve(ft(t),t.update),<span class="code-number">30</span>),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-mouse-display"</span>})},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r=<span class="code-number">100</span>*t;<span class="code-keyword">this</span>.getChild(<span class="code-string">"volumeLevelTooltip"</span>).updateVolume(e,t,i,r,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i?n.el_.style.bottom=e.height*t+<span class="code-string">"px"</span>:n.el_.style.left=e.width*t+<span class="code-string">"px"</span>})},e}(pt);k.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"volumeLevelTooltip"</span>]},pt.registerComponent(<span class="code-string">"MouseVolumeLevelDisplay"</span>,k);f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(<span class="code-string">"slideractive"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateLastVolume_(e)}),i.on(e,<span class="code-string">"volumechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateARIAAttributes(e)}),e.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.updateARIAAttributes()}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-volume-bar vjs-slider-bar"</span>},{<span class="code-string">"aria-label"</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"Volume Level"</span>),<span class="code-string">"aria-live"</span>:<span class="code-string">"polite"</span>})},t.handleMouseDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{_e(e)&amp;&amp;n.prototype.handleMouseDown.call(<span class="code-keyword">this</span>,e)},t.handleMouseMove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r=<span class="code-keyword">this</span>.getChild(<span class="code-string">"mouseVolumeLevelDisplay"</span>);r&amp;&amp;(t=de(n=<span class="code-keyword">this</span>.el()),i=<span class="code-keyword">this</span>.vertical(),n=pe(n,e),n=i?n.y:n.x,n=cn(n,<span class="code-number">0</span>,<span class="code-number">1</span>),r.update(t,n,i)),_e(e)&amp;&amp;(<span class="code-keyword">this</span>.checkMuted(),<span class="code-keyword">this</span>.player_.volume(<span class="code-keyword">this</span>.calculateDistance(e)))},t.checkMuted=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_.muted()&amp;&amp;<span class="code-keyword">this</span>.player_.muted(!<span class="code-number">1</span>)},t.getPercent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.player_.muted()?<span class="code-number">0</span>:<span class="code-keyword">this</span>.player_.volume()},t.stepForward=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.checkMuted(),<span class="code-keyword">this</span>.player_.volume(<span class="code-keyword">this</span>.player_.volume()+<span class="code-number">.1</span>)},t.stepBack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.checkMuted(),<span class="code-keyword">this</span>.player_.volume(<span class="code-keyword">this</span>.player_.volume()<span class="code-number">-.1</span>)},t.updateARIAAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.muted()?<span class="code-number">0</span>:<span class="code-keyword">this</span>.volumeAsPercentage_();<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"aria-valuenow"</span>,t),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"aria-valuetext"</span>,t+<span class="code-string">"%"</span>)},t.volumeAsPercentage_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.round(<span class="code-number">100</span>*<span class="code-keyword">this</span>.player_.volume())},t.updateLastVolume_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.player_.volume();<span class="code-keyword">this</span>.one(<span class="code-string">"sliderinactive"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">0</span>===e.player_.volume()&amp;&amp;e.player_.lastVolume_(t)})},e}(li);f.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"volumeLevel"</span>],<span class="code-attr">barName</span>:<span class="code-string">"volumeLevel"</span>},q||A||f.prototype.options_.children.splice(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-string">"mouseVolumeLevelDisplay"</span>),f.prototype.playerEvent=<span class="code-string">"volumechange"</span>,pt.registerComponent(<span class="code-string">"VolumeBar"</span>,f);ui=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r;<span class="code-keyword">return</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).vertical=t.vertical||!<span class="code-number">1</span>,<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> t.volumeBar&amp;&amp;!S(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),i=a.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>,n=ft(i),(r=e).tech_&amp;&amp;!r.tech_.featuresVolumeControl&amp;&amp;n.addClass(<span class="code-string">"vjs-hidden"</span>),n.on(r,<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.tech_.featuresVolumeControl?n.removeClass(<span class="code-string">"vjs-hidden"</span>):n.addClass(<span class="code-string">"vjs-hidden"</span>)}),i.throttledHandleMouseMove=We(Ve(ft(i),i.handleMouseMove),<span class="code-number">30</span>),i.handleMouseUpHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseUp(e)},i.on(<span class="code-string">"mousedown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseDown(e)}),i.on(<span class="code-string">"touchstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseDown(e)}),i.on(<span class="code-string">"mousemove"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseMove(e)}),i.on(i.volumeBar,[<span class="code-string">"focus"</span>,<span class="code-string">"slideractive"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.volumeBar.addClass(<span class="code-string">"vjs-slider-active"</span>),i.addClass(<span class="code-string">"vjs-slider-active"</span>),i.trigger(<span class="code-string">"slideractive"</span>)}),i.on(i.volumeBar,[<span class="code-string">"blur"</span>,<span class="code-string">"sliderinactive"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.volumeBar.removeClass(<span class="code-string">"vjs-slider-active"</span>),i.removeClass(<span class="code-string">"vjs-slider-active"</span>),i.trigger(<span class="code-string">"sliderinactive"</span>)}),i}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"vjs-volume-horizontal"</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options_.vertical&amp;&amp;(e=<span class="code-string">"vjs-volume-vertical"</span>),a.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-volume-control vjs-control "</span>+e})},t.handleMouseDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.el_.ownerDocument;<span class="code-keyword">this</span>.on(t,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseMove),<span class="code-keyword">this</span>.on(t,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseMove),<span class="code-keyword">this</span>.on(t,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_),<span class="code-keyword">this</span>.on(t,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_)},t.handleMouseUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.el_.ownerDocument;<span class="code-keyword">this</span>.off(t,<span class="code-string">"mousemove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseMove),<span class="code-keyword">this</span>.off(t,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.throttledHandleMouseMove),<span class="code-keyword">this</span>.off(t,<span class="code-string">"mouseup"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_),<span class="code-keyword">this</span>.off(t,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.handleMouseUpHandler_)},t.handleMouseMove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.volumeBar.handleMouseMove(e)},e}(pt);ui.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"volumeBar"</span>]},pt.registerComponent(<span class="code-string">"VolumeControl"</span>,ui);Xt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r=a.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i=ft(r),(n=e).tech_&amp;&amp;!n.tech_.featuresMuteControl&amp;&amp;i.addClass(<span class="code-string">"vjs-hidden"</span>),i.on(n,<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.tech_.featuresMuteControl?i.removeClass(<span class="code-string">"vjs-hidden"</span>):i.addClass(<span class="code-string">"vjs-hidden"</span>)}),r.on(e,[<span class="code-string">"loadstart"</span>,<span class="code-string">"volumechange"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.update(e)}),r}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-mute-control "</span>+a.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.volume(),i=<span class="code-keyword">this</span>.player_.lastVolume_();<span class="code-number">0</span>===t?(<span class="code-keyword">this</span>.player_.volume(i&lt;<span class="code-number">.1</span>?<span class="code-number">.1</span>:i),<span class="code-keyword">this</span>.player_.muted(!<span class="code-number">1</span>)):<span class="code-keyword">this</span>.player_.muted(!<span class="code-keyword">this</span>.player_.muted())},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.updateIcon_(),<span class="code-keyword">this</span>.updateControlText_()},t.updateIcon_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.volume(),t=<span class="code-number">3</span>;q&amp;&amp;<span class="code-keyword">this</span>.player_.tech_&amp;&amp;<span class="code-keyword">this</span>.player_.tech_.el_&amp;&amp;<span class="code-keyword">this</span>.player_.muted(<span class="code-keyword">this</span>.player_.tech_.el_.muted),<span class="code-number">0</span>===e||<span class="code-keyword">this</span>.player_.muted()?t=<span class="code-number">0</span>:e&lt;<span class="code-number">.33</span>?t=<span class="code-number">1</span>:e&lt;<span class="code-number">.67</span>&amp;&amp;(t=<span class="code-number">2</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;<span class="code-number">4</span>;i++)ie(<span class="code-keyword">this</span>.el_,<span class="code-string">"vjs-vol-"</span>+i);te(<span class="code-keyword">this</span>.el_,<span class="code-string">"vjs-vol-"</span>+t)},t.updateControlText_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.muted()||<span class="code-number">0</span>===<span class="code-keyword">this</span>.player_.volume()?<span class="code-string">"Unmute"</span>:<span class="code-string">"Mute"</span>;<span class="code-keyword">this</span>.controlText()!==e&amp;&amp;<span class="code-keyword">this</span>.controlText(e)},e}(sn);Xt.prototype.controlText_=<span class="code-string">"Mute"</span>,pt.registerComponent(<span class="code-string">"MuteToggle"</span>,Xt);I=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).inline?t.inline=t.inline:t.inline=!<span class="code-number">0</span>,<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> t.volumeControl&amp;&amp;!S(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).handleKeyPressHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyPress(e)},i.on(e,[<span class="code-string">"loadstart"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.volumePanelState_(e)}),i.on(i.muteToggle,<span class="code-string">"keyup"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyPress(e)}),i.on(i.volumeControl,<span class="code-string">"keyup"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleVolumeControlKeyUp(e)}),i.on(<span class="code-string">"keydown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyPress(e)}),i.on(<span class="code-string">"mouseover"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseOver(e)}),i.on(<span class="code-string">"mouseout"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseOut(e)}),i.on(i.volumeControl,[<span class="code-string">"slideractive"</span>],i.sliderActive_),i.on(i.volumeControl,[<span class="code-string">"sliderinactive"</span>],i.sliderInactive_),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.sliderActive_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-slider-active"</span>)},t.sliderInactive_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-slider-active"</span>)},t.volumePanelState_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.volumeControl.hasClass(<span class="code-string">"vjs-hidden"</span>)&amp;&amp;<span class="code-keyword">this</span>.muteToggle.hasClass(<span class="code-string">"vjs-hidden"</span>)&amp;&amp;<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-hidden"</span>),<span class="code-keyword">this</span>.volumeControl.hasClass(<span class="code-string">"vjs-hidden"</span>)&amp;&amp;!<span class="code-keyword">this</span>.muteToggle.hasClass(<span class="code-string">"vjs-hidden"</span>)&amp;&amp;<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-mute-toggle-only"</span>)},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"vjs-volume-panel-horizontal"</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options_.inline||(e=<span class="code-string">"vjs-volume-panel-vertical"</span>),n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-volume-panel vjs-control "</span>+e})},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.handleMouseOut(),n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.handleVolumeControlKeyUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Esc"</span>)&amp;&amp;<span class="code-keyword">this</span>.muteToggle.focus()},t.handleMouseOver=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-hover"</span>),Be(<span class="code-built_in">document</span>,<span class="code-string">"keyup"</span>,<span class="code-keyword">this</span>.handleKeyPressHandler_)},t.handleMouseOut=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-hover"</span>),Fe(<span class="code-built_in">document</span>,<span class="code-string">"keyup"</span>,<span class="code-keyword">this</span>.handleKeyPressHandler_)},t.handleKeyPress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Esc"</span>)&amp;&amp;<span class="code-keyword">this</span>.handleMouseOut()},e}(pt);I.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"muteToggle"</span>,<span class="code-string">"volumeControl"</span>]},pt.registerComponent(<span class="code-string">"VolumePanel"</span>,I);<span class="code-keyword">var</span> hn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t&amp;&amp;(i.menuButton_=t.menuButton),i.focusedChild_=<span class="code-number">-1</span>,i.on(<span class="code-string">"keydown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyDown(e)}),i.boundHandleBlur_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleBlur(e)},i.boundHandleTapClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTapClick(e)},i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.addEventListenerForItem=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e <span class="code-keyword">instanceof</span> pt&amp;&amp;(<span class="code-keyword">this</span>.on(e,<span class="code-string">"blur"</span>,<span class="code-keyword">this</span>.boundHandleBlur_),<span class="code-keyword">this</span>.on(e,[<span class="code-string">"tap"</span>,<span class="code-string">"click"</span>],<span class="code-keyword">this</span>.boundHandleTapClick_))},t.removeEventListenerForItem=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e <span class="code-keyword">instanceof</span> pt&amp;&amp;(<span class="code-keyword">this</span>.off(e,<span class="code-string">"blur"</span>,<span class="code-keyword">this</span>.boundHandleBlur_),<span class="code-keyword">this</span>.off(e,[<span class="code-string">"tap"</span>,<span class="code-string">"click"</span>],<span class="code-keyword">this</span>.boundHandleTapClick_))},t.removeChild=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(e=<span class="code-keyword">this</span>.getChild(e)),<span class="code-keyword">this</span>.removeEventListenerForItem(e),n.prototype.removeChild.call(<span class="code-keyword">this</span>,e)},t.addItem=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">this</span>.addChild(e);e&amp;&amp;<span class="code-keyword">this</span>.addEventListenerForItem(e)},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.options_.contentElType||<span class="code-string">"ul"</span>;<span class="code-keyword">this</span>.contentEl_=$(e,{<span class="code-attr">className</span>:<span class="code-string">"vjs-menu-content"</span>}),<span class="code-keyword">this</span>.contentEl_.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"menu"</span>);e=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">append</span>:<span class="code-keyword">this</span>.contentEl_,<span class="code-attr">className</span>:<span class="code-string">"vjs-menu"</span>});<span class="code-keyword">return</span> e.appendChild(<span class="code-keyword">this</span>.contentEl_),Be(e,<span class="code-string">"click"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.preventDefault(),e.stopImmediatePropagation()}),e},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.contentEl_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundHandleBlur_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.boundHandleTapClick_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.handleBlur=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.relatedTarget||<span class="code-built_in">document</span>.activeElement;<span class="code-keyword">this</span>.children().some(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.el()===t})||(e=<span class="code-keyword">this</span>.menuButton_)&amp;&amp;e.buttonPressed_&amp;&amp;t!==e.el().firstChild&amp;&amp;e.unpressButton()},t.handleTapClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.menuButton_&amp;&amp;(<span class="code-keyword">this</span>.menuButton_.unpressButton(),e=<span class="code-keyword">this</span>.children(),!<span class="code-built_in">Array</span>.isArray(e)||(e=e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.el()===t.target})[<span class="code-number">0</span>])&amp;&amp;<span class="code-string">"CaptionSettingsMenuItem"</span>!==e.name()&amp;&amp;<span class="code-keyword">this</span>.menuButton_.focus())},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Left"</span>)||ht.isEventKey(e,<span class="code-string">"Down"</span>)?(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.stepForward()):(ht.isEventKey(e,<span class="code-string">"Right"</span>)||ht.isEventKey(e,<span class="code-string">"Up"</span>))&amp;&amp;(e.preventDefault(),e.stopPropagation(),<span class="code-keyword">this</span>.stepBack())},t.stepForward=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">0</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.focusedChild_&amp;&amp;(e=<span class="code-keyword">this</span>.focusedChild_+<span class="code-number">1</span>),<span class="code-keyword">this</span>.focus(e)},t.stepBack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">0</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.focusedChild_&amp;&amp;(e=<span class="code-keyword">this</span>.focusedChild_<span class="code-number">-1</span>),<span class="code-keyword">this</span>.focus(e)},t.focus=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-number">0</span>);<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.children().slice();t.length&amp;&amp;t[<span class="code-number">0</span>].hasClass(<span class="code-string">"vjs-menu-title"</span>)&amp;&amp;t.shift(),<span class="code-number">0</span>&lt;t.length&amp;&amp;(e&lt;<span class="code-number">0</span>?e=<span class="code-number">0</span>:e&gt;=t.length&amp;&amp;(e=t.length<span class="code-number">-1</span>),t[<span class="code-keyword">this</span>.focusedChild_=e].el_.focus())},e}(pt);pt.registerComponent(<span class="code-string">"Menu"</span>,hn);Bt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;(i=n.call(<span class="code-keyword">this</span>,e,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t)||<span class="code-keyword">this</span>).menuButton_=<span class="code-keyword">new</span> sn(e,t),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute(<span class="code-string">"aria-haspopup"</span>,<span class="code-string">"true"</span>);t=sn.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+<span class="code-string">" "</span>+t,i.menuButton_.removeClass(<span class="code-string">"vjs-control"</span>),i.addChild(i.menuButton_),i.update(),i.enabled_=!<span class="code-number">0</span>;t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleClick(e)};<span class="code-keyword">return</span> i.handleMenuKeyUp_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMenuKeyUp(e)},i.on(i.menuButton_,<span class="code-string">"tap"</span>,t),i.on(i.menuButton_,<span class="code-string">"click"</span>,t),i.on(i.menuButton_,<span class="code-string">"keydown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleKeyDown(e)}),i.on(i.menuButton_,<span class="code-string">"mouseenter"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.addClass(<span class="code-string">"vjs-hover"</span>),i.menu.show(),Be(<span class="code-built_in">document</span>,<span class="code-string">"keyup"</span>,i.handleMenuKeyUp_)}),i.on(<span class="code-string">"mouseleave"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleMouseLeave(e)}),i.on(<span class="code-string">"keydown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleSubmenuKeyDown(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.createMenu();<span class="code-keyword">this</span>.menu&amp;&amp;(<span class="code-keyword">this</span>.menu.dispose(),<span class="code-keyword">this</span>.removeChild(<span class="code-keyword">this</span>.menu)),<span class="code-keyword">this</span>.menu=e,<span class="code-keyword">this</span>.addChild(e),<span class="code-keyword">this</span>.buttonPressed_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.menuButton_.el_.setAttribute(<span class="code-string">"aria-expanded"</span>,<span class="code-string">"false"</span>),<span class="code-keyword">this</span>.items&amp;&amp;<span class="code-keyword">this</span>.items.length&lt;=<span class="code-keyword">this</span>.hideThreshold_?(<span class="code-keyword">this</span>.hide(),<span class="code-keyword">this</span>.menu.contentEl_.removeAttribute(<span class="code-string">"role"</span>)):(<span class="code-keyword">this</span>.show(),<span class="code-keyword">this</span>.menu.contentEl_.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"menu"</span>))},t.createMenu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">new</span> hn(<span class="code-keyword">this</span>.player_,{<span class="code-attr">menuButton</span>:<span class="code-keyword">this</span>});<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.hideThreshold_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.options_.title&amp;&amp;(e=$(<span class="code-string">"li"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-menu-title"</span>,<span class="code-attr">textContent</span>:ut(<span class="code-keyword">this</span>.options_.title),<span class="code-attr">tabIndex</span>:<span class="code-number">-1</span>}),e=<span class="code-keyword">new</span> pt(<span class="code-keyword">this</span>.player_,{<span class="code-attr">el</span>:e}),t.addItem(e)),<span class="code-keyword">this</span>.items=<span class="code-keyword">this</span>.createItems(),<span class="code-keyword">this</span>.items)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;<span class="code-keyword">this</span>.items.length;i++)t.addItem(<span class="code-keyword">this</span>.items[i]);<span class="code-keyword">return</span> t},t.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-keyword">this</span>.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"vjs-menu-button"</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>===<span class="code-keyword">this</span>.options_.inline?e+=<span class="code-string">"-inline"</span>:e+=<span class="code-string">"-popup"</span>,<span class="code-string">"vjs-menu-button "</span>+e+<span class="code-string">" "</span>+sn.prototype.buildCSSClass()+<span class="code-string">" "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"vjs-menu-button"</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>===<span class="code-keyword">this</span>.options_.inline?e+=<span class="code-string">"-inline"</span>:e+=<span class="code-string">"-popup"</span>,<span class="code-string">"vjs-menu-button "</span>+e+<span class="code-string">" "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.controlText=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">this</span>.menuButton_.el()),<span class="code-keyword">this</span>.menuButton_.controlText(e,t)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.handleMouseLeave(),n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.buttonPressed_?<span class="code-keyword">this</span>.unpressButton():<span class="code-keyword">this</span>.pressButton()},t.handleMouseLeave=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-hover"</span>),Fe(<span class="code-built_in">document</span>,<span class="code-string">"keyup"</span>,<span class="code-keyword">this</span>.handleMenuKeyUp_)},t.focus=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.menuButton_.focus()},t.blur=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.menuButton_.blur()},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Esc"</span>)||ht.isEventKey(e,<span class="code-string">"Tab"</span>)?(<span class="code-keyword">this</span>.buttonPressed_&amp;&amp;<span class="code-keyword">this</span>.unpressButton(),ht.isEventKey(e,<span class="code-string">"Tab"</span>)||(e.preventDefault(),<span class="code-keyword">this</span>.menuButton_.focus())):(ht.isEventKey(e,<span class="code-string">"Up"</span>)||ht.isEventKey(e,<span class="code-string">"Down"</span>))&amp;&amp;(<span class="code-keyword">this</span>.buttonPressed_||(e.preventDefault(),<span class="code-keyword">this</span>.pressButton()))},t.handleMenuKeyUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{(ht.isEventKey(e,<span class="code-string">"Esc"</span>)||ht.isEventKey(e,<span class="code-string">"Tab"</span>))&amp;&amp;<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-hover"</span>)},t.handleSubmenuKeyPress=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{(ht.isEventKey(e,<span class="code-string">"Esc"</span>)||ht.isEventKey(e,<span class="code-string">"Tab"</span>))&amp;&amp;(<span class="code-keyword">this</span>.buttonPressed_&amp;&amp;<span class="code-keyword">this</span>.unpressButton(),ht.isEventKey(e,<span class="code-string">"Tab"</span>)||(e.preventDefault(),<span class="code-keyword">this</span>.menuButton_.focus()))},t.pressButton=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enabled_&amp;&amp;(<span class="code-keyword">this</span>.buttonPressed_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.menu.show(),<span class="code-keyword">this</span>.menu.lockShowing(),<span class="code-keyword">this</span>.menuButton_.el_.setAttribute(<span class="code-string">"aria-expanded"</span>,<span class="code-string">"true"</span>),q&amp;&amp;Y()||<span class="code-keyword">this</span>.menu.focus())},t.unpressButton=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enabled_&amp;&amp;(<span class="code-keyword">this</span>.buttonPressed_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.menu.unlockShowing(),<span class="code-keyword">this</span>.menu.hide(),<span class="code-keyword">this</span>.menuButton_.el_.setAttribute(<span class="code-string">"aria-expanded"</span>,<span class="code-string">"false"</span>))},t.disable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.unpressButton(),<span class="code-keyword">this</span>.enabled_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-disabled"</span>),<span class="code-keyword">this</span>.menuButton_.disable()},t.enable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.enabled_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-disabled"</span>),<span class="code-keyword">this</span>.menuButton_.enable()},e}(pt);pt.registerComponent(<span class="code-string">"MenuButton"</span>,Bt);Ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.tracks,t=r.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(t.items.length&lt;=<span class="code-number">1</span>&amp;&amp;t.hide(),!i)<span class="code-keyword">return</span> ft(t);<span class="code-keyword">var</span> n=Ve(ft(t),t.update);<span class="code-keyword">return</span> i.addEventListener(<span class="code-string">"removetrack"</span>,n),i.addEventListener(<span class="code-string">"addtrack"</span>,n),i.addEventListener(<span class="code-string">"labelchange"</span>,n),t.player_.on(<span class="code-string">"ready"</span>,n),t.player_.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.removeEventListener(<span class="code-string">"removetrack"</span>,n),i.removeEventListener(<span class="code-string">"addtrack"</span>,n),i.removeEventListener(<span class="code-string">"labelchange"</span>,n)}),t}<span class="code-keyword">return</span> mt(e,r),e}(Bt);pt.registerComponent(<span class="code-string">"TrackButton"</span>,Ft);<span class="code-keyword">var</span> pn=[<span class="code-string">"Tab"</span>,<span class="code-string">"Esc"</span>,<span class="code-string">"Up"</span>,<span class="code-string">"Down"</span>,<span class="code-string">"Right"</span>,<span class="code-string">"Left"</span>],jt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{e=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e.selectable=t.selectable,e.isSelected_=t.selected||!<span class="code-number">1</span>,e.multiSelectable=t.multiSelectable,e.selected(e.isSelected_),e.selectable?e.multiSelectable?e.el_.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"menuitemcheckbox"</span>):e.el_.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"menuitemradio"</span>):e.el_.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"menuitem"</span>),e}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">this</span>.nonIconControl=!<span class="code-number">0</span>;i=n.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"li"</span>,b({<span class="code-attr">className</span>:<span class="code-string">"vjs-menu-item"</span>,<span class="code-attr">tabIndex</span>:<span class="code-number">-1</span>},t),i);<span class="code-keyword">return</span> i.replaceChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-menu-item-text"</span>,<span class="code-attr">textContent</span>:<span class="code-keyword">this</span>.localize(<span class="code-keyword">this</span>.options_.label)}),i.querySelector(<span class="code-string">".vjs-icon-placeholder"</span>)),i},t.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{pn.some(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ht.isEventKey(t,e)})||n.prototype.handleKeyDown.call(<span class="code-keyword">this</span>,t)},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.selected(!<span class="code-number">0</span>)},t.selected=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.selectable&amp;&amp;(e?(<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-selected"</span>),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"aria-checked"</span>,<span class="code-string">"true"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">", selected"</span>),<span class="code-keyword">this</span>.isSelected_=!<span class="code-number">0</span>):(<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-selected"</span>),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"aria-checked"</span>,<span class="code-string">"false"</span>),<span class="code-keyword">this</span>.controlText(<span class="code-string">""</span>),<span class="code-keyword">this</span>.isSelected_=!<span class="code-number">1</span>))},e}(C);pt.registerComponent(<span class="code-string">"MenuItem"</span>,jt);<span class="code-keyword">var</span> fn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">u</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n,i=t.track,r=e.textTracks();t.label=i.label||i.language||<span class="code-string">"Unknown"</span>,t.selected=<span class="code-string">"showing"</span>===i.mode,(n=u.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).track=i,n.kinds=(t.kinds||[t.kind||n.track.kind]).filter(<span class="code-built_in">Boolean</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];n.handleTracksChange.apply(ft(n),t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];n.handleSelectedLanguageChange.apply(ft(n),t)}<span class="code-keyword">var</span> o;<span class="code-keyword">return</span> e.on([<span class="code-string">"loadstart"</span>,<span class="code-string">"texttrackchange"</span>],a),r.addEventListener(<span class="code-string">"change"</span>,a),r.addEventListener(<span class="code-string">"selectedlanguagechange"</span>,s),n.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.off([<span class="code-string">"loadstart"</span>,<span class="code-string">"texttrackchange"</span>],a),r.removeEventListener(<span class="code-string">"change"</span>,a),r.removeEventListener(<span class="code-string">"selectedlanguagechange"</span>,s)}),<span class="code-keyword">void</span> <span class="code-number">0</span>===r.onchange&amp;&amp;n.on([<span class="code-string">"tap"</span>,<span class="code-string">"click"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.Event)<span class="code-keyword">try</span>{o=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.Event(<span class="code-string">"change"</span>)}<span class="code-keyword">catch</span>(e){}o||(o=<span class="code-built_in">document</span>.createEvent(<span class="code-string">"Event"</span>)).initEvent(<span class="code-string">"change"</span>,!<span class="code-number">0</span>,!<span class="code-number">0</span>),r.dispatchEvent(o)}),n.handleTracksChange(),n}mt(e,u);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.track,i=<span class="code-keyword">this</span>.player_.textTracks();<span class="code-keyword">if</span>(u.prototype.handleClick.call(<span class="code-keyword">this</span>,e),i)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;i.length;n++){<span class="code-keyword">var</span> r=i[n];<span class="code-number">-1</span>!==<span class="code-keyword">this</span>.kinds.indexOf(r.kind)&amp;&amp;(r===t?<span class="code-string">"showing"</span>!==r.mode&amp;&amp;(r.mode=<span class="code-string">"showing"</span>):<span class="code-string">"disabled"</span>!==r.mode&amp;&amp;(r.mode=<span class="code-string">"disabled"</span>))}},t.handleTracksChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"showing"</span>===<span class="code-keyword">this</span>.track.mode;t!==<span class="code-keyword">this</span>.isSelected_&amp;&amp;<span class="code-keyword">this</span>.selected(t)},t.handleSelectedLanguageChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-string">"showing"</span>===<span class="code-keyword">this</span>.track.mode&amp;&amp;((t=<span class="code-keyword">this</span>.player_.cache_.selectedLanguage)&amp;&amp;t.enabled&amp;&amp;t.language===<span class="code-keyword">this</span>.track.language&amp;&amp;t.kind!==<span class="code-keyword">this</span>.track.kind||(<span class="code-keyword">this</span>.player_.cache_.selectedLanguage={<span class="code-attr">enabled</span>:!<span class="code-number">0</span>,<span class="code-attr">language</span>:<span class="code-keyword">this</span>.track.language,<span class="code-attr">kind</span>:<span class="code-keyword">this</span>.track.kind}))},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.track=<span class="code-literal">null</span>,u.prototype.dispose.call(<span class="code-keyword">this</span>)},e}(jt);pt.registerComponent(<span class="code-string">"TextTrackMenuItem"</span>,fn);<span class="code-keyword">var</span> mn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.track={<span class="code-attr">player</span>:e,<span class="code-attr">kind</span>:t.kind,<span class="code-attr">kinds</span>:t.kinds,<span class="code-attr">default</span>:!<span class="code-number">1</span>,<span class="code-attr">mode</span>:<span class="code-string">"disabled"</span>},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(<span class="code-string">" and "</span>)+<span class="code-string">" off"</span>,t.selectable=!<span class="code-number">0</span>,t.multiSelectable=!<span class="code-number">1</span>,i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.handleTracksChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player().textTracks(),i=!<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> a=t[n];<span class="code-keyword">if</span>(<span class="code-number">-1</span>&lt;<span class="code-keyword">this</span>.options_.kinds.indexOf(a.kind)&amp;&amp;<span class="code-string">"showing"</span>===a.mode){i=!<span class="code-number">1</span>;<span class="code-keyword">break</span>}}i!==<span class="code-keyword">this</span>.isSelected_&amp;&amp;<span class="code-keyword">this</span>.selected(i)},t.handleSelectedLanguageChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player().textTracks(),i=!<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> a=t[n];<span class="code-keyword">if</span>(<span class="code-number">-1</span>&lt;[<span class="code-string">"captions"</span>,<span class="code-string">"descriptions"</span>,<span class="code-string">"subtitles"</span>].indexOf(a.kind)&amp;&amp;<span class="code-string">"showing"</span>===a.mode){i=!<span class="code-number">1</span>;<span class="code-keyword">break</span>}}i&amp;&amp;(<span class="code-keyword">this</span>.player_.cache_.selectedLanguage={<span class="code-attr">enabled</span>:!<span class="code-number">1</span>})},e}(fn);pt.registerComponent(<span class="code-string">"OffTextTrackMenuItem"</span>,mn);j=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).tracks=e.textTracks(),i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>}<span class="code-keyword">return</span> mt(e,i),e.prototype.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=fn),<span class="code-keyword">this</span>.label_&amp;&amp;(i=<span class="code-keyword">this</span>.label_+<span class="code-string">" off"</span>),(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?[]:e).push(<span class="code-keyword">new</span> mn(<span class="code-keyword">this</span>.player_,{<span class="code-attr">kinds</span>:<span class="code-keyword">this</span>.kinds_,<span class="code-attr">kind</span>:<span class="code-keyword">this</span>.kind_,<span class="code-attr">label</span>:i})),<span class="code-keyword">this</span>.hideThreshold_+=<span class="code-number">1</span>;<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.player_.textTracks();<span class="code-built_in">Array</span>.isArray(<span class="code-keyword">this</span>.kinds_)||(<span class="code-keyword">this</span>.kinds_=[<span class="code-keyword">this</span>.kind_]);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;n.length;r++){<span class="code-keyword">var</span> a,s=n[r];<span class="code-number">-1</span>&lt;<span class="code-keyword">this</span>.kinds_.indexOf(s.kind)&amp;&amp;((a=<span class="code-keyword">new</span> t(<span class="code-keyword">this</span>.player_,{<span class="code-attr">track</span>:s,<span class="code-attr">kinds</span>:<span class="code-keyword">this</span>.kinds_,<span class="code-attr">kind</span>:<span class="code-keyword">this</span>.kind_,<span class="code-attr">selectable</span>:!<span class="code-number">0</span>,<span class="code-attr">multiSelectable</span>:!<span class="code-number">1</span>})).addClass(<span class="code-string">"vjs-"</span>+s.kind+<span class="code-string">"-menu-item"</span>),e.push(a))}<span class="code-keyword">return</span> e},e}(Ft);pt.registerComponent(<span class="code-string">"TextTrackButton"</span>,j);<span class="code-keyword">var</span> gn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.track,n=t.cue,r=e.currentTime();<span class="code-keyword">return</span> t.selectable=!<span class="code-number">0</span>,t.multiSelectable=!<span class="code-number">1</span>,t.label=n.text,t.selected=n.startTime&lt;=r&amp;&amp;r&lt;n.endTime,(t=a.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).track=i,t.cue=n,t}<span class="code-keyword">return</span> mt(e,a),e.prototype.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.prototype.handleClick.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.player_.currentTime(<span class="code-keyword">this</span>.cue.startTime)},e}(jt);pt.registerComponent(<span class="code-string">"ChaptersTrackMenuItem"</span>,gn);k=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=r.call(<span class="code-keyword">this</span>,e,t,i)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> n.selectCurrentItem_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.items.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.selected(n.track_.activeCues[<span class="code-number">0</span>]===e.cue)})},n}mt(e,r);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-chapters-button "</span>+r.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-chapters-button "</span>+r.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e&amp;&amp;e.track&amp;&amp;<span class="code-string">"chapters"</span>!==e.track.kind||((e=<span class="code-keyword">this</span>.findChaptersTrack())!==<span class="code-keyword">this</span>.track_?(<span class="code-keyword">this</span>.setTrack(e),r.prototype.update.call(<span class="code-keyword">this</span>)):(!<span class="code-keyword">this</span>.items||e&amp;&amp;e.cues&amp;&amp;e.cues.length!==<span class="code-keyword">this</span>.items.length)&amp;&amp;r.prototype.update.call(<span class="code-keyword">this</span>))},t.setTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">this</span>.track_!==e&amp;&amp;(<span class="code-keyword">this</span>.updateHandler_||(<span class="code-keyword">this</span>.updateHandler_=<span class="code-keyword">this</span>.update.bind(<span class="code-keyword">this</span>)),<span class="code-keyword">this</span>.track_&amp;&amp;((t=<span class="code-keyword">this</span>.player_.remoteTextTrackEls().getTrackElementByTrack_(<span class="code-keyword">this</span>.track_))&amp;&amp;t.removeEventListener(<span class="code-string">"load"</span>,<span class="code-keyword">this</span>.updateHandler_),<span class="code-keyword">this</span>.track_.removeEventListener(<span class="code-string">"cuechange"</span>,<span class="code-keyword">this</span>.selectCurrentItem_),<span class="code-keyword">this</span>.track_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.track_=e,<span class="code-keyword">this</span>.track_&amp;&amp;(<span class="code-keyword">this</span>.track_.mode=<span class="code-string">"hidden"</span>,(e=<span class="code-keyword">this</span>.player_.remoteTextTrackEls().getTrackElementByTrack_(<span class="code-keyword">this</span>.track_))&amp;&amp;e.addEventListener(<span class="code-string">"load"</span>,<span class="code-keyword">this</span>.updateHandler_),<span class="code-keyword">this</span>.track_.addEventListener(<span class="code-string">"cuechange"</span>,<span class="code-keyword">this</span>.selectCurrentItem_)))},t.findChaptersTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.textTracks()||[],t=e.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=t;t--){<span class="code-keyword">var</span> i=e[t];<span class="code-keyword">if</span>(i.kind===<span class="code-keyword">this</span>.kind_)<span class="code-keyword">return</span> i}},t.getMenuCaption=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.track_&amp;&amp;<span class="code-keyword">this</span>.track_.label?<span class="code-keyword">this</span>.track_.label:<span class="code-keyword">this</span>.localize(ut(<span class="code-keyword">this</span>.kind_))},t.createMenu=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options_.title=<span class="code-keyword">this</span>.getMenuCaption(),r.prototype.createMenu.call(<span class="code-keyword">this</span>)},t.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.track_)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.track_.cues;<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>,n=t.length;i&lt;n;i++){<span class="code-keyword">var</span> r=t[i],r=<span class="code-keyword">new</span> gn(<span class="code-keyword">this</span>.player_,{<span class="code-attr">track</span>:<span class="code-keyword">this</span>.track_,<span class="code-attr">cue</span>:r});e.push(r)}<span class="code-keyword">return</span> e},e}(j);k.prototype.kind_=<span class="code-string">"chapters"</span>,k.prototype.controlText_=<span class="code-string">"Chapters"</span>,pt.registerComponent(<span class="code-string">"ChaptersButton"</span>,k);li=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> i=a.call(<span class="code-keyword">this</span>,e,t,i)||<span class="code-keyword">this</span>,n=e.textTracks(),r=Ve(ft(i),i.handleTracksChange);<span class="code-keyword">return</span> n.addEventListener(<span class="code-string">"change"</span>,r),i.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.removeEventListener(<span class="code-string">"change"</span>,r)}),i}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.handleTracksChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player().textTracks(),i=!<span class="code-number">1</span>,n=<span class="code-number">0</span>,r=t.length;n&lt;r;n++){<span class="code-keyword">var</span> a=t[n];<span class="code-keyword">if</span>(a.kind!==<span class="code-keyword">this</span>.kind_&amp;&amp;<span class="code-string">"showing"</span>===a.mode){i=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}}i?<span class="code-keyword">this</span>.disable():<span class="code-keyword">this</span>.enable()},t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-descriptions-button "</span>+a.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-descriptions-button "</span>+a.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},e}(j);li.prototype.kind_=<span class="code-string">"descriptions"</span>,li.prototype.controlText_=<span class="code-string">"Descriptions"</span>,pt.registerComponent(<span class="code-string">"DescriptionsButton"</span>,li);f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> n.call(<span class="code-keyword">this</span>,e,t,i)||<span class="code-keyword">this</span>}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-subtitles-button "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-subtitles-button "</span>+n.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},e}(j);f.prototype.kind_=<span class="code-string">"subtitles"</span>,f.prototype.controlText_=<span class="code-string">"Subtitles"</span>,pt.registerComponent(<span class="code-string">"SubtitlesButton"</span>,f);<span class="code-keyword">var</span> yn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.track={<span class="code-attr">player</span>:e,<span class="code-attr">kind</span>:t.kind,<span class="code-attr">label</span>:t.kind+<span class="code-string">" settings"</span>,<span class="code-attr">selectable</span>:!<span class="code-number">1</span>,<span class="code-attr">default</span>:!<span class="code-number">1</span>,<span class="code-attr">mode</span>:<span class="code-string">"disabled"</span>},t.selectable=!<span class="code-number">1</span>,t.name=<span class="code-string">"CaptionSettingsMenuItem"</span>,(e=i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).addClass(<span class="code-string">"vjs-texttrack-settings"</span>),e.controlText(<span class="code-string">", opens "</span>+t.kind+<span class="code-string">" settings dialog"</span>),e}<span class="code-keyword">return</span> mt(e,i),e.prototype.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player().getChild(<span class="code-string">"textTrackSettings"</span>).open()},e}(fn);pt.registerComponent(<span class="code-string">"CaptionSettingsMenuItem"</span>,yn);ui=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> n.call(<span class="code-keyword">this</span>,e,t,i)||<span class="code-keyword">this</span>}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-captions-button "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-captions-button "</span>+n.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},t.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.player().tech_&amp;&amp;<span class="code-keyword">this</span>.player().tech_.featuresNativeTextTracks||!<span class="code-keyword">this</span>.player().getChild(<span class="code-string">"textTrackSettings"</span>)||(e.push(<span class="code-keyword">new</span> yn(<span class="code-keyword">this</span>.player_,{<span class="code-attr">kind</span>:<span class="code-keyword">this</span>.kind_})),<span class="code-keyword">this</span>.hideThreshold_+=<span class="code-number">1</span>),n.prototype.createItems.call(<span class="code-keyword">this</span>,e)},e}(j);ui.prototype.kind_=<span class="code-string">"captions"</span>,ui.prototype.controlText_=<span class="code-string">"Captions"</span>,pt.registerComponent(<span class="code-string">"CaptionsButton"</span>,ui);<span class="code-keyword">var</span> vn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}<span class="code-keyword">return</span> mt(e,n),e.prototype.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{t=n.prototype.createEl.call(<span class="code-keyword">this</span>,e,t,i),i=t.querySelector(<span class="code-string">".vjs-menu-item-text"</span>);<span class="code-keyword">return</span><span class="code-string">"captions"</span>===<span class="code-keyword">this</span>.options_.track.kind&amp;&amp;(i.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-icon-placeholder"</span>},{<span class="code-string">"aria-hidden"</span>:!<span class="code-number">0</span>})),i.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>,<span class="code-attr">textContent</span>:<span class="code-string">" "</span>+<span class="code-keyword">this</span>.localize(<span class="code-string">"Captions"</span>)}))),t},e}(fn);pt.registerComponent(<span class="code-string">"SubsCapsMenuItem"</span>,vn);Xt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(t=i.call(<span class="code-keyword">this</span>,e,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t)||<span class="code-keyword">this</span>).label_=<span class="code-string">"subtitles"</span>,<span class="code-number">-1</span>&lt;[<span class="code-string">"en"</span>,<span class="code-string">"en-us"</span>,<span class="code-string">"en-ca"</span>,<span class="code-string">"fr-ca"</span>].indexOf(t.player_.language_)&amp;&amp;(t.label_=<span class="code-string">"captions"</span>),t.menuButton_.controlText(ut(t.label_)),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-subs-caps-button "</span>+i.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-subs-caps-button "</span>+i.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},t.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=[];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.player().tech_&amp;&amp;<span class="code-keyword">this</span>.player().tech_.featuresNativeTextTracks||!<span class="code-keyword">this</span>.player().getChild(<span class="code-string">"textTrackSettings"</span>)||(e.push(<span class="code-keyword">new</span> yn(<span class="code-keyword">this</span>.player_,{<span class="code-attr">kind</span>:<span class="code-keyword">this</span>.label_})),<span class="code-keyword">this</span>.hideThreshold_+=<span class="code-number">1</span>),e=i.prototype.createItems.call(<span class="code-keyword">this</span>,e,vn)},e}(j);Xt.prototype.kinds_=[<span class="code-string">"captions"</span>,<span class="code-string">"subtitles"</span>],Xt.prototype.controlText_=<span class="code-string">"Subtitles"</span>,pt.registerComponent(<span class="code-string">"SubsCapsButton"</span>,Xt);<span class="code-keyword">var</span> _n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n,i=t.track,r=e.audioTracks();t.label=i.label||i.language||<span class="code-string">"Unknown"</span>,t.selected=i.enabled,(n=s.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).track=i,n.addClass(<span class="code-string">"vjs-"</span>+i.kind+<span class="code-string">"-menu-item"</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];n.handleTracksChange.apply(ft(n),t)}<span class="code-keyword">return</span> r.addEventListener(<span class="code-string">"change"</span>,a),n.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.removeEventListener(<span class="code-string">"change"</span>,a)}),n}mt(e,s);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{t=s.prototype.createEl.call(<span class="code-keyword">this</span>,e,t,i),i=t.querySelector(<span class="code-string">".vjs-menu-item-text"</span>);<span class="code-keyword">return</span><span class="code-string">"main-desc"</span>===<span class="code-keyword">this</span>.options_.track.kind&amp;&amp;(i.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-icon-placeholder"</span>},{<span class="code-string">"aria-hidden"</span>:!<span class="code-number">0</span>})),i.appendChild($(<span class="code-string">"span"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>,<span class="code-attr">textContent</span>:<span class="code-string">" "</span>+<span class="code-keyword">this</span>.localize(<span class="code-string">"Descriptions"</span>)}))),t},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(s.prototype.handleClick.call(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.track.enabled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.player_.tech_.featuresNativeAudioTracks)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.audioTracks(),i=<span class="code-number">0</span>;i&lt;t.length;i++){<span class="code-keyword">var</span> n=t[i];n!==<span class="code-keyword">this</span>.track&amp;&amp;(n.enabled=n===<span class="code-keyword">this</span>.track)}},t.handleTracksChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.selected(<span class="code-keyword">this</span>.track.enabled)},e}(jt);pt.registerComponent(<span class="code-string">"AudioTrackMenuItem"</span>,_n);I=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).tracks=e.audioTracks(),i.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-audio-button "</span>+i.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-audio-button "</span>+i.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},t.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=[]),<span class="code-keyword">this</span>.hideThreshold_=<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player_.audioTracks(),i=<span class="code-number">0</span>;i&lt;t.length;i++){<span class="code-keyword">var</span> n=t[i];e.push(<span class="code-keyword">new</span> _n(<span class="code-keyword">this</span>.player_,{<span class="code-attr">track</span>:n,<span class="code-attr">selectable</span>:!<span class="code-number">0</span>,<span class="code-attr">multiSelectable</span>:!<span class="code-number">1</span>}))}<span class="code-keyword">return</span> e},e}(Ft);I.prototype.controlText_=<span class="code-string">"Audio Track"</span>,pt.registerComponent(<span class="code-string">"AudioTrackButton"</span>,I);<span class="code-keyword">var</span> bn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=t.rate,r=<span class="code-built_in">parseFloat</span>(n,<span class="code-number">10</span>);<span class="code-keyword">return</span> t.label=n,t.selected=r===e.playbackRate(),t.selectable=!<span class="code-number">0</span>,t.multiSelectable=!<span class="code-number">1</span>,(i=a.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).label=n,i.rate=r,i.on(e,<span class="code-string">"ratechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.update(e)}),i}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.prototype.handleClick.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.player().playbackRate(<span class="code-keyword">this</span>.rate)},t.update=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.selected(<span class="code-keyword">this</span>.player().playbackRate()===<span class="code-keyword">this</span>.rate)},e}(jt);bn.prototype.contentElType=<span class="code-string">"button"</span>,pt.registerComponent(<span class="code-string">"PlaybackRateMenuItem"</span>,bn);C=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.menuButton_.el_.setAttribute(<span class="code-string">"aria-describedby"</span>,i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(e,<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateVisibility(e)}),i.on(e,<span class="code-string">"ratechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.updateLabel(e)}),i.on(e,<span class="code-string">"playbackrateschange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handlePlaybackRateschange(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.prototype.createEl.call(<span class="code-keyword">this</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.labelElId_=<span class="code-string">"vjs-playback-rate-value-label-"</span>+<span class="code-keyword">this</span>.id_,<span class="code-keyword">this</span>.labelEl_=$(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-playback-rate-value"</span>,<span class="code-attr">id</span>:<span class="code-keyword">this</span>.labelElId_,<span class="code-attr">textContent</span>:<span class="code-string">"1x"</span>}),e.appendChild(<span class="code-keyword">this</span>.labelEl_),e},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.labelEl_=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-playback-rate "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.buildWrapperCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-playback-rate "</span>+n.prototype.buildWrapperCSSClass.call(<span class="code-keyword">this</span>)},t.createItems=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.playbackRates(),t=[],i=e.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=i;i--)t.push(<span class="code-keyword">new</span> bn(<span class="code-keyword">this</span>.player(),{<span class="code-attr">rate</span>:e[i]+<span class="code-string">"x"</span>}));<span class="code-keyword">return</span> t},t.updateARIAAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.el().setAttribute(<span class="code-string">"aria-valuenow"</span>,<span class="code-keyword">this</span>.player().playbackRate())},t.handleClick=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.player().playbackRate(),i=<span class="code-keyword">this</span>.playbackRates(),t=(i.indexOf(t)+<span class="code-number">1</span>)%i.length;<span class="code-keyword">this</span>.player().playbackRate(i[t])},t.handlePlaybackRateschange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.update()},t.playbackRates=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player();<span class="code-keyword">return</span> e.playbackRates&amp;&amp;e.playbackRates()||[]},t.playbackRateSupported=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.player().tech_&amp;&amp;<span class="code-keyword">this</span>.player().tech_.featuresPlaybackRate&amp;&amp;<span class="code-keyword">this</span>.playbackRates()&amp;&amp;<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.playbackRates().length},t.updateVisibility=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.playbackRateSupported()?<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-hidden"</span>):<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-hidden"</span>)},t.updateLabel=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.playbackRateSupported()&amp;&amp;(<span class="code-keyword">this</span>.labelEl_.textContent=<span class="code-keyword">this</span>.player().playbackRate()+<span class="code-string">"x"</span>)},e}(Bt);C.prototype.controlText_=<span class="code-string">"Playback Rate"</span>,pt.registerComponent(<span class="code-string">"PlaybackRateMenuButton"</span>,C);k=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-spacer "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">"div"</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={}),(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).className||(t.className=<span class="code-keyword">this</span>.buildCSSClass()),n.prototype.createEl.call(<span class="code-keyword">this</span>,e,t,i)},e}(pt);pt.registerComponent(<span class="code-string">"Spacer"</span>,k),pt.registerComponent(<span class="code-string">"CustomControlSpacer"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}mt(t,e);<span class="code-keyword">var</span> i=t.prototype;<span class="code-keyword">return</span> i.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-custom-control-spacer "</span>+e.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},i.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-keyword">this</span>.buildCSSClass(),<span class="code-attr">textContent</span>:<span class="code-string">""</span>})},t}(k));li=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)||<span class="code-keyword">this</span>}<span class="code-keyword">return</span> mt(t,e),t.prototype.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-bar"</span>,<span class="code-attr">dir</span>:<span class="code-string">"ltr"</span>})},t}(pt);li.prototype.options_={<span class="code-attr">children</span>:[<span class="code-string">"playToggle"</span>,<span class="code-string">"volumePanel"</span>,<span class="code-string">"currentTimeDisplay"</span>,<span class="code-string">"timeDivider"</span>,<span class="code-string">"durationDisplay"</span>,<span class="code-string">"progressControl"</span>,<span class="code-string">"liveDisplay"</span>,<span class="code-string">"seekToLive"</span>,<span class="code-string">"remainingTimeDisplay"</span>,<span class="code-string">"customControlSpacer"</span>,<span class="code-string">"playbackRateMenuButton"</span>,<span class="code-string">"chaptersButton"</span>,<span class="code-string">"descriptionsButton"</span>,<span class="code-string">"subsCapsButton"</span>,<span class="code-string">"audioTrackButton"</span>,<span class="code-string">"fullscreenToggle"</span>]},<span class="code-string">"exitPictureInPicture"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;li.prototype.options_.children.splice(li.prototype.options_.children.length<span class="code-number">-1</span>,<span class="code-number">0</span>,<span class="code-string">"pictureInPictureToggle"</span>),pt.registerComponent(<span class="code-string">"ControlBar"</span>,li);f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.on(e,<span class="code-string">"error"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.open(e)}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"vjs-error-display "</span>+n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)},t.content=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player().error();<span class="code-keyword">return</span> e?<span class="code-keyword">this</span>.localize(e.message):<span class="code-string">""</span>},e}(At);f.prototype.options_=g({},At.prototype.options_,{<span class="code-attr">pauseOnOpen</span>:!<span class="code-number">1</span>,<span class="code-attr">fillAlways</span>:!<span class="code-number">0</span>,<span class="code-attr">temporary</span>:!<span class="code-number">1</span>,<span class="code-attr">uncloseable</span>:!<span class="code-number">0</span>}),pt.registerComponent(<span class="code-string">"ErrorDisplay"</span>,f);<span class="code-keyword">var</span> Tn=<span class="code-string">"vjs-text-track-settings"</span>,ui=[<span class="code-string">"#000"</span>,<span class="code-string">"Black"</span>],j=[<span class="code-string">"#00F"</span>,<span class="code-string">"Blue"</span>],Xt=[<span class="code-string">"#0FF"</span>,<span class="code-string">"Cyan"</span>],Ft=[<span class="code-string">"#0F0"</span>,<span class="code-string">"Green"</span>],I=[<span class="code-string">"#F0F"</span>,<span class="code-string">"Magenta"</span>],jt=[<span class="code-string">"#F00"</span>,<span class="code-string">"Red"</span>],Bt=[<span class="code-string">"#FFF"</span>,<span class="code-string">"White"</span>],C=[<span class="code-string">"#FF0"</span>,<span class="code-string">"Yellow"</span>],k=[<span class="code-string">"1"</span>,<span class="code-string">"Opaque"</span>],li=[<span class="code-string">"0.5"</span>,<span class="code-string">"Semi-Transparent"</span>],f=[<span class="code-string">"0"</span>,<span class="code-string">"Transparent"</span>],Sn={<span class="code-attr">backgroundColor</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-bg-color &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-background-color-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Color"</span>,<span class="code-attr">options</span>:[ui,Bt,jt,Ft,j,C,I,Xt]},<span class="code-attr">backgroundOpacity</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-bg-opacity &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-background-opacity-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Transparency"</span>,<span class="code-attr">options</span>:[k,li,f]},<span class="code-attr">color</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-fg-color &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-foreground-color-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Color"</span>,<span class="code-attr">options</span>:[Bt,ui,jt,Ft,j,C,I,Xt]},<span class="code-attr">edgeStyle</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-edge-style &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Text Edge Style"</span>,<span class="code-attr">options</span>:[[<span class="code-string">"none"</span>,<span class="code-string">"None"</span>],[<span class="code-string">"raised"</span>,<span class="code-string">"Raised"</span>],[<span class="code-string">"depressed"</span>,<span class="code-string">"Depressed"</span>],[<span class="code-string">"uniform"</span>,<span class="code-string">"Uniform"</span>],[<span class="code-string">"dropshadow"</span>,<span class="code-string">"Dropshadow"</span>]]},<span class="code-attr">fontFamily</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-font-family &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-font-family-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Font Family"</span>,<span class="code-attr">options</span>:[[<span class="code-string">"proportionalSansSerif"</span>,<span class="code-string">"Proportional Sans-Serif"</span>],[<span class="code-string">"monospaceSansSerif"</span>,<span class="code-string">"Monospace Sans-Serif"</span>],[<span class="code-string">"proportionalSerif"</span>,<span class="code-string">"Proportional Serif"</span>],[<span class="code-string">"monospaceSerif"</span>,<span class="code-string">"Monospace Serif"</span>],[<span class="code-string">"casual"</span>,<span class="code-string">"Casual"</span>],[<span class="code-string">"script"</span>,<span class="code-string">"Script"</span>],[<span class="code-string">"small-caps"</span>,<span class="code-string">"Small Caps"</span>]]},<span class="code-attr">fontPercent</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-font-percent &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-font-size-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Font Size"</span>,<span class="code-attr">options</span>:[[<span class="code-string">"0.50"</span>,<span class="code-string">"50%"</span>],[<span class="code-string">"0.75"</span>,<span class="code-string">"75%"</span>],[<span class="code-string">"1.00"</span>,<span class="code-string">"100%"</span>],[<span class="code-string">"1.25"</span>,<span class="code-string">"125%"</span>],[<span class="code-string">"1.50"</span>,<span class="code-string">"150%"</span>],[<span class="code-string">"1.75"</span>,<span class="code-string">"175%"</span>],[<span class="code-string">"2.00"</span>,<span class="code-string">"200%"</span>],[<span class="code-string">"3.00"</span>,<span class="code-string">"300%"</span>],[<span class="code-string">"4.00"</span>,<span class="code-string">"400%"</span>]],<span class="code-attr">default</span>:<span class="code-number">2</span>,<span class="code-attr">parser</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"1.00"</span>===e?<span class="code-literal">null</span>:<span class="code-built_in">Number</span>(e)}},<span class="code-attr">textOpacity</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-text-opacity &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-foreground-opacity-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Transparency"</span>,<span class="code-attr">options</span>:[k,li]},<span class="code-attr">windowColor</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-window-color &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-window-color-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Color"</span>},<span class="code-attr">windowOpacity</span>:{<span class="code-attr">selector</span>:<span class="code-string">".vjs-window-opacity &gt; select"</span>,<span class="code-attr">id</span>:<span class="code-string">"captions-window-opacity-%s"</span>,<span class="code-attr">label</span>:<span class="code-string">"Transparency"</span>,<span class="code-attr">options</span>:[f,li,k]}};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wn</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>((e=t?t(e):e)&amp;&amp;<span class="code-string">"none"</span>!==e)<span class="code-keyword">return</span> e}Sn.windowColor.options=Sn.backgroundColor.options,pt.registerComponent(<span class="code-string">"TextTrackSettings"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span> t.temporary=!<span class="code-number">1</span>,(i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>).updateDisplay=i.updateDisplay.bind(ft(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!<span class="code-number">0</span>,i.endDialog=$(<span class="code-string">"p"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-control-text"</span>,<span class="code-attr">textContent</span>:i.localize(<span class="code-string">"End of dialog window."</span>)}),i.el().appendChild(i.endDialog),i.setDefaults(),<span class="code-keyword">void</span> <span class="code-number">0</span>===t.persistTextTrackSettings&amp;&amp;(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(<span class="code-string">".vjs-done-button"</span>),<span class="code-string">"click"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.saveSettings(),i.close()}),i.on(i.$(<span class="code-string">".vjs-default-button"</span>),<span class="code-string">"click"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.setDefaults(),i.updateDisplay()}),_(Sn,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.on(i.$(e.selector),<span class="code-string">"change"</span>,i.updateDisplay)}),i.options_.persistTextTrackSettings&amp;&amp;i.restoreSettings(),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.endDialog=<span class="code-literal">null</span>,n.prototype.dispose.call(<span class="code-keyword">this</span>)},t.createElSelect_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-string">""</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-string">"label"</span>);<span class="code-keyword">var</span> e=Sn[e],r=e.id.replace(<span class="code-string">"%s"</span>,<span class="code-keyword">this</span>.id_),a=[t,r].join(<span class="code-string">" "</span>).trim();<span class="code-keyword">return</span>[<span class="code-string">"&lt;"</span>+i+<span class="code-string">' id="'</span>+r+<span class="code-string">'" class="'</span>+(<span class="code-string">"label"</span>===i?<span class="code-string">"vjs-label"</span>:<span class="code-string">""</span>)+<span class="code-string">'"&gt;'</span>,<span class="code-keyword">this</span>.localize(e.label),<span class="code-string">"&lt;/"</span>+i+<span class="code-string">"&gt;"</span>,<span class="code-string">'&lt;select aria-labelledby="'</span>+a+<span class="code-string">'"&gt;'</span>].concat(e.options.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r+<span class="code-string">"-"</span>+e[<span class="code-number">1</span>].replace(<span class="code-regexp">/\W+/g</span>,<span class="code-string">""</span>);<span class="code-keyword">return</span>[<span class="code-string">'&lt;option id="'</span>+t+<span class="code-string">'" value="'</span>+e[<span class="code-number">0</span>]+<span class="code-string">'" '</span>,<span class="code-string">'aria-labelledby="'</span>+a+<span class="code-string">" "</span>+t+<span class="code-string">'"&gt;'</span>,n.localize(e[<span class="code-number">1</span>]),<span class="code-string">"&lt;/option&gt;"</span>].join(<span class="code-string">""</span>)})).concat(<span class="code-string">"&lt;/select&gt;"</span>).join(<span class="code-string">""</span>)},t.createElFgColor_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"captions-text-legend-"</span>+<span class="code-keyword">this</span>.id_;<span class="code-keyword">return</span>[<span class="code-string">'&lt;fieldset class="vjs-fg-color vjs-track-setting"&gt;'</span>,<span class="code-string">'&lt;legend id="'</span>+e+<span class="code-string">'"&gt;'</span>,<span class="code-keyword">this</span>.localize(<span class="code-string">"Text"</span>),<span class="code-string">"&lt;/legend&gt;"</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"color"</span>,e),<span class="code-string">'&lt;span class="vjs-text-opacity vjs-opacity"&gt;'</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"textOpacity"</span>,e),<span class="code-string">"&lt;/span&gt;"</span>,<span class="code-string">"&lt;/fieldset&gt;"</span>].join(<span class="code-string">""</span>)},t.createElBgColor_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"captions-background-"</span>+<span class="code-keyword">this</span>.id_;<span class="code-keyword">return</span>[<span class="code-string">'&lt;fieldset class="vjs-bg-color vjs-track-setting"&gt;'</span>,<span class="code-string">'&lt;legend id="'</span>+e+<span class="code-string">'"&gt;'</span>,<span class="code-keyword">this</span>.localize(<span class="code-string">"Background"</span>),<span class="code-string">"&lt;/legend&gt;"</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"backgroundColor"</span>,e),<span class="code-string">'&lt;span class="vjs-bg-opacity vjs-opacity"&gt;'</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"backgroundOpacity"</span>,e),<span class="code-string">"&lt;/span&gt;"</span>,<span class="code-string">"&lt;/fieldset&gt;"</span>].join(<span class="code-string">""</span>)},t.createElWinColor_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"captions-window-"</span>+<span class="code-keyword">this</span>.id_;<span class="code-keyword">return</span>[<span class="code-string">'&lt;fieldset class="vjs-window-color vjs-track-setting"&gt;'</span>,<span class="code-string">'&lt;legend id="'</span>+e+<span class="code-string">'"&gt;'</span>,<span class="code-keyword">this</span>.localize(<span class="code-string">"Window"</span>),<span class="code-string">"&lt;/legend&gt;"</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"windowColor"</span>,e),<span class="code-string">'&lt;span class="vjs-window-opacity vjs-opacity"&gt;'</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"windowOpacity"</span>,e),<span class="code-string">"&lt;/span&gt;"</span>,<span class="code-string">"&lt;/fieldset&gt;"</span>].join(<span class="code-string">""</span>)},t.createElColors_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> $(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-track-settings-colors"</span>,<span class="code-attr">innerHTML</span>:[<span class="code-keyword">this</span>.createElFgColor_(),<span class="code-keyword">this</span>.createElBgColor_(),<span class="code-keyword">this</span>.createElWinColor_()].join(<span class="code-string">""</span>)})},t.createElFont_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> $(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-track-settings-font"</span>,<span class="code-attr">innerHTML</span>:[<span class="code-string">'&lt;fieldset class="vjs-font-percent vjs-track-setting"&gt;'</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"fontPercent"</span>,<span class="code-string">""</span>,<span class="code-string">"legend"</span>),<span class="code-string">"&lt;/fieldset&gt;"</span>,<span class="code-string">'&lt;fieldset class="vjs-edge-style vjs-track-setting"&gt;'</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"edgeStyle"</span>,<span class="code-string">""</span>,<span class="code-string">"legend"</span>),<span class="code-string">"&lt;/fieldset&gt;"</span>,<span class="code-string">'&lt;fieldset class="vjs-font-family vjs-track-setting"&gt;'</span>,<span class="code-keyword">this</span>.createElSelect_(<span class="code-string">"fontFamily"</span>,<span class="code-string">""</span>,<span class="code-string">"legend"</span>),<span class="code-string">"&lt;/fieldset&gt;"</span>].join(<span class="code-string">""</span>)})},t.createElControls_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.localize(<span class="code-string">"restore all settings to the default values"</span>);<span class="code-keyword">return</span> $(<span class="code-string">"div"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-track-settings-controls"</span>,<span class="code-attr">innerHTML</span>:[<span class="code-string">'&lt;button type="button" class="vjs-default-button" title="'</span>+e+<span class="code-string">'"&gt;'</span>,<span class="code-keyword">this</span>.localize(<span class="code-string">"Reset"</span>),<span class="code-string">'&lt;span class="vjs-control-text"&gt; '</span>+e+<span class="code-string">"&lt;/span&gt;"</span>,<span class="code-string">"&lt;/button&gt;"</span>,<span class="code-string">'&lt;button type="button" class="vjs-done-button"&gt;'</span>+<span class="code-keyword">this</span>.localize(<span class="code-string">"Done"</span>)+<span class="code-string">"&lt;/button&gt;"</span>].join(<span class="code-string">""</span>)})},t.content=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>[<span class="code-keyword">this</span>.createElColors_(),<span class="code-keyword">this</span>.createElFont_(),<span class="code-keyword">this</span>.createElControls_()]},t.label=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.localize(<span class="code-string">"Caption Settings Dialog"</span>)},t.description=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.localize(<span class="code-string">"Beginning of dialog window. Escape will cancel and close the window."</span>)},t.buildCSSClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.prototype.buildCSSClass.call(<span class="code-keyword">this</span>)+<span class="code-string">" vjs-text-track-settings"</span>},t.getValues=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i,n,e,r=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,t=(n=r.$(t.selector),t=t.parser,wn(n.options[n.options.selectedIndex].value,t));<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;(e[i]=t),e},<span class="code-keyword">void</span> <span class="code-number">0</span>===(e={})&amp;&amp;(e=<span class="code-number">0</span>),v(i=Sn).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> n(e,i[t],t)},e)},t.setValues=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;_(Sn,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(t)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;e.options.length;n++)<span class="code-keyword">if</span>(wn(e.options[n].value,i)===t){e.selectedIndex=n;<span class="code-keyword">break</span>}}(n.$(e.selector),i[t],e.parser)})},t.setDefaults=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;_(Sn,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.hasOwnProperty(<span class="code-string">"default"</span>)?e.default:<span class="code-number">0</span>;i.$(e.selector).selectedIndex=t})},t.restoreSettings=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">try</span>{e=<span class="code-built_in">JSON</span>.parse(<span class="code-built_in">window</span>.localStorage.getItem(Tn))}<span class="code-keyword">catch</span>(e){h.warn(e)}e&amp;&amp;<span class="code-keyword">this</span>.setValues(e)},t.saveSettings=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.options_.persistTextTrackSettings){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getValues();<span class="code-keyword">try</span>{<span class="code-built_in">Object</span>.keys(e).length?<span class="code-built_in">window</span>.localStorage.setItem(Tn,<span class="code-built_in">JSON</span>.stringify(e)):<span class="code-built_in">window</span>.localStorage.removeItem(Tn)}<span class="code-keyword">catch</span>(e){h.warn(e)}}},t.updateDisplay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.getChild(<span class="code-string">"textTrackDisplay"</span>);e&amp;&amp;e.updateDisplay()},t.conditionalBlur_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.previouslyActiveEl_=<span class="code-literal">null</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.controlBar,t=e&amp;&amp;e.subsCapsButton,e=e&amp;&amp;e.captionsButton;t?t.focus():e&amp;&amp;e.focus()},e}(At)),pt.registerComponent(<span class="code-string">"ResizeManager"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=t.ResizeObserver||<span class="code-built_in">window</span>.ResizeObserver,r=lt({<span class="code-attr">createEl</span>:!(n=<span class="code-literal">null</span>===t.ResizeObserver?!<span class="code-number">1</span>:n),<span class="code-attr">reportTouchActivity</span>:!<span class="code-number">1</span>},t);<span class="code-keyword">return</span>(i=a.call(<span class="code-keyword">this</span>,e,r)||<span class="code-keyword">this</span>).ResizeObserver=t.ResizeObserver||<span class="code-built_in">window</span>.ResizeObserver,i.loadListener_=<span class="code-literal">null</span>,i.resizeObserver_=<span class="code-literal">null</span>,i.debouncedHandler_=Ge(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.resizeHandler()},<span class="code-number">100</span>,!<span class="code-number">1</span>,ft(i)),n?(i.resizeObserver_=<span class="code-keyword">new</span> i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(e.el())):(i.loadListener_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t;i.el_&amp;&amp;i.el_.contentWindow&amp;&amp;(e=i.debouncedHandler_,t=i.unloadListener_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Fe(<span class="code-keyword">this</span>,<span class="code-string">"resize"</span>,e),Fe(<span class="code-keyword">this</span>,<span class="code-string">"unload"</span>,t),t=<span class="code-literal">null</span>},Be(i.el_.contentWindow,<span class="code-string">"unload"</span>,t),Be(i.el_.contentWindow,<span class="code-string">"resize"</span>,e))},i.one(<span class="code-string">"load"</span>,i.loadListener_)),i}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> a.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"iframe"</span>,{<span class="code-attr">className</span>:<span class="code-string">"vjs-resize-manager"</span>,<span class="code-attr">tabIndex</span>:<span class="code-number">-1</span>,<span class="code-attr">title</span>:<span class="code-keyword">this</span>.localize(<span class="code-string">"No content"</span>)},{<span class="code-string">"aria-hidden"</span>:<span class="code-string">"true"</span>})},t.resizeHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_&amp;&amp;<span class="code-keyword">this</span>.player_.trigger&amp;&amp;<span class="code-keyword">this</span>.player_.trigger(<span class="code-string">"playerresize"</span>)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.debouncedHandler_&amp;&amp;<span class="code-keyword">this</span>.debouncedHandler_.cancel(),<span class="code-keyword">this</span>.resizeObserver_&amp;&amp;(<span class="code-keyword">this</span>.player_.el()&amp;&amp;<span class="code-keyword">this</span>.resizeObserver_.unobserve(<span class="code-keyword">this</span>.player_.el()),<span class="code-keyword">this</span>.resizeObserver_.disconnect()),<span class="code-keyword">this</span>.loadListener_&amp;&amp;<span class="code-keyword">this</span>.off(<span class="code-string">"load"</span>,<span class="code-keyword">this</span>.loadListener_),<span class="code-keyword">this</span>.el_&amp;&amp;<span class="code-keyword">this</span>.el_.contentWindow&amp;&amp;<span class="code-keyword">this</span>.unloadListener_&amp;&amp;<span class="code-keyword">this</span>.unloadListener_.call(<span class="code-keyword">this</span>.el_.contentWindow),<span class="code-keyword">this</span>.ResizeObserver=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.resizeObserver=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.debouncedHandler_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.loadListener_=<span class="code-literal">null</span>,a.prototype.dispose.call(<span class="code-keyword">this</span>)},e}(pt));<span class="code-keyword">var</span> En={<span class="code-attr">trackingThreshold</span>:<span class="code-number">20</span>,<span class="code-attr">liveTolerance</span>:<span class="code-number">15</span>};pt.registerComponent(<span class="code-string">"LiveTracker"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> t=lt(En,t,{<span class="code-attr">createEl</span>:!<span class="code-number">1</span>}),i=n.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> i.handleVisibilityChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleVisibilityChange(e)},i.trackLiveHandler_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.trackLive_()},i.handlePlay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handlePlay(e)},i.handleFirstTimeupdate_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleFirstTimeupdate(e)},i.handleSeeked_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleSeeked(e)},i.seekToLiveEdge_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.seekToLiveEdge(e)},i.reset_(),i.on(i.player_,<span class="code-string">"durationchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleDurationchange(e)}),i.on(i.player_,<span class="code-string">"canplay"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.toggleTracking()}),N&amp;&amp;<span class="code-string">"hidden"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-string">"visibilityState"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;i.on(<span class="code-built_in">document</span>,<span class="code-string">"visibilitychange"</span>,i.handleVisibilityChange_),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.handleVisibilityChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_.duration()===<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;(<span class="code-built_in">document</span>.hidden?<span class="code-keyword">this</span>.stopTracking():<span class="code-keyword">this</span>.startTracking())},t.trackLive_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>.player_.seekable();t&amp;&amp;t.length&amp;&amp;(e=<span class="code-built_in">Number</span>(<span class="code-built_in">window</span>.performance.now().toFixed(<span class="code-number">4</span>)),t=<span class="code-number">-1</span>===<span class="code-keyword">this</span>.lastTime_?<span class="code-number">0</span>:(e-<span class="code-keyword">this</span>.lastTime_)/<span class="code-number">1e3</span>,<span class="code-keyword">this</span>.lastTime_=e,<span class="code-keyword">this</span>.pastSeekEnd_=<span class="code-keyword">this</span>.pastSeekEnd()+t,e=<span class="code-keyword">this</span>.liveCurrentTime(),t=<span class="code-keyword">this</span>.player_.currentTime(),t=<span class="code-keyword">this</span>.player_.paused()||<span class="code-keyword">this</span>.seekedBehindLive_||<span class="code-built_in">Math</span>.abs(e-t)&gt;<span class="code-keyword">this</span>.options_.liveTolerance,(t=!<span class="code-keyword">this</span>.timeupdateSeen_||e===<span class="code-number">1</span>/<span class="code-number">0</span>?!<span class="code-number">1</span>:t)!==<span class="code-keyword">this</span>.behindLiveEdge_&amp;&amp;(<span class="code-keyword">this</span>.behindLiveEdge_=t,<span class="code-keyword">this</span>.trigger(<span class="code-string">"liveedgechange"</span>)))},t.handleDurationchange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.toggleTracking()},t.toggleTracking=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.player_.duration()===<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>.liveWindow()&gt;=<span class="code-keyword">this</span>.options_.trackingThreshold?(<span class="code-keyword">this</span>.player_.options_.liveui&amp;&amp;<span class="code-keyword">this</span>.player_.addClass(<span class="code-string">"vjs-liveui"</span>),<span class="code-keyword">this</span>.startTracking()):(<span class="code-keyword">this</span>.player_.removeClass(<span class="code-string">"vjs-liveui"</span>),<span class="code-keyword">this</span>.stopTracking())},t.startTracking=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isTracking()||(<span class="code-keyword">this</span>.timeupdateSeen_||(<span class="code-keyword">this</span>.timeupdateSeen_=<span class="code-keyword">this</span>.player_.hasStarted()),<span class="code-keyword">this</span>.trackingInterval_=<span class="code-keyword">this</span>.setInterval(<span class="code-keyword">this</span>.trackLiveHandler_,<span class="code-number">30</span>),<span class="code-keyword">this</span>.trackLive_(),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,[<span class="code-string">"play"</span>,<span class="code-string">"pause"</span>],<span class="code-keyword">this</span>.trackLiveHandler_),<span class="code-keyword">this</span>.timeupdateSeen_?<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,<span class="code-string">"seeked"</span>,<span class="code-keyword">this</span>.handleSeeked_):(<span class="code-keyword">this</span>.one(<span class="code-keyword">this</span>.player_,<span class="code-string">"play"</span>,<span class="code-keyword">this</span>.handlePlay_),<span class="code-keyword">this</span>.one(<span class="code-keyword">this</span>.player_,<span class="code-string">"timeupdate"</span>,<span class="code-keyword">this</span>.handleFirstTimeupdate_)))},t.handleFirstTimeupdate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.timeupdateSeen_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.player_,<span class="code-string">"seeked"</span>,<span class="code-keyword">this</span>.handleSeeked_)},t.handleSeeked=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Math</span>.abs(<span class="code-keyword">this</span>.liveCurrentTime()-<span class="code-keyword">this</span>.player_.currentTime());<span class="code-keyword">this</span>.seekedBehindLive_=<span class="code-keyword">this</span>.nextSeekedFromUser_&amp;&amp;<span class="code-number">2</span>&lt;e,<span class="code-keyword">this</span>.nextSeekedFromUser_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.trackLive_()},t.handlePlay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.one(<span class="code-keyword">this</span>.player_,<span class="code-string">"timeupdate"</span>,<span class="code-keyword">this</span>.seekToLiveEdge_)},t.reset_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.lastTime_=<span class="code-number">-1</span>,<span class="code-keyword">this</span>.pastSeekEnd_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.lastSeekEnd_=<span class="code-number">-1</span>,<span class="code-keyword">this</span>.behindLiveEdge_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.timeupdateSeen_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.seekedBehindLive_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.nextSeekedFromUser_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.clearInterval(<span class="code-keyword">this</span>.trackingInterval_),<span class="code-keyword">this</span>.trackingInterval_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,[<span class="code-string">"play"</span>,<span class="code-string">"pause"</span>],<span class="code-keyword">this</span>.trackLiveHandler_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,<span class="code-string">"seeked"</span>,<span class="code-keyword">this</span>.handleSeeked_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,<span class="code-string">"play"</span>,<span class="code-keyword">this</span>.handlePlay_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,<span class="code-string">"timeupdate"</span>,<span class="code-keyword">this</span>.handleFirstTimeupdate_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.player_,<span class="code-string">"timeupdate"</span>,<span class="code-keyword">this</span>.seekToLiveEdge_)},t.nextSeekedFromUser=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.nextSeekedFromUser_=!<span class="code-number">0</span>},t.stopTracking=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isTracking()&amp;&amp;(<span class="code-keyword">this</span>.reset_(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"liveedgechange"</span>))},t.seekableEnd=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.seekable(),t=[],i=e?e.length:<span class="code-number">0</span>;i--;)t.push(e.end(i));<span class="code-keyword">return</span> t.length?t.sort()[t.length<span class="code-number">-1</span>]:<span class="code-number">1</span>/<span class="code-number">0</span>},t.seekableStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.player_.seekable(),t=[],i=e?e.length:<span class="code-number">0</span>;i--;)t.push(e.start(i));<span class="code-keyword">return</span> t.length?t.sort()[<span class="code-number">0</span>]:<span class="code-number">0</span>},t.liveWindow=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.liveCurrentTime();<span class="code-keyword">return</span> e===<span class="code-number">1</span>/<span class="code-number">0</span>?<span class="code-number">0</span>:e-<span class="code-keyword">this</span>.seekableStart()},t.isLive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isTracking()},t.atLiveEdge=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-keyword">this</span>.behindLiveEdge()},t.liveCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pastSeekEnd()+<span class="code-keyword">this</span>.seekableEnd()},t.pastSeekEnd=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.seekableEnd();<span class="code-keyword">return</span><span class="code-number">-1</span>!==<span class="code-keyword">this</span>.lastSeekEnd_&amp;&amp;e!==<span class="code-keyword">this</span>.lastSeekEnd_&amp;&amp;(<span class="code-keyword">this</span>.pastSeekEnd_=<span class="code-number">0</span>),<span class="code-keyword">this</span>.lastSeekEnd_=e,<span class="code-keyword">this</span>.pastSeekEnd_},t.behindLiveEdge=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.behindLiveEdge_},t.isTracking=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.trackingInterval_},t.seekToLiveEdge=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.seekedBehindLive_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.atLiveEdge()||(<span class="code-keyword">this</span>.nextSeekedFromUser_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.player_.currentTime(<span class="code-keyword">this</span>.liveCurrentTime()))},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.off(<span class="code-built_in">document</span>,<span class="code-string">"visibilitychange"</span>,<span class="code-keyword">this</span>.handleVisibilityChange_),<span class="code-keyword">this</span>.stopTracking(),n.prototype.dispose.call(<span class="code-keyword">this</span>)},e}(pt));<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kn</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>((n=e.el()).hasAttribute(<span class="code-string">"src"</span>))<span class="code-keyword">return</span> e.triggerSourceset(n.src),<span class="code-number">1</span>;<span class="code-keyword">var</span> t=e.$$(<span class="code-string">"source"</span>),i=[],n=<span class="code-string">""</span>;<span class="code-keyword">if</span>(t.length){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;t.length;r++){<span class="code-keyword">var</span> a=t[r].src;a&amp;&amp;<span class="code-number">-1</span>===i.indexOf(a)&amp;&amp;i.push(a)}<span class="code-keyword">return</span>!!i.length&amp;&amp;(<span class="code-number">1</span>===i.length&amp;&amp;(n=i[<span class="code-number">0</span>]),e.triggerSourceset(n),!<span class="code-number">0</span>)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Cn</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i={},n=<span class="code-number">0</span>;n&lt;e.length&amp;&amp;!((i=<span class="code-built_in">Object</span>.getOwnPropertyDescriptor(e[n],t))&amp;&amp;i.set&amp;&amp;i.get);n++);<span class="code-keyword">return</span> i.enumerable=!<span class="code-number">0</span>,i.configurable=!<span class="code-number">0</span>,i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">In</span>(<span class="code-params">a</span>)</span>{<span class="code-keyword">var</span> t,e,i,s=a.el();s.resetSourceWatch_||(t={},e=Cn([a.el(),<span class="code-built_in">window</span>.HTMLMediaElement.prototype,<span class="code-built_in">window</span>.Element.prototype,Ln],<span class="code-string">"innerHTML"</span>),i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">var</span> n=r.apply(s,t);<span class="code-keyword">return</span> kn(a),n}},[<span class="code-string">"append"</span>,<span class="code-string">"appendChild"</span>,<span class="code-string">"insertAdjacentHTML"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s[e]&amp;&amp;(t[e]=s[e],s[e]=i(t[e]))}),<span class="code-built_in">Object</span>.defineProperty(s,<span class="code-string">"innerHTML"</span>,lt(e,{<span class="code-attr">set</span>:i(e.set)})),s.resetSourceWatch_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.resetSourceWatch_=<span class="code-literal">null</span>,<span class="code-built_in">Object</span>.keys(t).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s[e]=t[e]}),<span class="code-built_in">Object</span>.defineProperty(s,<span class="code-string">"innerHTML"</span>,e)},a.one(<span class="code-string">"sourceset"</span>,s.resetSourceWatch_))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xn</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n,t,r,a;i.featuresSourceset&amp;&amp;((n=i.el()).resetSourceset_||(t=Cn([i.el(),<span class="code-built_in">window</span>.HTMLMediaElement.prototype,Dn],<span class="code-string">"src"</span>),r=n.setAttribute,a=n.load,<span class="code-built_in">Object</span>.defineProperty(n,<span class="code-string">"src"</span>,lt(t,{<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=t.set.call(n,e);<span class="code-keyword">return</span> i.triggerSourceset(n.src),e}})),n.setAttribute=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=r.call(n,e,t);<span class="code-keyword">return</span><span class="code-regexp">/src/i</span>.test(e)&amp;&amp;i.triggerSourceset(n.src),t},n.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=a.call(n);<span class="code-keyword">return</span> kn(i)||(i.triggerSourceset(<span class="code-string">""</span>),In(i)),e},n.currentSrc?i.triggerSourceset(n.currentSrc):kn(i)||In(i),n.resetSourceset_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.resetSourceset_=<span class="code-literal">null</span>,n.load=a,n.setAttribute=r,<span class="code-built_in">Object</span>.defineProperty(n,<span class="code-string">"src"</span>,t),n.resetSourceWatch_&amp;&amp;n.resetSourceWatch_()}))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">An</span>(<span class="code-params">t,i,n,e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.defineProperty(t,i,{<span class="code-attr">value</span>:e,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">writable</span>:!<span class="code-number">0</span>})}<span class="code-keyword">var</span> a={<span class="code-attr">configurable</span>:!<span class="code-number">0</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n();<span class="code-keyword">return</span> r(e),e}};<span class="code-keyword">return</span>(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?!<span class="code-number">0</span>:e)&amp;&amp;(a.set=r),<span class="code-built_in">Object</span>.defineProperty(t,i,a)}<span class="code-keyword">var</span> Pn,Ln=<span class="code-built_in">Object</span>.defineProperty({},<span class="code-string">"innerHTML"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cloneNode(!<span class="code-number">0</span>).innerHTML},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>.createElement(<span class="code-keyword">this</span>.nodeName.toLowerCase());t.innerHTML=e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-built_in">document</span>.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[<span class="code-number">0</span>]);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.innerText=<span class="code-string">""</span>,<span class="code-built_in">window</span>.Element.prototype.appendChild.call(<span class="code-keyword">this</span>,i),<span class="code-keyword">this</span>.innerHTML}}),Dn=<span class="code-built_in">Object</span>.defineProperty({},<span class="code-string">"src"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasAttribute(<span class="code-string">"src"</span>)?Rt(<span class="code-built_in">window</span>.Element.prototype.getAttribute.call(<span class="code-keyword">this</span>,<span class="code-string">"src"</span>)):<span class="code-string">""</span>},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">window</span>.Element.prototype.setAttribute.call(<span class="code-keyword">this</span>,<span class="code-string">"src"</span>,e),e}}),On=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">l</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=l.call(<span class="code-keyword">this</span>,e,t)||<span class="code-keyword">this</span>,t=e.source,n=!<span class="code-number">1</span>;<span class="code-keyword">if</span>(t&amp;&amp;(i.el_.currentSrc!==t.src||e.tag&amp;&amp;<span class="code-number">3</span>===e.tag.initNetworkState_)?i.setSource(t):i.handleLateInit_(i.el_),e.enableSourceset&amp;&amp;i.setupSourcesetHandling_(),i.isScrubbing_=!<span class="code-number">1</span>,i.el_.hasChildNodes()){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=i.el_.childNodes,a=r.length,s=[];a--;){<span class="code-keyword">var</span> o=r[a];<span class="code-string">"track"</span>===o.nodeName.toLowerCase()&amp;&amp;(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(o),i.remoteTextTracks().addTrack(o.track),i.textTracks().addTrack(o.track),n||i.el_.hasAttribute(<span class="code-string">"crossorigin"</span>)||!Ut(o.src)||(n=!<span class="code-number">0</span>)):s.push(o))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;s.length;u++)i.el_.removeChild(s[u])}<span class="code-keyword">return</span> i.proxyNativeTracks_(),i.featuresNativeTextTracks&amp;&amp;n&amp;&amp;h.warn(<span class="code-string">"Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."</span>),i.restoreMetadataTracksInIOSNativePlayer_(),(F||H||L)&amp;&amp;!<span class="code-number">0</span>===e.nativeControlsForTouch&amp;&amp;i.setControls(!<span class="code-number">0</span>),i.proxyWebkitFullscreen_(),i.featuresVideoFrameCallback=i.featuresVideoFrameCallback&amp;&amp;<span class="code-string">"VIDEO"</span>===i.el_.tagName,i.triggerReady(),i}mt(s,l);<span class="code-keyword">var</span> e=s.prototype;<span class="code-keyword">return</span> e.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.el_&amp;&amp;<span class="code-keyword">this</span>.el_.resetSourceset_&amp;&amp;<span class="code-keyword">this</span>.el_.resetSourceset_(),s.disposeMediaElement(<span class="code-keyword">this</span>.el_),<span class="code-keyword">this</span>.options_=<span class="code-literal">null</span>,l.prototype.dispose.call(<span class="code-keyword">this</span>)},e.setupSourcesetHandling_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{xn(<span class="code-keyword">this</span>)},e.restoreMetadataTracksInIOSNativePlayer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{i=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;n.length;e++){<span class="code-keyword">var</span> t=n[e];<span class="code-string">"metadata"</span>===t.kind&amp;&amp;i.push({<span class="code-attr">track</span>:t,<span class="code-attr">storedMode</span>:t.mode})}}<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>.textTracks();e(),n.addEventListener(<span class="code-string">"change"</span>,e),<span class="code-keyword">this</span>.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.removeEventListener(<span class="code-string">"change"</span>,e)});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;i.length;e++){<span class="code-keyword">var</span> t=i[e];<span class="code-string">"disabled"</span>===t.track.mode&amp;&amp;t.track.mode!==t.storedMode&amp;&amp;(t.track.mode=t.storedMode)}n.removeEventListener(<span class="code-string">"change"</span>,r)}<span class="code-keyword">this</span>.on(<span class="code-string">"webkitbeginfullscreen"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.removeEventListener(<span class="code-string">"change"</span>,e),n.removeEventListener(<span class="code-string">"change"</span>,r),n.addEventListener(<span class="code-string">"change"</span>,r)}),<span class="code-keyword">this</span>.on(<span class="code-string">"webkitendfullscreen"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.removeEventListener(<span class="code-string">"change"</span>,e),n.addEventListener(<span class="code-string">"change"</span>,e),n.removeEventListener(<span class="code-string">"change"</span>,r)})},e.overrideNative_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>;t===<span class="code-keyword">this</span>[<span class="code-string">"featuresNative"</span>+e+<span class="code-string">"Tracks"</span>]&amp;&amp;(<span class="code-keyword">this</span>[(i=e.toLowerCase())+<span class="code-string">"TracksListeners_"</span>]&amp;&amp;<span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>[i+<span class="code-string">"TracksListeners_"</span>]).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.el()[i+<span class="code-string">"Tracks"</span>].removeEventListener(e,n[i+<span class="code-string">"TracksListeners_"</span>][e])}),<span class="code-keyword">this</span>[<span class="code-string">"featuresNative"</span>+e+<span class="code-string">"Tracks"</span>]=!t,<span class="code-keyword">this</span>[i+<span class="code-string">"TracksListeners_"</span>]=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.proxyNativeTracksForType_(i))},e.overrideNativeAudioTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.overrideNative_(<span class="code-string">"Audio"</span>,e)},e.overrideNativeVideoTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.overrideNative_(<span class="code-string">"Video"</span>,e)},e.proxyNativeTracksForType_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> e,t,n=<span class="code-keyword">this</span>,r=ai[i],a=<span class="code-keyword">this</span>.el()[r.getterName],s=<span class="code-keyword">this</span>[r.getterName]();<span class="code-keyword">this</span>[<span class="code-string">"featuresNative"</span>+r.capitalName+<span class="code-string">"Tracks"</span>]&amp;&amp;a&amp;&amp;a.addEventListener&amp;&amp;(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],t=<span class="code-number">0</span>;t&lt;s.length;t++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=!<span class="code-number">1</span>,n=<span class="code-number">0</span>;n&lt;a.length;n++)<span class="code-keyword">if</span>(a[n]===s[t]){i=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}i||e.push(s[t])}<span class="code-keyword">for</span>(;e.length;)s.removeTrack(e.shift())},<span class="code-keyword">this</span>[r.getterName+<span class="code-string">"Listeners_"</span>]=e={<span class="code-attr">change</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">type</span>:<span class="code-string">"change"</span>,<span class="code-attr">target</span>:s,<span class="code-attr">currentTarget</span>:s,<span class="code-attr">srcElement</span>:s};s.trigger(t),<span class="code-string">"text"</span>===i&amp;&amp;n[si.remoteText.getterName]().trigger(t)},<span class="code-attr">addtrack</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s.addTrack(e.track)},<span class="code-attr">removetrack</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s.removeTrack(e.track)}},<span class="code-built_in">Object</span>.keys(e).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=e[t];a.addEventListener(t,i),n.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> a.removeEventListener(t,i)})}),<span class="code-keyword">this</span>.on(<span class="code-string">"loadstart"</span>,t),<span class="code-keyword">this</span>.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.off(<span class="code-string">"loadstart"</span>,t)}))},e.proxyNativeTracks_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;ai.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.proxyNativeTracksForType_(e)})},e.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>.options_.tag;t&amp;&amp;(<span class="code-keyword">this</span>.options_.playerElIngest||<span class="code-keyword">this</span>.movingMediaElementInDOM)||(t?(e=t.cloneNode(!<span class="code-number">0</span>),t.parentNode&amp;&amp;t.parentNode.insertBefore(e,t),s.disposeMediaElement(t),t=e):(t=<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>),e=lt({},<span class="code-keyword">this</span>.options_.tag&amp;&amp;ae(<span class="code-keyword">this</span>.options_.tag)),F&amp;&amp;!<span class="code-number">0</span>===<span class="code-keyword">this</span>.options_.nativeControlsForTouch||<span class="code-keyword">delete</span> e.controls,re(t,b(e,{<span class="code-attr">id</span>:<span class="code-keyword">this</span>.options_.techId,<span class="code-attr">class</span>:<span class="code-string">"vjs-tech"</span>}))),t.playerId=<span class="code-keyword">this</span>.options_.playerId),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options_.preload&amp;&amp;oe(t,<span class="code-string">"preload"</span>,<span class="code-keyword">this</span>.options_.preload),<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.disablePictureInPicture&amp;&amp;(t.disablePictureInPicture=<span class="code-keyword">this</span>.options_.disablePictureInPicture);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=[<span class="code-string">"loop"</span>,<span class="code-string">"muted"</span>,<span class="code-string">"playsinline"</span>,<span class="code-string">"autoplay"</span>],n=<span class="code-number">0</span>;n&lt;i.length;n++){<span class="code-keyword">var</span> r=i[n],a=<span class="code-keyword">this</span>.options_[r];<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> a&amp;&amp;(a?oe(t,r,r):ue(t,r),t[r]=a)}<span class="code-keyword">return</span> t},e.handleLateInit_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==e.networkState&amp;&amp;<span class="code-number">3</span>!==e.networkState){<span class="code-keyword">if</span>(<span class="code-number">0</span>===e.readyState){<span class="code-keyword">var</span> t=!<span class="code-number">1</span>,i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t=!<span class="code-number">0</span>};<span class="code-keyword">this</span>.on(<span class="code-string">"loadstart"</span>,i);<span class="code-keyword">var</span> n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t||<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadstart"</span>)};<span class="code-keyword">return</span> <span class="code-keyword">this</span>.on(<span class="code-string">"loadedmetadata"</span>,n),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.off(<span class="code-string">"loadstart"</span>,i),<span class="code-keyword">this</span>.off(<span class="code-string">"loadedmetadata"</span>,n),t||<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadstart"</span>)})}<span class="code-keyword">var</span> r=[<span class="code-string">"loadstart"</span>];r.push(<span class="code-string">"loadedmetadata"</span>),<span class="code-number">2</span>&lt;=e.readyState&amp;&amp;r.push(<span class="code-string">"loadeddata"</span>),<span class="code-number">3</span>&lt;=e.readyState&amp;&amp;r.push(<span class="code-string">"canplay"</span>),<span class="code-number">4</span>&lt;=e.readyState&amp;&amp;r.push(<span class="code-string">"canplaythrough"</span>),<span class="code-keyword">this</span>.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger(e)},<span class="code-keyword">this</span>)})}},e.setScrubbing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.isScrubbing_=e},e.scrubbing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isScrubbing_},e.setCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">this</span>.isScrubbing_&amp;&amp;<span class="code-keyword">this</span>.el_.fastSeek&amp;&amp;V?<span class="code-keyword">this</span>.el_.fastSeek(e):<span class="code-keyword">this</span>.el_.currentTime=e}<span class="code-keyword">catch</span>(e){h(e,<span class="code-string">"Video is not ready. (Video.js)"</span>)}},e.duration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_.duration===<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;A&amp;&amp;M&amp;&amp;<span class="code-number">0</span>===<span class="code-keyword">this</span>.el_.currentTime?(<span class="code-keyword">this</span>.on(<span class="code-string">"timeupdate"</span>,<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-number">0</span>&lt;t.el_.currentTime&amp;&amp;(t.el_.duration===<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;t.trigger(<span class="code-string">"durationchange"</span>),t.off(<span class="code-string">"timeupdate"</span>,e))}),<span class="code-literal">NaN</span>):<span class="code-keyword">this</span>.el_.duration||<span class="code-literal">NaN</span>},e.width=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_.offsetWidth},e.height=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_.offsetHeight},e.proxyWebkitFullscreen_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,i=<span class="code-keyword">this</span>;<span class="code-string">"webkitDisplayingFullscreen"</span><span class="code-keyword">in</span> <span class="code-keyword">this</span>.el_&amp;&amp;(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenchange"</span>,{<span class="code-attr">isFullscreen</span>:!<span class="code-number">1</span>}),<span class="code-keyword">this</span>.el_.controls&amp;&amp;!<span class="code-keyword">this</span>.options_.nativeControlsForTouch&amp;&amp;<span class="code-keyword">this</span>.controls()&amp;&amp;(<span class="code-keyword">this</span>.el_.controls=!<span class="code-number">1</span>)},t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"webkitPresentationMode"</span><span class="code-keyword">in</span> <span class="code-keyword">this</span>.el_&amp;&amp;<span class="code-string">"picture-in-picture"</span>!==<span class="code-keyword">this</span>.el_.webkitPresentationMode&amp;&amp;(<span class="code-keyword">this</span>.one(<span class="code-string">"webkitendfullscreen"</span>,e),<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenchange"</span>,{<span class="code-attr">isFullscreen</span>:!<span class="code-number">0</span>,<span class="code-attr">nativeIOSFullscreen</span>:!<span class="code-number">0</span>}))},<span class="code-keyword">this</span>.on(<span class="code-string">"webkitbeginfullscreen"</span>,t),<span class="code-keyword">this</span>.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.off(<span class="code-string">"webkitbeginfullscreen"</span>,t),i.off(<span class="code-string">"webkitendfullscreen"</span>,e)}))},e.supportsFullScreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.el_.webkitEnterFullScreen){<span class="code-keyword">var</span> e=<span class="code-built_in">window</span>.navigator&amp;&amp;<span class="code-built_in">window</span>.navigator.userAgent||<span class="code-string">""</span>;<span class="code-keyword">if</span>(<span class="code-regexp">/Android/</span>.test(e)||!<span class="code-regexp">/Chrome|Mac OS X 10.5/</span>.test(e))<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>},e.enterFullScreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.el_;<span class="code-keyword">if</span>(e.paused&amp;&amp;e.networkState&lt;=e.HAVE_METADATA)Et(<span class="code-keyword">this</span>.el_.play()),<span class="code-keyword">this</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.pause();<span class="code-keyword">try</span>{e.webkitEnterFullScreen()}<span class="code-keyword">catch</span>(e){<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenerror"</span>,e)}},<span class="code-number">0</span>);<span class="code-keyword">else</span> <span class="code-keyword">try</span>{e.webkitEnterFullScreen()}<span class="code-keyword">catch</span>(e){<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenerror"</span>,e)}},e.exitFullScreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.el_.webkitDisplayingFullscreen?<span class="code-keyword">this</span>.el_.webkitExitFullScreen():<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenerror"</span>,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"The video is not fullscreen"</span>))},e.requestPictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_.requestPictureInPicture()},e.requestVideoFrameCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.featuresVideoFrameCallback?<span class="code-keyword">this</span>.el_.requestVideoFrameCallback(e):l.prototype.requestVideoFrameCallback.call(<span class="code-keyword">this</span>,e)},e.cancelVideoFrameCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.featuresVideoFrameCallback?<span class="code-keyword">this</span>.el_.cancelVideoFrameCallback(e):l.prototype.cancelVideoFrameCallback.call(<span class="code-keyword">this</span>,e)},e.src=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_.src;<span class="code-keyword">this</span>.setSrc(e)},e.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.resetMediaElement(<span class="code-keyword">this</span>.el_)},e.currentSrc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentSource_?<span class="code-keyword">this</span>.currentSource_.src:<span class="code-keyword">this</span>.el_.currentSrc},e.setControls=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.el_.controls=!!e},e.addTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.featuresNativeTextTracks?<span class="code-keyword">this</span>.el_.addTextTrack(e,t,i):l.prototype.addTextTrack.call(<span class="code-keyword">this</span>,e,t,i)},e.createRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.featuresNativeTextTracks)<span class="code-keyword">return</span> l.prototype.createRemoteTextTrack.call(<span class="code-keyword">this</span>,e);<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>.createElement(<span class="code-string">"track"</span>);<span class="code-keyword">return</span> e.kind&amp;&amp;(t.kind=e.kind),e.label&amp;&amp;(t.label=e.label),(e.language||e.srclang)&amp;&amp;(t.srclang=e.language||e.srclang),e.default&amp;&amp;(t.default=e.default),e.id&amp;&amp;(t.id=e.id),e.src&amp;&amp;(t.src=e.src),t},e.addRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=l.prototype.addRemoteTextTrack.call(<span class="code-keyword">this</span>,e,t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.featuresNativeTextTracks&amp;&amp;<span class="code-keyword">this</span>.el().appendChild(t),t},e.removeRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(l.prototype.removeRemoteTextTrack.call(<span class="code-keyword">this</span>,e),<span class="code-keyword">this</span>.featuresNativeTextTracks)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.$$(<span class="code-string">"track"</span>),i=t.length;i--;)e!==t[i]&amp;&amp;e!==t[i].track||<span class="code-keyword">this</span>.el().removeChild(t[i])},e.getVideoPlaybackQuality=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.el().getVideoPlaybackQuality)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el().getVideoPlaybackQuality();<span class="code-keyword">var</span> e={};<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.el().webkitDroppedFrameCount&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.el().webkitDecodedFrameCount&amp;&amp;(e.droppedVideoFrames=<span class="code-keyword">this</span>.el().webkitDroppedFrameCount,e.totalVideoFrames=<span class="code-keyword">this</span>.el().webkitDecodedFrameCount),<span class="code-built_in">window</span>.performance&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.performance.now?e.creationTime=<span class="code-built_in">window</span>.performance.now():<span class="code-built_in">window</span>.performance&amp;&amp;<span class="code-built_in">window</span>.performance.timing&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.performance.timing.navigationStart&amp;&amp;(e.creationTime=<span class="code-built_in">window</span>.Date.now()-<span class="code-built_in">window</span>.performance.timing.navigationStart),e},s}(ji);An(On,<span class="code-string">"TEST_VID"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(X()){<span class="code-keyword">var</span> e=<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>),t=<span class="code-built_in">document</span>.createElement(<span class="code-string">"track"</span>);<span class="code-keyword">return</span> t.kind=<span class="code-string">"captions"</span>,t.srclang=<span class="code-string">"en"</span>,t.label=<span class="code-string">"English"</span>,e.appendChild(t),e}}),On.isSupported=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{On.TEST_VID.volume=<span class="code-number">.5</span>}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!(!On.TEST_VID||!On.TEST_VID.canPlayType)},On.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> On.TEST_VID.canPlayType(e)},On.canPlaySource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> On.canPlayType(e.type)},On.canControlVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">var</span> e=On.TEST_VID.volume;On.TEST_VID.volume=e/<span class="code-number">2</span>+<span class="code-number">.1</span>;<span class="code-keyword">var</span> t=e!==On.TEST_VID.volume;<span class="code-keyword">return</span> t&amp;&amp;q?(<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{On&amp;&amp;On.prototype&amp;&amp;(On.prototype.featuresVolumeControl=e!==On.TEST_VID.volume)}),!<span class="code-number">1</span>):t}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">1</span>}},On.canMuteVolume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">var</span> e=On.TEST_VID.muted;<span class="code-keyword">return</span> On.TEST_VID.muted=!e,On.TEST_VID.muted?oe(On.TEST_VID,<span class="code-string">"muted"</span>,<span class="code-string">"muted"</span>):ue(On.TEST_VID,<span class="code-string">"muted"</span>),e!==On.TEST_VID.muted}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">1</span>}},On.canControlPlaybackRate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(A&amp;&amp;M&amp;&amp;R&lt;<span class="code-number">58</span>)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">try</span>{<span class="code-keyword">var</span> e=On.TEST_VID.playbackRate;<span class="code-keyword">return</span> On.TEST_VID.playbackRate=e/<span class="code-number">2</span>+<span class="code-number">.1</span>,e!==On.TEST_VID.playbackRate}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">1</span>}},On.canOverrideAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{};<span class="code-built_in">Object</span>.defineProperty(<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>),<span class="code-string">"src"</span>,{<span class="code-attr">get</span>:e,<span class="code-attr">set</span>:e}),<span class="code-built_in">Object</span>.defineProperty(<span class="code-built_in">document</span>.createElement(<span class="code-string">"audio"</span>),<span class="code-string">"src"</span>,{<span class="code-attr">get</span>:e,<span class="code-attr">set</span>:e}),<span class="code-built_in">Object</span>.defineProperty(<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>),<span class="code-string">"innerHTML"</span>,{<span class="code-attr">get</span>:e,<span class="code-attr">set</span>:e}),<span class="code-built_in">Object</span>.defineProperty(<span class="code-built_in">document</span>.createElement(<span class="code-string">"audio"</span>),<span class="code-string">"innerHTML"</span>,{<span class="code-attr">get</span>:e,<span class="code-attr">set</span>:e})}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>},On.supportsNativeTextTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> V||q&amp;&amp;M},On.supportsNativeVideoTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!(!On.TEST_VID||!On.TEST_VID.videoTracks)},On.supportsNativeAudioTracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!(!On.TEST_VID||!On.TEST_VID.audioTracks)},On.Events=[<span class="code-string">"loadstart"</span>,<span class="code-string">"suspend"</span>,<span class="code-string">"abort"</span>,<span class="code-string">"error"</span>,<span class="code-string">"emptied"</span>,<span class="code-string">"stalled"</span>,<span class="code-string">"loadedmetadata"</span>,<span class="code-string">"loadeddata"</span>,<span class="code-string">"canplay"</span>,<span class="code-string">"canplaythrough"</span>,<span class="code-string">"playing"</span>,<span class="code-string">"waiting"</span>,<span class="code-string">"seeking"</span>,<span class="code-string">"seeked"</span>,<span class="code-string">"ended"</span>,<span class="code-string">"durationchange"</span>,<span class="code-string">"timeupdate"</span>,<span class="code-string">"progress"</span>,<span class="code-string">"play"</span>,<span class="code-string">"pause"</span>,<span class="code-string">"ratechange"</span>,<span class="code-string">"resize"</span>,<span class="code-string">"volumechange"</span>],[[<span class="code-string">"featuresMuteControl"</span>,<span class="code-string">"canMuteVolume"</span>],[<span class="code-string">"featuresPlaybackRate"</span>,<span class="code-string">"canControlPlaybackRate"</span>],[<span class="code-string">"featuresSourceset"</span>,<span class="code-string">"canOverrideAttributes"</span>],[<span class="code-string">"featuresNativeTextTracks"</span>,<span class="code-string">"supportsNativeTextTracks"</span>],[<span class="code-string">"featuresNativeVideoTracks"</span>,<span class="code-string">"supportsNativeVideoTracks"</span>],[<span class="code-string">"featuresNativeAudioTracks"</span>,<span class="code-string">"supportsNativeAudioTracks"</span>]].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e[<span class="code-number">0</span>],i=e[<span class="code-number">1</span>];An(On.prototype,t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> On[i]()},!<span class="code-number">0</span>)}),On.prototype.featuresVolumeControl=On.canControlVolume(),On.prototype.movingMediaElementInDOM=!q,On.prototype.featuresFullscreenResize=!<span class="code-number">0</span>,On.prototype.featuresProgressEvents=!<span class="code-number">0</span>,On.prototype.featuresTimeupdateEvents=!<span class="code-number">0</span>,On.prototype.featuresVideoFrameCallback=!(!On.TEST_VID||!On.TEST_VID.requestVideoFrameCallback),On.patchCanPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">4</span>&lt;=P&amp;&amp;!D&amp;&amp;!M&amp;&amp;(Pn=On.TEST_VID&amp;&amp;On.TEST_VID.constructor.prototype.canPlayType,On.TEST_VID.constructor.prototype.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;<span class="code-regexp">/^application\/(?:x-|vnd\.apple\.)mpegurl/i</span>.test(e)?<span class="code-string">"maybe"</span>:Pn.call(<span class="code-keyword">this</span>,e)})},On.unpatchCanPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=On.TEST_VID.constructor.prototype.canPlayType;<span class="code-keyword">return</span> Pn&amp;&amp;(On.TEST_VID.constructor.prototype.canPlayType=Pn),e},On.patchCanPlayType(),On.disposeMediaElement=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e){<span class="code-keyword">for</span>(e.parentNode&amp;&amp;e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute(<span class="code-string">"src"</span>),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.load&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{e.load()}<span class="code-keyword">catch</span>(e){}}()}},On.resetMediaElement=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.querySelectorAll(<span class="code-string">"source"</span>),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute(<span class="code-string">"src"</span>),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.load&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">try</span>{e.load()}<span class="code-keyword">catch</span>(e){}}()}},[<span class="code-string">"muted"</span>,<span class="code-string">"defaultMuted"</span>,<span class="code-string">"autoplay"</span>,<span class="code-string">"controls"</span>,<span class="code-string">"loop"</span>,<span class="code-string">"playsinline"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{On.prototype[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_[e]||<span class="code-keyword">this</span>.el_.hasAttribute(e)}}),[<span class="code-string">"muted"</span>,<span class="code-string">"defaultMuted"</span>,<span class="code-string">"autoplay"</span>,<span class="code-string">"loop"</span>,<span class="code-string">"playsinline"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{On.prototype[<span class="code-string">"set"</span>+ut(t)]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{(<span class="code-keyword">this</span>.el_[t]=e)?<span class="code-keyword">this</span>.el_.setAttribute(t,t):<span class="code-keyword">this</span>.el_.removeAttribute(t)}}),[<span class="code-string">"paused"</span>,<span class="code-string">"currentTime"</span>,<span class="code-string">"buffered"</span>,<span class="code-string">"volume"</span>,<span class="code-string">"poster"</span>,<span class="code-string">"preload"</span>,<span class="code-string">"error"</span>,<span class="code-string">"seeking"</span>,<span class="code-string">"seekable"</span>,<span class="code-string">"ended"</span>,<span class="code-string">"playbackRate"</span>,<span class="code-string">"defaultPlaybackRate"</span>,<span class="code-string">"disablePictureInPicture"</span>,<span class="code-string">"played"</span>,<span class="code-string">"networkState"</span>,<span class="code-string">"readyState"</span>,<span class="code-string">"videoWidth"</span>,<span class="code-string">"videoHeight"</span>,<span class="code-string">"crossOrigin"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{On.prototype[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_[e]}}),[<span class="code-string">"volume"</span>,<span class="code-string">"src"</span>,<span class="code-string">"poster"</span>,<span class="code-string">"preload"</span>,<span class="code-string">"playbackRate"</span>,<span class="code-string">"defaultPlaybackRate"</span>,<span class="code-string">"disablePictureInPicture"</span>,<span class="code-string">"crossOrigin"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{On.prototype[<span class="code-string">"set"</span>+ut(t)]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.el_[t]=e}}),[<span class="code-string">"pause"</span>,<span class="code-string">"load"</span>,<span class="code-string">"play"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{On.prototype[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.el_[e]()}}),ji.withSourceHandlers(On),On.nativeSourceHandler={},On.nativeSourceHandler.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">return</span> On.TEST_VID.canPlayType(e)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span><span class="code-string">""</span>}},On.nativeSourceHandler.canHandleSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e.type)<span class="code-keyword">return</span> On.nativeSourceHandler.canPlayType(e.type);<span class="code-keyword">if</span>(e.src){e=Nt(e.src);<span class="code-keyword">return</span> On.nativeSourceHandler.canPlayType(<span class="code-string">"video/"</span>+e)}<span class="code-keyword">return</span><span class="code-string">""</span>},On.nativeSourceHandler.handleSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{t.setSrc(e.src)},On.nativeSourceHandler.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},On.registerSourceHandler(On.nativeSourceHandler),ji.registerTech(<span class="code-string">"Html5"</span>,On);<span class="code-keyword">var</span> Mn=[<span class="code-string">"progress"</span>,<span class="code-string">"abort"</span>,<span class="code-string">"suspend"</span>,<span class="code-string">"emptied"</span>,<span class="code-string">"stalled"</span>,<span class="code-string">"loadedmetadata"</span>,<span class="code-string">"loadeddata"</span>,<span class="code-string">"timeupdate"</span>,<span class="code-string">"resize"</span>,<span class="code-string">"volumechange"</span>,<span class="code-string">"texttrackchange"</span>],Rn={<span class="code-attr">canplay</span>:<span class="code-string">"CanPlay"</span>,<span class="code-attr">canplaythrough</span>:<span class="code-string">"CanPlayThrough"</span>,<span class="code-attr">playing</span>:<span class="code-string">"Playing"</span>,<span class="code-attr">seeked</span>:<span class="code-string">"Seeked"</span>},Nn=[<span class="code-string">"tiny"</span>,<span class="code-string">"xsmall"</span>,<span class="code-string">"small"</span>,<span class="code-string">"medium"</span>,<span class="code-string">"large"</span>,<span class="code-string">"xlarge"</span>,<span class="code-string">"huge"</span>],Un={};Nn.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">"x"</span>===e.charAt(<span class="code-number">0</span>)?<span class="code-string">"x-"</span>+e.substring(<span class="code-number">1</span>):e;Un[e]=<span class="code-string">"vjs-layout-"</span>+t});<span class="code-keyword">var</span> Bn={<span class="code-attr">tiny</span>:<span class="code-number">210</span>,<span class="code-attr">xsmall</span>:<span class="code-number">320</span>,<span class="code-attr">small</span>:<span class="code-number">425</span>,<span class="code-attr">medium</span>:<span class="code-number">768</span>,<span class="code-attr">large</span>:<span class="code-number">1440</span>,<span class="code-attr">xlarge</span>:<span class="code-number">2560</span>,<span class="code-attr">huge</span>:<span class="code-number">1</span>/<span class="code-number">0</span>},Fn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">c</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r;<span class="code-keyword">if</span>(e.id=e.id||t.id||<span class="code-string">"vjs_video_"</span>+Pe++,(t=b(o.getTagSettings(e),t)).initChildren=!<span class="code-number">1</span>,t.createEl=!<span class="code-number">1</span>,t.evented=!<span class="code-number">1</span>,t.reportTouchActivity=!<span class="code-number">1</span>,!t.language)<span class="code-keyword">if</span>(<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.closest){<span class="code-keyword">var</span> a=e.closest(<span class="code-string">"[lang]"</span>);a&amp;&amp;a.getAttribute&amp;&amp;(t.language=a.getAttribute(<span class="code-string">"lang"</span>))}<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=e;s&amp;&amp;<span class="code-number">1</span>===s.nodeType;){<span class="code-keyword">if</span>(ae(s).hasOwnProperty(<span class="code-string">"lang"</span>)){t.language=s.getAttribute(<span class="code-string">"lang"</span>);<span class="code-keyword">break</span>}s=s.parentNode}<span class="code-keyword">if</span>((n=c.call(<span class="code-keyword">this</span>,<span class="code-literal">null</span>,t,i)||<span class="code-keyword">this</span>).boundDocumentFullscreenChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.documentFullscreenChange_(e)},n.boundFullWindowOnEscKey_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.fullWindowOnEscKey(e)},n.boundUpdateStyleEl_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.updateStyleEl_(e)},n.boundApplyInitTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.applyInitTime_(e)},n.boundUpdateCurrentBreakpoint_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.updateCurrentBreakpoint_(e)},n.boundHandleTechClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleTechClick_(e)},n.boundHandleTechDoubleClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleTechDoubleClick_(e)},n.boundHandleTechTouchStart_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleTechTouchStart_(e)},n.boundHandleTechTouchMove_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleTechTouchMove_(e)},n.boundHandleTechTouchEnd_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleTechTouchEnd_(e)},n.boundHandleTechTap_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleTechTap_(e)},n.isFullscreen_=!<span class="code-number">1</span>,n.log=p(n.id_),n.fsApi_=l,n.isPosterFromTech_=!<span class="code-number">1</span>,n.queuedCallbacks_=[],n.isReady_=!<span class="code-number">1</span>,n.hasStarted_=!<span class="code-number">1</span>,n.userActive_=!<span class="code-number">1</span>,n.debugEnabled_=!<span class="code-number">1</span>,n.audioOnlyMode_=!<span class="code-number">1</span>,n.audioPosterMode_=!<span class="code-number">1</span>,n.audioOnlyCache_={<span class="code-attr">playerHeight</span>:<span class="code-literal">null</span>,<span class="code-attr">hiddenChildren</span>:[]},!n.options_||!n.options_.techOrder||!n.options_.techOrder.length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?"</span>);n.tag=e,n.tagAttributes=e&amp;&amp;ae(e),n.language(n.options_.language),t.languages?(r={},<span class="code-built_in">Object</span>.getOwnPropertyNames(t.languages).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r[e.toLowerCase()]=t.languages[e]}),n.languages_=r):n.languages_=o.prototype.options_.languages,n.resetCache_(),n.poster_=t.poster||<span class="code-string">""</span>,n.controls_=!!t.controls,e.controls=!<span class="code-number">1</span>,e.removeAttribute(<span class="code-string">"controls"</span>),n.changingSrc_=!<span class="code-number">1</span>,n.playCallbacks_=[],n.playTerminatedQueue_=[],e.hasAttribute(<span class="code-string">"autoplay"</span>)?n.autoplay(!<span class="code-number">0</span>):n.autoplay(n.options_.autoplay),t.plugins&amp;&amp;<span class="code-built_in">Object</span>.keys(t.plugins).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> n[e])<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'plugin "'</span>+e+<span class="code-string">'" does not exist'</span>)}),n.scrubbing_=!<span class="code-number">1</span>,n.el_=n.createEl(),rt(ft(n),{<span class="code-attr">eventBusKey</span>:<span class="code-string">"el_"</span>}),n.fsApi_.requestFullscreen&amp;&amp;(Be(<span class="code-built_in">document</span>,n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_),n.on(n.fsApi_.fullscreenchange,n.boundDocumentFullscreenChange_)),n.fluid_&amp;&amp;n.on([<span class="code-string">"playerreset"</span>,<span class="code-string">"resize"</span>],n.boundUpdateStyleEl_);i=lt(n.options_);t.plugins&amp;&amp;<span class="code-built_in">Object</span>.keys(t.plugins).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n[e](t.plugins[e])}),t.debug&amp;&amp;n.debug(!<span class="code-number">0</span>),n.options_.playerOptions=i,n.middleware_=[],n.playbackRates(t.playbackRates),n.initChildren(),n.isAudio(<span class="code-string">"audio"</span>===e.nodeName.toLowerCase()),n.controls()?n.addClass(<span class="code-string">"vjs-controls-enabled"</span>):n.addClass(<span class="code-string">"vjs-controls-disabled"</span>),n.el_.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"region"</span>),n.isAudio()?n.el_.setAttribute(<span class="code-string">"aria-label"</span>,n.localize(<span class="code-string">"Audio Player"</span>)):n.el_.setAttribute(<span class="code-string">"aria-label"</span>,n.localize(<span class="code-string">"Video Player"</span>)),n.isAudio()&amp;&amp;n.addClass(<span class="code-string">"vjs-audio"</span>),n.flexNotSupported_()&amp;&amp;n.addClass(<span class="code-string">"vjs-no-flex"</span>),F&amp;&amp;n.addClass(<span class="code-string">"vjs-touch-enabled"</span>),q||n.addClass(<span class="code-string">"vjs-workinghover"</span>),o.players[n.id_]=ft(n);e=u.split(<span class="code-string">"."</span>)[<span class="code-number">0</span>];<span class="code-keyword">return</span> n.addClass(<span class="code-string">"vjs-v"</span>+e),n.userActive(!<span class="code-number">0</span>),n.reportUserActivity(),n.one(<span class="code-string">"play"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.listenForUserActivity_(e)}),n.on(<span class="code-string">"stageclick"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleStageClick_(e)}),n.on(<span class="code-string">"keydown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleKeyDown(e)}),n.on(<span class="code-string">"languagechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n.handleLanguagechange(e)}),n.breakpoints(n.options_.breakpoints),n.responsive(n.options_.responsive),n.on(<span class="code-string">"ready"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.audioPosterMode(n.options_.audioPosterMode),n.audioOnlyMode(n.options_.audioOnlyMode)}),n}mt(o,c);<span class="code-keyword">var</span> e=o.prototype;<span class="code-keyword">return</span> e.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.off(<span class="code-string">"dispose"</span>),Fe(<span class="code-built_in">document</span>,<span class="code-keyword">this</span>.fsApi_.fullscreenchange,<span class="code-keyword">this</span>.boundDocumentFullscreenChange_),Fe(<span class="code-built_in">document</span>,<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.boundFullWindowOnEscKey_),<span class="code-keyword">this</span>.styleEl_&amp;&amp;<span class="code-keyword">this</span>.styleEl_.parentNode&amp;&amp;(<span class="code-keyword">this</span>.styleEl_.parentNode.removeChild(<span class="code-keyword">this</span>.styleEl_),<span class="code-keyword">this</span>.styleEl_=<span class="code-literal">null</span>),o.players[<span class="code-keyword">this</span>.id_]=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.tag&amp;&amp;<span class="code-keyword">this</span>.tag.player&amp;&amp;(<span class="code-keyword">this</span>.tag.player=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.el_&amp;&amp;<span class="code-keyword">this</span>.el_.player&amp;&amp;(<span class="code-keyword">this</span>.el_.player=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.tech_&amp;&amp;(<span class="code-keyword">this</span>.tech_.dispose(),<span class="code-keyword">this</span>.isPosterFromTech_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.poster_=<span class="code-string">""</span>),<span class="code-keyword">this</span>.playerElIngest_&amp;&amp;(<span class="code-keyword">this</span>.playerElIngest_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.tag&amp;&amp;(<span class="code-keyword">this</span>.tag=<span class="code-literal">null</span>),qi[<span class="code-keyword">this</span>.id()]=<span class="code-literal">null</span>,oi.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=oi[e],e=t[e.getterName]();e&amp;&amp;e.off&amp;&amp;e.off()}),c.prototype.dispose.call(<span class="code-keyword">this</span>,{<span class="code-attr">restoreEl</span>:<span class="code-keyword">this</span>.options_.restoreEl})},e.createEl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-keyword">this</span>.tag,e=<span class="code-keyword">this</span>.playerElIngest_=i.parentNode&amp;&amp;i.parentNode.hasAttribute&amp;&amp;i.parentNode.hasAttribute(<span class="code-string">"data-vjs-player"</span>),n=<span class="code-string">"video-js"</span>===<span class="code-keyword">this</span>.tag.tagName.toLowerCase();e?t=<span class="code-keyword">this</span>.el_=i.parentNode:n||(t=<span class="code-keyword">this</span>.el_=c.prototype.createEl.call(<span class="code-keyword">this</span>,<span class="code-string">"div"</span>));<span class="code-keyword">var</span> r,a,s=ae(i);<span class="code-keyword">if</span>(n){<span class="code-keyword">for</span>(t=<span class="code-keyword">this</span>.el_=i,i=<span class="code-keyword">this</span>.tag=<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>);t.children.length;)i.appendChild(t.firstChild);ee(t,<span class="code-string">"video-js"</span>)||te(t,<span class="code-string">"video-js"</span>),t.appendChild(i),e=<span class="code-keyword">this</span>.playerElIngest_=t,<span class="code-built_in">Object</span>.keys(t).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">try</span>{i[e]=t[e]}<span class="code-keyword">catch</span>(e){}})}i.setAttribute(<span class="code-string">"tabindex"</span>,<span class="code-string">"-1"</span>),s.tabindex=<span class="code-string">"-1"</span>,(N||M&amp;&amp;B)&amp;&amp;(i.setAttribute(<span class="code-string">"role"</span>,<span class="code-string">"application"</span>),s.role=<span class="code-string">"application"</span>),i.removeAttribute(<span class="code-string">"width"</span>),i.removeAttribute(<span class="code-string">"height"</span>),<span class="code-string">"width"</span><span class="code-keyword">in</span> s&amp;&amp;<span class="code-keyword">delete</span> s.width,<span class="code-string">"height"</span><span class="code-keyword">in</span> s&amp;&amp;<span class="code-keyword">delete</span> s.height,<span class="code-built_in">Object</span>.getOwnPropertyNames(s).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n&amp;&amp;<span class="code-string">"class"</span>===e||t.setAttribute(e,s[e]),n&amp;&amp;i.setAttribute(e,s[e])}),i.playerId=i.id,i.id+=<span class="code-string">"_html5_api"</span>,i.className=<span class="code-string">"vjs-tech"</span>,(i.player=t.player=<span class="code-keyword">this</span>).addClass(<span class="code-string">"vjs-paused"</span>),!<span class="code-number">0</span>!==<span class="code-built_in">window</span>.VIDEOJS_NO_DYNAMIC_STYLE&amp;&amp;(<span class="code-keyword">this</span>.styleEl_=xe(<span class="code-string">"vjs-styles-dimensions"</span>),r=Te(<span class="code-string">".vjs-styles-defaults"</span>),(a=Te(<span class="code-string">"head"</span>)).insertBefore(<span class="code-keyword">this</span>.styleEl_,r?r.nextSibling:a.firstChild)),<span class="code-keyword">this</span>.fill_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.fluid_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.width(<span class="code-keyword">this</span>.options_.width),<span class="code-keyword">this</span>.height(<span class="code-keyword">this</span>.options_.height),<span class="code-keyword">this</span>.fill(<span class="code-keyword">this</span>.options_.fill),<span class="code-keyword">this</span>.fluid(<span class="code-keyword">this</span>.options_.fluid),<span class="code-keyword">this</span>.aspectRatio(<span class="code-keyword">this</span>.options_.aspectRatio),<span class="code-keyword">this</span>.crossOrigin(<span class="code-keyword">this</span>.options_.crossOrigin||<span class="code-keyword">this</span>.options_.crossorigin);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=i.getElementsByTagName(<span class="code-string">"a"</span>),u=<span class="code-number">0</span>;u&lt;o.length;u++){<span class="code-keyword">var</span> l=o.item(u);te(l,<span class="code-string">"vjs-hidden"</span>),l.setAttribute(<span class="code-string">"hidden"</span>,<span class="code-string">"hidden"</span>)}<span class="code-keyword">return</span> i.initNetworkState_=i.networkState,i.parentNode&amp;&amp;!e&amp;&amp;i.parentNode.insertBefore(t,i),Z(i,t),<span class="code-keyword">this</span>.children_.unshift(i),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"lang"</span>,<span class="code-keyword">this</span>.language_),<span class="code-keyword">this</span>.el_.setAttribute(<span class="code-string">"translate"</span>,<span class="code-string">"no"</span>),<span class="code-keyword">this</span>.el_=t},e.crossOrigin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"crossOrigin"</span>);<span class="code-string">"anonymous"</span>===e||<span class="code-string">"use-credentials"</span>===e?<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setCrossOrigin"</span>,e):h.warn(<span class="code-string">'crossOrigin must be "anonymous" or "use-credentials", given "'</span>+e+<span class="code-string">'"'</span>)},e.width=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.dimension(<span class="code-string">"width"</span>,e)},e.height=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.dimension(<span class="code-string">"height"</span>,e)},e.dimension=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e+<span class="code-string">"_"</span>;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>[i]||<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-string">""</span>===t||<span class="code-string">"auto"</span>===t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>[i]=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">void</span> <span class="code-keyword">this</span>.updateStyleEl_();<span class="code-keyword">var</span> n=<span class="code-built_in">parseFloat</span>(t);<span class="code-built_in">isNaN</span>(n)?h.error(<span class="code-string">'Improper value "'</span>+t+<span class="code-string">'" supplied for for '</span>+e):(<span class="code-keyword">this</span>[i]=n,<span class="code-keyword">this</span>.updateStyleEl_())},e.fluid=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>.fluid_;<span class="code-keyword">this</span>.fluid_=!!e,it(<span class="code-keyword">this</span>)&amp;&amp;<span class="code-keyword">this</span>.off([<span class="code-string">"playerreset"</span>,<span class="code-string">"resize"</span>],<span class="code-keyword">this</span>.boundUpdateStyleEl_),e?(<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-fluid"</span>),<span class="code-keyword">this</span>.fill(!<span class="code-number">1</span>),t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.on([<span class="code-string">"playerreset"</span>,<span class="code-string">"resize"</span>],i.boundUpdateStyleEl_)},it(e=<span class="code-keyword">this</span>)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-fluid"</span>),<span class="code-keyword">this</span>.updateStyleEl_()},e.fill=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>.fill_;<span class="code-keyword">this</span>.fill_=!!e,e?(<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-fill"</span>),<span class="code-keyword">this</span>.fluid(!<span class="code-number">1</span>)):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-fill"</span>)},e.aspectRatio=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.aspectRatio_;<span class="code-keyword">if</span>(!<span class="code-regexp">/^\d+\:\d+$/</span>.test(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Improper value supplied for aspect ratio. The format should be width:height, for example 16:9."</span>);<span class="code-keyword">this</span>.aspectRatio_=e,<span class="code-keyword">this</span>.fluid(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.updateStyleEl_()},e.updateStyleEl_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,i,n;!<span class="code-number">0</span>!==<span class="code-built_in">window</span>.VIDEOJS_NO_DYNAMIC_STYLE?(n=(i=(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.aspectRatio_&amp;&amp;<span class="code-string">"auto"</span>!==<span class="code-keyword">this</span>.aspectRatio_?<span class="code-keyword">this</span>.aspectRatio_:<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.videoWidth()?<span class="code-keyword">this</span>.videoWidth()+<span class="code-string">":"</span>+<span class="code-keyword">this</span>.videoHeight():<span class="code-string">"16:9"</span>).split(<span class="code-string">":"</span>))[<span class="code-number">1</span>]/i[<span class="code-number">0</span>],e=<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.width_?<span class="code-keyword">this</span>.width_:<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.height_?<span class="code-keyword">this</span>.height_/n:<span class="code-keyword">this</span>.videoWidth()||<span class="code-number">300</span>,t=<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.height_?<span class="code-keyword">this</span>.height_:e*n,i=<span class="code-regexp">/^[^a-zA-Z]/</span>.test(<span class="code-keyword">this</span>.id())?<span class="code-string">"dimensions-"</span>+<span class="code-keyword">this</span>.id():<span class="code-keyword">this</span>.id()+<span class="code-string">"-dimensions"</span>,<span class="code-keyword">this</span>.addClass(i),Ae(<span class="code-keyword">this</span>.styleEl_,<span class="code-string">"\n      ."</span>+i+<span class="code-string">" {\n        width: "</span>+e+<span class="code-string">"px;\n        height: "</span>+t+<span class="code-string">"px;\n      }\n\n      ."</span>+i+<span class="code-string">".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "</span>+<span class="code-number">100</span>*n+<span class="code-string">"%;\n      }\n    "</span>)):(t=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.width_?<span class="code-keyword">this</span>.width_:<span class="code-keyword">this</span>.options_.width,i=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.height_?<span class="code-keyword">this</span>.height_:<span class="code-keyword">this</span>.options_.height,(n=<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.el())&amp;&amp;(<span class="code-number">0</span>&lt;=t&amp;&amp;(n.width=t),<span class="code-number">0</span>&lt;=i&amp;&amp;(n.height=i)))},e.loadTech_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.unloadTech_();<span class="code-keyword">var</span> n=ut(e),r=e.charAt(<span class="code-number">0</span>).toLowerCase()+e.slice(<span class="code-number">1</span>);<span class="code-string">"Html5"</span>!==n&amp;&amp;<span class="code-keyword">this</span>.tag&amp;&amp;(ji.getTech(<span class="code-string">"Html5"</span>).disposeMediaElement(<span class="code-keyword">this</span>.tag),<span class="code-keyword">this</span>.tag.player=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.tag=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.techName_=n,<span class="code-keyword">this</span>.isReady_=!<span class="code-number">1</span>;<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.autoplay(),s={<span class="code-attr">source</span>:t,<span class="code-attr">autoplay</span>:a=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.autoplay()||!<span class="code-number">0</span>===<span class="code-keyword">this</span>.autoplay()&amp;&amp;<span class="code-keyword">this</span>.options_.normalizeAutoplay?!<span class="code-number">1</span>:a,<span class="code-attr">nativeControlsForTouch</span>:<span class="code-keyword">this</span>.options_.nativeControlsForTouch,<span class="code-attr">playerId</span>:<span class="code-keyword">this</span>.id(),<span class="code-attr">techId</span>:<span class="code-keyword">this</span>.id()+<span class="code-string">"_"</span>+r+<span class="code-string">"_api"</span>,<span class="code-attr">playsinline</span>:<span class="code-keyword">this</span>.options_.playsinline,<span class="code-attr">preload</span>:<span class="code-keyword">this</span>.options_.preload,<span class="code-attr">loop</span>:<span class="code-keyword">this</span>.options_.loop,<span class="code-attr">disablePictureInPicture</span>:<span class="code-keyword">this</span>.options_.disablePictureInPicture,<span class="code-attr">muted</span>:<span class="code-keyword">this</span>.options_.muted,<span class="code-attr">poster</span>:<span class="code-keyword">this</span>.poster(),<span class="code-attr">language</span>:<span class="code-keyword">this</span>.language(),<span class="code-attr">playerElIngest</span>:<span class="code-keyword">this</span>.playerElIngest_||!<span class="code-number">1</span>,<span class="code-string">"vtt.js"</span>:<span class="code-keyword">this</span>.options_[<span class="code-string">"vtt.js"</span>],<span class="code-attr">canOverridePoster</span>:!!<span class="code-keyword">this</span>.options_.techCanOverridePoster,<span class="code-attr">enableSourceset</span>:<span class="code-keyword">this</span>.options_.enableSourceset,<span class="code-attr">Promise</span>:<span class="code-keyword">this</span>.options_.Promise};oi.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=oi[e];s[e.getterName]=i[e.privateName]}),b(s,<span class="code-keyword">this</span>.options_[n]),b(s,<span class="code-keyword">this</span>.options_[r]),b(s,<span class="code-keyword">this</span>.options_[e.toLowerCase()]),<span class="code-keyword">this</span>.tag&amp;&amp;(s.tag=<span class="code-keyword">this</span>.tag),t&amp;&amp;t.src===<span class="code-keyword">this</span>.cache_.src&amp;&amp;<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.cache_.currentTime&amp;&amp;(s.startTime=<span class="code-keyword">this</span>.cache_.currentTime);e=ji.getTech(e);<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"No Tech named '"</span>+n+<span class="code-string">"' exists! '"</span>+n+<span class="code-string">"' should be registered using videojs.registerTech()'"</span>);<span class="code-keyword">this</span>.tech_=<span class="code-keyword">new</span> e(s),<span class="code-keyword">this</span>.tech_.ready(Ve(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.handleTechReady_),!<span class="code-number">0</span>),It(<span class="code-keyword">this</span>.textTracksJson_||[],<span class="code-keyword">this</span>.tech_),Mn.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i.on(i.tech_,t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i[<span class="code-string">"handleTech"</span>+ut(t)+<span class="code-string">"_"</span>](e)})}),<span class="code-built_in">Object</span>.keys(Rn).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{i.on(i.tech_,t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-number">0</span>===i.tech_.playbackRate()&amp;&amp;i.tech_.seeking()?i.queuedCallbacks_.push({<span class="code-attr">callback</span>:i[<span class="code-string">"handleTech"</span>+Rn[t]+<span class="code-string">"_"</span>].bind(i),<span class="code-attr">event</span>:e}):i[<span class="code-string">"handleTech"</span>+Rn[t]+<span class="code-string">"_"</span>](e)})}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechLoadStart_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"sourceset"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechSourceset_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"waiting"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechWaiting_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"ended"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechEnded_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"seeking"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechSeeking_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"play"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechPlay_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"firstplay"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechFirstPlay_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"pause"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechPause_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"durationchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechDurationChange_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"fullscreenchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i.handleTechFullscreenChange_(e,t)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"fullscreenerror"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i.handleTechFullscreenError_(e,t)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"enterpictureinpicture"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechEnterPictureInPicture_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"leavepictureinpicture"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechLeavePictureInPicture_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"error"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechError_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"posterchange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechPosterChange_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"textdata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechTextData_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"ratechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i.handleTechRateChange_(e)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"loadedmetadata"</span>,<span class="code-keyword">this</span>.boundUpdateStyleEl_),<span class="code-keyword">this</span>.usingNativeControls(<span class="code-keyword">this</span>.techGet_(<span class="code-string">"controls"</span>)),<span class="code-keyword">this</span>.controls()&amp;&amp;!<span class="code-keyword">this</span>.usingNativeControls()&amp;&amp;<span class="code-keyword">this</span>.addTechControlsListeners_(),<span class="code-keyword">this</span>.tech_.el().parentNode===<span class="code-keyword">this</span>.el()||<span class="code-string">"Html5"</span>===n&amp;&amp;<span class="code-keyword">this</span>.tag||Z(<span class="code-keyword">this</span>.tech_.el(),<span class="code-keyword">this</span>.el()),<span class="code-keyword">this</span>.tag&amp;&amp;(<span class="code-keyword">this</span>.tag.player=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.tag=<span class="code-literal">null</span>)},e.unloadTech_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;oi.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=oi[e];t[e.privateName]=t[e.getterName]()}),<span class="code-keyword">this</span>.textTracksJson_=Ct(<span class="code-keyword">this</span>.tech_),<span class="code-keyword">this</span>.isReady_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.tech_.dispose(),<span class="code-keyword">this</span>.tech_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.isPosterFromTech_&amp;&amp;(<span class="code-keyword">this</span>.poster_=<span class="code-string">""</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"posterchange"</span>)),<span class="code-keyword">this</span>.isPosterFromTech_=!<span class="code-number">1</span>},e.tech=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;h.warn(<span class="code-string">"Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"</span>),<span class="code-keyword">this</span>.tech_},e.addTechControlsListeners_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeTechControlsListeners_(),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"click"</span>,<span class="code-keyword">this</span>.boundHandleTechClick_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"dblclick"</span>,<span class="code-keyword">this</span>.boundHandleTechDoubleClick_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"touchstart"</span>,<span class="code-keyword">this</span>.boundHandleTechTouchStart_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.boundHandleTechTouchMove_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.boundHandleTechTouchEnd_),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.tech_,<span class="code-string">"tap"</span>,<span class="code-keyword">this</span>.boundHandleTechTap_)},e.removeTechControlsListeners_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.tech_,<span class="code-string">"tap"</span>,<span class="code-keyword">this</span>.boundHandleTechTap_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.tech_,<span class="code-string">"touchstart"</span>,<span class="code-keyword">this</span>.boundHandleTechTouchStart_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.tech_,<span class="code-string">"touchmove"</span>,<span class="code-keyword">this</span>.boundHandleTechTouchMove_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.tech_,<span class="code-string">"touchend"</span>,<span class="code-keyword">this</span>.boundHandleTechTouchEnd_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.tech_,<span class="code-string">"click"</span>,<span class="code-keyword">this</span>.boundHandleTechClick_),<span class="code-keyword">this</span>.off(<span class="code-keyword">this</span>.tech_,<span class="code-string">"dblclick"</span>,<span class="code-keyword">this</span>.boundHandleTechDoubleClick_)},e.handleTechReady_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.triggerReady(),<span class="code-keyword">this</span>.cache_.volume&amp;&amp;<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setVolume"</span>,<span class="code-keyword">this</span>.cache_.volume),<span class="code-keyword">this</span>.handleTechPosterChange_(),<span class="code-keyword">this</span>.handleTechDurationChange_()},e.handleTechLoadStart_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-seeking"</span>),<span class="code-keyword">this</span>.error(<span class="code-literal">null</span>),<span class="code-keyword">this</span>.handleTechDurationChange_(),<span class="code-keyword">this</span>.paused()?(<span class="code-keyword">this</span>.hasStarted(!<span class="code-number">1</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadstart"</span>)):(<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadstart"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"firstplay"</span>)),<span class="code-keyword">this</span>.manualAutoplay_(!<span class="code-number">0</span>===<span class="code-keyword">this</span>.autoplay()&amp;&amp;<span class="code-keyword">this</span>.options_.normalizeAutoplay?<span class="code-string">"play"</span>:<span class="code-keyword">this</span>.autoplay())},e.manualAutoplay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e){<span class="code-keyword">var</span> t,i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.muted();n.muted(!<span class="code-number">0</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{n.muted(e)}n.playTerminatedQueue_.push(t);<span class="code-keyword">var</span> i=n.play();<span class="code-keyword">if</span>(wt(i))<span class="code-keyword">return</span> i.catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">throw</span> t(),<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Rejection at manualAutoplay. Restoring muted value. "</span>+(e||<span class="code-string">""</span>))})};<span class="code-keyword">if</span>(<span class="code-string">"any"</span>!==e||<span class="code-keyword">this</span>.muted()?t=<span class="code-string">"muted"</span>!==e||<span class="code-keyword">this</span>.muted()?<span class="code-keyword">this</span>.play():i():wt(t=<span class="code-keyword">this</span>.play())&amp;&amp;(t=t.catch(i)),wt(t))<span class="code-keyword">return</span> t.then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.trigger({<span class="code-attr">type</span>:<span class="code-string">"autoplay-success"</span>,<span class="code-attr">autoplay</span>:e})}).catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.trigger({<span class="code-attr">type</span>:<span class="code-string">"autoplay-failure"</span>,<span class="code-attr">autoplay</span>:e})})}},e.updateSourceCaches_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-string">""</span>:e,i=<span class="code-string">""</span>;<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> t&amp;&amp;(t=e.src,i=e.type),<span class="code-keyword">this</span>.cache_.source=<span class="code-keyword">this</span>.cache_.source||{},<span class="code-keyword">this</span>.cache_.sources=<span class="code-keyword">this</span>.cache_.sources||[],t&amp;&amp;!i&amp;&amp;(i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">if</span>(e.cache_.source.src===t&amp;&amp;e.cache_.source.type)<span class="code-keyword">return</span> e.cache_.source.type;<span class="code-keyword">var</span> i=e.cache_.sources.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.src===t});<span class="code-keyword">if</span>(i.length)<span class="code-keyword">return</span> i[<span class="code-number">0</span>].type;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.$$(<span class="code-string">"source"</span>),r=<span class="code-number">0</span>;r&lt;n.length;r++){<span class="code-keyword">var</span> a=n[r];<span class="code-keyword">if</span>(a.type&amp;&amp;a.src&amp;&amp;a.src===t)<span class="code-keyword">return</span> a.type}<span class="code-keyword">return</span> $i(t)}(<span class="code-keyword">this</span>,t)),<span class="code-keyword">this</span>.cache_.source=lt({},e,{<span class="code-attr">src</span>:t,<span class="code-attr">type</span>:i});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.cache_.sources.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.src&amp;&amp;e.src===t}),n=[],r=<span class="code-keyword">this</span>.$$(<span class="code-string">"source"</span>),a=[],s=<span class="code-number">0</span>;s&lt;r.length;s++){<span class="code-keyword">var</span> o=ae(r[s]);n.push(o),o.src&amp;&amp;o.src===t&amp;&amp;a.push(o.src)}a.length&amp;&amp;!i.length?<span class="code-keyword">this</span>.cache_.sources=n:i.length||(<span class="code-keyword">this</span>.cache_.sources=[<span class="code-keyword">this</span>.cache_.source]),<span class="code-keyword">this</span>.cache_.src=t},e.handleTechSourceset_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.changingSrc_||(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> r.updateSourceCaches_(e)},i=<span class="code-keyword">this</span>.currentSource().src,n=e.src,i&amp;&amp;!<span class="code-regexp">/^blob:/</span>.test(i)&amp;&amp;<span class="code-regexp">/^blob:/</span>.test(n)&amp;&amp;(<span class="code-keyword">this</span>.lastSource_&amp;&amp;(<span class="code-keyword">this</span>.lastSource_.tech===n||<span class="code-keyword">this</span>.lastSource_.player===i)||(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{})),t(n),e.src||<span class="code-keyword">this</span>.tech_.any([<span class="code-string">"sourceset"</span>,<span class="code-string">"loadstart"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"sourceset"</span>!==e.type&amp;&amp;(e=r.techGet(<span class="code-string">"currentSrc"</span>),r.lastSource_.tech=e,r.updateSourceCaches_(e))})),<span class="code-keyword">this</span>.lastSource_={<span class="code-attr">player</span>:<span class="code-keyword">this</span>.currentSource().src,<span class="code-attr">tech</span>:e.src},<span class="code-keyword">this</span>.trigger({<span class="code-attr">src</span>:e.src,<span class="code-attr">type</span>:<span class="code-string">"sourceset"</span>})},e.hasStarted=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasStarted_;e!==<span class="code-keyword">this</span>.hasStarted_&amp;&amp;(<span class="code-keyword">this</span>.hasStarted_=e,<span class="code-keyword">this</span>.hasStarted_?(<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-has-started"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"firstplay"</span>)):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-has-started"</span>))},e.handleTechPlay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-paused"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-playing"</span>),<span class="code-keyword">this</span>.hasStarted(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"play"</span>)},e.handleTechRateChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.tech_.playbackRate()&amp;&amp;<span class="code-number">0</span>===<span class="code-keyword">this</span>.cache_.lastPlaybackRate&amp;&amp;(<span class="code-keyword">this</span>.queuedCallbacks_.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.callback(e.event)}),<span class="code-keyword">this</span>.queuedCallbacks_=[]),<span class="code-keyword">this</span>.cache_.lastPlaybackRate=<span class="code-keyword">this</span>.tech_.playbackRate(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"ratechange"</span>)},e.handleTechWaiting_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-waiting"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"waiting"</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.currentTime();<span class="code-keyword">this</span>.on(<span class="code-string">"timeupdate"</span>,<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{i!==t.currentTime()&amp;&amp;(t.removeClass(<span class="code-string">"vjs-waiting"</span>),t.off(<span class="code-string">"timeupdate"</span>,e))})},e.handleTechCanPlay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-waiting"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"canplay"</span>)},e.handleTechCanPlayThrough_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-waiting"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"canplaythrough"</span>)},e.handleTechPlaying_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-waiting"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"playing"</span>)},e.handleTechSeeking_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-seeking"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"seeking"</span>)},e.handleTechSeeked_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-seeking"</span>),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"seeked"</span>)},e.handleTechFirstPlay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.options_.starttime&amp;&amp;(h.warn(<span class="code-string">"Passing the `starttime` option to the player will be deprecated in 6.0"</span>),<span class="code-keyword">this</span>.currentTime(<span class="code-keyword">this</span>.options_.starttime)),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-has-started"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"firstplay"</span>)},e.handleTechPause_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-playing"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-paused"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"pause"</span>)},e.handleTechEnded_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-ended"</span>),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-waiting"</span>),<span class="code-keyword">this</span>.options_.loop?(<span class="code-keyword">this</span>.currentTime(<span class="code-number">0</span>),<span class="code-keyword">this</span>.play()):<span class="code-keyword">this</span>.paused()||<span class="code-keyword">this</span>.pause(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"ended"</span>)},e.handleTechDurationChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.duration(<span class="code-keyword">this</span>.techGet_(<span class="code-string">"duration"</span>))},e.handleTechClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.controls_&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.userActions&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.userActions.click&amp;&amp;!<span class="code-number">1</span>===<span class="code-keyword">this</span>.options_.userActions.click||(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.userActions&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options_.userActions.click?<span class="code-keyword">this</span>.options_.userActions.click.call(<span class="code-keyword">this</span>,e):<span class="code-keyword">this</span>.paused()?Et(<span class="code-keyword">this</span>.play()):<span class="code-keyword">this</span>.pause()))},e.handleTechDoubleClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.controls_&amp;&amp;(<span class="code-built_in">Array</span>.prototype.some.call(<span class="code-keyword">this</span>.$$(<span class="code-string">".vjs-control-bar, .vjs-modal-dialog"</span>),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.contains(t.target)})||<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.userActions&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.userActions.doubleClick&amp;&amp;!<span class="code-number">1</span>===<span class="code-keyword">this</span>.options_.userActions.doubleClick||(<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.options_.userActions&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options_.userActions.doubleClick?<span class="code-keyword">this</span>.options_.userActions.doubleClick.call(<span class="code-keyword">this</span>,t):<span class="code-keyword">this</span>.isFullscreen()?<span class="code-keyword">this</span>.exitFullscreen():<span class="code-keyword">this</span>.requestFullscreen()))},e.handleTechTap_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.userActive(!<span class="code-keyword">this</span>.userActive())},e.handleTechTouchStart_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.userWasActive=<span class="code-keyword">this</span>.userActive()},e.handleTechTouchMove_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.userWasActive&amp;&amp;<span class="code-keyword">this</span>.reportUserActivity()},e.handleTechTouchEnd_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.cancelable&amp;&amp;e.preventDefault()},e.handleStageClick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.reportUserActivity()},e.toggleFullscreenClass_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isFullscreen()?<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-fullscreen"</span>):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-fullscreen"</span>)},e.documentFullscreenChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.target.player;t&amp;&amp;t!==<span class="code-keyword">this</span>||(e=<span class="code-keyword">this</span>.el(),!(t=<span class="code-built_in">document</span>[<span class="code-keyword">this</span>.fsApi_.fullscreenElement]===e)&amp;&amp;e.matches?t=e.matches(<span class="code-string">":"</span>+<span class="code-keyword">this</span>.fsApi_.fullscreen):!t&amp;&amp;e.msMatchesSelector&amp;&amp;(t=e.msMatchesSelector(<span class="code-string">":"</span>+<span class="code-keyword">this</span>.fsApi_.fullscreen)),<span class="code-keyword">this</span>.isFullscreen(t))},e.handleTechFullscreenChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;t&amp;&amp;(t.nativeIOSFullscreen&amp;&amp;(<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-ios-native-fs"</span>),<span class="code-keyword">this</span>.tech_.one(<span class="code-string">"webkitendfullscreen"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.removeClass(<span class="code-string">"vjs-ios-native-fs"</span>)})),<span class="code-keyword">this</span>.isFullscreen(t.isFullscreen))},e.handleTechFullscreenError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenerror"</span>,t)},e.togglePictureInPictureClass_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isInPictureInPicture()?<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-picture-in-picture"</span>):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-picture-in-picture"</span>)},e.handleTechEnterPictureInPicture_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.isInPictureInPicture(!<span class="code-number">0</span>)},e.handleTechLeavePictureInPicture_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.isInPictureInPicture(!<span class="code-number">1</span>)},e.handleTechError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.tech_.error();<span class="code-keyword">this</span>.error(e)},e.handleTechTextData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"textdata"</span>,<span class="code-number">1</span>&lt;<span class="code-built_in">arguments</span>.length?<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]:<span class="code-literal">null</span>)},e.getCache=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cache_},e.resetCache_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.cache_={<span class="code-attr">currentTime</span>:<span class="code-number">0</span>,<span class="code-attr">initTime</span>:<span class="code-number">0</span>,<span class="code-attr">inactivityTimeout</span>:<span class="code-keyword">this</span>.options_.inactivityTimeout,<span class="code-attr">duration</span>:<span class="code-literal">NaN</span>,<span class="code-attr">lastVolume</span>:<span class="code-number">1</span>,<span class="code-attr">lastPlaybackRate</span>:<span class="code-keyword">this</span>.defaultPlaybackRate(),<span class="code-attr">media</span>:<span class="code-literal">null</span>,<span class="code-attr">src</span>:<span class="code-string">""</span>,<span class="code-attr">source</span>:{},<span class="code-attr">sources</span>:[],<span class="code-attr">playbackRates</span>:[],<span class="code-attr">volume</span>:<span class="code-number">1</span>}},e.techCall_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">this</span>.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(n <span class="code-keyword">in</span> Xi)<span class="code-keyword">return</span> e=<span class="code-keyword">this</span>.middleware_,t=<span class="code-keyword">this</span>.tech_,i=r,t[t=n](e.reduce(Yi(t),i));<span class="code-keyword">if</span>(n <span class="code-keyword">in</span> Ki)<span class="code-keyword">return</span> Gi(<span class="code-keyword">this</span>.middleware_,<span class="code-keyword">this</span>.tech_,n,r);<span class="code-keyword">var</span> e,t,i;<span class="code-keyword">try</span>{<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_[n](r)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">throw</span> h(e),e}},!<span class="code-number">0</span>)},e.techGet_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.isReady_){<span class="code-keyword">if</span>(t <span class="code-keyword">in</span> zi)<span class="code-keyword">return</span> e=<span class="code-keyword">this</span>.middleware_,i=<span class="code-keyword">this</span>.tech_,n=t,e.reduceRight(Yi(n),i[n]());<span class="code-keyword">if</span>(t <span class="code-keyword">in</span> Ki)<span class="code-keyword">return</span> Gi(<span class="code-keyword">this</span>.middleware_,<span class="code-keyword">this</span>.tech_,t);<span class="code-keyword">var</span> e,i,n;<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_[t]()}<span class="code-keyword">catch</span>(e){<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.tech_[t])<span class="code-keyword">throw</span> h(<span class="code-string">"Video.js: "</span>+t+<span class="code-string">" method not defined for "</span>+<span class="code-keyword">this</span>.techName_+<span class="code-string">" playback technology."</span>,e),e;<span class="code-keyword">if</span>(<span class="code-string">"TypeError"</span>===e.name)<span class="code-keyword">throw</span> h(<span class="code-string">"Video.js: "</span>+t+<span class="code-string">" unavailable on "</span>+<span class="code-keyword">this</span>.techName_+<span class="code-string">" playback technology element."</span>,e),<span class="code-keyword">this</span>.tech_.isReady_=!<span class="code-number">1</span>,e;<span class="code-keyword">throw</span> h(e),e}}},e.play=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,e=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">return</span> e?<span class="code-keyword">new</span> e(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.play_(e)}):<span class="code-keyword">this</span>.play_()},e.play_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.playCallbacks_.push(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?Et:e);e=<span class="code-built_in">Boolean</span>(!<span class="code-keyword">this</span>.changingSrc_&amp;&amp;(<span class="code-keyword">this</span>.src()||<span class="code-keyword">this</span>.currentSrc()));<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.waitToPlay_&amp;&amp;(<span class="code-keyword">this</span>.off([<span class="code-string">"ready"</span>,<span class="code-string">"loadstart"</span>],<span class="code-keyword">this</span>.waitToPlay_),<span class="code-keyword">this</span>.waitToPlay_=<span class="code-literal">null</span>),!<span class="code-keyword">this</span>.isReady_||!e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.waitToPlay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.play_()},<span class="code-keyword">this</span>.one([<span class="code-string">"ready"</span>,<span class="code-string">"loadstart"</span>],<span class="code-keyword">this</span>.waitToPlay_),<span class="code-keyword">void</span>(e||!V&amp;&amp;!q||<span class="code-keyword">this</span>.load());e=<span class="code-keyword">this</span>.techGet_(<span class="code-string">"play"</span>);<span class="code-literal">null</span>===e?<span class="code-keyword">this</span>.runPlayTerminatedQueue_():<span class="code-keyword">this</span>.runPlayCallbacks_(e)},e.runPlayTerminatedQueue_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.playTerminatedQueue_.slice(<span class="code-number">0</span>);<span class="code-keyword">this</span>.playTerminatedQueue_=[],e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e()})},e.runPlayCallbacks_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.playCallbacks_.slice(<span class="code-number">0</span>);<span class="code-keyword">this</span>.playCallbacks_=[],<span class="code-keyword">this</span>.playTerminatedQueue_=[],e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e(t)})},e.pause=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.techCall_(<span class="code-string">"pause"</span>)},e.paused=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.techGet_(<span class="code-string">"paused"</span>)},e.played=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"played"</span>)||vt(<span class="code-number">0</span>,<span class="code-number">0</span>)},e.scrubbing=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.scrubbing_;<span class="code-keyword">this</span>.scrubbing_=!!e,<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setScrubbing"</span>,<span class="code-keyword">this</span>.scrubbing_),e?<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-scrubbing"</span>):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-scrubbing"</span>)},e.currentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e?(e&lt;<span class="code-number">0</span>&amp;&amp;(e=<span class="code-number">0</span>),<span class="code-keyword">this</span>.isReady_&amp;&amp;!<span class="code-keyword">this</span>.changingSrc_&amp;&amp;<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.isReady_?(<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setCurrentTime"</span>,e),<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.cache_.initTime=<span class="code-number">0</span>)):(<span class="code-keyword">this</span>.cache_.initTime=e,<span class="code-keyword">this</span>.off(<span class="code-string">"canplay"</span>,<span class="code-keyword">this</span>.boundApplyInitTime_),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.one(<span class="code-string">"canplay"</span>,<span class="code-keyword">this</span>.boundApplyInitTime_))):(<span class="code-keyword">this</span>.cache_.currentTime=<span class="code-keyword">this</span>.techGet_(<span class="code-string">"currentTime"</span>)||<span class="code-number">0</span>,<span class="code-keyword">this</span>.cache_.currentTime)},e.applyInitTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.currentTime(<span class="code-keyword">this</span>.cache_.initTime)},e.duration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==<span class="code-keyword">this</span>.cache_.duration?<span class="code-keyword">this</span>.cache_.duration:<span class="code-literal">NaN</span>;(e=(e=<span class="code-built_in">parseFloat</span>(e))&lt;<span class="code-number">0</span>?<span class="code-number">1</span>/<span class="code-number">0</span>:e)!==<span class="code-keyword">this</span>.cache_.duration&amp;&amp;((<span class="code-keyword">this</span>.cache_.duration=e)===<span class="code-number">1</span>/<span class="code-number">0</span>?<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-live"</span>):<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-live"</span>),<span class="code-built_in">isNaN</span>(e)||<span class="code-keyword">this</span>.trigger(<span class="code-string">"durationchange"</span>))},e.remainingTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.duration()-<span class="code-keyword">this</span>.currentTime()},e.remainingTimeDisplay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.duration())-<span class="code-built_in">Math</span>.floor(<span class="code-keyword">this</span>.currentTime())},e.buffered=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">return</span> e=!(e=<span class="code-keyword">this</span>.techGet_(<span class="code-string">"buffered"</span>))||!e.length?vt(<span class="code-number">0</span>,<span class="code-number">0</span>):e},e.bufferedPercent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> _t(<span class="code-keyword">this</span>.buffered(),<span class="code-keyword">this</span>.duration())},e.bufferedEnd=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.buffered(),t=<span class="code-keyword">this</span>.duration(),e=e.end(e.length<span class="code-number">-1</span>);<span class="code-keyword">return</span> e=t&lt;e?t:e},e.volume=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(t=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,<span class="code-built_in">Math</span>.min(<span class="code-number">1</span>,<span class="code-built_in">parseFloat</span>(e))),<span class="code-keyword">this</span>.cache_.volume=t,<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setVolume"</span>,t),<span class="code-keyword">void</span>(<span class="code-number">0</span>&lt;t&amp;&amp;<span class="code-keyword">this</span>.lastVolume_(t))):(t=<span class="code-built_in">parseFloat</span>(<span class="code-keyword">this</span>.techGet_(<span class="code-string">"volume"</span>)),<span class="code-built_in">isNaN</span>(t)?<span class="code-number">1</span>:t)},e.muted=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"muted"</span>)||!<span class="code-number">1</span>;<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setMuted"</span>,e)},e.defaultMuted=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setDefaultMuted"</span>,e):<span class="code-keyword">this</span>.techGet_(<span class="code-string">"defaultMuted"</span>)||!<span class="code-number">1</span>},e.lastVolume_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e||<span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cache_.lastVolume;<span class="code-keyword">this</span>.cache_.lastVolume=e},e.supportsFullScreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"supportsFullScreen"</span>)||!<span class="code-number">1</span>},e.isFullscreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isFullscreen_;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.isFullscreen_;<span class="code-keyword">this</span>.isFullscreen_=<span class="code-built_in">Boolean</span>(e),<span class="code-keyword">this</span>.isFullscreen_!==t&amp;&amp;<span class="code-keyword">this</span>.fsApi_.prefixed&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"fullscreenchange"</span>),<span class="code-keyword">this</span>.toggleFullscreenClass_()},e.requestFullscreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s</span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> o=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">new</span> e(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{o.off(<span class="code-string">"fullscreenerror"</span>,r),o.off(<span class="code-string">"fullscreenchange"</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{n(),e()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e,t</span>)</span>{n(),i(t)}o.one(<span class="code-string">"fullscreenchange"</span>,t),o.one(<span class="code-string">"fullscreenerror"</span>,r);<span class="code-keyword">var</span> a=o.requestFullscreenHelper_(s);a&amp;&amp;(a.then(n,n),a.then(e,i))})}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.requestFullscreenHelper_()},e.requestFullscreenHelper_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.fsApi_.prefixed||(i=<span class="code-keyword">this</span>.options_.fullscreen&amp;&amp;<span class="code-keyword">this</span>.options_.fullscreen.options||{},<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;(i=e)),<span class="code-keyword">this</span>.fsApi_.requestFullscreen){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.el_[<span class="code-keyword">this</span>.fsApi_.requestFullscreen](i);<span class="code-keyword">return</span> i&amp;&amp;i.then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.isFullscreen(!<span class="code-number">0</span>)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.isFullscreen(!<span class="code-number">1</span>)}),i}<span class="code-keyword">this</span>.tech_.supportsFullScreen()&amp;&amp;!<span class="code-number">0</span>==!<span class="code-keyword">this</span>.options_.preferFullWindow?<span class="code-keyword">this</span>.techCall_(<span class="code-string">"enterFullScreen"</span>):<span class="code-keyword">this</span>.enterFullWindow()},e.exitFullscreen=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-keyword">new</span> e(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{s.off(<span class="code-string">"fullscreenerror"</span>,r),s.off(<span class="code-string">"fullscreenchange"</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{n(),e()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e,t</span>)</span>{n(),i(t)}s.one(<span class="code-string">"fullscreenchange"</span>,t),s.one(<span class="code-string">"fullscreenerror"</span>,r);<span class="code-keyword">var</span> a=s.exitFullscreenHelper_();a&amp;&amp;(a.then(n,n),a.then(e,i))})}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.exitFullscreenHelper_()},e.exitFullscreenHelper_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.fsApi_.requestFullscreen){<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>[<span class="code-keyword">this</span>.fsApi_.exitFullscreen]();<span class="code-keyword">return</span> t&amp;&amp;Et(t.then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.isFullscreen(!<span class="code-number">1</span>)})),t}<span class="code-keyword">this</span>.tech_.supportsFullScreen()&amp;&amp;!<span class="code-number">0</span>==!<span class="code-keyword">this</span>.options_.preferFullWindow?<span class="code-keyword">this</span>.techCall_(<span class="code-string">"exitFullScreen"</span>):<span class="code-keyword">this</span>.exitFullWindow()},e.enterFullWindow=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isFullscreen(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.isFullWindow=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.docOrigOverflow=<span class="code-built_in">document</span>.documentElement.style.overflow,Be(<span class="code-built_in">document</span>,<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.boundFullWindowOnEscKey_),<span class="code-built_in">document</span>.documentElement.style.overflow=<span class="code-string">"hidden"</span>,te(<span class="code-built_in">document</span>.body,<span class="code-string">"vjs-full-window"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"enterFullWindow"</span>)},e.fullWindowOnEscKey=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{ht.isEventKey(e,<span class="code-string">"Esc"</span>)&amp;&amp;!<span class="code-number">0</span>===<span class="code-keyword">this</span>.isFullscreen()&amp;&amp;(<span class="code-keyword">this</span>.isFullWindow?<span class="code-keyword">this</span>.exitFullWindow():<span class="code-keyword">this</span>.exitFullscreen())},e.exitFullWindow=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.isFullscreen(!<span class="code-number">1</span>),<span class="code-keyword">this</span>.isFullWindow=!<span class="code-number">1</span>,Fe(<span class="code-built_in">document</span>,<span class="code-string">"keydown"</span>,<span class="code-keyword">this</span>.boundFullWindowOnEscKey_),<span class="code-built_in">document</span>.documentElement.style.overflow=<span class="code-keyword">this</span>.docOrigOverflow,ie(<span class="code-built_in">document</span>.body,<span class="code-string">"vjs-full-window"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"exitFullWindow"</span>)},e.disablePictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"disablePictureInPicture"</span>);<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setDisablePictureInPicture"</span>,e),<span class="code-keyword">this</span>.options_.disablePictureInPicture=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"disablepictureinpicturechanged"</span>)},e.isInPictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-keyword">this</span>.isInPictureInPicture_=!!e,<span class="code-keyword">void</span> <span class="code-keyword">this</span>.togglePictureInPictureClass_()):!!<span class="code-keyword">this</span>.isInPictureInPicture_},e.requestPictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"pictureInPictureEnabled"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>&amp;&amp;!<span class="code-number">1</span>===<span class="code-keyword">this</span>.disablePictureInPicture())<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"requestPictureInPicture"</span>)},e.exitPictureInPicture=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"pictureInPictureEnabled"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>)<span class="code-keyword">return</span> <span class="code-built_in">document</span>.exitPictureInPicture()},e.handleKeyDown=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.options_.userActions;t&amp;&amp;t.hotkeys&amp;&amp;(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.tagName.toLowerCase();<span class="code-keyword">if</span>(e.isContentEditable)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-string">"input"</span>===t)<span class="code-keyword">return</span><span class="code-number">-1</span>===[<span class="code-string">"button"</span>,<span class="code-string">"checkbox"</span>,<span class="code-string">"hidden"</span>,<span class="code-string">"radio"</span>,<span class="code-string">"reset"</span>,<span class="code-string">"submit"</span>].indexOf(e.type);<span class="code-keyword">return</span><span class="code-number">-1</span>!==[<span class="code-string">"textarea"</span>].indexOf(t)}(<span class="code-keyword">this</span>.el_.ownerDocument.activeElement)||(<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t.hotkeys?t.hotkeys.call(<span class="code-keyword">this</span>,e):<span class="code-keyword">this</span>.handleHotkeys(e)))},e.handleHotkeys=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.options_.userActions?<span class="code-keyword">this</span>.options_.userActions.hotkeys:{},i=t.fullscreenKey,n=t.muteKey,n=<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ht.isEventKey(e,<span class="code-string">"m"</span>)}:n,t=t.playPauseKey,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ht.isEventKey(e,<span class="code-string">"k"</span>)||ht.isEventKey(e,<span class="code-string">"Space"</span>)}:t;(<span class="code-keyword">void</span> <span class="code-number">0</span>===i?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ht.isEventKey(e,<span class="code-string">"f"</span>)}:i).call(<span class="code-keyword">this</span>,e)?(e.preventDefault(),e.stopPropagation(),i=pt.getComponent(<span class="code-string">"FullscreenToggle"</span>),!<span class="code-number">1</span>!==<span class="code-built_in">document</span>[<span class="code-keyword">this</span>.fsApi_.fullscreenEnabled]&amp;&amp;i.prototype.handleClick.call(<span class="code-keyword">this</span>,e)):n.call(<span class="code-keyword">this</span>,e)?(e.preventDefault(),e.stopPropagation(),pt.getComponent(<span class="code-string">"MuteToggle"</span>).prototype.handleClick.call(<span class="code-keyword">this</span>,e)):t.call(<span class="code-keyword">this</span>,e)&amp;&amp;(e.preventDefault(),e.stopPropagation(),pt.getComponent(<span class="code-string">"PlayToggle"</span>).prototype.handleClick.call(<span class="code-keyword">this</span>,e))},e.canPlayType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=<span class="code-number">0</span>,n=<span class="code-keyword">this</span>.options_.techOrder;i&lt;n.length;i++){<span class="code-keyword">var</span> r=n[i],a=ji.getTech(r);<span class="code-keyword">if</span>(a=a||pt.getComponent(r)){<span class="code-keyword">if</span>(a.isSupported()&amp;&amp;(t=a.canPlayType(e)))<span class="code-keyword">return</span> t}<span class="code-keyword">else</span> h.error(<span class="code-string">'The "'</span>+r+<span class="code-string">'" tech is undefined. Skipped browser support check for that tech.'</span>)}<span class="code-keyword">return</span><span class="code-string">""</span>},e.selectSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e,i,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">return</span> e.some(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> i.some(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(r=n(t,e))<span class="code-keyword">return</span>!<span class="code-number">0</span>})}),r}<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.options_.techOrder.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>[e,ji.getTech(e)]}).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e[<span class="code-number">0</span>],e=e[<span class="code-number">1</span>];<span class="code-keyword">return</span> e?e.isSupported():(h.error(<span class="code-string">'The "'</span>+t+<span class="code-string">'" tech is undefined. Skipped browser support check for that tech.'</span>),!<span class="code-number">1</span>)}),a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e[<span class="code-number">0</span>];<span class="code-keyword">if</span>(e[<span class="code-number">1</span>].canPlaySource(t,n.options_[i.toLowerCase()]))<span class="code-keyword">return</span>{<span class="code-attr">source</span>:t,<span class="code-attr">tech</span>:i}},a=<span class="code-keyword">this</span>.options_.sourceOrder?t(e,r,(i=a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i(t,e)})):t(r,e,a);<span class="code-keyword">return</span> a||!<span class="code-number">1</span>},e.handleSrc_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cache_.src||<span class="code-string">""</span>;<span class="code-keyword">this</span>.resetRetryOnError_&amp;&amp;<span class="code-keyword">this</span>.resetRetryOnError_();<span class="code-keyword">var</span> t,i,a=Ji(e);a.length?(<span class="code-keyword">this</span>.changingSrc_=!<span class="code-number">0</span>,n||(<span class="code-keyword">this</span>.cache_.sources=a),<span class="code-keyword">this</span>.updateSourceCaches_(a[<span class="code-number">0</span>]),Wi(<span class="code-keyword">this</span>,a[<span class="code-number">0</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span> r.middleware_=t,n||(r.cache_.sources=a),r.updateSourceCaches_(e),r.src_(e)?<span class="code-number">1</span>&lt;a.length?r.handleSrc_(a.slice(<span class="code-number">1</span>)):(r.changingSrc_=!<span class="code-number">1</span>,r.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.error({<span class="code-attr">code</span>:<span class="code-number">4</span>,<span class="code-attr">message</span>:<span class="code-keyword">this</span>.options_.notSupportedMessage})},<span class="code-number">0</span>),<span class="code-keyword">void</span> r.triggerReady()):(t=t,i=r.tech_,<span class="code-keyword">void</span> t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.setTech&amp;&amp;e.setTech(i)}))}),<span class="code-keyword">this</span>.options_.retryOnError&amp;&amp;<span class="code-number">1</span>&lt;a.length&amp;&amp;(i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.off(<span class="code-string">"error"</span>,t)},<span class="code-keyword">this</span>.one(<span class="code-string">"error"</span>,t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.error(<span class="code-literal">null</span>),r.handleSrc_(a.slice(<span class="code-number">1</span>),!<span class="code-number">0</span>)}),<span class="code-keyword">this</span>.one(<span class="code-string">"playing"</span>,i),<span class="code-keyword">this</span>.resetRetryOnError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.off(<span class="code-string">"error"</span>,t),r.off(<span class="code-string">"playing"</span>,i)})):<span class="code-keyword">this</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.error({<span class="code-attr">code</span>:<span class="code-number">4</span>,<span class="code-attr">message</span>:<span class="code-keyword">this</span>.options_.notSupportedMessage})},<span class="code-number">0</span>)},e.src=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.handleSrc_(e,!<span class="code-number">1</span>)},e.src_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.selectSource([e]);<span class="code-keyword">return</span>!r||(t=r.tech,i=<span class="code-keyword">this</span>.techName_,ut(t)!==ut(i)?(<span class="code-keyword">this</span>.changingSrc_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.loadTech_(r.tech,r.source),<span class="code-keyword">this</span>.tech_.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.changingSrc_=!<span class="code-number">1</span>})):<span class="code-keyword">this</span>.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_.constructor.prototype.hasOwnProperty(<span class="code-string">"setSource"</span>)?<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setSource"</span>,e):<span class="code-keyword">this</span>.techCall_(<span class="code-string">"src"</span>,e.src),<span class="code-keyword">this</span>.changingSrc_=!<span class="code-number">1</span>},!<span class="code-number">0</span>),!<span class="code-number">1</span>)},e.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.techCall_(<span class="code-string">"load"</span>)},e.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">this</span>.paused()||!t?<span class="code-keyword">this</span>.doReset_():Et(<span class="code-keyword">this</span>.play().then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.doReset_()}))},e.doReset_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.clearTracks(<span class="code-string">"text"</span>),<span class="code-keyword">this</span>.resetCache_(),<span class="code-keyword">this</span>.poster(<span class="code-string">""</span>),<span class="code-keyword">this</span>.loadTech_(<span class="code-keyword">this</span>.options_.techOrder[<span class="code-number">0</span>],<span class="code-literal">null</span>),<span class="code-keyword">this</span>.techCall_(<span class="code-string">"reset"</span>),<span class="code-keyword">this</span>.resetControlBarUI_(),it(<span class="code-keyword">this</span>)&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"playerreset"</span>)},e.resetControlBarUI_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.resetProgressBar_(),<span class="code-keyword">this</span>.resetPlaybackRate_(),<span class="code-keyword">this</span>.resetVolumeBar_()},e.resetProgressBar_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.currentTime(<span class="code-number">0</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.controlBar||{},t=e.durationDisplay,e=e.remainingTimeDisplay;t&amp;&amp;t.updateContent(),e&amp;&amp;e.updateContent()},e.resetPlaybackRate_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.playbackRate(<span class="code-keyword">this</span>.defaultPlaybackRate()),<span class="code-keyword">this</span>.handleTechRateChange_()},e.resetVolumeBar_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.volume(<span class="code-number">1</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"volumechange"</span>)},e.currentSources=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.currentSource(),t=[];<span class="code-keyword">return</span> <span class="code-number">0</span>!==<span class="code-built_in">Object</span>.keys(e).length&amp;&amp;t.push(e),<span class="code-keyword">this</span>.cache_.sources||t},e.currentSource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cache_.source||{}},e.currentSrc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentSource()&amp;&amp;<span class="code-keyword">this</span>.currentSource().src||<span class="code-string">""</span>},e.currentType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.currentSource()&amp;&amp;<span class="code-keyword">this</span>.currentSource().type||<span class="code-string">""</span>},e.preload=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setPreload"</span>,e),<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.options_.preload=e)):<span class="code-keyword">this</span>.techGet_(<span class="code-string">"preload"</span>)},e.autoplay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options_.autoplay||!<span class="code-number">1</span>;<span class="code-keyword">var</span> t;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-regexp">/(any|play|muted)/</span>.test(e)||!<span class="code-number">0</span>===e&amp;&amp;<span class="code-keyword">this</span>.options_.normalizeAutoplay?(<span class="code-keyword">this</span>.options_.autoplay=e,<span class="code-keyword">this</span>.manualAutoplay_(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?e:<span class="code-string">"play"</span>),t=!<span class="code-number">1</span>):<span class="code-keyword">this</span>.options_.autoplay=!!e,t=<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t?<span class="code-keyword">this</span>.options_.autoplay:t,<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setAutoplay"</span>,t)},e.playsinline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setPlaysinline"</span>,e),<span class="code-keyword">this</span>.options_.playsinline=e,<span class="code-keyword">this</span>):<span class="code-keyword">this</span>.techGet_(<span class="code-string">"playsinline"</span>)},e.loop=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?(<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setLoop"</span>,e),<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.options_.loop=e)):<span class="code-keyword">this</span>.techGet_(<span class="code-string">"loop"</span>)},e.poster=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.poster_;(e=e||<span class="code-string">""</span>)!==<span class="code-keyword">this</span>.poster_&amp;&amp;(<span class="code-keyword">this</span>.poster_=e,<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setPoster"</span>,e),<span class="code-keyword">this</span>.isPosterFromTech_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"posterchange"</span>))},e.handleTechPosterChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.poster_&amp;&amp;!<span class="code-keyword">this</span>.options_.techCanOverridePoster||!<span class="code-keyword">this</span>.tech_||!<span class="code-keyword">this</span>.tech_.poster||(e=<span class="code-keyword">this</span>.tech_.poster()||<span class="code-string">""</span>)!==<span class="code-keyword">this</span>.poster_&amp;&amp;(<span class="code-keyword">this</span>.poster_=e,<span class="code-keyword">this</span>.isPosterFromTech_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"posterchange"</span>))},e.controls=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>.controls_;<span class="code-keyword">this</span>.controls_!==(e=!!e)&amp;&amp;(<span class="code-keyword">this</span>.controls_=e,<span class="code-keyword">this</span>.usingNativeControls()&amp;&amp;<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setControls"</span>,e),<span class="code-keyword">this</span>.controls_?(<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-controls-disabled"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-controls-enabled"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"controlsenabled"</span>),<span class="code-keyword">this</span>.usingNativeControls()||<span class="code-keyword">this</span>.addTechControlsListeners_()):(<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-controls-enabled"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-controls-disabled"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"controlsdisabled"</span>),<span class="code-keyword">this</span>.usingNativeControls()||<span class="code-keyword">this</span>.removeTechControlsListeners_()))},e.usingNativeControls=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>.usingNativeControls_;<span class="code-keyword">this</span>.usingNativeControls_!==(e=!!e)&amp;&amp;(<span class="code-keyword">this</span>.usingNativeControls_=e,<span class="code-keyword">this</span>.usingNativeControls_?(<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-using-native-controls"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"usingnativecontrols"</span>)):(<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-using-native-controls"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"usingcustomcontrols"</span>)))},e.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.error_||<span class="code-literal">null</span>;<span class="code-keyword">if</span>(a(<span class="code-string">"beforeerror"</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e(i,t);T(e)&amp;&amp;!<span class="code-built_in">Array</span>.isArray(e)||<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e||<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e||<span class="code-literal">null</span>===e?t=e:i.log.error(<span class="code-string">"please return a value that MediaError expects in beforeerror hooks"</span>)}),<span class="code-keyword">this</span>.options_.suppressNotSupportedError&amp;&amp;t&amp;&amp;<span class="code-number">4</span>===t.code){<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.error(t)};<span class="code-keyword">return</span> <span class="code-keyword">this</span>.options_.suppressNotSupportedError=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.any([<span class="code-string">"click"</span>,<span class="code-string">"touchstart"</span>],e),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.one(<span class="code-string">"loadstart"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.off([<span class="code-string">"click"</span>,<span class="code-string">"touchstart"</span>],e)})}<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.error_=t,<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-error"</span>),<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.errorDisplay&amp;&amp;<span class="code-keyword">this</span>.errorDisplay.close());<span class="code-keyword">this</span>.error_=<span class="code-keyword">new</span> bt(t),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-error"</span>),h.error(<span class="code-string">"(CODE:"</span>+<span class="code-keyword">this</span>.error_.code+<span class="code-string">" "</span>+bt.errorTypes[<span class="code-keyword">this</span>.error_.code]+<span class="code-string">")"</span>,<span class="code-keyword">this</span>.error_.message,<span class="code-keyword">this</span>.error_),<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>),a(<span class="code-string">"error"</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e(i,i.error_)})},e.reportUserActivity=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.userActivity_=!<span class="code-number">0</span>},e.userActive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.userActive_;<span class="code-keyword">if</span>((e=!!e)!==<span class="code-keyword">this</span>.userActive_){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.userActive_=e,<span class="code-keyword">this</span>.userActive_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.userActivity_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-user-inactive"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-user-active"</span>),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"useractive"</span>);<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.one(<span class="code-string">"mousemove"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.stopPropagation(),e.preventDefault()}),<span class="code-keyword">this</span>.userActivity_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-user-active"</span>),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-user-inactive"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"userinactive"</span>)}},e.listenForUserActivity_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,i,n,r=Ve(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.reportUserActivity),e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r(),<span class="code-keyword">this</span>.clearInterval(t)};<span class="code-keyword">this</span>.on(<span class="code-string">"mousedown"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r(),<span class="code-keyword">this</span>.clearInterval(t),t=<span class="code-keyword">this</span>.setInterval(r,<span class="code-number">250</span>)}),<span class="code-keyword">this</span>.on(<span class="code-string">"mousemove"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.screenX===i&amp;&amp;e.screenY===n||(i=e.screenX,n=e.screenY,r())}),<span class="code-keyword">this</span>.on(<span class="code-string">"mouseup"</span>,e),<span class="code-keyword">this</span>.on(<span class="code-string">"mouseleave"</span>,e);<span class="code-keyword">var</span> a,e=<span class="code-keyword">this</span>.getChild(<span class="code-string">"controlBar"</span>);!e||q||A||(e.on(<span class="code-string">"mouseenter"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-number">0</span>!==<span class="code-keyword">this</span>.player().options_.inactivityTimeout&amp;&amp;(<span class="code-keyword">this</span>.player().cache_.inactivityTimeout=<span class="code-keyword">this</span>.player().options_.inactivityTimeout),<span class="code-keyword">this</span>.player().options_.inactivityTimeout=<span class="code-number">0</span>}),e.on(<span class="code-string">"mouseleave"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.player().options_.inactivityTimeout=<span class="code-keyword">this</span>.player().cache_.inactivityTimeout})),<span class="code-keyword">this</span>.on(<span class="code-string">"keydown"</span>,r),<span class="code-keyword">this</span>.on(<span class="code-string">"keyup"</span>,r),<span class="code-keyword">this</span>.setInterval(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.userActivity_&amp;&amp;(<span class="code-keyword">this</span>.userActivity_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.userActive(!<span class="code-number">0</span>),<span class="code-keyword">this</span>.clearTimeout(a),(e=<span class="code-keyword">this</span>.options_.inactivityTimeout)&lt;=<span class="code-number">0</span>||(a=<span class="code-keyword">this</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.userActivity_||<span class="code-keyword">this</span>.userActive(!<span class="code-number">1</span>)},e)))},<span class="code-number">250</span>)},e.playbackRate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.featuresPlaybackRate?<span class="code-keyword">this</span>.cache_.lastPlaybackRate||<span class="code-keyword">this</span>.techGet_(<span class="code-string">"playbackRate"</span>):<span class="code-number">1</span>;<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setPlaybackRate"</span>,e)},e.defaultPlaybackRate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>!==e?<span class="code-keyword">this</span>.techCall_(<span class="code-string">"setDefaultPlaybackRate"</span>,e):<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.featuresPlaybackRate?<span class="code-keyword">this</span>.techGet_(<span class="code-string">"defaultPlaybackRate"</span>):<span class="code-number">1</span>},e.isAudio=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>.isAudio_;<span class="code-keyword">this</span>.isAudio_=!!e},e.enableAudioOnlyUI_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-audio-only-mode"</span>);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.children(),i=<span class="code-keyword">this</span>.getChild(<span class="code-string">"ControlBar"</span>),n=i&amp;&amp;i.currentHeight();e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e!==i&amp;&amp;e.el_&amp;&amp;!e.hasClass(<span class="code-string">"vjs-hidden"</span>)&amp;&amp;(e.hide(),t.audioOnlyCache_.hiddenChildren.push(e))}),<span class="code-keyword">this</span>.audioOnlyCache_.playerHeight=<span class="code-keyword">this</span>.currentHeight(),<span class="code-keyword">this</span>.height(n),<span class="code-keyword">this</span>.trigger(<span class="code-string">"audioonlymodechange"</span>)},e.disableAudioOnlyUI_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-audio-only-mode"</span>),<span class="code-keyword">this</span>.audioOnlyCache_.hiddenChildren.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.show()}),<span class="code-keyword">this</span>.height(<span class="code-keyword">this</span>.audioOnlyCache_.playerHeight),<span class="code-keyword">this</span>.trigger(<span class="code-string">"audioonlymodechange"</span>)},e.audioOnlyMode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-string">"boolean"</span>!=<span class="code-keyword">typeof</span> e||e===<span class="code-keyword">this</span>.audioOnlyMode_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.audioOnlyMode_;<span class="code-keyword">this</span>.audioOnlyMode_=e;<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">if</span>(i){<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> n=[];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isInPictureInPicture()&amp;&amp;n.push(<span class="code-keyword">this</span>.exitPictureInPicture()),<span class="code-keyword">this</span>.isFullscreen()&amp;&amp;n.push(<span class="code-keyword">this</span>.exitFullscreen()),<span class="code-keyword">this</span>.audioPosterMode()&amp;&amp;n.push(<span class="code-keyword">this</span>.audioPosterMode(!<span class="code-number">1</span>)),i.all(n).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.enableAudioOnlyUI_()})}<span class="code-keyword">return</span> i.resolve().then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.disableAudioOnlyUI_()})}e?(<span class="code-keyword">this</span>.isInPictureInPicture()&amp;&amp;<span class="code-keyword">this</span>.exitPictureInPicture(),<span class="code-keyword">this</span>.isFullscreen()&amp;&amp;<span class="code-keyword">this</span>.exitFullscreen(),<span class="code-keyword">this</span>.enableAudioOnlyUI_()):<span class="code-keyword">this</span>.disableAudioOnlyUI_()},e.enablePosterModeUI_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{(<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_).hide(),<span class="code-keyword">this</span>.addClass(<span class="code-string">"vjs-audio-poster-mode"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"audiopostermodechange"</span>)},e.disablePosterModeUI_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{(<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_).show(),<span class="code-keyword">this</span>.removeClass(<span class="code-string">"vjs-audio-poster-mode"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"audiopostermodechange"</span>)},e.audioPosterMode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-string">"boolean"</span>!=<span class="code-keyword">typeof</span> e||e===<span class="code-keyword">this</span>.audioPosterMode_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.audioPosterMode_;<span class="code-keyword">this</span>.audioPosterMode_=e;<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.options_.Promise||<span class="code-built_in">window</span>.Promise;<span class="code-keyword">return</span> i?e?(<span class="code-keyword">this</span>.audioOnlyMode()?<span class="code-keyword">this</span>.audioOnlyMode(!<span class="code-number">1</span>):i.resolve()).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.enablePosterModeUI_()}):i.resolve().then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.disablePosterModeUI_()}):e?(<span class="code-keyword">this</span>.audioOnlyMode()&amp;&amp;<span class="code-keyword">this</span>.audioOnlyMode(!<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.enablePosterModeUI_()):<span class="code-keyword">void</span> <span class="code-keyword">this</span>.disablePosterModeUI_()},e.addTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.tech_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_.addTextTrack(e,t,i)},e.addRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.tech_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_.addRemoteTextTrack(e,t)},e.removeRemoteTextTrack=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=(t=(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e).track)||e;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.tech_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_.removeRemoteTextTrack(t)},e.getVideoPlaybackQuality=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(<span class="code-string">"getVideoPlaybackQuality"</span>)},e.videoWidth=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.videoWidth&amp;&amp;<span class="code-keyword">this</span>.tech_.videoWidth()||<span class="code-number">0</span>},e.videoHeight=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.videoHeight&amp;&amp;<span class="code-keyword">this</span>.tech_.videoHeight()||<span class="code-number">0</span>},e.language=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.language_;<span class="code-keyword">this</span>.language_!==<span class="code-built_in">String</span>(e).toLowerCase()&amp;&amp;(<span class="code-keyword">this</span>.language_=<span class="code-built_in">String</span>(e).toLowerCase(),it(<span class="code-keyword">this</span>)&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"languagechange"</span>))},e.languages=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> lt(o.prototype.options_.languages,<span class="code-keyword">this</span>.languages_)},e.toJSON=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=lt(<span class="code-keyword">this</span>.options_),t=e.tracks;e.tracks=[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;t.length;i++){<span class="code-keyword">var</span> n=t[i];(n=lt(n)).player=<span class="code-keyword">void</span> <span class="code-number">0</span>,e.tracks[i]=n}<span class="code-keyword">return</span> e},e.createModal=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;(t=t||{}).content=e||<span class="code-string">""</span>;<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> At(<span class="code-keyword">this</span>,t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.addChild(n),n.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.removeChild(n)}),n.open(),n},e.updateCurrentBreakpoint_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.responsive())<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.currentBreakpoint(),t=<span class="code-keyword">this</span>.currentWidth(),i=<span class="code-number">0</span>;i&lt;Nn.length;i++){<span class="code-keyword">var</span> n=Nn[i];<span class="code-keyword">if</span>(t&lt;=<span class="code-keyword">this</span>.breakpoints_[n]){<span class="code-keyword">if</span>(e===n)<span class="code-keyword">return</span>;e&amp;&amp;<span class="code-keyword">this</span>.removeClass(Un[e]),<span class="code-keyword">this</span>.addClass(Un[n]),<span class="code-keyword">this</span>.breakpoint_=n;<span class="code-keyword">break</span>}}},e.removeCurrentBreakpoint_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.currentBreakpointClass();<span class="code-keyword">this</span>.breakpoint_=<span class="code-string">""</span>,e&amp;&amp;<span class="code-keyword">this</span>.removeClass(e)},e.breakpoints=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e||(<span class="code-keyword">this</span>.breakpoint_=<span class="code-string">""</span>,<span class="code-keyword">this</span>.breakpoints_=b({},Bn,e),<span class="code-keyword">this</span>.updateCurrentBreakpoint_()),b(<span class="code-keyword">this</span>.breakpoints_)},e.responsive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-keyword">this</span>.responsive_:(e=<span class="code-built_in">Boolean</span>(e))!==<span class="code-keyword">this</span>.responsive_?((<span class="code-keyword">this</span>.responsive_=e)?(<span class="code-keyword">this</span>.on(<span class="code-string">"playerresize"</span>,<span class="code-keyword">this</span>.boundUpdateCurrentBreakpoint_),<span class="code-keyword">this</span>.updateCurrentBreakpoint_()):(<span class="code-keyword">this</span>.off(<span class="code-string">"playerresize"</span>,<span class="code-keyword">this</span>.boundUpdateCurrentBreakpoint_),<span class="code-keyword">this</span>.removeCurrentBreakpoint_()),e):<span class="code-keyword">void</span> <span class="code-number">0</span>},e.currentBreakpoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.breakpoint_},e.currentBreakpointClass=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Un[<span class="code-keyword">this</span>.breakpoint_]||<span class="code-string">""</span>},e.loadMedia=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r,a=<span class="code-keyword">this</span>;e&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(<span class="code-keyword">this</span>.reset(),<span class="code-keyword">this</span>.cache_.media=lt(e),i=(r=<span class="code-keyword">this</span>.cache_.media).artwork,n=r.poster,e=r.src,r=r.textTracks,!i&amp;&amp;n&amp;&amp;(<span class="code-keyword">this</span>.cache_.media.artwork=[{<span class="code-attr">src</span>:n,<span class="code-attr">type</span>:$i(n)}]),e&amp;&amp;<span class="code-keyword">this</span>.src(e),n&amp;&amp;<span class="code-keyword">this</span>.poster(n),<span class="code-built_in">Array</span>.isArray(r)&amp;&amp;r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> a.addRemoteTextTrack(e,!<span class="code-number">1</span>)}),<span class="code-keyword">this</span>.ready(t))},e.getMedia=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.cache_.media)<span class="code-keyword">return</span> lt(<span class="code-keyword">this</span>.cache_.media);<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.poster(),t={<span class="code-attr">src</span>:<span class="code-keyword">this</span>.currentSources(),<span class="code-attr">textTracks</span>:<span class="code-built_in">Array</span>.prototype.map.call(<span class="code-keyword">this</span>.remoteTextTracks(),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">kind</span>:e.kind,<span class="code-attr">label</span>:e.label,<span class="code-attr">language</span>:e.language,<span class="code-attr">src</span>:e.src}})};<span class="code-keyword">return</span> e&amp;&amp;(t.poster=e,t.artwork=[{<span class="code-attr">src</span>:t.poster,<span class="code-attr">type</span>:$i(t.poster)}]),t},o.getTagSettings=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i={<span class="code-attr">sources</span>:[],<span class="code-attr">tracks</span>:[]},n=ae(e),r=n[<span class="code-string">"data-setup"</span>];<span class="code-keyword">if</span>(ee(e,<span class="code-string">"vjs-fill"</span>)&amp;&amp;(n.fill=!<span class="code-number">0</span>),ee(e,<span class="code-string">"vjs-fluid"</span>)&amp;&amp;(n.fluid=!<span class="code-number">0</span>),<span class="code-literal">null</span>!==r&amp;&amp;(r=(t=St(r||<span class="code-string">"{}"</span>))[<span class="code-number">0</span>],t=t[<span class="code-number">1</span>],r&amp;&amp;h.error(r),b(n,t)),b(i,n),e.hasChildNodes())<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=e.childNodes,s=<span class="code-number">0</span>,o=a.length;s&lt;o;s++){<span class="code-keyword">var</span> u=a[s],l=u.nodeName.toLowerCase();<span class="code-string">"source"</span>===l?i.sources.push(ae(u)):<span class="code-string">"track"</span>===l&amp;&amp;i.tracks.push(ae(u))}<span class="code-keyword">return</span> i},e.flexNotSupported_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">document</span>.createElement(<span class="code-string">"i"</span>);<span class="code-keyword">return</span>!(<span class="code-string">"flexBasis"</span><span class="code-keyword">in</span> e.style||<span class="code-string">"webkitFlexBasis"</span><span class="code-keyword">in</span> e.style||<span class="code-string">"mozFlexBasis"</span><span class="code-keyword">in</span> e.style||<span class="code-string">"msFlexBasis"</span><span class="code-keyword">in</span> e.style||<span class="code-string">"msFlexOrder"</span><span class="code-keyword">in</span> e.style)},e.debug=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.debugEnabled_;e?(<span class="code-keyword">this</span>.trigger(<span class="code-string">"debugon"</span>),<span class="code-keyword">this</span>.previousLogLevel_=<span class="code-keyword">this</span>.log.level,<span class="code-keyword">this</span>.log.level(<span class="code-string">"debug"</span>),<span class="code-keyword">this</span>.debugEnabled_=!<span class="code-number">0</span>):(<span class="code-keyword">this</span>.trigger(<span class="code-string">"debugoff"</span>),<span class="code-keyword">this</span>.log.level(<span class="code-keyword">this</span>.previousLogLevel_),<span class="code-keyword">this</span>.previousLogLevel_=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.debugEnabled_=!<span class="code-number">1</span>)},e.playbackRates=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cache_.playbackRates;<span class="code-built_in">Array</span>.isArray(e)&amp;&amp;e.every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e})&amp;&amp;(<span class="code-keyword">this</span>.cache_.playbackRates=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"playbackrateschange"</span>))},o}(pt);oi.names.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=oi[e];Fn.prototype[t.getterName]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_?<span class="code-keyword">this</span>.tech_[t.getterName]():(<span class="code-keyword">this</span>[t.privateName]=<span class="code-keyword">this</span>[t.privateName]||<span class="code-keyword">new</span> t.ListClass,<span class="code-keyword">this</span>[t.privateName])}}),Fn.prototype.crossorigin=Fn.prototype.crossOrigin,Fn.players={};k=<span class="code-built_in">window</span>.navigator;Fn.prototype.options_={<span class="code-attr">techOrder</span>:ji.defaultTechOrder_,<span class="code-attr">html5</span>:{},<span class="code-attr">inactivityTimeout</span>:<span class="code-number">2e3</span>,<span class="code-attr">playbackRates</span>:[],<span class="code-attr">liveui</span>:!<span class="code-number">1</span>,<span class="code-attr">children</span>:[<span class="code-string">"mediaLoader"</span>,<span class="code-string">"posterImage"</span>,<span class="code-string">"textTrackDisplay"</span>,<span class="code-string">"loadingSpinner"</span>,<span class="code-string">"bigPlayButton"</span>,<span class="code-string">"liveTracker"</span>,<span class="code-string">"controlBar"</span>,<span class="code-string">"errorDisplay"</span>,<span class="code-string">"textTrackSettings"</span>,<span class="code-string">"resizeManager"</span>],<span class="code-attr">language</span>:k&amp;&amp;(k.languages&amp;&amp;k.languages[<span class="code-number">0</span>]||k.userLanguage||k.language)||<span class="code-string">"en"</span>,<span class="code-attr">languages</span>:{},<span class="code-attr">notSupportedMessage</span>:<span class="code-string">"No compatible source was found for this media."</span>,<span class="code-attr">normalizeAutoplay</span>:!<span class="code-number">1</span>,<span class="code-attr">fullscreen</span>:{<span class="code-attr">options</span>:{<span class="code-attr">navigationUI</span>:<span class="code-string">"hide"</span>}},<span class="code-attr">breakpoints</span>:{},<span class="code-attr">responsive</span>:!<span class="code-number">1</span>,<span class="code-attr">audioOnlyMode</span>:!<span class="code-number">1</span>,<span class="code-attr">audioPosterMode</span>:!<span class="code-number">1</span>},[<span class="code-string">"ended"</span>,<span class="code-string">"seeking"</span>,<span class="code-string">"seekable"</span>,<span class="code-string">"networkState"</span>,<span class="code-string">"readyState"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Fn.prototype[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techGet_(e)}}),Mn.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Fn.prototype[<span class="code-string">"handleTech"</span>+ut(e)+<span class="code-string">"_"</span>]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.trigger(e)}}),pt.registerComponent(<span class="code-string">"Player"</span>,Fn);<span class="code-keyword">var</span> jn=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i.exports=n=<span class="code-built_in">Object</span>.setPrototypeOf||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.__proto__=t,e},n(e,t)}i.exports=n});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hn</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> Qn.hasOwnProperty(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qn</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> Hn(e)?Qn[e]:<span class="code-keyword">void</span> <span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vn</span>(<span class="code-params">e,t,i</span>)</span>{i=(i?<span class="code-string">"before"</span>:<span class="code-string">""</span>)+<span class="code-string">"pluginsetup"</span>,e.trigger(i,t),e.trigger(i+<span class="code-string">":"</span>+t.name,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wn</span>(<span class="code-params">t,i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{Vn(<span class="code-keyword">this</span>,{<span class="code-attr">name</span>:t,<span class="code-attr">plugin</span>:i,<span class="code-attr">instance</span>:<span class="code-literal">null</span>},!<span class="code-number">0</span>);<span class="code-keyword">var</span> e=i.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>);<span class="code-keyword">return</span> $n(<span class="code-keyword">this</span>,t),Vn(<span class="code-keyword">this</span>,{<span class="code-attr">name</span>:t,<span class="code-attr">plugin</span>:i,<span class="code-attr">instance</span>:e}),e}<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(i).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n[e]=i[e]}),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gn</span>(<span class="code-params">r,a</span>)</span>{<span class="code-keyword">return</span> a.prototype.name=r,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Vn(<span class="code-keyword">this</span>,{<span class="code-attr">name</span>:r,<span class="code-attr">plugin</span>:a,<span class="code-attr">instance</span>:<span class="code-literal">null</span>},!<span class="code-number">0</span>);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">var</span> n=Xn(a,[<span class="code-keyword">this</span>].concat(t));<span class="code-keyword">return</span> <span class="code-keyword">this</span>[r]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n},Vn(<span class="code-keyword">this</span>,n.getEventHash()),n}}<span class="code-keyword">var</span> zn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Reflect</span>||!<span class="code-built_in">Reflect</span>.construct)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-built_in">Reflect</span>.construct.sham)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">Proxy</span>)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-built_in">Date</span>.prototype.toString.call(<span class="code-built_in">Reflect</span>.construct(<span class="code-built_in">Date</span>,[],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{})),!<span class="code-number">0</span>}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>!<span class="code-number">1</span>}},Xn=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> zn()?n.exports=r=<span class="code-built_in">Reflect</span>.construct:n.exports=r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=[<span class="code-literal">null</span>];n.push.apply(n,t);n=<span class="code-keyword">new</span>(<span class="code-built_in">Function</span>.bind.apply(e,n));<span class="code-keyword">return</span> i&amp;&amp;jn(n,i.prototype),n},r.apply(<span class="code-literal">null</span>,<span class="code-built_in">arguments</span>)}n.exports=r}),Kn=<span class="code-string">"plugin"</span>,Yn=<span class="code-string">"activePlugins_"</span>,Qn={},$n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e[Yn]=e[Yn]||{},e[Yn][t]=!<span class="code-number">0</span>},Jn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.constructor===i)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Plugin must be sub-classed; not directly instantiated."</span>);<span class="code-keyword">this</span>.player=e,<span class="code-keyword">this</span>.log||(<span class="code-keyword">this</span>.log=<span class="code-keyword">this</span>.player.log.createLogger(<span class="code-keyword">this</span>.name)),rt(<span class="code-keyword">this</span>),<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.trigger,st(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.constructor.defaultState),$n(e,<span class="code-keyword">this</span>.name),<span class="code-keyword">this</span>.dispose=<span class="code-keyword">this</span>.dispose.bind(<span class="code-keyword">this</span>),e.on(<span class="code-string">"dispose"</span>,<span class="code-keyword">this</span>.dispose)}<span class="code-keyword">var</span> e=i.prototype;<span class="code-keyword">return</span> e.version=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.constructor.VERSION},e.getEventHash=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e).name=<span class="code-keyword">this</span>.name,e.plugin=<span class="code-keyword">this</span>.constructor,e.instance=<span class="code-keyword">this</span>,e},e.trigger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> je(<span class="code-keyword">this</span>.eventBusEl_,e,<span class="code-keyword">this</span>.getEventHash(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t))},e.handleStateChanged=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},e.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.name,t=<span class="code-keyword">this</span>.player;<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.off(),t.off(<span class="code-string">"dispose"</span>,<span class="code-keyword">this</span>.dispose),t[Yn][e]=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.player=<span class="code-keyword">this</span>.state=<span class="code-literal">null</span>,t[e]=Gn(e,Qn[e])},i.isBasic=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?qn(e):e;<span class="code-keyword">return</span><span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;!i.prototype.isPrototypeOf(e.prototype)},i.registerPlugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Illegal plugin name, "'</span>+e+<span class="code-string">'", must be a string, was '</span>+<span class="code-keyword">typeof</span> e+<span class="code-string">"."</span>);<span class="code-keyword">if</span>(Hn(e))h.warn(<span class="code-string">'A plugin named "'</span>+e+<span class="code-string">'" already exists. You may want to avoid re-registering plugins!'</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(Fn.prototype.hasOwnProperty(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Illegal plugin name, "'</span>+e+<span class="code-string">'", cannot share a name with an existing player method!'</span>);<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'Illegal plugin for "'</span>+e+<span class="code-string">'", must be a function, was '</span>+<span class="code-keyword">typeof</span> t+<span class="code-string">"."</span>);<span class="code-keyword">return</span> Qn[e]=t,e!==Kn&amp;&amp;(i.isBasic(t)?Fn.prototype[e]=Wn(e,t):Fn.prototype[e]=Gn(e,t)),t},i.deregisterPlugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e===Kn)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot de-register base plugin."</span>);Hn(e)&amp;&amp;(<span class="code-keyword">delete</span> Qn[e],<span class="code-keyword">delete</span> Fn.prototype[e])},i.getPlugins=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span>(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-built_in">Object</span>.keys(Qn):e).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=qn(e);t&amp;&amp;((i=i||{})[e]=t)}),i},i.getPluginVersion=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=qn(e);<span class="code-keyword">return</span> e&amp;&amp;e.VERSION||<span class="code-string">""</span>},i}();Jn.getPlugin=qn,Jn.BASE_PLUGIN_NAME=Kn,Jn.registerPlugin(Kn,Jn),Fn.prototype.usingPlugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!<span class="code-keyword">this</span>[Yn]&amp;&amp;!<span class="code-number">0</span>===<span class="code-keyword">this</span>[Yn][e]},Fn.prototype.hasPlugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!Hn(e)};<span class="code-keyword">var</span> Zn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> t&amp;&amp;<span class="code-literal">null</span>!==t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Super expression must either be null or a function"</span>);e.prototype=<span class="code-built_in">Object</span>.create(t&amp;&amp;t.prototype,{<span class="code-attr">constructor</span>:{<span class="code-attr">value</span>:e,<span class="code-attr">writable</span>:!<span class="code-number">0</span>,<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}}),t&amp;&amp;jn(e,t)},er=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===e.indexOf(<span class="code-string">"#"</span>)?e.slice(<span class="code-number">1</span>):e};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tr</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(r=tr.getPlayer(e))<span class="code-keyword">return</span> t&amp;&amp;h.warn(<span class="code-string">'Player "'</span>+e+<span class="code-string">'" is already initialised. Options will not be applied.'</span>),i&amp;&amp;r.ready(i),r;<span class="code-keyword">var</span> n=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?Te(<span class="code-string">"#"</span>+er(e)):e;<span class="code-keyword">if</span>(!K(n))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"The element or ID supplied is not valid. (videojs)"</span>);n.ownerDocument.defaultView&amp;&amp;n.ownerDocument.body.contains(n)||h.warn(<span class="code-string">"The element supplied is not included in the DOM"</span>),!<span class="code-number">0</span>===(t=t||{}).restoreEl&amp;&amp;(t.restoreEl=(n.parentNode&amp;&amp;n.parentNode.hasAttribute(<span class="code-string">"data-vjs-player"</span>)?n.parentNode:n).cloneNode(!<span class="code-number">0</span>)),a(<span class="code-string">"beforesetup"</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e(n,lt(t));T(e)&amp;&amp;!<span class="code-built_in">Array</span>.isArray(e)?t=lt(t,e):h.error(<span class="code-string">"please return an object in beforesetup hooks"</span>)});<span class="code-keyword">var</span> r=<span class="code-keyword">new</span>(pt.getComponent(<span class="code-string">"Player"</span>))(n,t,i);<span class="code-keyword">return</span> a(<span class="code-string">"setup"</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e(r)}),r}tr.hooks_=i,tr.hooks=a,tr.hook=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{a(e,t)},tr.hookOnce=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,e</span>)</span>{a(i,[].concat(e).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n(i,e),t.apply(<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-built_in">arguments</span>)}}))},tr.removeHook=n,!<span class="code-number">0</span>!==<span class="code-built_in">window</span>.VIDEOJS_NO_DYNAMIC_STYLE&amp;&amp;X()&amp;&amp;((ar=Te(<span class="code-string">".vjs-styles-defaults"</span>))||(ar=xe(<span class="code-string">"vjs-styles-defaults"</span>),(k=Te(<span class="code-string">"head"</span>))&amp;&amp;k.insertBefore(ar,k.firstChild),Ae(ar,<span class="code-string">"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    "</span>))),Ce(<span class="code-number">1</span>,tr),tr.VERSION=u,tr.options=Fn.prototype.options_,tr.getPlayers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Fn.players},tr.getPlayer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Fn.players;<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e){<span class="code-keyword">var</span> i=er(e),n=t[i];<span class="code-keyword">if</span>(n)<span class="code-keyword">return</span> n;i=Te(<span class="code-string">"#"</span>+i)}<span class="code-keyword">else</span> i=e;<span class="code-keyword">if</span>(K(i)){e=i.player,i=i.playerId;<span class="code-keyword">if</span>(e||t[i])<span class="code-keyword">return</span> e||t[i]}},tr.getAllPlayers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(Fn.players).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> Fn.players[e]}).filter(<span class="code-built_in">Boolean</span>)},tr.players=Fn.players,tr.getComponent=pt.getComponent,tr.registerComponent=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{ji.isTech(t)&amp;&amp;h.warn(<span class="code-string">"The "</span>+e+<span class="code-string">" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"</span>),pt.registerComponent.call(pt,e,t)},tr.getTech=ji.getTech,tr.registerTech=ji.registerTech,tr.use=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{Hi[e]=Hi[e]||[],Hi[e].push(t)},<span class="code-built_in">Object</span>.defineProperty(tr,<span class="code-string">"middleware"</span>,{<span class="code-attr">value</span>:{},<span class="code-attr">writeable</span>:!<span class="code-number">1</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>}),<span class="code-built_in">Object</span>.defineProperty(tr.middleware,<span class="code-string">"TERMINATOR"</span>,{<span class="code-attr">value</span>:Vi,<span class="code-attr">writeable</span>:!<span class="code-number">1</span>,<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>}),tr.browser=W,tr.TOUCH_ENABLED=F,tr.extend=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>)},r={};<span class="code-keyword">for</span>(i <span class="code-keyword">in</span><span class="code-string">"object"</span>==<span class="code-keyword">typeof</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t)?(t.constructor!==<span class="code-built_in">Object</span>.prototype.constructor&amp;&amp;(n=t.constructor),r=t):<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;(n=t),Zn(n,e),e&amp;&amp;(n.super_=e),r)r.hasOwnProperty(i)&amp;&amp;(n.prototype[i]=r[i]);<span class="code-keyword">return</span> n},tr.mergeOptions=lt,tr.bind=Ve,tr.registerPlugin=Jn.registerPlugin,tr.deregisterPlugin=Jn.deregisterPlugin,tr.plugin=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> h.warn(<span class="code-string">"videojs.plugin() is deprecated; use videojs.registerPlugin() instead"</span>),Jn.registerPlugin(e,t)},tr.getPlugins=Jn.getPlugins,tr.getPlugin=Jn.getPlugin,tr.getPluginVersion=Jn.getPluginVersion,tr.addLanguage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span> e=(<span class="code-string">""</span>+e).toLowerCase(),tr.options.languages=lt(tr.options.languages,((i={})[e]=t,i)),tr.options.languages[e]},tr.log=h,tr.createLogger=p,tr.createTimeRange=tr.createTimeRanges=vt,tr.formatTime=ln,tr.setFormatTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{un=e},tr.resetFormatTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{un=on},tr.parseUrl=Mt,tr.isCrossOrigin=Ut,tr.EventTarget=ze,tr.on=Be,tr.one=He,tr.off=Fe,tr.trigger=je,tr.xhr=Jt,tr.TextTrack=ri,tr.AudioTrack=x,tr.VideoTrack=U,[<span class="code-string">"isEl"</span>,<span class="code-string">"isTextNode"</span>,<span class="code-string">"createEl"</span>,<span class="code-string">"hasClass"</span>,<span class="code-string">"addClass"</span>,<span class="code-string">"removeClass"</span>,<span class="code-string">"toggleClass"</span>,<span class="code-string">"setAttributes"</span>,<span class="code-string">"getAttributes"</span>,<span class="code-string">"emptyEl"</span>,<span class="code-string">"appendContent"</span>,<span class="code-string">"insertContent"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{tr[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> h.warn(<span class="code-string">"videojs."</span>+e+<span class="code-string">"() is deprecated; use videojs.dom."</span>+e+<span class="code-string">"() instead"</span>),we[e].apply(<span class="code-literal">null</span>,<span class="code-built_in">arguments</span>)}}),tr.computedStyle=w,tr.dom=we,tr.url=zt,tr.defineLazyProperty=An,tr.addLanguage(<span class="code-string">"en"</span>,{<span class="code-string">"Non-Fullscreen"</span>:<span class="code-string">"Exit Fullscreen"</span>});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ir</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-regexp">/^[a-z]+:/i</span>.test(t))<span class="code-keyword">return</span> t;<span class="code-regexp">/^data:/</span>.test(e)&amp;&amp;(e=<span class="code-built_in">window</span>.location&amp;&amp;<span class="code-built_in">window</span>.location.href||<span class="code-string">""</span>);<span class="code-keyword">var</span> i=<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.URL,n=<span class="code-regexp">/^\/\//</span>.test(e),r=!<span class="code-built_in">window</span>.location&amp;&amp;!<span class="code-regexp">/\/\//i</span>.test(e);<span class="code-keyword">if</span>(i?e=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.URL(e,<span class="code-built_in">window</span>.location||rr):<span class="code-regexp">/\/\//i</span>.test(e)||(e=nr.buildAbsoluteURL(<span class="code-built_in">window</span>.location&amp;&amp;<span class="code-built_in">window</span>.location.href||<span class="code-string">""</span>,e)),i){i=<span class="code-keyword">new</span> URL(t,e);<span class="code-keyword">return</span> r?i.href.slice(rr.length):n?i.href.slice(i.protocol.length):i.href}<span class="code-keyword">return</span> nr.buildAbsoluteURL(e,t)}<span class="code-keyword">var</span> nr=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,a,n,r,s;i=<span class="code-regexp">/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/</span>,a=<span class="code-regexp">/^([^\/?#]*)([^]*)$/</span>,n=<span class="code-regexp">/(?:\/|^)\.(?=\/)/g</span>,r=<span class="code-regexp">/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g</span>,s={<span class="code-attr">buildAbsoluteURL</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(i=i||{},e=e.trim(),!(t=t.trim())){<span class="code-keyword">if</span>(!i.alwaysNormalize)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> n=s.parseURL(e);<span class="code-keyword">if</span>(!n)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error trying to parse base URL."</span>);<span class="code-keyword">return</span> n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}n=s.parseURL(t);<span class="code-keyword">if</span>(!n)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error trying to parse relative URL."</span>);<span class="code-keyword">if</span>(n.scheme)<span class="code-keyword">return</span> i.alwaysNormalize?(n.path=s.normalizePath(n.path),s.buildURLFromParts(n)):t;t=s.parseURL(e);<span class="code-keyword">if</span>(!t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Error trying to parse base URL."</span>);!t.netLoc&amp;&amp;t.path&amp;&amp;<span class="code-string">"/"</span>!==t.path[<span class="code-number">0</span>]&amp;&amp;(r=a.exec(t.path),t.netLoc=r[<span class="code-number">1</span>],t.path=r[<span class="code-number">2</span>]),t.netLoc&amp;&amp;!t.path&amp;&amp;(t.path=<span class="code-string">"/"</span>);<span class="code-keyword">var</span> r,e={<span class="code-attr">scheme</span>:t.scheme,<span class="code-attr">netLoc</span>:n.netLoc,<span class="code-attr">path</span>:<span class="code-literal">null</span>,<span class="code-attr">params</span>:n.params,<span class="code-attr">query</span>:n.query,<span class="code-attr">fragment</span>:n.fragment};<span class="code-keyword">return</span> n.netLoc||(e.netLoc=t.netLoc,<span class="code-string">"/"</span>!==n.path[<span class="code-number">0</span>]&amp;&amp;(n.path?(r=(r=t.path).substring(<span class="code-number">0</span>,r.lastIndexOf(<span class="code-string">"/"</span>)+<span class="code-number">1</span>)+n.path,e.path=s.normalizePath(r)):(e.path=t.path,n.params||(e.params=t.params,n.query||(e.query=t.query))))),<span class="code-literal">null</span>===e.path&amp;&amp;(e.path=i.alwaysNormalize?s.normalizePath(n.path):n.path),s.buildURLFromParts(e)},<span class="code-attr">parseURL</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=i.exec(e);<span class="code-keyword">return</span> e?{<span class="code-attr">scheme</span>:e[<span class="code-number">1</span>]||<span class="code-string">""</span>,<span class="code-attr">netLoc</span>:e[<span class="code-number">2</span>]||<span class="code-string">""</span>,<span class="code-attr">path</span>:e[<span class="code-number">3</span>]||<span class="code-string">""</span>,<span class="code-attr">params</span>:e[<span class="code-number">4</span>]||<span class="code-string">""</span>,<span class="code-attr">query</span>:e[<span class="code-number">5</span>]||<span class="code-string">""</span>,<span class="code-attr">fragment</span>:e[<span class="code-number">6</span>]||<span class="code-string">""</span>}:<span class="code-literal">null</span>},<span class="code-attr">normalizePath</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(e=e.split(<span class="code-string">""</span>).reverse().join(<span class="code-string">""</span>).replace(n,<span class="code-string">""</span>);e.length!==(e=e.replace(r,<span class="code-string">""</span>)).length;);<span class="code-keyword">return</span> e.split(<span class="code-string">""</span>).reverse().join(<span class="code-string">""</span>)},<span class="code-attr">buildURLFromParts</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s}),rr=<span class="code-string">"http://example.com"</span>,ar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.listeners={}}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.on=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.listeners[e]||(<span class="code-keyword">this</span>.listeners[e]=[]),<span class="code-keyword">this</span>.listeners[e].push(t)},t.off=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.listeners[e])<span class="code-keyword">return</span>!<span class="code-number">1</span>;t=<span class="code-keyword">this</span>.listeners[e].indexOf(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.listeners[e]=<span class="code-keyword">this</span>.listeners[e].slice(<span class="code-number">0</span>),<span class="code-keyword">this</span>.listeners[e].splice(t,<span class="code-number">1</span>),<span class="code-number">-1</span>&lt;t},t.trigger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.listeners[e];<span class="code-keyword">if</span>(t)<span class="code-keyword">if</span>(<span class="code-number">2</span>===<span class="code-built_in">arguments</span>.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.length,n=<span class="code-number">0</span>;n&lt;i;++n)t[n].call(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>,<span class="code-number">1</span>),a=t.length,s=<span class="code-number">0</span>;s&lt;a;++s)t[s].apply(<span class="code-keyword">this</span>,r)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.listeners={}},t.pipe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.push(e)})},e}(),sr=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">window</span>.atob?<span class="code-built_in">window</span>.atob(e):Buffer.from(e,<span class="code-string">"base64"</span>).toString(<span class="code-string">"binary"</span>)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">or</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=sr(e),i=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.length),n=<span class="code-number">0</span>;n&lt;t.length;n++)i[n]=t.charCodeAt(n);<span class="code-keyword">return</span> i}
</code></td></tr><tr><td id="L21" class="css-a4x74f"><span>21</span></td><td id="LC21" class="css-1dcdqdg"><code><span class="code-comment">/*! @name m3u8-parser @version 4.7.1 @license Apache-2.0 */</span><span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ur</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-regexp">/([0-9.]*)?@?([0-9.]*)?/</span>.exec(e||<span class="code-string">""</span>),e={};<span class="code-keyword">return</span> t[<span class="code-number">1</span>]&amp;&amp;(e.length=<span class="code-built_in">parseInt</span>(t[<span class="code-number">1</span>],<span class="code-number">10</span>)),t[<span class="code-number">2</span>]&amp;&amp;(e.offset=<span class="code-built_in">parseInt</span>(t[<span class="code-number">2</span>],<span class="code-number">10</span>)),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=e.split(<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">'(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'</span>)),n={},r=i.length;r--;)<span class="code-string">""</span>!==i[r]&amp;&amp;((t=<span class="code-regexp">/([^=]*)=(.*)/</span>.exec(i[r]).slice(<span class="code-number">1</span>))[<span class="code-number">0</span>]=t[<span class="code-number">0</span>].replace(<span class="code-regexp">/^\s+|\s+$/g</span>,<span class="code-string">""</span>),t[<span class="code-number">1</span>]=t[<span class="code-number">1</span>].replace(<span class="code-regexp">/^\s+|\s+$/g</span>,<span class="code-string">""</span>),t[<span class="code-number">1</span>]=t[<span class="code-number">1</span>].replace(<span class="code-regexp">/^['"](.*)['"]$/g</span>,<span class="code-string">"$1"</span>),n[t[<span class="code-number">0</span>]]=t[<span class="code-number">1</span>]);<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cr</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i={};<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(t).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i[e.toLowerCase().replace(<span class="code-regexp">/-(\w)/g</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e[<span class="code-number">1</span>].toUpperCase()})]=t[e]}),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">dr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a=e.serverControl,s=e.targetDuration,o=e.partTargetDuration;a&amp;&amp;(t=<span class="code-string">"#EXT-X-SERVER-CONTROL"</span>,i=<span class="code-string">"holdBack"</span>,n=<span class="code-string">"partHoldBack"</span>,r=s&amp;&amp;<span class="code-number">3</span>*s,e=o&amp;&amp;<span class="code-number">2</span>*o,s&amp;&amp;!a.hasOwnProperty(i)&amp;&amp;(a[i]=r,<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:t+<span class="code-string">" defaulting HOLD-BACK to targetDuration * 3 ("</span>+r+<span class="code-string">")."</span>})),r&amp;&amp;a[i]&lt;r&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:t+<span class="code-string">" clamping HOLD-BACK ("</span>+a[i]+<span class="code-string">") to targetDuration * 3 ("</span>+r+<span class="code-string">")"</span>}),a[i]=r),o&amp;&amp;!a.hasOwnProperty(n)&amp;&amp;(a[n]=<span class="code-number">3</span>*o,<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:t+<span class="code-string">" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("</span>+a[n]+<span class="code-string">")."</span>})),o&amp;&amp;a[n]&lt;e&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:t+<span class="code-string">" clamping PART-HOLD-BACK ("</span>+a[n]+<span class="code-string">") to partTargetDuration * 2 ("</span>+e+<span class="code-string">")."</span>}),a[n]=e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.replace(<span class="code-regexp">/avc1\.(\d+)\.(\d+)/i</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"avc1."</span>+(<span class="code-string">"00"</span>+<span class="code-built_in">Number</span>(t).toString(<span class="code-number">16</span>)).slice(<span class="code-number">-2</span>)+<span class="code-string">"00"</span>+(<span class="code-string">"00"</span>+<span class="code-built_in">Number</span>(i).toString(<span class="code-number">16</span>)).slice(<span class="code-number">-2</span>)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> e=(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-string">""</span>:e).split(<span class="code-string">","</span>),a=[];<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> r;n=n.trim(),Ar.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=xr[e].exec(n.toLowerCase());!i||i.length&lt;=<span class="code-number">1</span>||(r=e,t=n.substring(<span class="code-number">0</span>,i[<span class="code-number">1</span>].length),i=n.replace(t,<span class="code-string">""</span>),a.push({<span class="code-attr">type</span>:t,<span class="code-attr">details</span>:i,<span class="code-attr">mediaType</span>:e}))}),r||a.push({<span class="code-attr">type</span>:n,<span class="code-attr">details</span>:<span class="code-string">""</span>,<span class="code-attr">mediaType</span>:<span class="code-string">"unknown"</span>})}),a}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> xr.audio.test((e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-string">""</span>:e).trim().toLowerCase())}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e){<span class="code-keyword">var</span> t=e.toLowerCase().split(<span class="code-string">","</span>).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> hr(e.trim())}),i=<span class="code-string">"video"</span>;<span class="code-number">1</span>===t.length&amp;&amp;fr(t[<span class="code-number">0</span>])?i=<span class="code-string">"audio"</span>:<span class="code-number">1</span>===t.length&amp;&amp;(n=t[<span class="code-number">0</span>],xr.text.test((n=<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-string">""</span>:n).trim().toLowerCase()))&amp;&amp;(i=<span class="code-string">"application"</span>);<span class="code-keyword">var</span> n=<span class="code-string">"mp4"</span>;<span class="code-keyword">return</span> t.every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> xr.mp4.test(e)})?n=<span class="code-string">"mp4"</span>:t.every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> xr.webm.test(e)})?n=<span class="code-string">"webm"</span>:t.every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> xr.ogg.test(e)})&amp;&amp;(n=<span class="code-string">"ogg"</span>),i+<span class="code-string">"/"</span>+n+<span class="code-string">';codecs="'</span>+e+<span class="code-string">'"'</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-string">""</span>),<span class="code-built_in">window</span>.MediaSource&amp;&amp;<span class="code-built_in">window</span>.MediaSource.isTypeSupported&amp;&amp;<span class="code-built_in">window</span>.MediaSource.isTypeSupported(mr(e))||!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-string">""</span>:e).toLowerCase().split(<span class="code-string">","</span>).every(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.trim();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;Pr.length;t++)<span class="code-keyword">if</span>(xr[<span class="code-string">"muxer"</span>+Pr[t]].test(e))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> Dr.test(e)?<span class="code-string">"hls"</span>:Or.test(e)?<span class="code-string">"dash"</span>:<span class="code-string">"application/vnd.videojs.vhs+json"</span>===e?<span class="code-string">"vhs-json"</span>:<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_r</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"function"</span>===<span class="code-built_in">ArrayBuffer</span>.isView?<span class="code-built_in">ArrayBuffer</span>.isView(e):e&amp;&amp;e.buffer <span class="code-keyword">instanceof</span> <span class="code-built_in">ArrayBuffer</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">br</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e <span class="code-keyword">instanceof</span> <span class="code-built_in">Uint8Array</span>?e:(<span class="code-built_in">Array</span>.isArray(e)||Mr(e)||e <span class="code-keyword">instanceof</span> <span class="code-built_in">ArrayBuffer</span>||(e=<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e||<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e!=e?<span class="code-number">0</span>:[e]),<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e&amp;&amp;e.buffer||e,e&amp;&amp;e.byteOffset||<span class="code-number">0</span>,e&amp;&amp;e.byteLength||<span class="code-number">0</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Tr</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">void</span> <span class="code-number">0</span>!==(t=(<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).le)&amp;&amp;t;e=Rr(e=<span class="code-string">"bigint"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e||<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e!=e?<span class="code-number">0</span>:e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=(t=e,<span class="code-built_in">Math</span>.ceil(t.toString(<span class="code-number">2</span>).length/<span class="code-number">8</span>)),r=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-keyword">new</span> <span class="code-built_in">ArrayBuffer</span>(n)),a=<span class="code-number">0</span>;a&lt;n;a++){<span class="code-keyword">var</span> s=i?a:<span class="code-built_in">Math</span>.abs(a+<span class="code-number">1</span>-r.length);r[s]=<span class="code-built_in">Number</span>(e/Nr[a]&amp;Rr(<span class="code-number">255</span>)),e&lt;<span class="code-number">0</span>&amp;&amp;(r[s]=<span class="code-built_in">Math</span>.abs(~r[s]),r[s]-=<span class="code-number">0</span>===a?<span class="code-number">1</span>:<span class="code-number">2</span>)}<span class="code-keyword">return</span> r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Sr</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span>(e=<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;e&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.toString?e.toString():e))<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>;t||(e=<span class="code-built_in">unescape</span>(<span class="code-built_in">encodeURIComponent</span>(e)));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.length),n=<span class="code-number">0</span>;n&lt;e.length;n++)i[n]=e.charCodeAt(n);<span class="code-keyword">return</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wr</span>(<span class="code-params">i,e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===(t=n.offset)?<span class="code-number">0</span>:t,a=<span class="code-keyword">void</span> <span class="code-number">0</span>===(n=n.mask)?[]:n;<span class="code-keyword">return</span> i=br(i),n=(e=br(e)).every||<span class="code-built_in">Array</span>.prototype.every,e.length&amp;&amp;i.length-r&gt;=e.length&amp;&amp;n.call(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e===(a[t]?a[t]&amp;i[r+t]:i[r+t])})}<span class="code-keyword">var</span> Er=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e.buffer=<span class="code-string">""</span>,e}<span class="code-keyword">return</span> mt(e,t),e.prototype.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">for</span>(<span class="code-keyword">this</span>.buffer+=e,t=<span class="code-keyword">this</span>.buffer.indexOf(<span class="code-string">"\n"</span>);<span class="code-number">-1</span>&lt;t;t=<span class="code-keyword">this</span>.buffer.indexOf(<span class="code-string">"\n"</span>))<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,<span class="code-keyword">this</span>.buffer.substring(<span class="code-number">0</span>,t)),<span class="code-keyword">this</span>.buffer=<span class="code-keyword">this</span>.buffer.substring(t+<span class="code-number">1</span>)},e}(ar),kr=<span class="code-built_in">String</span>.fromCharCode(<span class="code-number">9</span>),Cr=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e.customParsers=[],e.tagMappers=[],e}mt(e,t);<span class="code-keyword">var</span> i=e.prototype;<span class="code-keyword">return</span> i.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> r,a,s=<span class="code-keyword">this</span>;<span class="code-number">0</span>!==(i=i.trim()).length&amp;&amp;(<span class="code-string">"#"</span>===i[<span class="code-number">0</span>]?<span class="code-keyword">this</span>.tagMappers.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=t(i);<span class="code-keyword">return</span> t===i?e:e.concat([t])},[i]).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n=<span class="code-number">0</span>;n&lt;s.customParsers.length;n++)<span class="code-keyword">if</span>(s.customParsers[n].call(s,e))<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>===e.indexOf(<span class="code-string">"#EXT"</span>))<span class="code-keyword">if</span>(e=e.replace(<span class="code-string">"\r"</span>,<span class="code-string">""</span>),r=<span class="code-regexp">/^#EXTM3U/</span>.exec(e))s.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"m3u"</span>});<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXTINF:?([0-9\.]*)?,?(.*)?$/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"inf"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.duration=<span class="code-built_in">parseFloat</span>(r[<span class="code-number">1</span>])),r[<span class="code-number">2</span>]&amp;&amp;(a.title=r[<span class="code-number">2</span>]),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-TARGETDURATION:?([0-9.]*)?/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"targetduration"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.duration=<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>],<span class="code-number">10</span>)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-VERSION:?([0-9.]*)?/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"version"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.version=<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>],<span class="code-number">10</span>)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"media-sequence"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.number=<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>],<span class="code-number">10</span>)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"discontinuity-sequence"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.number=<span class="code-built_in">parseInt</span>(r[<span class="code-number">1</span>],<span class="code-number">10</span>)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"playlist-type"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.playlistType=r[<span class="code-number">1</span>]),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-BYTERANGE:?(.*)?$/</span>.exec(e))<span class="code-keyword">return</span> a=g(ur(r[<span class="code-number">1</span>]),{<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"byterange"</span>}),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"allow-cache"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.allowed=!<span class="code-regexp">/NO/</span>.test(r[<span class="code-number">1</span>])),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-MAP:?(.*)$/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"map"</span>},r[<span class="code-number">1</span>]&amp;&amp;((t=lr(r[<span class="code-number">1</span>])).URI&amp;&amp;(a.uri=t.URI),t.BYTERANGE&amp;&amp;(a.byterange=ur(t.BYTERANGE))),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-STREAM-INF:?(.*)$/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"stream-inf"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.attributes=lr(r[<span class="code-number">1</span>]),a.attributes.RESOLUTION&amp;&amp;(i={},(t=a.attributes.RESOLUTION.split(<span class="code-string">"x"</span>))[<span class="code-number">0</span>]&amp;&amp;(i.width=<span class="code-built_in">parseInt</span>(t[<span class="code-number">0</span>],<span class="code-number">10</span>)),t[<span class="code-number">1</span>]&amp;&amp;(i.height=<span class="code-built_in">parseInt</span>(t[<span class="code-number">1</span>],<span class="code-number">10</span>)),a.attributes.RESOLUTION=i),a.attributes.BANDWIDTH&amp;&amp;(a.attributes.BANDWIDTH=<span class="code-built_in">parseInt</span>(a.attributes.BANDWIDTH,<span class="code-number">10</span>)),a.attributes[<span class="code-string">"PROGRAM-ID"</span>]&amp;&amp;(a.attributes[<span class="code-string">"PROGRAM-ID"</span>]=<span class="code-built_in">parseInt</span>(a.attributes[<span class="code-string">"PROGRAM-ID"</span>],<span class="code-number">10</span>))),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-MEDIA:?(.*)$/</span>.exec(e))<span class="code-keyword">return</span> a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"media"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.attributes=lr(r[<span class="code-number">1</span>])),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a);<span class="code-keyword">if</span>(r=<span class="code-regexp">/^#EXT-X-ENDLIST/</span>.exec(e))s.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"endlist"</span>});<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!(r=<span class="code-regexp">/^#EXT-X-DISCONTINUITY/</span>.exec(e)))<span class="code-keyword">return</span>(r=<span class="code-regexp">/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/</span>.exec(e))?(a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"program-date-time"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.dateTimeString=r[<span class="code-number">1</span>],a.dateTimeObject=<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(r[<span class="code-number">1</span>])),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-KEY:?(.*)$/</span>.exec(e))?(a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"key"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.attributes=lr(r[<span class="code-number">1</span>]),a.attributes.IV&amp;&amp;(<span class="code-string">"0x"</span>===a.attributes.IV.substring(<span class="code-number">0</span>,<span class="code-number">2</span>).toLowerCase()&amp;&amp;(a.attributes.IV=a.attributes.IV.substring(<span class="code-number">2</span>)),a.attributes.IV=a.attributes.IV.match(<span class="code-regexp">/.{8}/g</span>),a.attributes.IV[<span class="code-number">0</span>]=<span class="code-built_in">parseInt</span>(a.attributes.IV[<span class="code-number">0</span>],<span class="code-number">16</span>),a.attributes.IV[<span class="code-number">1</span>]=<span class="code-built_in">parseInt</span>(a.attributes.IV[<span class="code-number">1</span>],<span class="code-number">16</span>),a.attributes.IV[<span class="code-number">2</span>]=<span class="code-built_in">parseInt</span>(a.attributes.IV[<span class="code-number">2</span>],<span class="code-number">16</span>),a.attributes.IV[<span class="code-number">3</span>]=<span class="code-built_in">parseInt</span>(a.attributes.IV[<span class="code-number">3</span>],<span class="code-number">16</span>),a.attributes.IV=<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(a.attributes.IV))),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-START:?(.*)$/</span>.exec(e))?(a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"start"</span>},r[<span class="code-number">1</span>]&amp;&amp;(a.attributes=lr(r[<span class="code-number">1</span>]),a.attributes[<span class="code-string">"TIME-OFFSET"</span>]=<span class="code-built_in">parseFloat</span>(a.attributes[<span class="code-string">"TIME-OFFSET"</span>]),a.attributes.PRECISE=<span class="code-regexp">/YES/</span>.test(a.attributes.PRECISE)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-CUE-OUT-CONT:?(.*)?$/</span>.exec(e))?(a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"cue-out-cont"</span>},r[<span class="code-number">1</span>]?a.data=r[<span class="code-number">1</span>]:a.data=<span class="code-string">""</span>,<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-CUE-OUT:?(.*)?$/</span>.exec(e))?(a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"cue-out"</span>},r[<span class="code-number">1</span>]?a.data=r[<span class="code-number">1</span>]:a.data=<span class="code-string">""</span>,<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-CUE-IN:?(.*)?$/</span>.exec(e))?(a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"cue-in"</span>},r[<span class="code-number">1</span>]?a.data=r[<span class="code-number">1</span>]:a.data=<span class="code-string">""</span>,<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-SKIP:(.*)$/</span>.exec(e))&amp;&amp;r[<span class="code-number">1</span>]?((a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"skip"</span>}).attributes=lr(r[<span class="code-number">1</span>]),a.attributes.hasOwnProperty(<span class="code-string">"SKIPPED-SEGMENTS"</span>)&amp;&amp;(a.attributes[<span class="code-string">"SKIPPED-SEGMENTS"</span>]=<span class="code-built_in">parseInt</span>(a.attributes[<span class="code-string">"SKIPPED-SEGMENTS"</span>],<span class="code-number">10</span>)),a.attributes.hasOwnProperty(<span class="code-string">"RECENTLY-REMOVED-DATERANGES"</span>)&amp;&amp;(a.attributes[<span class="code-string">"RECENTLY-REMOVED-DATERANGES"</span>]=a.attributes[<span class="code-string">"RECENTLY-REMOVED-DATERANGES"</span>].split(kr)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-PART:(.*)$/</span>.exec(e))&amp;&amp;r[<span class="code-number">1</span>]?((a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"part"</span>}).attributes=lr(r[<span class="code-number">1</span>]),[<span class="code-string">"DURATION"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-built_in">parseFloat</span>(a.attributes[e]))}),[<span class="code-string">"INDEPENDENT"</span>,<span class="code-string">"GAP"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-regexp">/YES/</span>.test(a.attributes[e]))}),a.attributes.hasOwnProperty(<span class="code-string">"BYTERANGE"</span>)&amp;&amp;(a.attributes.byterange=ur(a.attributes.BYTERANGE)),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-SERVER-CONTROL:(.*)$/</span>.exec(e))&amp;&amp;r[<span class="code-number">1</span>]?((a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"server-control"</span>}).attributes=lr(r[<span class="code-number">1</span>]),[<span class="code-string">"CAN-SKIP-UNTIL"</span>,<span class="code-string">"PART-HOLD-BACK"</span>,<span class="code-string">"HOLD-BACK"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-built_in">parseFloat</span>(a.attributes[e]))}),[<span class="code-string">"CAN-SKIP-DATERANGES"</span>,<span class="code-string">"CAN-BLOCK-RELOAD"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-regexp">/YES/</span>.test(a.attributes[e]))}),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-PART-INF:(.*)$/</span>.exec(e))&amp;&amp;r[<span class="code-number">1</span>]?((a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"part-inf"</span>}).attributes=lr(r[<span class="code-number">1</span>]),[<span class="code-string">"PART-TARGET"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-built_in">parseFloat</span>(a.attributes[e]))}),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-PRELOAD-HINT:(.*)$/</span>.exec(e))&amp;&amp;r[<span class="code-number">1</span>]?((a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"preload-hint"</span>}).attributes=lr(r[<span class="code-number">1</span>]),[<span class="code-string">"BYTERANGE-START"</span>,<span class="code-string">"BYTERANGE-LENGTH"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-built_in">parseInt</span>(a.attributes[e],<span class="code-number">10</span>),t=<span class="code-string">"BYTERANGE-LENGTH"</span>===e?<span class="code-string">"length"</span>:<span class="code-string">"offset"</span>,a.attributes.byterange=a.attributes.byterange||{},a.attributes.byterange[t]=a.attributes[e],<span class="code-keyword">delete</span> a.attributes[e])}),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):(r=<span class="code-regexp">/^#EXT-X-RENDITION-REPORT:(.*)$/</span>.exec(e))&amp;&amp;r[<span class="code-number">1</span>]?((a={<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"rendition-report"</span>}).attributes=lr(r[<span class="code-number">1</span>]),[<span class="code-string">"LAST-MSN"</span>,<span class="code-string">"LAST-PART"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.attributes.hasOwnProperty(e)&amp;&amp;(a.attributes[e]=<span class="code-built_in">parseInt</span>(a.attributes[e],<span class="code-number">10</span>))}),<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,a)):<span class="code-keyword">void</span> s.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">data</span>:e.slice(<span class="code-number">4</span>)});s.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"tag"</span>,<span class="code-attr">tagType</span>:<span class="code-string">"discontinuity"</span>})}}<span class="code-keyword">else</span> s.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"comment"</span>,<span class="code-attr">text</span>:e.slice(<span class="code-number">1</span>)})}):<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"uri"</span>,<span class="code-attr">uri</span>:i}))},i.addParser=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,i=e.expression,n=e.customType,r=e.dataParser,a=e.segment;<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> r&amp;&amp;(r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e}),<span class="code-keyword">this</span>.customParsers.push(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(i.exec(e))<span class="code-keyword">return</span> t.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">type</span>:<span class="code-string">"custom"</span>,<span class="code-attr">data</span>:r(e),<span class="code-attr">customType</span>:n,<span class="code-attr">segment</span>:a}),!<span class="code-number">0</span>})},i.addTagMapper=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.expression,i=e.map;<span class="code-keyword">this</span>.tagMappers.push(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.test(e)?i(e):e})},e}(ar),Ir=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;e.lineStream=<span class="code-keyword">new</span> Er,e.parseStream=<span class="code-keyword">new</span> Cr,e.lineStream.pipe(e.parseStream);<span class="code-keyword">var</span> n,r,a=ft(e),o=[],u={},l=!<span class="code-number">1</span>,c={<span class="code-attr">AUDIO</span>:{},<span class="code-attr">VIDEO</span>:{},<span class="code-string">"CLOSED-CAPTIONS"</span>:{},<span class="code-attr">SUBTITLES</span>:{}},d=<span class="code-number">0</span>;e.manifest={<span class="code-attr">allowCache</span>:!<span class="code-number">0</span>,<span class="code-attr">discontinuityStarts</span>:[],<span class="code-attr">segments</span>:[]};<span class="code-keyword">var</span> h=<span class="code-number">0</span>,p=<span class="code-number">0</span>;<span class="code-keyword">return</span> e.on(<span class="code-string">"end"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{u.uri||!u.parts&amp;&amp;!u.preloadHints||(!u.map&amp;&amp;n&amp;&amp;(u.map=n),!u.key&amp;&amp;r&amp;&amp;(u.key=r),u.timeline||<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> d||(u.timeline=d),e.manifest.preloadSegment=u)}),e.parseStream.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s</span>)</span>{<span class="code-keyword">var</span> t,i;({<span class="code-attr">tag</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{({<span class="code-attr">version</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.version&amp;&amp;(<span class="code-keyword">this</span>.manifest.version=s.version)},<span class="code-string">"allow-cache"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manifest.allowCache=s.allowed,<span class="code-string">"allowed"</span><span class="code-keyword">in</span> s||(<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:<span class="code-string">"defaulting allowCache to YES"</span>}),<span class="code-keyword">this</span>.manifest.allowCache=!<span class="code-number">0</span>)},<span class="code-attr">byterange</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e={};<span class="code-string">"length"</span><span class="code-keyword">in</span> s&amp;&amp;((u.byterange=e).length=s.length,<span class="code-string">"offset"</span><span class="code-keyword">in</span> s||(s.offset=h)),<span class="code-string">"offset"</span><span class="code-keyword">in</span> s&amp;&amp;((u.byterange=e).offset=s.offset),h=e.offset+e.length},<span class="code-attr">endlist</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manifest.endList=!<span class="code-number">0</span>},<span class="code-attr">inf</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"mediaSequence"</span><span class="code-keyword">in</span> <span class="code-keyword">this</span>.manifest||(<span class="code-keyword">this</span>.manifest.mediaSequence=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:<span class="code-string">"defaulting media sequence to zero"</span>})),<span class="code-string">"discontinuitySequence"</span><span class="code-keyword">in</span> <span class="code-keyword">this</span>.manifest||(<span class="code-keyword">this</span>.manifest.discontinuitySequence=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:<span class="code-string">"defaulting discontinuity sequence to zero"</span>})),<span class="code-number">0</span>&lt;s.duration&amp;&amp;(u.duration=s.duration),<span class="code-number">0</span>===s.duration&amp;&amp;(u.duration=<span class="code-number">.01</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:<span class="code-string">"updating zero segment duration to a small value"</span>})),<span class="code-keyword">this</span>.manifest.segments=o},<span class="code-attr">key</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(s.attributes)<span class="code-keyword">if</span>(<span class="code-string">"NONE"</span>!==s.attributes.METHOD)<span class="code-keyword">if</span>(s.attributes.URI){<span class="code-keyword">if</span>(<span class="code-string">"com.apple.streamingkeydelivery"</span>===s.attributes.KEYFORMAT)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.manifest.contentProtection=<span class="code-keyword">this</span>.manifest.contentProtection||{},<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.manifest.contentProtection[<span class="code-string">"com.apple.fps.1_0"</span>]={<span class="code-attr">attributes</span>:s.attributes});<span class="code-keyword">if</span>(<span class="code-string">"com.microsoft.playready"</span>===s.attributes.KEYFORMAT)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.manifest.contentProtection=<span class="code-keyword">this</span>.manifest.contentProtection||{},<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.manifest.contentProtection[<span class="code-string">"com.microsoft.playready"</span>]={<span class="code-attr">uri</span>:s.attributes.URI});<span class="code-keyword">if</span>(<span class="code-string">"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"</span>===s.attributes.KEYFORMAT)<span class="code-keyword">return</span><span class="code-number">-1</span>===[<span class="code-string">"SAMPLE-AES"</span>,<span class="code-string">"SAMPLE-AES-CTR"</span>,<span class="code-string">"SAMPLE-AES-CENC"</span>].indexOf(s.attributes.METHOD)?<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"invalid key method provided for Widevine"</span>}):(<span class="code-string">"SAMPLE-AES-CENC"</span>===s.attributes.METHOD&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"</span>}),<span class="code-string">"data:text/plain;base64,"</span>!==s.attributes.URI.substring(<span class="code-number">0</span>,<span class="code-number">23</span>)?<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"invalid key URI provided for Widevine"</span>}):s.attributes.KEYID&amp;&amp;<span class="code-string">"0x"</span>===s.attributes.KEYID.substring(<span class="code-number">0</span>,<span class="code-number">2</span>)?(<span class="code-keyword">this</span>.manifest.contentProtection=<span class="code-keyword">this</span>.manifest.contentProtection||{},<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.manifest.contentProtection[<span class="code-string">"com.widevine.alpha"</span>]={<span class="code-attr">attributes</span>:{<span class="code-attr">schemeIdUri</span>:s.attributes.KEYFORMAT,<span class="code-attr">keyId</span>:s.attributes.KEYID.substring(<span class="code-number">2</span>)},<span class="code-attr">pssh</span>:or(s.attributes.URI.split(<span class="code-string">","</span>)[<span class="code-number">1</span>])})):<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"invalid key ID provided for Widevine"</span>}));s.attributes.METHOD||<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"defaulting key method to AES-128"</span>}),r={<span class="code-attr">method</span>:s.attributes.METHOD||<span class="code-string">"AES-128"</span>,<span class="code-attr">uri</span>:s.attributes.URI},<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> s.attributes.IV&amp;&amp;(r.iv=s.attributes.IV)}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring key declaration without URI"</span>});<span class="code-keyword">else</span> r=<span class="code-literal">null</span>;<span class="code-keyword">else</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring key declaration without attribute list"</span>})},<span class="code-string">"media-sequence"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">isFinite</span>(s.number)?<span class="code-keyword">this</span>.manifest.mediaSequence=s.number:<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring invalid media sequence: "</span>+s.number})},<span class="code-string">"discontinuity-sequence"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-built_in">isFinite</span>(s.number)?(<span class="code-keyword">this</span>.manifest.discontinuitySequence=s.number,d=s.number):<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring invalid discontinuity sequence: "</span>+s.number})},<span class="code-string">"playlist-type"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{/VOD|EVENT/.test(s.playlistType)?<span class="code-keyword">this</span>.manifest.playlistType=s.playlistType:<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring unknown playlist type: "</span>+s.playlist})},<span class="code-attr">map</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n={},s.uri&amp;&amp;(n.uri=s.uri),s.byterange&amp;&amp;(n.byterange=s.byterange),r&amp;&amp;(n.key=r)},<span class="code-string">"stream-inf"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manifest.playlists=o,<span class="code-keyword">this</span>.manifest.mediaGroups=<span class="code-keyword">this</span>.manifest.mediaGroups||c,s.attributes?(u.attributes||(u.attributes={}),g(u.attributes,s.attributes)):<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring empty stream-inf attributes"</span>})},<span class="code-attr">media</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.manifest.mediaGroups=<span class="code-keyword">this</span>.manifest.mediaGroups||c,s.attributes&amp;&amp;s.attributes.TYPE&amp;&amp;s.attributes[<span class="code-string">"GROUP-ID"</span>]&amp;&amp;s.attributes.NAME?((e=<span class="code-keyword">this</span>.manifest.mediaGroups[s.attributes.TYPE])[s.attributes[<span class="code-string">"GROUP-ID"</span>]]=e[s.attributes[<span class="code-string">"GROUP-ID"</span>]]||{},t=e[s.attributes[<span class="code-string">"GROUP-ID"</span>]],(i={<span class="code-attr">default</span>:<span class="code-regexp">/yes/i</span>.test(s.attributes.DEFAULT)}).default?i.autoselect=!<span class="code-number">0</span>:i.autoselect=<span class="code-regexp">/yes/i</span>.test(s.attributes.AUTOSELECT),s.attributes.LANGUAGE&amp;&amp;(i.language=s.attributes.LANGUAGE),s.attributes.URI&amp;&amp;(i.uri=s.attributes.URI),s.attributes[<span class="code-string">"INSTREAM-ID"</span>]&amp;&amp;(i.instreamId=s.attributes[<span class="code-string">"INSTREAM-ID"</span>]),s.attributes.CHARACTERISTICS&amp;&amp;(i.characteristics=s.attributes.CHARACTERISTICS),s.attributes.FORCED&amp;&amp;(i.forced=<span class="code-regexp">/yes/i</span>.test(s.attributes.FORCED)),t[s.attributes.NAME]=i):<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring incomplete or missing media group"</span>})},<span class="code-attr">discontinuity</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{d+=<span class="code-number">1</span>,u.discontinuity=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.manifest.discontinuityStarts.push(o.length)},<span class="code-string">"program-date-time"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.manifest.dateTimeString&amp;&amp;(<span class="code-keyword">this</span>.manifest.dateTimeString=s.dateTimeString,<span class="code-keyword">this</span>.manifest.dateTimeObject=s.dateTimeObject),u.dateTimeString=s.dateTimeString,u.dateTimeObject=s.dateTimeObject},<span class="code-attr">targetduration</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{!<span class="code-built_in">isFinite</span>(s.duration)||s.duration&lt;<span class="code-number">0</span>?<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring invalid target duration: "</span>+s.duration}):(<span class="code-keyword">this</span>.manifest.targetDuration=s.duration,dr.call(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.manifest))},<span class="code-attr">start</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.attributes&amp;&amp;!<span class="code-built_in">isNaN</span>(s.attributes[<span class="code-string">"TIME-OFFSET"</span>])?<span class="code-keyword">this</span>.manifest.start={<span class="code-attr">timeOffset</span>:s.attributes[<span class="code-string">"TIME-OFFSET"</span>],<span class="code-attr">precise</span>:s.attributes.PRECISE}:<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"ignoring start declaration without appropriate attribute list"</span>})},<span class="code-string">"cue-out"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{u.cueOut=s.data},<span class="code-string">"cue-out-cont"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{u.cueOutCont=s.data},<span class="code-string">"cue-in"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{u.cueIn=s.data},<span class="code-attr">skip</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manifest.skip=cr(s.attributes),<span class="code-keyword">this</span>.warnOnMissingAttributes_(<span class="code-string">"#EXT-X-SKIP"</span>,s.attributes,[<span class="code-string">"SKIPPED-SEGMENTS"</span>])},<span class="code-attr">part</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;l=!<span class="code-number">0</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.manifest.segments.length,t=cr(s.attributes);u.parts=u.parts||[],u.parts.push(t),t.byterange&amp;&amp;(t.byterange.hasOwnProperty(<span class="code-string">"offset"</span>)||(t.byterange.offset=p),p=t.byterange.offset+t.byterange.length);<span class="code-keyword">var</span> n=u.parts.length<span class="code-number">-1</span>;<span class="code-keyword">this</span>.warnOnMissingAttributes_(<span class="code-string">"#EXT-X-PART #"</span>+n+<span class="code-string">" for segment #"</span>+e,s.attributes,[<span class="code-string">"URI"</span>,<span class="code-string">"DURATION"</span>]),<span class="code-keyword">this</span>.manifest.renditionReports&amp;&amp;<span class="code-keyword">this</span>.manifest.renditionReports.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.hasOwnProperty(<span class="code-string">"lastPart"</span>)||i.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"#EXT-X-RENDITION-REPORT #"</span>+t+<span class="code-string">" lacks required attribute(s): LAST-PART"</span>})})},<span class="code-string">"server-control"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.manifest.serverControl=cr(s.attributes);e.hasOwnProperty(<span class="code-string">"canBlockReload"</span>)||(e.canBlockReload=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"info"</span>,{<span class="code-attr">message</span>:<span class="code-string">"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"</span>})),dr.call(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.manifest),e.canSkipDateranges&amp;&amp;!e.hasOwnProperty(<span class="code-string">"canSkipUntil"</span>)&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"</span>})},<span class="code-string">"preload-hint"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.manifest.segments.length,t=cr(s.attributes),i=t.type&amp;&amp;<span class="code-string">"PART"</span>===t.type;u.preloadHints=u.preloadHints||[],u.preloadHints.push(t),t.byterange&amp;&amp;(t.byterange.hasOwnProperty(<span class="code-string">"offset"</span>)||(t.byterange.offset=i?p:<span class="code-number">0</span>,i&amp;&amp;(p=t.byterange.offset+t.byterange.length)));<span class="code-keyword">var</span> n=u.preloadHints.length<span class="code-number">-1</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.warnOnMissingAttributes_(<span class="code-string">"#EXT-X-PRELOAD-HINT #"</span>+n+<span class="code-string">" for segment #"</span>+e,s.attributes,[<span class="code-string">"TYPE"</span>,<span class="code-string">"URI"</span>]),t.type)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;u.preloadHints.length<span class="code-number">-1</span>;r++){<span class="code-keyword">var</span> a=u.preloadHints[r];a.type&amp;&amp;a.type===t.type&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"#EXT-X-PRELOAD-HINT #"</span>+n+<span class="code-string">" for segment #"</span>+e+<span class="code-string">" has the same TYPE "</span>+t.type+<span class="code-string">" as preload hint #"</span>+r})}},<span class="code-string">"rendition-report"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=cr(s.attributes);<span class="code-keyword">this</span>.manifest.renditionReports=<span class="code-keyword">this</span>.manifest.renditionReports||[],<span class="code-keyword">this</span>.manifest.renditionReports.push(e);<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.manifest.renditionReports.length<span class="code-number">-1</span>,e=[<span class="code-string">"LAST-MSN"</span>,<span class="code-string">"URI"</span>];l&amp;&amp;e.push(<span class="code-string">"LAST-PART"</span>),<span class="code-keyword">this</span>.warnOnMissingAttributes_(<span class="code-string">"#EXT-X-RENDITION-REPORT #"</span>+t,s.attributes,e)},<span class="code-string">"part-inf"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.manifest.partInf=cr(s.attributes),<span class="code-keyword">this</span>.warnOnMissingAttributes_(<span class="code-string">"#EXT-X-PART-INF"</span>,s.attributes,[<span class="code-string">"PART-TARGET"</span>]),<span class="code-keyword">this</span>.manifest.partInf.partTarget&amp;&amp;(<span class="code-keyword">this</span>.manifest.partTargetDuration=<span class="code-keyword">this</span>.manifest.partInf.partTarget),dr.call(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.manifest)}}[s.tagType]||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}).call(a)},<span class="code-attr">uri</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{u.uri=s.uri,o.push(u),!<span class="code-keyword">this</span>.manifest.targetDuration||<span class="code-string">"duration"</span><span class="code-keyword">in</span> u||(<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:<span class="code-string">"defaulting segment duration to the target duration"</span>}),u.duration=<span class="code-keyword">this</span>.manifest.targetDuration),r&amp;&amp;(u.key=r),u.timeline=d,n&amp;&amp;(u.map=n),p=<span class="code-number">0</span>,u={}},<span class="code-attr">comment</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">custom</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{s.segment?(u.custom=u.custom||{},u.custom[s.customType]=s.data):(<span class="code-keyword">this</span>.manifest.custom=<span class="code-keyword">this</span>.manifest.custom||{},<span class="code-keyword">this</span>.manifest.custom[s.customType]=s.data)}})[s.type].call(a)}),e}mt(e,t);<span class="code-keyword">var</span> i=e.prototype;<span class="code-keyword">return</span> i.warnOnMissingAttributes_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=[];i.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.hasOwnProperty(e)||n.push(e)}),n.length&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"warn"</span>,{<span class="code-attr">message</span>:e+<span class="code-string">" lacks required attribute(s): "</span>+n.join(<span class="code-string">", "</span>)})},i.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.lineStream.push(e)},i.end=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.lineStream.push(<span class="code-string">"\n"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"end"</span>)},i.addParser=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.parseStream.addParser(e)},i.addTagMapper=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.parseStream.addTagMapper(e)},e}(ar),xr={<span class="code-attr">mp4</span>:<span class="code-regexp">/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/</span>,<span class="code-attr">webm</span>:<span class="code-regexp">/^(vp0?[89]|av0?1|opus|vorbis)/</span>,<span class="code-attr">ogg</span>:<span class="code-regexp">/^(vp0?[89]|theora|flac|opus|vorbis)/</span>,<span class="code-attr">video</span>:<span class="code-regexp">/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/</span>,<span class="code-attr">audio</span>:<span class="code-regexp">/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/</span>,<span class="code-attr">text</span>:<span class="code-regexp">/^(stpp.ttml.im1t)/</span>,<span class="code-attr">muxerVideo</span>:<span class="code-regexp">/^(avc0?1)/</span>,<span class="code-attr">muxerAudio</span>:<span class="code-regexp">/^(mp4a)/</span>,<span class="code-attr">muxerText</span>:<span class="code-regexp">/a^/</span>},Ar=[<span class="code-string">"video"</span>,<span class="code-string">"audio"</span>,<span class="code-string">"text"</span>],Pr=[<span class="code-string">"Video"</span>,<span class="code-string">"Audio"</span>,<span class="code-string">"Text"</span>],Lr=<span class="code-string">"mp4a.40.2"</span>,Dr=<span class="code-regexp">/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i</span>,Or=<span class="code-regexp">/^application\/dash\+xml/i</span>,Mr=_r,Rr=<span class="code-built_in">window</span>.BigInt||<span class="code-built_in">Number</span>,Nr=[Rr(<span class="code-string">"0x1"</span>),Rr(<span class="code-string">"0x100"</span>),Rr(<span class="code-string">"0x10000"</span>),Rr(<span class="code-string">"0x1000000"</span>),Rr(<span class="code-string">"0x100000000"</span>),Rr(<span class="code-string">"0x10000000000"</span>),Rr(<span class="code-string">"0x1000000000000"</span>),Rr(<span class="code-string">"0x100000000000000"</span>),Rr(<span class="code-string">"0x10000000000000000"</span>)];<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ur</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?<span class="code-built_in">Object</span>:t)&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t.freeze?t.freeze(e):e}<span class="code-keyword">var</span> Br=Ur({<span class="code-attr">HTML</span>:<span class="code-string">"text/html"</span>,<span class="code-attr">isHTML</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e===Br.HTML},<span class="code-attr">XML_APPLICATION</span>:<span class="code-string">"application/xml"</span>,<span class="code-attr">XML_TEXT</span>:<span class="code-string">"text/xml"</span>,<span class="code-attr">XML_XHTML_APPLICATION</span>:<span class="code-string">"application/xhtml+xml"</span>,<span class="code-attr">XML_SVG_IMAGE</span>:<span class="code-string">"image/svg+xml"</span>}),Fr=Ur({<span class="code-attr">HTML</span>:<span class="code-string">"http://www.w3.org/1999/xhtml"</span>,<span class="code-attr">isHTML</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e===Fr.HTML},<span class="code-attr">SVG</span>:<span class="code-string">"http://www.w3.org/2000/svg"</span>,<span class="code-attr">XML</span>:<span class="code-string">"http://www.w3.org/XML/1998/namespace"</span>,<span class="code-attr">XMLNS</span>:<span class="code-string">"http://www.w3.org/2000/xmlns/"</span>}),jr={<span class="code-attr">freeze</span>:Ur,<span class="code-attr">MIME_TYPE</span>:Br,<span class="code-attr">NAMESPACE</span>:Fr},Hr=jr.NAMESPACE;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">""</span>!==e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vr</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.hasOwnProperty(t)||(e[t]=!<span class="code-number">0</span>),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wr</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span>[];e=(e=e)?e.split(<span class="code-regexp">/[\t\n\f\r ]+/</span>).filter(qr):[];<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(e.reduce(Vr,{}))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gr</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> e)t[i]=e[i]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zr</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=e.prototype;n <span class="code-keyword">instanceof</span> t||((i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}).prototype=t.prototype,Gr(n,i=<span class="code-keyword">new</span> i),e.prototype=n=i),n.constructor!=e&amp;&amp;(n.constructor=e)}<span class="code-keyword">var</span> W={},Xr=W.ELEMENT_NODE=<span class="code-number">1</span>,Kr=W.ATTRIBUTE_NODE=<span class="code-number">2</span>,Yr=W.TEXT_NODE=<span class="code-number">3</span>,Qr=W.CDATA_SECTION_NODE=<span class="code-number">4</span>,$r=W.ENTITY_REFERENCE_NODE=<span class="code-number">5</span>,Jr=(W.ENTITY_NODE=<span class="code-number">6</span>,W.PROCESSING_INSTRUCTION_NODE=<span class="code-number">7</span>),Zr=W.COMMENT_NODE=<span class="code-number">8</span>,ea=W.DOCUMENT_NODE=<span class="code-number">9</span>,ta=W.DOCUMENT_TYPE_NODE=<span class="code-number">10</span>,ia=W.DOCUMENT_FRAGMENT_NODE=<span class="code-number">11</span>,x=(W.NOTATION_NODE=<span class="code-number">12</span>,{}),na={};x.INDEX_SIZE_ERR=(na[<span class="code-number">1</span>]=<span class="code-string">"Index size error"</span>,<span class="code-number">1</span>),x.DOMSTRING_SIZE_ERR=(na[<span class="code-number">2</span>]=<span class="code-string">"DOMString size error"</span>,<span class="code-number">2</span>);x.HIERARCHY_REQUEST_ERR=(na[<span class="code-number">3</span>]=<span class="code-string">"Hierarchy request error"</span>,<span class="code-number">3</span>);x.WRONG_DOCUMENT_ERR=(na[<span class="code-number">4</span>]=<span class="code-string">"Wrong document"</span>,<span class="code-number">4</span>),x.INVALID_CHARACTER_ERR=(na[<span class="code-number">5</span>]=<span class="code-string">"Invalid character"</span>,<span class="code-number">5</span>),x.NO_DATA_ALLOWED_ERR=(na[<span class="code-number">6</span>]=<span class="code-string">"No data allowed"</span>,<span class="code-number">6</span>),x.NO_MODIFICATION_ALLOWED_ERR=(na[<span class="code-number">7</span>]=<span class="code-string">"No modification allowed"</span>,<span class="code-number">7</span>);x.NOT_FOUND_ERR=(na[<span class="code-number">8</span>]=<span class="code-string">"Not found"</span>,<span class="code-number">8</span>);x.NOT_SUPPORTED_ERR=(na[<span class="code-number">9</span>]=<span class="code-string">"Not supported"</span>,<span class="code-number">9</span>);<span class="code-keyword">var</span> ra;x.INUSE_ATTRIBUTE_ERR=(na[<span class="code-number">10</span>]=<span class="code-string">"Attribute in use"</span>,<span class="code-number">10</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">aa</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">return</span> t <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>?i=t:(i=<span class="code-keyword">this</span>,<span class="code-built_in">Error</span>.call(<span class="code-keyword">this</span>,na[e]),<span class="code-keyword">this</span>.message=na[e],<span class="code-built_in">Error</span>.captureStackTrace&amp;&amp;<span class="code-built_in">Error</span>.captureStackTrace(<span class="code-keyword">this</span>,aa)),i.code=e,t&amp;&amp;(<span class="code-keyword">this</span>.message=<span class="code-keyword">this</span>.message+<span class="code-string">": "</span>+t),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oa</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>._node=e,<span class="code-keyword">this</span>._refresh=t,ua(<span class="code-keyword">this</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ua</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=e._node._inc||e._node.ownerDocument._inc;e._inc!=i&amp;&amp;(t=e._refresh(e._node),Fa(e,<span class="code-string">"length"</span>,t.length),Gr(t,e),e._inc=i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">la</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ca</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e.length;i--;)<span class="code-keyword">if</span>(e[i]===t)<span class="code-keyword">return</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">da</span>(<span class="code-params">e,t,i,n</span>)</span>{n?t[ca(t,n)]=i:t[t.length++]=i,!e||(t=(i.ownerElement=e).ownerDocument)&amp;&amp;(n&amp;&amp;va(t,e,n),e=e,i=i,(t=t)&amp;&amp;t._inc++,i.namespaceURI===Hr.XMLNS&amp;&amp;(e._nsMap[i.prefix?i.localName:<span class="code-string">""</span>]=i.value))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ha</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=ca(t,i);<span class="code-keyword">if</span>(!(<span class="code-number">0</span>&lt;=n))<span class="code-keyword">throw</span> aa(<span class="code-number">8</span>,<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(e.tagName+<span class="code-string">"@"</span>+i));<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,a=t.length<span class="code-number">-1</span>;n&lt;a;)t[n]=t[++n];t.length=a,!e||(r=e.ownerDocument)&amp;&amp;(va(r,e,i),i.ownerElement=<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ma</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(<span class="code-string">"&lt;"</span>==e?<span class="code-string">"&amp;lt;"</span>:<span class="code-string">"&gt;"</span>==e&amp;&amp;<span class="code-string">"&amp;gt;"</span>)||<span class="code-string">"&amp;"</span>==e&amp;&amp;<span class="code-string">"&amp;amp;"</span>||<span class="code-string">'"'</span>==e&amp;&amp;<span class="code-string">"&amp;quot;"</span>||<span class="code-string">"&amp;#"</span>+e.charCodeAt()+<span class="code-string">";"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ga</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(t(e))<span class="code-keyword">return</span> <span class="code-number">1</span>;<span class="code-keyword">if</span>(e=e.firstChild)<span class="code-keyword">do</span>{<span class="code-keyword">if</span>(ga(e,t))<span class="code-keyword">return</span> <span class="code-number">1</span>}<span class="code-keyword">while</span>(e=e.nextSibling)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ya</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">va</span>(<span class="code-params">e,t,i</span>)</span>{e&amp;&amp;e._inc++,i.namespaceURI===Hr.XMLNS&amp;&amp;<span class="code-keyword">delete</span> t._nsMap[i.prefix?i.localName:<span class="code-string">""</span>]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_a</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e._inc){e._inc++;<span class="code-keyword">var</span> n=t.childNodes;<span class="code-keyword">if</span>(i)n[n.length++]=i;<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=t.firstChild,a=<span class="code-number">0</span>;r;)r=(n[a++]=r).nextSibling;n.length=a}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ba</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.previousSibling,n=t.nextSibling;<span class="code-keyword">return</span> i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,_a(e.ownerDocument,e),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ta</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=t.parentNode;<span class="code-keyword">if</span>(n&amp;&amp;n.removeChild(t),t.nodeType===ia){<span class="code-keyword">var</span> r=t.firstChild;<span class="code-keyword">if</span>(<span class="code-literal">null</span>==r)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> a=t.lastChild}<span class="code-keyword">else</span> r=a=t;n=i?i.previousSibling:e.lastChild;<span class="code-keyword">for</span>(r.previousSibling=n,a.nextSibling=i,n?n.nextSibling=r:e.firstChild=r,<span class="code-literal">null</span>==i?e.lastChild=a:i.previousSibling=a;r.parentNode=e,r!==a&amp;&amp;(r=r.nextSibling););<span class="code-keyword">return</span> _a(e.ownerDocument||e,e),t.nodeType==ia&amp;&amp;(t.firstChild=t.lastChild=<span class="code-literal">null</span>),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Sa</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._nsMap={}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ea</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ka</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ca</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ia</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Aa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">La</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Da</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oa</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ma</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ra</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=[],r=<span class="code-number">9</span>==<span class="code-keyword">this</span>.nodeType&amp;&amp;<span class="code-keyword">this</span>.documentElement||<span class="code-keyword">this</span>,a=r.prefix,s=r.namespaceURI;<span class="code-keyword">return</span> Ba(<span class="code-keyword">this</span>,n,e,t,i=s&amp;&amp;<span class="code-literal">null</span>==a&amp;&amp;<span class="code-literal">null</span>==(a=r.lookupPrefix(s))?[{<span class="code-attr">namespace</span>:s,<span class="code-attr">prefix</span>:<span class="code-literal">null</span>}]:i),n.join(<span class="code-string">""</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Na</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=e.prefix||<span class="code-string">""</span>,r=e.namespaceURI;<span class="code-keyword">if</span>(r&amp;&amp;(<span class="code-string">"xml"</span>!==n||r!==Hr.XML)&amp;&amp;r!==Hr.XMLNS){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=i.length;a--;){<span class="code-keyword">var</span> s=i[a];<span class="code-keyword">if</span>(s.prefix===n)<span class="code-keyword">return</span> s.namespace!==r}<span class="code-keyword">return</span> <span class="code-number">1</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ua</span>(<span class="code-params">e,t,i</span>)</span>{e.push(<span class="code-string">" "</span>,t,<span class="code-string">'="'</span>,i.replace(<span class="code-regexp">/[&lt;&amp;"]/g</span>,ma),<span class="code-string">'"'</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ba</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">if</span>(r=r||[],n){<span class="code-keyword">if</span>(!(e=n(e)))<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e)<span class="code-keyword">return</span> <span class="code-keyword">void</span> t.push(e)}<span class="code-keyword">switch</span>(e.nodeType){<span class="code-keyword">case</span> Xr:<span class="code-keyword">var</span> a=e.attributes,s=a.length,o=e.firstChild,u=e.tagName,l=u;<span class="code-keyword">if</span>(!(i=Hr.isHTML(e.namespaceURI)||i)&amp;&amp;!e.prefix&amp;&amp;e.namespaceURI){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c,d=<span class="code-number">0</span>;d&lt;a.length;d++)<span class="code-keyword">if</span>(<span class="code-string">"xmlns"</span>===a.item(d).name){c=a.item(d).value;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(!c)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=r.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=h;h--)<span class="code-keyword">if</span>(<span class="code-string">""</span>===(p=r[h]).prefix&amp;&amp;p.namespace===e.namespaceURI){c=p.namespace;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(c!==e.namespaceURI)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p,h=r.length<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=h;h--)<span class="code-keyword">if</span>((p=r[h]).namespace===e.namespaceURI){p.prefix&amp;&amp;(l=p.prefix+<span class="code-string">":"</span>+u);<span class="code-keyword">break</span>}}t.push(<span class="code-string">"&lt;"</span>,l);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=<span class="code-number">0</span>;f&lt;s;f++)<span class="code-string">"xmlns"</span>==(m=a.item(f)).prefix?r.push({<span class="code-attr">prefix</span>:m.localName,<span class="code-attr">namespace</span>:m.value}):<span class="code-string">"xmlns"</span>==m.nodeName&amp;&amp;r.push({<span class="code-attr">prefix</span>:<span class="code-string">""</span>,<span class="code-attr">namespace</span>:m.value});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m,g,y,f=<span class="code-number">0</span>;f&lt;s;f++)Na(m=a.item(f),<span class="code-number">0</span>,r)&amp;&amp;(Ua(t,(g=m.prefix||<span class="code-string">""</span>)?<span class="code-string">"xmlns:"</span>+g:<span class="code-string">"xmlns"</span>,y=m.namespaceURI),r.push({<span class="code-attr">prefix</span>:g,<span class="code-attr">namespace</span>:y})),Ba(m,t,i,n,r);<span class="code-keyword">if</span>(u===l&amp;&amp;Na(e,<span class="code-number">0</span>,r)&amp;&amp;(Ua(t,(g=e.prefix||<span class="code-string">""</span>)?<span class="code-string">"xmlns:"</span>+g:<span class="code-string">"xmlns"</span>,y=e.namespaceURI),r.push({<span class="code-attr">prefix</span>:g,<span class="code-attr">namespace</span>:y})),o||i&amp;&amp;!<span class="code-regexp">/^(?:meta|link|img|br|hr|input)$/i</span>.test(u)){<span class="code-keyword">if</span>(t.push(<span class="code-string">"&gt;"</span>),i&amp;&amp;<span class="code-regexp">/^script$/i</span>.test(u))<span class="code-keyword">for</span>(;o;)o.data?t.push(o.data):Ba(o,t,i,n,r.slice()),o=o.nextSibling;<span class="code-keyword">else</span> <span class="code-keyword">for</span>(;o;)Ba(o,t,i,n,r.slice()),o=o.nextSibling;t.push(<span class="code-string">"&lt;/"</span>,l,<span class="code-string">"&gt;"</span>)}<span class="code-keyword">else</span> t.push(<span class="code-string">"/&gt;"</span>);<span class="code-keyword">return</span>;<span class="code-keyword">case</span> ea:<span class="code-keyword">case</span> ia:<span class="code-keyword">for</span>(o=e.firstChild;o;)Ba(o,t,i,n,r.slice()),o=o.nextSibling;<span class="code-keyword">return</span>;<span class="code-keyword">case</span> Kr:<span class="code-keyword">return</span> Ua(t,e.name,e.value),<span class="code-number">0</span>;<span class="code-keyword">case</span> Yr:<span class="code-keyword">return</span> t.push(e.data.replace(<span class="code-regexp">/[&lt;&amp;]/g</span>,ma).replace(<span class="code-regexp">/]]&gt;/g</span>,<span class="code-string">"]]&amp;gt;"</span>));<span class="code-keyword">case</span> Qr:<span class="code-keyword">return</span> t.push(<span class="code-string">"&lt;![CDATA["</span>,e.data,<span class="code-string">"]]&gt;"</span>);<span class="code-keyword">case</span> Zr:<span class="code-keyword">return</span> t.push(<span class="code-string">"\x3c!--"</span>,e.data,<span class="code-string">"--\x3e"</span>);<span class="code-keyword">case</span> ta:<span class="code-keyword">var</span> v=e.publicId,_=e.systemId;<span class="code-keyword">return</span> t.push(<span class="code-string">"&lt;!DOCTYPE "</span>,e.name),<span class="code-keyword">void</span>(v?(t.push(<span class="code-string">" PUBLIC "</span>,v),_&amp;&amp;<span class="code-string">"."</span>!=_&amp;&amp;t.push(<span class="code-string">" "</span>,_),t.push(<span class="code-string">"&gt;"</span>)):_&amp;&amp;<span class="code-string">"."</span>!=_?t.push(<span class="code-string">" SYSTEM "</span>,_,<span class="code-string">"&gt;"</span>):((_=e.internalSubset)&amp;&amp;t.push(<span class="code-string">" ["</span>,_,<span class="code-string">"]"</span>),t.push(<span class="code-string">"&gt;"</span>)));<span class="code-keyword">case</span> Jr:<span class="code-keyword">return</span> t.push(<span class="code-string">"&lt;?"</span>,e.target,<span class="code-string">" "</span>,e.data,<span class="code-string">"?&gt;"</span>);<span class="code-keyword">case</span> $r:<span class="code-keyword">return</span> t.push(<span class="code-string">"&amp;"</span>,e.nodeName,<span class="code-string">";"</span>);<span class="code-keyword">default</span>:t.push(<span class="code-string">"??"</span>,e.nodeName)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fa</span>(<span class="code-params">e,t,i</span>)</span>{e[t]=i}x.INVALID_STATE_ERR=(na[<span class="code-number">11</span>]=<span class="code-string">"Invalid state"</span>,<span class="code-number">11</span>),x.SYNTAX_ERR=(na[<span class="code-number">12</span>]=<span class="code-string">"Syntax error"</span>,<span class="code-number">12</span>),x.INVALID_MODIFICATION_ERR=(na[<span class="code-number">13</span>]=<span class="code-string">"Invalid modification"</span>,<span class="code-number">13</span>),x.NAMESPACE_ERR=(na[<span class="code-number">14</span>]=<span class="code-string">"Invalid namespace"</span>,<span class="code-number">14</span>),x.INVALID_ACCESS_ERR=(na[<span class="code-number">15</span>]=<span class="code-string">"Invalid access"</span>,<span class="code-number">15</span>),aa.prototype=<span class="code-built_in">Error</span>.prototype,Gr(x,aa),sa.prototype={<span class="code-attr">length</span>:<span class="code-number">0</span>,<span class="code-attr">item</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e]||<span class="code-literal">null</span>},<span class="code-attr">toString</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=[],n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.length;n++)Ba(<span class="code-keyword">this</span>[n],i,e,t);<span class="code-keyword">return</span> i.join(<span class="code-string">""</span>)}},oa.prototype.item=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ua(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>[e]},zr(oa,sa),la.prototype={<span class="code-attr">length</span>:<span class="code-number">0</span>,<span class="code-attr">item</span>:sa.prototype.item,<span class="code-attr">getNamedItem</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.length;t--;){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>[t];<span class="code-keyword">if</span>(i.nodeName==e)<span class="code-keyword">return</span> i}},<span class="code-attr">setNamedItem</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.ownerElement;<span class="code-keyword">if</span>(t&amp;&amp;t!=<span class="code-keyword">this</span>._ownerElement)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> aa(<span class="code-number">10</span>);t=<span class="code-keyword">this</span>.getNamedItem(e.nodeName);<span class="code-keyword">return</span> da(<span class="code-keyword">this</span>._ownerElement,<span class="code-keyword">this</span>,e,t),t},<span class="code-attr">setNamedItemNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.ownerElement;<span class="code-keyword">if</span>(t&amp;&amp;t!=<span class="code-keyword">this</span>._ownerElement)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> aa(<span class="code-number">10</span>);<span class="code-keyword">return</span> t=<span class="code-keyword">this</span>.getNamedItemNS(e.namespaceURI,e.localName),da(<span class="code-keyword">this</span>._ownerElement,<span class="code-keyword">this</span>,e,t),t},<span class="code-attr">removeNamedItem</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">this</span>.getNamedItem(e);<span class="code-keyword">return</span> ha(<span class="code-keyword">this</span>._ownerElement,<span class="code-keyword">this</span>,e),e},<span class="code-attr">removeNamedItemNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=<span class="code-keyword">this</span>.getNamedItemNS(e,t);<span class="code-keyword">return</span> ha(<span class="code-keyword">this</span>._ownerElement,<span class="code-keyword">this</span>,t),t},<span class="code-attr">getNamedItemNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.length;i--;){<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>[i];<span class="code-keyword">if</span>(n.localName==t&amp;&amp;n.namespaceURI==e)<span class="code-keyword">return</span> n}<span class="code-keyword">return</span> <span class="code-literal">null</span>}},pa.prototype={<span class="code-attr">hasFeature</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>!<span class="code-number">0</span>},<span class="code-attr">createDocument</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> ya;<span class="code-keyword">return</span> n.implementation=<span class="code-keyword">this</span>,n.childNodes=<span class="code-keyword">new</span> sa,n.doctype=i||<span class="code-literal">null</span>,i&amp;&amp;n.appendChild(i),t&amp;&amp;(t=n.createElementNS(e,t),n.appendChild(t)),n},<span class="code-attr">createDocumentType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">new</span> xa;<span class="code-keyword">return</span> n.name=e,n.nodeName=e,n.publicId=t||<span class="code-string">""</span>,n.systemId=i||<span class="code-string">""</span>,n}},fa.prototype={<span class="code-attr">firstChild</span>:<span class="code-literal">null</span>,<span class="code-attr">lastChild</span>:<span class="code-literal">null</span>,<span class="code-attr">previousSibling</span>:<span class="code-literal">null</span>,<span class="code-attr">nextSibling</span>:<span class="code-literal">null</span>,<span class="code-attr">attributes</span>:<span class="code-literal">null</span>,<span class="code-attr">parentNode</span>:<span class="code-literal">null</span>,<span class="code-attr">childNodes</span>:<span class="code-literal">null</span>,<span class="code-attr">ownerDocument</span>:<span class="code-literal">null</span>,<span class="code-attr">nodeValue</span>:<span class="code-literal">null</span>,<span class="code-attr">namespaceURI</span>:<span class="code-literal">null</span>,<span class="code-attr">prefix</span>:<span class="code-literal">null</span>,<span class="code-attr">localName</span>:<span class="code-literal">null</span>,<span class="code-attr">insertBefore</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> Ta(<span class="code-keyword">this</span>,e,t)},<span class="code-attr">replaceChild</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.insertBefore(e,t),t&amp;&amp;<span class="code-keyword">this</span>.removeChild(t)},<span class="code-attr">removeChild</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ba(<span class="code-keyword">this</span>,e)},<span class="code-attr">appendChild</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.insertBefore(e,<span class="code-literal">null</span>)},<span class="code-attr">hasChildNodes</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=<span class="code-keyword">this</span>.firstChild},<span class="code-attr">cloneNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,i,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> i.constructor;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> i){<span class="code-keyword">var</span> s=i[a];<span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> s&amp;&amp;s!=r[a]&amp;&amp;(r[a]=s)}i.childNodes&amp;&amp;(r.childNodes=<span class="code-keyword">new</span> sa);r.ownerDocument=t;<span class="code-keyword">switch</span>(r.nodeType){<span class="code-keyword">case</span> Xr:<span class="code-keyword">var</span> o=i.attributes,u=r.attributes=<span class="code-keyword">new</span> la,l=o.length;u._ownerElement=r;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;l;c++)r.setAttributeNode(e(t,o.item(c),!<span class="code-number">0</span>));<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Kr:n=!<span class="code-number">0</span>}<span class="code-keyword">if</span>(n)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> d=i.firstChild;d;)r.appendChild(e(t,d,n)),d=d.nextSibling;<span class="code-keyword">return</span> r}(<span class="code-keyword">this</span>.ownerDocument||<span class="code-keyword">this</span>,<span class="code-keyword">this</span>,e)},<span class="code-attr">normalize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.firstChild;e;){<span class="code-keyword">var</span> t=e.nextSibling;t&amp;&amp;t.nodeType==Yr&amp;&amp;e.nodeType==Yr?(<span class="code-keyword">this</span>.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},<span class="code-attr">isSupported</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.ownerDocument.implementation.hasFeature(e,t)},<span class="code-attr">hasAttributes</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.attributes.length},<span class="code-attr">lookupPrefix</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;t;){<span class="code-keyword">var</span> i=t._nsMap;<span class="code-keyword">if</span>(i)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n <span class="code-keyword">in</span> i)<span class="code-keyword">if</span>(i[n]==e)<span class="code-keyword">return</span> n;t=t.nodeType==Kr?t.ownerDocument:t.parentNode}<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">lookupNamespaceURI</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;t;){<span class="code-keyword">var</span> i=t._nsMap;<span class="code-keyword">if</span>(i&amp;&amp;e <span class="code-keyword">in</span> i)<span class="code-keyword">return</span> i[e];t=t.nodeType==Kr?t.ownerDocument:t.parentNode}<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">isDefaultNamespace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>==<span class="code-keyword">this</span>.lookupPrefix(e)}},Gr(W,fa),Gr(W,fa.prototype),ya.prototype={<span class="code-attr">nodeName</span>:<span class="code-string">"#document"</span>,<span class="code-attr">nodeType</span>:ea,<span class="code-attr">doctype</span>:<span class="code-literal">null</span>,<span class="code-attr">documentElement</span>:<span class="code-literal">null</span>,<span class="code-attr">_inc</span>:<span class="code-number">1</span>,<span class="code-attr">insertBefore</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e.nodeType!=ia)<span class="code-keyword">return</span> <span class="code-literal">null</span>==<span class="code-keyword">this</span>.documentElement&amp;&amp;e.nodeType==Xr&amp;&amp;(<span class="code-keyword">this</span>.documentElement=e),Ta(<span class="code-keyword">this</span>,e,t),e.ownerDocument=<span class="code-keyword">this</span>,e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e.firstChild;i;){<span class="code-keyword">var</span> n=i.nextSibling;<span class="code-keyword">this</span>.insertBefore(i,t),i=n}<span class="code-keyword">return</span> e},<span class="code-attr">removeChild</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.documentElement==e&amp;&amp;(<span class="code-keyword">this</span>.documentElement=<span class="code-literal">null</span>),ba(<span class="code-keyword">this</span>,e)},<span class="code-attr">importNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,i,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">switch</span>(i.nodeType){<span class="code-keyword">case</span> Xr:(r=i.cloneNode(!<span class="code-number">1</span>)).ownerDocument=t;<span class="code-keyword">case</span> ia:<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Kr:n=!<span class="code-number">0</span>}r=r||i.cloneNode(!<span class="code-number">1</span>);r.ownerDocument=t;r.parentNode=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(n)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=i.firstChild;a;)r.appendChild(e(t,a,n)),a=a.nextSibling;<span class="code-keyword">return</span> r}(<span class="code-keyword">this</span>,e,t)},<span class="code-attr">getElementById</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-literal">null</span>;<span class="code-keyword">return</span> ga(<span class="code-keyword">this</span>.documentElement,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.nodeType==Xr&amp;&amp;e.getAttribute(<span class="code-string">"id"</span>)==t)<span class="code-keyword">return</span> i=e,!<span class="code-number">0</span>}),i},<span class="code-attr">getElementsByClassName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s</span>)</span>{<span class="code-keyword">var</span> o=Wr(s);<span class="code-keyword">return</span> <span class="code-keyword">new</span> oa(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">var</span> a=[];<span class="code-keyword">return</span> <span class="code-number">0</span>&lt;o.length&amp;&amp;ga(r.documentElement,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n;e===r||e.nodeType!==Xr||(t=e.getAttribute(<span class="code-string">"class"</span>))&amp;&amp;((i=s===t)||(t=Wr(t),i=o.every((n=t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> n&amp;&amp;<span class="code-number">-1</span>!==n.indexOf(e)}))),i&amp;&amp;a.push(e))}),a})},<span class="code-attr">createElement</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Sa;<span class="code-keyword">return</span> t.ownerDocument=<span class="code-keyword">this</span>,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=<span class="code-keyword">new</span> sa,(t.attributes=<span class="code-keyword">new</span> la)._ownerElement=t},<span class="code-attr">createDocumentFragment</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">new</span> Da;<span class="code-keyword">return</span> e.ownerDocument=<span class="code-keyword">this</span>,e.childNodes=<span class="code-keyword">new</span> sa,e},<span class="code-attr">createTextNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> ka;<span class="code-keyword">return</span> t.ownerDocument=<span class="code-keyword">this</span>,t.appendData(e),t},<span class="code-attr">createComment</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Ca;<span class="code-keyword">return</span> t.ownerDocument=<span class="code-keyword">this</span>,t.appendData(e),t},<span class="code-attr">createCDATASection</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> Ia;<span class="code-keyword">return</span> t.ownerDocument=<span class="code-keyword">this</span>,t.appendData(e),t},<span class="code-attr">createProcessingInstruction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Oa;<span class="code-keyword">return</span> i.ownerDocument=<span class="code-keyword">this</span>,i.tagName=i.target=e,i.nodeValue=i.data=t,i},<span class="code-attr">createAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> wa;<span class="code-keyword">return</span> t.ownerDocument=<span class="code-keyword">this</span>,t.name=e,t.nodeName=e,t.localName=e,t.specified=!<span class="code-number">0</span>,t},<span class="code-attr">createEntityReference</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> La;<span class="code-keyword">return</span> t.ownerDocument=<span class="code-keyword">this</span>,t.nodeName=e,t},<span class="code-attr">createElementNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> Sa,n=t.split(<span class="code-string">":"</span>),r=i.attributes=<span class="code-keyword">new</span> la;<span class="code-keyword">return</span> i.childNodes=<span class="code-keyword">new</span> sa,i.ownerDocument=<span class="code-keyword">this</span>,i.nodeName=t,i.tagName=t,i.namespaceURI=e,<span class="code-number">2</span>==n.length?(i.prefix=n[<span class="code-number">0</span>],i.localName=n[<span class="code-number">1</span>]):i.localName=t,r._ownerElement=i},<span class="code-attr">createAttributeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> wa,n=t.split(<span class="code-string">":"</span>);<span class="code-keyword">return</span> i.ownerDocument=<span class="code-keyword">this</span>,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!<span class="code-number">0</span>,<span class="code-number">2</span>==n.length?(i.prefix=n[<span class="code-number">0</span>],i.localName=n[<span class="code-number">1</span>]):i.localName=t,i}},zr(ya,fa),ya.prototype.getElementsByTagName=(Sa.prototype={<span class="code-attr">nodeType</span>:Xr,<span class="code-attr">hasAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=<span class="code-keyword">this</span>.getAttributeNode(e)},<span class="code-attr">getAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">this</span>.getAttributeNode(e);<span class="code-keyword">return</span> e&amp;&amp;e.value||<span class="code-string">""</span>},<span class="code-attr">getAttributeNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes.getNamedItem(e)},<span class="code-attr">setAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e=<span class="code-keyword">this</span>.ownerDocument.createAttribute(e);e.value=e.nodeValue=<span class="code-string">""</span>+t,<span class="code-keyword">this</span>.setAttributeNode(e)},<span class="code-attr">removeAttribute</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">this</span>.getAttributeNode(e);e&amp;&amp;<span class="code-keyword">this</span>.removeAttributeNode(e)},<span class="code-attr">appendChild</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.nodeType===ia?<span class="code-keyword">this</span>.insertBefore(e,<span class="code-literal">null</span>):<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.parentNode;i&amp;&amp;(n=e.lastChild,i.removeChild(t),n=e.lastChild);<span class="code-keyword">var</span> n=e.lastChild;<span class="code-keyword">return</span> t.parentNode=e,t.previousSibling=n,t.nextSibling=<span class="code-literal">null</span>,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,_a(e.ownerDocument,e,t),t}(<span class="code-keyword">this</span>,e)},<span class="code-attr">setAttributeNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes.setNamedItem(e)},<span class="code-attr">setAttributeNodeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes.setNamedItemNS(e)},<span class="code-attr">removeAttributeNode</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes.removeNamedItem(e.nodeName)},<span class="code-attr">removeAttributeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=<span class="code-keyword">this</span>.getAttributeNodeNS(e,t);t&amp;&amp;<span class="code-keyword">this</span>.removeAttributeNode(t)},<span class="code-attr">hasAttributeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!=<span class="code-keyword">this</span>.getAttributeNodeNS(e,t)},<span class="code-attr">getAttributeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=<span class="code-keyword">this</span>.getAttributeNodeNS(e,t);<span class="code-keyword">return</span> t&amp;&amp;t.value||<span class="code-string">""</span>},<span class="code-attr">setAttributeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{t=<span class="code-keyword">this</span>.ownerDocument.createAttributeNS(e,t);t.value=t.nodeValue=<span class="code-string">""</span>+i,<span class="code-keyword">this</span>.setAttributeNode(t)},<span class="code-attr">getAttributeNodeNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.attributes.getNamedItemNS(e,t)},<span class="code-attr">getElementsByTagName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> oa(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=[];<span class="code-keyword">return</span> ga(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e===t||e.nodeType!=Xr||<span class="code-string">"*"</span>!==n&amp;&amp;e.tagName!=n||i.push(e)}),i})},<span class="code-attr">getElementsByTagNameNS</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> oa(<span class="code-keyword">this</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=[];<span class="code-keyword">return</span> ga(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e===t||e.nodeType!==Xr||<span class="code-string">"*"</span>!==n&amp;&amp;e.namespaceURI!==n||<span class="code-string">"*"</span>!==r&amp;&amp;e.localName!=r||i.push(e)}),i})}}).getElementsByTagName,ya.prototype.getElementsByTagNameNS=Sa.prototype.getElementsByTagNameNS,zr(Sa,fa),wa.prototype.nodeType=Kr,zr(wa,fa),Ea.prototype={<span class="code-attr">data</span>:<span class="code-string">""</span>,<span class="code-attr">substringData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.data.substring(e,e+t)},<span class="code-attr">appendData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">this</span>.data+e,<span class="code-keyword">this</span>.nodeValue=<span class="code-keyword">this</span>.data=e,<span class="code-keyword">this</span>.length=e.length},<span class="code-attr">insertData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.replaceData(e,<span class="code-number">0</span>,t)},<span class="code-attr">appendChild</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(na[<span class="code-number">3</span>])},<span class="code-attr">deleteData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.replaceData(e,t,<span class="code-string">""</span>)},<span class="code-attr">replaceData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.data.substring(<span class="code-number">0</span>,e),t=<span class="code-keyword">this</span>.data.substring(e+t);<span class="code-keyword">this</span>.nodeValue=<span class="code-keyword">this</span>.data=i=n+i+t,<span class="code-keyword">this</span>.length=i.length}},zr(Ea,fa),ka.prototype={<span class="code-attr">nodeName</span>:<span class="code-string">"#text"</span>,<span class="code-attr">nodeType</span>:Yr,<span class="code-attr">splitText</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=(i=<span class="code-keyword">this</span>.data).substring(e),i=i.substring(<span class="code-number">0</span>,e);<span class="code-keyword">this</span>.data=<span class="code-keyword">this</span>.nodeValue=i,<span class="code-keyword">this</span>.length=i.length;t=<span class="code-keyword">this</span>.ownerDocument.createTextNode(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.parentNode&amp;&amp;<span class="code-keyword">this</span>.parentNode.insertBefore(t,<span class="code-keyword">this</span>.nextSibling),t}},zr(ka,Ea),Ca.prototype={<span class="code-attr">nodeName</span>:<span class="code-string">"#comment"</span>,<span class="code-attr">nodeType</span>:Zr},zr(Ca,Ea),Ia.prototype={<span class="code-attr">nodeName</span>:<span class="code-string">"#cdata-section"</span>,<span class="code-attr">nodeType</span>:Qr},zr(Ia,Ea),xa.prototype.nodeType=ta,zr(xa,fa),Aa.prototype.nodeType=<span class="code-number">12</span>,zr(Aa,fa),Pa.prototype.nodeType=<span class="code-number">6</span>,zr(Pa,fa),La.prototype.nodeType=$r,zr(La,fa),Da.prototype.nodeName=<span class="code-string">"#document-fragment"</span>,Da.prototype.nodeType=ia,zr(Da,fa),Oa.prototype.nodeType=Jr,zr(Oa,fa),Ma.prototype.serializeToString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> Ra.call(e,t,i)},fa.prototype.toString=Ra;<span class="code-keyword">try</span>{<span class="code-built_in">Object</span>.defineProperty&amp;&amp;(ra=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">switch</span>(t.nodeType){<span class="code-keyword">case</span> Xr:<span class="code-keyword">case</span> ia:<span class="code-keyword">var</span> i=[];<span class="code-keyword">for</span>(t=t.firstChild;t;)<span class="code-number">7</span>!==t.nodeType&amp;&amp;<span class="code-number">8</span>!==t.nodeType&amp;&amp;i.push(e(t)),t=t.nextSibling;<span class="code-keyword">return</span> i.join(<span class="code-string">""</span>);<span class="code-keyword">default</span>:<span class="code-keyword">return</span> t.nodeValue}},<span class="code-built_in">Object</span>.defineProperty(oa.prototype,<span class="code-string">"length"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> ua(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.$$length}}),<span class="code-built_in">Object</span>.defineProperty(fa.prototype,<span class="code-string">"textContent"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> ra(<span class="code-keyword">this</span>)},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">switch</span>(<span class="code-keyword">this</span>.nodeType){<span class="code-keyword">case</span> Xr:<span class="code-keyword">case</span> ia:<span class="code-keyword">for</span>(;<span class="code-keyword">this</span>.firstChild;)<span class="code-keyword">this</span>.removeChild(<span class="code-keyword">this</span>.firstChild);(e||<span class="code-built_in">String</span>(e))&amp;&amp;<span class="code-keyword">this</span>.appendChild(<span class="code-keyword">this</span>.ownerDocument.createTextNode(e));<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">this</span>.data=e,<span class="code-keyword">this</span>.value=e,<span class="code-keyword">this</span>.nodeValue=e}}}),Fa=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{e[<span class="code-string">"$$"</span>+t]=i})}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">var</span> U={<span class="code-attr">DocumentType</span>:xa,<span class="code-attr">DOMException</span>:aa,<span class="code-attr">DOMImplementation</span>:pa,<span class="code-attr">Element</span>:Sa,<span class="code-attr">Node</span>:fa,<span class="code-attr">NodeList</span>:sa,<span class="code-attr">XMLSerializer</span>:Ma},ja=m(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=jr.freeze;t.XML_ENTITIES=i({<span class="code-attr">amp</span>:<span class="code-string">"&amp;"</span>,<span class="code-attr">apos</span>:<span class="code-string">"'"</span>,<span class="code-attr">gt</span>:<span class="code-string">"&gt;"</span>,<span class="code-attr">lt</span>:<span class="code-string">"&lt;"</span>,<span class="code-attr">quot</span>:<span class="code-string">'"'</span>}),t.HTML_ENTITIES=i({<span class="code-attr">lt</span>:<span class="code-string">"&lt;"</span>,<span class="code-attr">gt</span>:<span class="code-string">"&gt;"</span>,<span class="code-attr">amp</span>:<span class="code-string">"&amp;"</span>,<span class="code-attr">quot</span>:<span class="code-string">'"'</span>,<span class="code-attr">apos</span>:<span class="code-string">"'"</span>,<span class="code-attr">Agrave</span>:<span class="code-string">""</span>,<span class="code-attr">Aacute</span>:<span class="code-string">""</span>,<span class="code-attr">Acirc</span>:<span class="code-string">""</span>,<span class="code-attr">Atilde</span>:<span class="code-string">""</span>,<span class="code-attr">Auml</span>:<span class="code-string">""</span>,<span class="code-attr">Aring</span>:<span class="code-string">""</span>,<span class="code-attr">AElig</span>:<span class="code-string">""</span>,<span class="code-attr">Ccedil</span>:<span class="code-string">""</span>,<span class="code-attr">Egrave</span>:<span class="code-string">""</span>,<span class="code-attr">Eacute</span>:<span class="code-string">""</span>,<span class="code-attr">Ecirc</span>:<span class="code-string">""</span>,<span class="code-attr">Euml</span>:<span class="code-string">""</span>,<span class="code-attr">Igrave</span>:<span class="code-string">""</span>,<span class="code-attr">Iacute</span>:<span class="code-string">""</span>,<span class="code-attr">Icirc</span>:<span class="code-string">""</span>,<span class="code-attr">Iuml</span>:<span class="code-string">""</span>,<span class="code-attr">ETH</span>:<span class="code-string">""</span>,<span class="code-attr">Ntilde</span>:<span class="code-string">""</span>,<span class="code-attr">Ograve</span>:<span class="code-string">""</span>,<span class="code-attr">Oacute</span>:<span class="code-string">""</span>,<span class="code-attr">Ocirc</span>:<span class="code-string">""</span>,<span class="code-attr">Otilde</span>:<span class="code-string">""</span>,<span class="code-attr">Ouml</span>:<span class="code-string">""</span>,<span class="code-attr">Oslash</span>:<span class="code-string">""</span>,<span class="code-attr">Ugrave</span>:<span class="code-string">""</span>,<span class="code-attr">Uacute</span>:<span class="code-string">""</span>,<span class="code-attr">Ucirc</span>:<span class="code-string">""</span>,<span class="code-attr">Uuml</span>:<span class="code-string">""</span>,<span class="code-attr">Yacute</span>:<span class="code-string">""</span>,<span class="code-attr">THORN</span>:<span class="code-string">""</span>,<span class="code-attr">szlig</span>:<span class="code-string">""</span>,<span class="code-attr">agrave</span>:<span class="code-string">""</span>,<span class="code-attr">aacute</span>:<span class="code-string">""</span>,<span class="code-attr">acirc</span>:<span class="code-string">""</span>,<span class="code-attr">atilde</span>:<span class="code-string">""</span>,<span class="code-attr">auml</span>:<span class="code-string">""</span>,<span class="code-attr">aring</span>:<span class="code-string">""</span>,<span class="code-attr">aelig</span>:<span class="code-string">""</span>,<span class="code-attr">ccedil</span>:<span class="code-string">""</span>,<span class="code-attr">egrave</span>:<span class="code-string">""</span>,<span class="code-attr">eacute</span>:<span class="code-string">""</span>,<span class="code-attr">ecirc</span>:<span class="code-string">""</span>,<span class="code-attr">euml</span>:<span class="code-string">""</span>,<span class="code-attr">igrave</span>:<span class="code-string">""</span>,<span class="code-attr">iacute</span>:<span class="code-string">""</span>,<span class="code-attr">icirc</span>:<span class="code-string">""</span>,<span class="code-attr">iuml</span>:<span class="code-string">""</span>,<span class="code-attr">eth</span>:<span class="code-string">""</span>,<span class="code-attr">ntilde</span>:<span class="code-string">""</span>,<span class="code-attr">ograve</span>:<span class="code-string">""</span>,<span class="code-attr">oacute</span>:<span class="code-string">""</span>,<span class="code-attr">ocirc</span>:<span class="code-string">""</span>,<span class="code-attr">otilde</span>:<span class="code-string">""</span>,<span class="code-attr">ouml</span>:<span class="code-string">""</span>,<span class="code-attr">oslash</span>:<span class="code-string">""</span>,<span class="code-attr">ugrave</span>:<span class="code-string">""</span>,<span class="code-attr">uacute</span>:<span class="code-string">""</span>,<span class="code-attr">ucirc</span>:<span class="code-string">""</span>,<span class="code-attr">uuml</span>:<span class="code-string">""</span>,<span class="code-attr">yacute</span>:<span class="code-string">""</span>,<span class="code-attr">thorn</span>:<span class="code-string">""</span>,<span class="code-attr">yuml</span>:<span class="code-string">""</span>,<span class="code-attr">nbsp</span>:<span class="code-string">""</span>,<span class="code-attr">iexcl</span>:<span class="code-string">""</span>,<span class="code-attr">cent</span>:<span class="code-string">""</span>,<span class="code-attr">pound</span>:<span class="code-string">""</span>,<span class="code-attr">curren</span>:<span class="code-string">""</span>,<span class="code-attr">yen</span>:<span class="code-string">""</span>,<span class="code-attr">brvbar</span>:<span class="code-string">""</span>,<span class="code-attr">sect</span>:<span class="code-string">""</span>,<span class="code-attr">uml</span>:<span class="code-string">""</span>,<span class="code-attr">copy</span>:<span class="code-string">""</span>,<span class="code-attr">ordf</span>:<span class="code-string">""</span>,<span class="code-attr">laquo</span>:<span class="code-string">""</span>,<span class="code-attr">not</span>:<span class="code-string">""</span>,<span class="code-attr">shy</span>:<span class="code-string">""</span>,<span class="code-attr">reg</span>:<span class="code-string">""</span>,<span class="code-attr">macr</span>:<span class="code-string">""</span>,<span class="code-attr">deg</span>:<span class="code-string">""</span>,<span class="code-attr">plusmn</span>:<span class="code-string">""</span>,<span class="code-attr">sup2</span>:<span class="code-string">""</span>,<span class="code-attr">sup3</span>:<span class="code-string">""</span>,<span class="code-attr">acute</span>:<span class="code-string">""</span>,<span class="code-attr">micro</span>:<span class="code-string">""</span>,<span class="code-attr">para</span>:<span class="code-string">""</span>,<span class="code-attr">middot</span>:<span class="code-string">""</span>,<span class="code-attr">cedil</span>:<span class="code-string">""</span>,<span class="code-attr">sup1</span>:<span class="code-string">""</span>,<span class="code-attr">ordm</span>:<span class="code-string">""</span>,<span class="code-attr">raquo</span>:<span class="code-string">""</span>,<span class="code-attr">frac14</span>:<span class="code-string">""</span>,<span class="code-attr">frac12</span>:<span class="code-string">""</span>,<span class="code-attr">frac34</span>:<span class="code-string">""</span>,<span class="code-attr">iquest</span>:<span class="code-string">""</span>,<span class="code-attr">times</span>:<span class="code-string">""</span>,<span class="code-attr">divide</span>:<span class="code-string">""</span>,<span class="code-attr">forall</span>:<span class="code-string">""</span>,<span class="code-attr">part</span>:<span class="code-string">""</span>,<span class="code-attr">exist</span>:<span class="code-string">""</span>,<span class="code-attr">empty</span>:<span class="code-string">""</span>,<span class="code-attr">nabla</span>:<span class="code-string">""</span>,<span class="code-attr">isin</span>:<span class="code-string">""</span>,<span class="code-attr">notin</span>:<span class="code-string">""</span>,<span class="code-attr">ni</span>:<span class="code-string">""</span>,<span class="code-attr">prod</span>:<span class="code-string">""</span>,<span class="code-attr">sum</span>:<span class="code-string">""</span>,<span class="code-attr">minus</span>:<span class="code-string">""</span>,<span class="code-attr">lowast</span>:<span class="code-string">""</span>,<span class="code-attr">radic</span>:<span class="code-string">""</span>,<span class="code-attr">prop</span>:<span class="code-string">""</span>,<span class="code-attr">infin</span>:<span class="code-string">""</span>,<span class="code-attr">ang</span>:<span class="code-string">""</span>,<span class="code-attr">and</span>:<span class="code-string">""</span>,<span class="code-attr">or</span>:<span class="code-string">""</span>,<span class="code-attr">cap</span>:<span class="code-string">""</span>,<span class="code-attr">cup</span>:<span class="code-string">""</span>,<span class="code-attr">int</span>:<span class="code-string">""</span>,<span class="code-attr">there4</span>:<span class="code-string">""</span>,<span class="code-attr">sim</span>:<span class="code-string">""</span>,<span class="code-attr">cong</span>:<span class="code-string">""</span>,<span class="code-attr">asymp</span>:<span class="code-string">""</span>,<span class="code-attr">ne</span>:<span class="code-string">""</span>,<span class="code-attr">equiv</span>:<span class="code-string">""</span>,<span class="code-attr">le</span>:<span class="code-string">""</span>,<span class="code-attr">ge</span>:<span class="code-string">""</span>,<span class="code-attr">sub</span>:<span class="code-string">""</span>,<span class="code-attr">sup</span>:<span class="code-string">""</span>,<span class="code-attr">nsub</span>:<span class="code-string">""</span>,<span class="code-attr">sube</span>:<span class="code-string">""</span>,<span class="code-attr">supe</span>:<span class="code-string">""</span>,<span class="code-attr">oplus</span>:<span class="code-string">""</span>,<span class="code-attr">otimes</span>:<span class="code-string">""</span>,<span class="code-attr">perp</span>:<span class="code-string">""</span>,<span class="code-attr">sdot</span>:<span class="code-string">""</span>,<span class="code-attr">Alpha</span>:<span class="code-string">""</span>,<span class="code-attr">Beta</span>:<span class="code-string">""</span>,<span class="code-attr">Gamma</span>:<span class="code-string">""</span>,<span class="code-attr">Delta</span>:<span class="code-string">""</span>,<span class="code-attr">Epsilon</span>:<span class="code-string">""</span>,<span class="code-attr">Zeta</span>:<span class="code-string">""</span>,<span class="code-attr">Eta</span>:<span class="code-string">""</span>,<span class="code-attr">Theta</span>:<span class="code-string">""</span>,<span class="code-attr">Iota</span>:<span class="code-string">""</span>,<span class="code-attr">Kappa</span>:<span class="code-string">""</span>,<span class="code-attr">Lambda</span>:<span class="code-string">""</span>,<span class="code-attr">Mu</span>:<span class="code-string">""</span>,<span class="code-attr">Nu</span>:<span class="code-string">""</span>,<span class="code-attr">Xi</span>:<span class="code-string">""</span>,<span class="code-attr">Omicron</span>:<span class="code-string">""</span>,<span class="code-attr">Pi</span>:<span class="code-string">""</span>,<span class="code-attr">Rho</span>:<span class="code-string">""</span>,<span class="code-attr">Sigma</span>:<span class="code-string">""</span>,<span class="code-attr">Tau</span>:<span class="code-string">""</span>,<span class="code-attr">Upsilon</span>:<span class="code-string">""</span>,<span class="code-attr">Phi</span>:<span class="code-string">""</span>,<span class="code-attr">Chi</span>:<span class="code-string">""</span>,<span class="code-attr">Psi</span>:<span class="code-string">""</span>,<span class="code-attr">Omega</span>:<span class="code-string">""</span>,<span class="code-attr">alpha</span>:<span class="code-string">""</span>,<span class="code-attr">beta</span>:<span class="code-string">""</span>,<span class="code-attr">gamma</span>:<span class="code-string">""</span>,<span class="code-attr">delta</span>:<span class="code-string">""</span>,<span class="code-attr">epsilon</span>:<span class="code-string">""</span>,<span class="code-attr">zeta</span>:<span class="code-string">""</span>,<span class="code-attr">eta</span>:<span class="code-string">""</span>,<span class="code-attr">theta</span>:<span class="code-string">""</span>,<span class="code-attr">iota</span>:<span class="code-string">""</span>,<span class="code-attr">kappa</span>:<span class="code-string">""</span>,<span class="code-attr">lambda</span>:<span class="code-string">""</span>,<span class="code-attr">mu</span>:<span class="code-string">""</span>,<span class="code-attr">nu</span>:<span class="code-string">""</span>,<span class="code-attr">xi</span>:<span class="code-string">""</span>,<span class="code-attr">omicron</span>:<span class="code-string">""</span>,<span class="code-attr">pi</span>:<span class="code-string">""</span>,<span class="code-attr">rho</span>:<span class="code-string">""</span>,<span class="code-attr">sigmaf</span>:<span class="code-string">""</span>,<span class="code-attr">sigma</span>:<span class="code-string">""</span>,<span class="code-attr">tau</span>:<span class="code-string">""</span>,<span class="code-attr">upsilon</span>:<span class="code-string">""</span>,<span class="code-attr">phi</span>:<span class="code-string">""</span>,<span class="code-attr">chi</span>:<span class="code-string">""</span>,<span class="code-attr">psi</span>:<span class="code-string">""</span>,<span class="code-attr">omega</span>:<span class="code-string">""</span>,<span class="code-attr">thetasym</span>:<span class="code-string">""</span>,<span class="code-attr">upsih</span>:<span class="code-string">""</span>,<span class="code-attr">piv</span>:<span class="code-string">""</span>,<span class="code-attr">OElig</span>:<span class="code-string">""</span>,<span class="code-attr">oelig</span>:<span class="code-string">""</span>,<span class="code-attr">Scaron</span>:<span class="code-string">""</span>,<span class="code-attr">scaron</span>:<span class="code-string">""</span>,<span class="code-attr">Yuml</span>:<span class="code-string">""</span>,<span class="code-attr">fnof</span>:<span class="code-string">""</span>,<span class="code-attr">circ</span>:<span class="code-string">""</span>,<span class="code-attr">tilde</span>:<span class="code-string">""</span>,<span class="code-attr">ensp</span>:<span class="code-string">""</span>,<span class="code-attr">emsp</span>:<span class="code-string">""</span>,<span class="code-attr">thinsp</span>:<span class="code-string">""</span>,<span class="code-attr">zwnj</span>:<span class="code-string">""</span>,<span class="code-attr">zwj</span>:<span class="code-string">""</span>,<span class="code-attr">lrm</span>:<span class="code-string">""</span>,<span class="code-attr">rlm</span>:<span class="code-string">""</span>,<span class="code-attr">ndash</span>:<span class="code-string">""</span>,<span class="code-attr">mdash</span>:<span class="code-string">""</span>,<span class="code-attr">lsquo</span>:<span class="code-string">""</span>,<span class="code-attr">rsquo</span>:<span class="code-string">""</span>,<span class="code-attr">sbquo</span>:<span class="code-string">""</span>,<span class="code-attr">ldquo</span>:<span class="code-string">""</span>,<span class="code-attr">rdquo</span>:<span class="code-string">""</span>,<span class="code-attr">bdquo</span>:<span class="code-string">""</span>,<span class="code-attr">dagger</span>:<span class="code-string">""</span>,<span class="code-attr">Dagger</span>:<span class="code-string">""</span>,<span class="code-attr">bull</span>:<span class="code-string">""</span>,<span class="code-attr">hellip</span>:<span class="code-string">""</span>,<span class="code-attr">permil</span>:<span class="code-string">""</span>,<span class="code-attr">prime</span>:<span class="code-string">""</span>,<span class="code-attr">Prime</span>:<span class="code-string">""</span>,<span class="code-attr">lsaquo</span>:<span class="code-string">""</span>,<span class="code-attr">rsaquo</span>:<span class="code-string">""</span>,<span class="code-attr">oline</span>:<span class="code-string">""</span>,<span class="code-attr">euro</span>:<span class="code-string">""</span>,<span class="code-attr">trade</span>:<span class="code-string">""</span>,<span class="code-attr">larr</span>:<span class="code-string">""</span>,<span class="code-attr">uarr</span>:<span class="code-string">""</span>,<span class="code-attr">rarr</span>:<span class="code-string">""</span>,<span class="code-attr">darr</span>:<span class="code-string">""</span>,<span class="code-attr">harr</span>:<span class="code-string">""</span>,<span class="code-attr">crarr</span>:<span class="code-string">""</span>,<span class="code-attr">lceil</span>:<span class="code-string">""</span>,<span class="code-attr">rceil</span>:<span class="code-string">""</span>,<span class="code-attr">lfloor</span>:<span class="code-string">""</span>,<span class="code-attr">rfloor</span>:<span class="code-string">""</span>,<span class="code-attr">loz</span>:<span class="code-string">""</span>,<span class="code-attr">spades</span>:<span class="code-string">""</span>,<span class="code-attr">clubs</span>:<span class="code-string">""</span>,<span class="code-attr">hearts</span>:<span class="code-string">""</span>,<span class="code-attr">diams</span>:<span class="code-string">""</span>}),t.entityMap=t.HTML_ENTITIES});ja.XML_ENTITIES,ja.HTML_ENTITIES,ja.entityMap;<span class="code-keyword">var</span> Ha=jr.NAMESPACE,zt=<span class="code-regexp">/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/</span>,ar=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"[\\-\\.0-9"</span>+zt.source.slice(<span class="code-number">1</span>,<span class="code-number">-1</span>)+<span class="code-string">"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"</span>),qa=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"^"</span>+zt.source+ar.source+<span class="code-string">"*(?::"</span>+zt.source+ar.source+<span class="code-string">"*)?$"</span>),Va=<span class="code-number">0</span>,Wa=<span class="code-number">1</span>,Ga=<span class="code-number">2</span>,za=<span class="code-number">3</span>,Xa=<span class="code-number">4</span>,Ka=<span class="code-number">5</span>,Ya=<span class="code-number">6</span>,Qa=<span class="code-number">7</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$a</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.message=e,<span class="code-keyword">this</span>.locator=t,<span class="code-built_in">Error</span>.captureStackTrace&amp;&amp;<span class="code-built_in">Error</span>.captureStackTrace(<span class="code-keyword">this</span>,$a)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ja</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Za</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">es</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.tagName,r=<span class="code-literal">null</span>,a=e.length;a--;){<span class="code-keyword">var</span> s=e[a],o=s.qName,u=s.value,o=<span class="code-number">0</span>&lt;(c=o.indexOf(<span class="code-string">":"</span>))?(l=s.prefix=o.slice(<span class="code-number">0</span>,c),d=o.slice(c+<span class="code-number">1</span>),<span class="code-string">"xmlns"</span>===l&amp;&amp;d):(l=<span class="code-literal">null</span>,<span class="code-string">"xmlns"</span>===(d=o)&amp;&amp;<span class="code-string">""</span>);s.localName=d,!<span class="code-number">1</span>!==o&amp;&amp;(<span class="code-literal">null</span>==r&amp;&amp;(r={},ts(i,i={})),i[o]=r[o]=u,s.uri=Ha.XMLNS,t.startPrefixMapping(o,u))}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> l,a=e.length;a--;)(l=(s=e[a]).prefix)&amp;&amp;(<span class="code-string">"xml"</span>===l&amp;&amp;(s.uri=Ha.XML),<span class="code-string">"xmlns"</span>!==l&amp;&amp;(s.uri=i[l||<span class="code-string">""</span>]));<span class="code-keyword">var</span> c,d=<span class="code-number">0</span>&lt;(c=n.indexOf(<span class="code-string">":"</span>))?(l=e.prefix=n.slice(<span class="code-number">0</span>,c),e.localName=n.slice(c+<span class="code-number">1</span>)):(l=<span class="code-literal">null</span>,e.localName=n),h=e.uri=i[l||<span class="code-string">""</span>];<span class="code-keyword">if</span>(t.startElement(h,d,n,e),!e.closed)<span class="code-keyword">return</span> e.currentNSMap=i,e.localNSMap=r,<span class="code-number">1</span>;<span class="code-keyword">if</span>(t.endElement(h,d,n),r)<span class="code-keyword">for</span>(l <span class="code-keyword">in</span> r)t.endPrefixMapping(l)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ts</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> e)t[i]=e[i]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">is</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.attributeNames={}}($a.prototype=<span class="code-keyword">new</span> <span class="code-built_in">Error</span>).name=$a.name,Ja.prototype={<span class="code-attr">parse</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.domBuilder;n.startDocument(),ts(t,t={}),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,e,n,r,a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.slice(<span class="code-number">1</span>,<span class="code-number">-1</span>);<span class="code-keyword">return</span> t <span class="code-keyword">in</span> n?n[t]:<span class="code-string">"#"</span>===t.charAt(<span class="code-number">0</span>)?<span class="code-number">65535</span>&lt;(t=<span class="code-built_in">parseInt</span>(t.substr(<span class="code-number">1</span>).replace(<span class="code-string">"x"</span>,<span class="code-string">"0x"</span>)))?(t-=<span class="code-number">65536</span>,<span class="code-built_in">String</span>.fromCharCode(<span class="code-number">55296</span>+(t&gt;&gt;<span class="code-number">10</span>),<span class="code-number">56320</span>+(<span class="code-number">1023</span>&amp;t))):<span class="code-built_in">String</span>.fromCharCode(t):(a.error(<span class="code-string">"entity not found:"</span>+e),e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;f&lt;e&amp;&amp;(t=i.substring(f,e).replace(<span class="code-regexp">/&amp;#?\w+;/g</span>,s),d&amp;&amp;o(f),r.characters(t,<span class="code-number">0</span>,e-f),f=e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(;l&lt;=e&amp;&amp;(t=c.exec(i));)u=t.index,l=u+t[<span class="code-number">0</span>].length,d.lineNumber++;d.columnNumber=e-u+<span class="code-number">1</span>}<span class="code-keyword">var</span> u=<span class="code-number">0</span>,l=<span class="code-number">0</span>,c=<span class="code-regexp">/.*(?:\r\n?|\n)|.*$/g</span>,d=r.locator,h=[{<span class="code-attr">currentNSMap</span>:e}],p={},f=<span class="code-number">0</span>;<span class="code-keyword">for</span>(;;){<span class="code-keyword">try</span>{<span class="code-keyword">var</span> m,g,y=i.indexOf(<span class="code-string">"&lt;"</span>,f);<span class="code-keyword">if</span>(y&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span> i.substr(f).match(<span class="code-regexp">/^\s*$/</span>)||(m=r.doc,g=m.createTextNode(i.substr(f)),m.appendChild(g),r.currentElement=g);<span class="code-keyword">switch</span>(f&lt;y&amp;&amp;t(y),i.charAt(y+<span class="code-number">1</span>)){<span class="code-keyword">case</span><span class="code-string">"/"</span>:<span class="code-keyword">var</span> v=i.indexOf(<span class="code-string">"&gt;"</span>,y+<span class="code-number">3</span>),_=i.substring(y+<span class="code-number">2</span>,v).replace(<span class="code-regexp">/[ \t\n\r]+$/g</span>,<span class="code-string">""</span>),b=h.pop();v&lt;<span class="code-number">0</span>?(_=i.substring(y+<span class="code-number">2</span>).replace(<span class="code-regexp">/[\s&lt;].*/</span>,<span class="code-string">""</span>),a.error(<span class="code-string">"end tag name: "</span>+_+<span class="code-string">" is not complete:"</span>+b.tagName),v=y+<span class="code-number">1</span>+_.length):_.match(<span class="code-regexp">/\s&lt;/</span>)&amp;&amp;(_=_.replace(<span class="code-regexp">/[\s&lt;].*/</span>,<span class="code-string">""</span>),a.error(<span class="code-string">"end tag name: "</span>+_+<span class="code-string">" maybe not complete"</span>),v=y+<span class="code-number">1</span>+_.length);<span class="code-keyword">var</span> T=b.localNSMap,S=b.tagName==_;<span class="code-keyword">if</span>(S||b.tagName&amp;&amp;b.tagName.toLowerCase()==_.toLowerCase()){<span class="code-keyword">if</span>(r.endElement(b.uri,b.localName,_),T)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> w <span class="code-keyword">in</span> T)r.endPrefixMapping(w);S||a.fatalError(<span class="code-string">"end tag name: "</span>+_+<span class="code-string">" is not match the current start tagName:"</span>+b.tagName)}<span class="code-keyword">else</span> h.push(b);v++;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"?"</span>:d&amp;&amp;o(y),v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=e.indexOf(<span class="code-string">"?&gt;"</span>,t);<span class="code-keyword">if</span>(n){t=e.substring(t,n).match(<span class="code-regexp">/^&lt;\?(\S*)\s*([\s\S]*?)\s*$/</span>);<span class="code-keyword">return</span> t?(t[<span class="code-number">0</span>].length,i.processingInstruction(t[<span class="code-number">1</span>],t[<span class="code-number">2</span>]),n+<span class="code-number">2</span>):<span class="code-number">-1</span>}<span class="code-keyword">return</span><span class="code-number">-1</span>}(i,y,r);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"!"</span>:d&amp;&amp;o(y),v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{{<span class="code-keyword">if</span>(<span class="code-string">"-"</span>===e.charAt(t+<span class="code-number">2</span>)){<span class="code-keyword">if</span>(<span class="code-string">"-"</span>!==e.charAt(t+<span class="code-number">3</span>))<span class="code-keyword">return</span><span class="code-number">-1</span>;<span class="code-keyword">var</span> r=e.indexOf(<span class="code-string">"--\x3e"</span>,t+<span class="code-number">4</span>);<span class="code-keyword">return</span> t&lt;r?(i.comment(e,t+<span class="code-number">4</span>,r-t<span class="code-number">-4</span>),r+<span class="code-number">3</span>):(n.error(<span class="code-string">"Unclosed comment"</span>),<span class="code-number">-1</span>)}<span class="code-keyword">if</span>(<span class="code-string">"CDATA["</span>==e.substr(t+<span class="code-number">3</span>,<span class="code-number">6</span>)){r=e.indexOf(<span class="code-string">"]]&gt;"</span>,t+<span class="code-number">9</span>);<span class="code-keyword">return</span> i.startCDATA(),i.characters(e,t+<span class="code-number">9</span>,r-t<span class="code-number">-9</span>),i.endCDATA(),r+<span class="code-number">3</span>}<span class="code-keyword">var</span> a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=[],r=<span class="code-regexp">/'[^']+'|"[^"]+"|[^\s&lt;&gt;\/=]+=?|(\/?\s*&gt;|&lt;)/g</span>;r.lastIndex=t,r.exec(e);<span class="code-keyword">for</span>(;i=r.exec(e);)<span class="code-keyword">if</span>(n.push(i),i[<span class="code-number">1</span>])<span class="code-keyword">return</span> n}(e,t),n=a.length;<span class="code-keyword">if</span>(<span class="code-number">1</span>&lt;n&amp;&amp;<span class="code-regexp">/!doctype/i</span>.test(a[<span class="code-number">0</span>][<span class="code-number">0</span>])){r=a[<span class="code-number">1</span>][<span class="code-number">0</span>],e=!<span class="code-number">1</span>,t=!<span class="code-number">1</span>;<span class="code-number">3</span>&lt;n&amp;&amp;(<span class="code-regexp">/^public$/i</span>.test(a[<span class="code-number">2</span>][<span class="code-number">0</span>])?(e=a[<span class="code-number">3</span>][<span class="code-number">0</span>],t=<span class="code-number">4</span>&lt;n&amp;&amp;a[<span class="code-number">4</span>][<span class="code-number">0</span>]):<span class="code-regexp">/^system$/i</span>.test(a[<span class="code-number">2</span>][<span class="code-number">0</span>])&amp;&amp;(t=a[<span class="code-number">3</span>][<span class="code-number">0</span>]));n=a[n<span class="code-number">-1</span>];<span class="code-keyword">return</span> i.startDTD(r,e,t),i.endDTD(),n.index+n[<span class="code-number">0</span>].length}}<span class="code-keyword">return</span><span class="code-number">-1</span>}(i,y,r,a);<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:d&amp;&amp;o(y);<span class="code-keyword">var</span> E=<span class="code-keyword">new</span> is,k=h[h.length<span class="code-number">-1</span>].currentNSMap,v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,n,i,r,a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e,t,i</span>)</span>{n.attributeNames.hasOwnProperty(e)&amp;&amp;a.fatalError(<span class="code-string">"Attribute "</span>+e+<span class="code-string">" redefined"</span>),n.addValue(e,t,i)}<span class="code-keyword">var</span> o,u=++t,l=Va;<span class="code-keyword">for</span>(;;){<span class="code-keyword">var</span> c=e.charAt(u);<span class="code-keyword">switch</span>(c){<span class="code-keyword">case</span><span class="code-string">"="</span>:<span class="code-keyword">if</span>(l===Wa)o=e.slice(t,u),l=za;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(l!==Ga)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"attribute equal must after attrName"</span>);l=za}<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"'"</span>:<span class="code-keyword">case</span><span class="code-string">'"'</span>:<span class="code-keyword">if</span>(l===za||l===Wa){<span class="code-keyword">if</span>(l===Wa&amp;&amp;(a.warning(<span class="code-string">'attribute value must after "="'</span>),o=e.slice(t,u)),t=u+<span class="code-number">1</span>,!(<span class="code-number">0</span>&lt;(u=e.indexOf(c,t))))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"attribute value no end '"</span>+c+<span class="code-string">"' match"</span>);d=e.slice(t,u).replace(<span class="code-regexp">/&amp;#?\w+;/g</span>,r),s(o,d,t<span class="code-number">-1</span>),l=Ka}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(l!=Xa)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'attribute value must after "="'</span>);d=e.slice(t,u).replace(<span class="code-regexp">/&amp;#?\w+;/g</span>,r),s(o,d,t),a.warning(<span class="code-string">'attribute "'</span>+o+<span class="code-string">'" missed start quot('</span>+c+<span class="code-string">")!!"</span>),t=u+<span class="code-number">1</span>,l=Ka}<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"/"</span>:<span class="code-keyword">switch</span>(l){<span class="code-keyword">case</span> Va:n.setTagName(e.slice(t,u));<span class="code-keyword">case</span> Ka:<span class="code-keyword">case</span> Ya:<span class="code-keyword">case</span> Qa:l=Qa,n.closed=!<span class="code-number">0</span>;<span class="code-keyword">case</span> Xa:<span class="code-keyword">case</span> Wa:<span class="code-keyword">case</span> Ga:<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"attribute invalid close char('/')"</span>)}<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">""</span>:<span class="code-keyword">return</span> a.error(<span class="code-string">"unexpected end of input"</span>),l==Va&amp;&amp;n.setTagName(e.slice(t,u)),u;<span class="code-keyword">case</span><span class="code-string">"&gt;"</span>:<span class="code-keyword">switch</span>(l){<span class="code-keyword">case</span> Va:n.setTagName(e.slice(t,u));<span class="code-keyword">case</span> Ka:<span class="code-keyword">case</span> Ya:<span class="code-keyword">case</span> Qa:<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Xa:<span class="code-keyword">case</span> Wa:<span class="code-string">"/"</span>===(d=e.slice(t,u)).slice(<span class="code-number">-1</span>)&amp;&amp;(n.closed=!<span class="code-number">0</span>,d=d.slice(<span class="code-number">0</span>,<span class="code-number">-1</span>));<span class="code-keyword">case</span> Ga:l===Ga&amp;&amp;(d=o),l==Xa?(a.warning(<span class="code-string">'attribute "'</span>+d+<span class="code-string">'" missed quot(")!'</span>),s(o,d.replace(<span class="code-regexp">/&amp;#?\w+;/g</span>,r),t)):(Ha.isHTML(i[<span class="code-string">""</span>])&amp;&amp;d.match(<span class="code-regexp">/^(?:disabled|checked|selected)$/i</span>)||a.warning(<span class="code-string">'attribute "'</span>+d+<span class="code-string">'" missed value!! "'</span>+d+<span class="code-string">'" instead!!'</span>),s(d,d,t));<span class="code-keyword">break</span>;<span class="code-keyword">case</span> za:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"attribute value missed!!"</span>)}<span class="code-keyword">return</span> u;<span class="code-keyword">case</span><span class="code-string">""</span>:c=<span class="code-string">" "</span>;<span class="code-keyword">default</span>:<span class="code-keyword">if</span>(c&lt;=<span class="code-string">" "</span>)<span class="code-keyword">switch</span>(l){<span class="code-keyword">case</span> Va:n.setTagName(e.slice(t,u)),l=Ya;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Wa:o=e.slice(t,u),l=Ga;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Xa:<span class="code-keyword">var</span> d=e.slice(t,u).replace(<span class="code-regexp">/&amp;#?\w+;/g</span>,r);a.warning(<span class="code-string">'attribute "'</span>+d+<span class="code-string">'" missed quot(")!!'</span>),s(o,d,t);<span class="code-keyword">case</span> Ka:l=Ya}<span class="code-keyword">else</span> <span class="code-keyword">switch</span>(l){<span class="code-keyword">case</span> Ga:n.tagName,Ha.isHTML(i[<span class="code-string">""</span>])&amp;&amp;o.match(<span class="code-regexp">/^(?:disabled|checked|selected)$/i</span>)||a.warning(<span class="code-string">'attribute "'</span>+o+<span class="code-string">'" missed value!! "'</span>+o+<span class="code-string">'" instead2!!'</span>),s(o,o,t),t=u,l=Wa;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Ka:a.warning(<span class="code-string">'attribute space is required"'</span>+o+<span class="code-string">'"!!'</span>);<span class="code-keyword">case</span> Ya:l=Wa,t=u;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> za:l=Xa,t=u;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> Qa:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"elements closed character '/' and '&gt;' must be connected to"</span>)}}u++}}(i,y,E,k,s,a),C=E.length;<span class="code-keyword">if</span>(!E.closed&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r=n[i];<span class="code-literal">null</span>==r&amp;&amp;((r=e.lastIndexOf(<span class="code-string">"&lt;/"</span>+i+<span class="code-string">"&gt;"</span>))&lt;t&amp;&amp;(r=e.lastIndexOf(<span class="code-string">"&lt;/"</span>+i)),n[i]=r);<span class="code-keyword">return</span> r&lt;t}(i,v,E.tagName,p)&amp;&amp;(E.closed=!<span class="code-number">0</span>,n.nbsp||a.warning(<span class="code-string">"unclosed xml attribute"</span>)),d&amp;&amp;C){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> I=Za(d,{}),x=<span class="code-number">0</span>;x&lt;C;x++){<span class="code-keyword">var</span> A=E[x];o(A.offset),A.locator=Za(d,{})}r.locator=I,es(E,r,k)&amp;&amp;h.push(E),r.locator=d}<span class="code-keyword">else</span> es(E,r,k)&amp;&amp;h.push(E);Ha.isHTML(E.uri)&amp;&amp;!E.closed?v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">if</span>(<span class="code-regexp">/^(?:script|textarea)$/i</span>.test(i)){<span class="code-keyword">var</span> a=e.indexOf(<span class="code-string">"&lt;/"</span>+i+<span class="code-string">"&gt;"</span>,t),e=e.substring(t+<span class="code-number">1</span>,a);<span class="code-keyword">if</span>(<span class="code-regexp">/[&amp;&lt;]/</span>.test(e))<span class="code-keyword">return</span><span class="code-regexp">/^script$/i</span>.test(i)||(e=e.replace(<span class="code-regexp">/&amp;#?\w+;/g</span>,n)),r.characters(e,<span class="code-number">0</span>,e.length),a}<span class="code-keyword">return</span> t+<span class="code-number">1</span>}(i,v,E.tagName,s,r):v++}}<span class="code-keyword">catch</span>(e){<span class="code-keyword">if</span>(e <span class="code-keyword">instanceof</span> $a)<span class="code-keyword">throw</span> e;a.error(<span class="code-string">"element parse error: "</span>+e),v=<span class="code-number">-1</span>}f&lt;v?f=v:t(<span class="code-built_in">Math</span>.max(y,f)+<span class="code-number">1</span>)}}(e,t,i,n,<span class="code-keyword">this</span>.errorHandler),n.endDocument()}},is.prototype={<span class="code-attr">setTagName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!qa.test(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"invalid tagName:"</span>+e);<span class="code-keyword">this</span>.tagName=e},<span class="code-attr">addValue</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!qa.test(e))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"invalid attribute:"</span>+e);<span class="code-keyword">this</span>.attributeNames[e]=<span class="code-keyword">this</span>.length,<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.length++]={<span class="code-attr">qName</span>:e,<span class="code-attr">value</span>:t,<span class="code-attr">offset</span>:i}},<span class="code-attr">length</span>:<span class="code-number">0</span>,<span class="code-attr">getLocalName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e].localName},<span class="code-attr">getLocator</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e].locator},<span class="code-attr">getQName</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e].qName},<span class="code-attr">getURI</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e].uri},<span class="code-attr">getValue</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>[e].value}};<span class="code-keyword">var</span> x={<span class="code-attr">XMLReader</span>:Ja,<span class="code-attr">ParseError</span>:$a},ns=U.DOMImplementation,rs=jr.NAMESPACE,<span class="code-keyword">as</span>=x.ParseError,ss=x.XMLReader;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">os</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.options=e||{<span class="code-attr">locator</span>:{}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">us</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.cdata=!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ls</span>(<span class="code-params">e,t</span>)</span>{t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span><span class="code-string">"\n@"</span>+(e.systemId||<span class="code-string">""</span>)+<span class="code-string">"#[line:"</span>+e.lineNumber+<span class="code-string">",col:"</span>+e.columnNumber+<span class="code-string">"]"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ds</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?e.substr(t,i):e.length&gt;=t+i||t?<span class="code-keyword">new</span> java.lang.String(e,t,i)+<span class="code-string">""</span>:e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hs</span>(<span class="code-params">e,t</span>)</span>{(e.currentElement||e.doc).appendChild(t)}os.prototype.parseFromString=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.options,n=<span class="code-keyword">new</span> ss,r=i.domBuilder||<span class="code-keyword">new</span> us,a=i.errorHandler,s=i.locator,o=i.xmlns||{},u=<span class="code-regexp">/\/x?html?$/</span>.test(t),t=u?ja.HTML_ENTITIES:ja.XML_ENTITIES;<span class="code-keyword">return</span> s&amp;&amp;r.setDocumentLocator(s),n.errorHandler=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,e,r</span>)</span>{<span class="code-keyword">if</span>(!n){<span class="code-keyword">if</span>(e <span class="code-keyword">instanceof</span> us)<span class="code-keyword">return</span> e;n=e}<span class="code-keyword">var</span> a={},s=n <span class="code-keyword">instanceof</span> <span class="code-built_in">Function</span>;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=n[t];!i&amp;&amp;s&amp;&amp;(i=<span class="code-number">2</span>==n.length?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n(t,e)}:n),a[t]=i?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i(<span class="code-string">"[xmldom "</span>+t+<span class="code-string">"]\t"</span>+e+cs(r))}:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}<span class="code-keyword">return</span> r=r||{},t(<span class="code-string">"warning"</span>),t(<span class="code-string">"error"</span>),t(<span class="code-string">"fatalError"</span>),a}(a,r,s),n.domBuilder=i.domBuilder||r,u&amp;&amp;(o[<span class="code-string">""</span>]=rs.HTML),o.xml=o.xml||rs.XML,e&amp;&amp;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?n.parse(e,o,t):n.errorHandler.error(<span class="code-string">"invalid doc source"</span>),r.doc},us.prototype={<span class="code-attr">startDocument</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.doc=(<span class="code-keyword">new</span> ns).createDocument(<span class="code-literal">null</span>,<span class="code-literal">null</span>,<span class="code-literal">null</span>),<span class="code-keyword">this</span>.locator&amp;&amp;(<span class="code-keyword">this</span>.doc.documentURI=<span class="code-keyword">this</span>.locator.systemId)},<span class="code-attr">startElement</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.doc,a=r.createElementNS(e,i||t),s=n.length;hs(<span class="code-keyword">this</span>,a),<span class="code-keyword">this</span>.currentElement=a,<span class="code-keyword">this</span>.locator&amp;&amp;ls(<span class="code-keyword">this</span>.locator,a);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;s;o++){<span class="code-keyword">var</span> e=n.getURI(o),u=n.getValue(o),i=n.getQName(o),l=r.createAttributeNS(e,i);<span class="code-keyword">this</span>.locator&amp;&amp;ls(n.getLocator(o),l),l.value=l.nodeValue=u,a.setAttributeNode(l)}},<span class="code-attr">endElement</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.currentElement;n.tagName,<span class="code-keyword">this</span>.currentElement=n.parentNode},<span class="code-attr">startPrefixMapping</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{},<span class="code-attr">endPrefixMapping</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},<span class="code-attr">processingInstruction</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=<span class="code-keyword">this</span>.doc.createProcessingInstruction(e,t);<span class="code-keyword">this</span>.locator&amp;&amp;ls(<span class="code-keyword">this</span>.locator,t),hs(<span class="code-keyword">this</span>,t)},<span class="code-attr">ignorableWhitespace</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{},<span class="code-attr">characters</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n;(e=ds.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>))&amp;&amp;(n=<span class="code-keyword">this</span>.cdata?<span class="code-keyword">this</span>.doc.createCDATASection(e):<span class="code-keyword">this</span>.doc.createTextNode(e),<span class="code-keyword">this</span>.currentElement?<span class="code-keyword">this</span>.currentElement.appendChild(n):<span class="code-regexp">/^\s*$/</span>.test(e)&amp;&amp;<span class="code-keyword">this</span>.doc.appendChild(n),<span class="code-keyword">this</span>.locator&amp;&amp;ls(<span class="code-keyword">this</span>.locator,n))},<span class="code-attr">skippedEntity</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},<span class="code-attr">endDocument</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.doc.normalize()},<span class="code-attr">setDocumentLocator</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{(<span class="code-keyword">this</span>.locator=e)&amp;&amp;(e.lineNumber=<span class="code-number">0</span>)},<span class="code-attr">comment</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{e=ds.apply(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>);e=<span class="code-keyword">this</span>.doc.createComment(e);<span class="code-keyword">this</span>.locator&amp;&amp;ls(<span class="code-keyword">this</span>.locator,e),hs(<span class="code-keyword">this</span>,e)},<span class="code-attr">startCDATA</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.cdata=!<span class="code-number">0</span>},<span class="code-attr">endCDATA</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.cdata=!<span class="code-number">1</span>},<span class="code-attr">startDTD</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.doc.implementation;n&amp;&amp;n.createDocumentType&amp;&amp;(i=n.createDocumentType(e,t,i),<span class="code-keyword">this</span>.locator&amp;&amp;ls(<span class="code-keyword">this</span>.locator,i),hs(<span class="code-keyword">this</span>,i),<span class="code-keyword">this</span>.doc.doctype=i)},<span class="code-attr">warning</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},<span class="code-attr">error</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{},<span class="code-attr">fatalError</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-keyword">as</span>(e,<span class="code-keyword">this</span>.locator)}},<span class="code-string">"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl"</span>.replace(<span class="code-regexp">/\w+/g</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{us.prototype[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>}});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ps</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!e&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fs</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">return</span> t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,i</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> i||<span class="code-built_in">Object</span>.keys(i).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-built_in">Array</span>.isArray(t[e])&amp;&amp;<span class="code-built_in">Array</span>.isArray(i[e])?t[e]=t[e].concat(i[e]):ps(t[e])&amp;&amp;ps(i[e])?t[e]=fs(t[e],i[e]):t[e]=i[e]}),t},{})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ms</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(t).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t[e]})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.concat(t)},[])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ys</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e.length)<span class="code-keyword">return</span>[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],i=<span class="code-number">0</span>;i&lt;e.length;i++)t.push(e[i]);<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vs</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)<span class="code-keyword">if</span>(t(e[i]))<span class="code-keyword">return</span> i;<span class="code-keyword">return</span><span class="code-number">-1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_s</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.baseUrl,i=<span class="code-keyword">void</span> <span class="code-number">0</span>===(n=e.source)?<span class="code-string">""</span>:n,n=<span class="code-keyword">void</span> <span class="code-number">0</span>===(n=e.range)?<span class="code-string">""</span>:n,e=<span class="code-keyword">void</span> <span class="code-number">0</span>===(e=e.indexRange)?<span class="code-string">""</span>:e,i={<span class="code-attr">uri</span>:i,<span class="code-attr">resolvedUri</span>:ir((<span class="code-keyword">void</span> <span class="code-number">0</span>===t?<span class="code-string">""</span>:t)||<span class="code-string">""</span>,i)};<span class="code-keyword">return</span>(n||e)&amp;&amp;(n=(n||e).split(<span class="code-string">"-"</span>),e=<span class="code-built_in">window</span>.BigInt?<span class="code-built_in">window</span>.BigInt(n[<span class="code-number">0</span>]):<span class="code-built_in">parseInt</span>(n[<span class="code-number">0</span>],<span class="code-number">10</span>),n=<span class="code-built_in">window</span>.BigInt?<span class="code-built_in">window</span>.BigInt(n[<span class="code-number">1</span>]):<span class="code-built_in">parseInt</span>(n[<span class="code-number">1</span>],<span class="code-number">10</span>),e&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER&amp;&amp;<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(e=<span class="code-built_in">Number</span>(e)),<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span>(n=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span>(n=n&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER&amp;&amp;<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> n?<span class="code-built_in">Number</span>(n):n)||<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> e?<span class="code-built_in">window</span>.BigInt(n)-<span class="code-built_in">window</span>.BigInt(e)+<span class="code-built_in">window</span>.BigInt(<span class="code-number">1</span>):n-e+<span class="code-number">1</span>)&amp;&amp;n&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER&amp;&amp;(n=<span class="code-built_in">Number</span>(n)),i.byterange={<span class="code-attr">length</span>:n,<span class="code-attr">offset</span>:e}),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;(e=<span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)),<span class="code-built_in">isNaN</span>(e)?<span class="code-literal">null</span>:e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ts</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> a,t=e.type,i=e.duration,n=e.timescale,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-number">1</span>:n,s=e.periodDuration,o=e.sourceDuration,e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=[],n=e;n&lt;t;n++)i.push(n);<span class="code-keyword">return</span> i}((n=go[t](e)).start,n.end).map((a=e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=a.duration,i=a.timescale,n=a.periodStart,r=a.startNumber;<span class="code-keyword">return</span>{<span class="code-attr">number</span>:(<span class="code-keyword">void</span> <span class="code-number">0</span>===r?<span class="code-number">1</span>:r)+e,<span class="code-attr">duration</span>:t/(<span class="code-keyword">void</span> <span class="code-number">0</span>===i?<span class="code-number">1</span>:i),<span class="code-attr">timeline</span>:n,<span class="code-attr">time</span>:e*t}}));<span class="code-keyword">return</span><span class="code-string">"static"</span>===t&amp;&amp;(e[t=e.length<span class="code-number">-1</span>].duration=(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> s?s:o)-i/r*t),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ss</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.baseUrl,i=<span class="code-keyword">void</span> <span class="code-number">0</span>===(u=e.initialization)?{}:u,n=e.sourceDuration,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===(o=e.indexRange)?<span class="code-string">""</span>:o,a=e.periodStart,s=e.presentationTime,o=<span class="code-keyword">void</span> <span class="code-number">0</span>===(u=e.number)?<span class="code-number">0</span>:u,u=e.duration;<span class="code-keyword">if</span>(!t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(po);<span class="code-keyword">return</span> i=_s({<span class="code-attr">baseUrl</span>:t,<span class="code-attr">source</span>:i.sourceURL,<span class="code-attr">range</span>:i.range}),(r=_s({<span class="code-attr">baseUrl</span>:t,<span class="code-attr">source</span>:t,<span class="code-attr">indexRange</span>:r})).map=i,u?(e=Ts(e)).length&amp;&amp;(r.duration=e[<span class="code-number">0</span>].duration,r.timeline=e[<span class="code-number">0</span>].timeline):n&amp;&amp;(r.duration=n,r.timeline=a),r.presentationTime=s||a,r.number=o,[r]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ws</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.sidx.map||<span class="code-literal">null</span>,r=e.sidx.duration,a=e.timeline||<span class="code-number">0</span>,s=(s=e.sidx.byterange).offset+s.length,o=t.timescale,u=t.references.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">1</span>!==e.referenceType}),l=[],c=e.endList?<span class="code-string">"static"</span>:<span class="code-string">"dynamic"</span>,d=e.sidx.timeline,h=d,p=e.mediaSequence||<span class="code-number">0</span>,f=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t.firstOffset?<span class="code-built_in">window</span>.BigInt(s)+t.firstOffset:s+t.firstOffset,m=<span class="code-number">0</span>;m&lt;u.length;m++){<span class="code-keyword">var</span> g=t.references[m],y=g.referencedSize,v=g.subsegmentDuration,g=<span class="code-keyword">void</span> <span class="code-number">0</span>,g=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> f?f+<span class="code-built_in">window</span>.BigInt(y)-<span class="code-built_in">window</span>.BigInt(<span class="code-number">1</span>):f+y<span class="code-number">-1</span>,g=Ss({<span class="code-attr">baseUrl</span>:i,<span class="code-attr">timescale</span>:o,<span class="code-attr">timeline</span>:a,<span class="code-attr">periodStart</span>:d,<span class="code-attr">presentationTime</span>:h,<span class="code-attr">number</span>:p,<span class="code-attr">duration</span>:v,<span class="code-attr">sourceDuration</span>:r,<span class="code-attr">indexRange</span>:f+<span class="code-string">"-"</span>+g,<span class="code-attr">type</span>:c})[<span class="code-number">0</span>];n&amp;&amp;(g.map=n),l.push(g),f+=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> f?<span class="code-built_in">window</span>.BigInt(y):y,h+=v/o,p++}<span class="code-keyword">return</span> e.segments=l,e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Es</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.timeline},ms(e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t[i(e)]=e}),t},{})).sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.timeline&gt;t.timeline?<span class="code-number">1</span>:<span class="code-number">-1</span>});<span class="code-keyword">var</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ks</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r,a,s=[];<span class="code-keyword">return</span> r=e,a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{s=s.concat(e.playlists||[])},yo.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> r.mediaGroups[e])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r.mediaGroups[e][t]){<span class="code-keyword">var</span> n=r.mediaGroups[e][t][i];a(n,e,t,i)}}),s}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Cs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=e.playlist,e=e.mediaSequence;i.mediaSequence=e,i.segments.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.number=i.mediaSequence+t})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Is</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r,a,t=e.oldManifest,i=e.newManifest,n=t.playlists.concat(ks(t)),e=i.playlists.concat(ks(i));<span class="code-keyword">return</span> i.timelineStarts=Es([t.timelineStarts,i.timelineStarts]),n={<span class="code-attr">oldPlaylists</span>:n,<span class="code-attr">newPlaylists</span>:e,<span class="code-attr">timelineStarts</span>:i.timelineStarts},r=n.oldPlaylists,e=n.newPlaylists,a=n.timelineStarts,e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.discontinuitySequence=vs(a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.timeline===t.timeline});<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)<span class="code-keyword">if</span>(e[i].attributes.NAME===t)<span class="code-keyword">return</span> e[i];<span class="code-keyword">return</span> <span class="code-literal">null</span>}(r,t.attributes.NAME);<span class="code-keyword">if</span>(e&amp;&amp;!t.sidx){<span class="code-keyword">var</span> i=t.segments[<span class="code-number">0</span>],n=vs(e.segments,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.abs(e.presentationTime-i.presentationTime)&lt;<span class="code-number">1</span>/<span class="code-number">60</span>});<span class="code-keyword">if</span>(<span class="code-number">-1</span>===n)<span class="code-keyword">return</span> Cs({<span class="code-attr">playlist</span>:t,<span class="code-attr">mediaSequence</span>:e.mediaSequence+e.segments.length}),t.segments[<span class="code-number">0</span>].discontinuity=!<span class="code-number">0</span>,t.discontinuityStarts.unshift(<span class="code-number">0</span>),<span class="code-keyword">void</span>((!e.segments.length&amp;&amp;t.timeline&gt;e.timeline||e.segments.length&amp;&amp;t.timeline&gt;e.segments[e.segments.length<span class="code-number">-1</span>].timeline)&amp;&amp;t.discontinuitySequence--);e.segments[n].discontinuity&amp;&amp;!i.discontinuity&amp;&amp;(i.discontinuity=!<span class="code-number">0</span>,t.discontinuityStarts.unshift(<span class="code-number">0</span>),t.discontinuitySequence--),Cs({<span class="code-attr">playlist</span>:t,<span class="code-attr">mediaSequence</span>:e.segments[n].number})}}),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.uri+<span class="code-string">"-"</span>+(t=e.byterange,e=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t.offset||<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t.length?<span class="code-built_in">window</span>.BigInt(t.offset)+<span class="code-built_in">window</span>.BigInt(t.length)-<span class="code-built_in">window</span>.BigInt(<span class="code-number">1</span>):t.offset+t.length<span class="code-number">-1</span>,t.offset+<span class="code-string">"-"</span>+e);<span class="code-keyword">var</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">As</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ms(e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=t.attributes.id+(t.attributes.lang||<span class="code-string">""</span>);<span class="code-keyword">return</span> e[n]?(t.segments&amp;&amp;(t.segments[<span class="code-number">0</span>]&amp;&amp;(t.segments[<span class="code-number">0</span>].discontinuity=!<span class="code-number">0</span>),(i=e[n].segments).push.apply(i,t.segments)),t.attributes.contentProtection&amp;&amp;(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({<span class="code-attr">start</span>:t.attributes.periodStart,<span class="code-attr">timeline</span>:t.attributes.periodStart}),e},{})).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,n;<span class="code-keyword">return</span> e.discontinuityStarts=(t=e.segments||[],n=<span class="code-string">"discontinuity"</span>,t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> t[n]&amp;&amp;e.push(i),e},[])),e})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ps</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=xs(e.sidx);<span class="code-keyword">return</span>(i=i&amp;&amp;t[i]&amp;&amp;t[i].sidx)&amp;&amp;ws(e,i,e.sidx.resolvedUri),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ls</span>(<span class="code-params">e,h,p</span>)</span>{<span class="code-keyword">var</span> f;<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===h&amp;&amp;(h={}),<span class="code-keyword">void</span> <span class="code-number">0</span>===p&amp;&amp;(p=!<span class="code-number">1</span>),e=e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.attributes.role&amp;&amp;t.attributes.role.value||<span class="code-string">""</span>,n=t.attributes.lang||<span class="code-string">""</span>,r=t.attributes.label||<span class="code-string">"main"</span>;e[r=n&amp;&amp;!t.attributes.label?t.attributes.lang+(i?<span class="code-string">" ("</span>+i+<span class="code-string">")"</span>:<span class="code-string">""</span>):r]||(e[r]={<span class="code-attr">language</span>:n,<span class="code-attr">autoselect</span>:!<span class="code-number">0</span>,<span class="code-attr">default</span>:<span class="code-string">"main"</span>===i,<span class="code-attr">playlists</span>:[],<span class="code-attr">uri</span>:<span class="code-string">""</span>});<span class="code-keyword">var</span> a,s,o,u,l,c,d,u=Ps((s=p,o=(a=t).attributes,u=a.segments,l=a.sidx,c=a.mediaSequence,d=a.discontinuitySequence,n=a.discontinuityStarts,u={<span class="code-attr">attributes</span>:((a={<span class="code-attr">NAME</span>:o.id,<span class="code-attr">BANDWIDTH</span>:o.bandwidth,<span class="code-attr">CODECS</span>:o.codecs})[<span class="code-string">"PROGRAM-ID"</span>]=<span class="code-number">1</span>,a),<span class="code-attr">uri</span>:<span class="code-string">""</span>,<span class="code-attr">endList</span>:<span class="code-string">"static"</span>===o.type,<span class="code-attr">timeline</span>:o.periodStart,<span class="code-attr">resolvedUri</span>:<span class="code-string">""</span>,<span class="code-attr">targetDuration</span>:o.duration,<span class="code-attr">discontinuitySequence</span>:d,<span class="code-attr">discontinuityStarts</span>:n,<span class="code-attr">timelineStarts</span>:o.timelineStarts,<span class="code-attr">mediaSequence</span>:c,<span class="code-attr">segments</span>:u},o.contentProtection&amp;&amp;(u.contentProtection=o.contentProtection),l&amp;&amp;(u.sidx=l),s&amp;&amp;(u.attributes.AUDIO=<span class="code-string">"audio"</span>,u.attributes.SUBTITLES=<span class="code-string">"subs"</span>),u),h);<span class="code-keyword">return</span> e[r].playlists.push(u),<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> f&amp;&amp;<span class="code-string">"main"</span>===i&amp;&amp;((f=t).default=!<span class="code-number">0</span>),e},{}),f||(e[<span class="code-built_in">Object</span>.keys(e)[<span class="code-number">0</span>]].default=!<span class="code-number">0</span>),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ds</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.attributes,i=e.segments,n=e.sidx,r=e.discontinuityStarts,i={<span class="code-attr">attributes</span>:((e={<span class="code-attr">NAME</span>:t.id,<span class="code-attr">AUDIO</span>:<span class="code-string">"audio"</span>,<span class="code-attr">SUBTITLES</span>:<span class="code-string">"subs"</span>,<span class="code-attr">RESOLUTION</span>:{<span class="code-attr">width</span>:t.width,<span class="code-attr">height</span>:t.height},<span class="code-attr">CODECS</span>:t.codecs,<span class="code-attr">BANDWIDTH</span>:t.bandwidth})[<span class="code-string">"PROGRAM-ID"</span>]=<span class="code-number">1</span>,e),<span class="code-attr">uri</span>:<span class="code-string">""</span>,<span class="code-attr">endList</span>:<span class="code-string">"static"</span>===t.type,<span class="code-attr">timeline</span>:t.periodStart,<span class="code-attr">resolvedUri</span>:<span class="code-string">""</span>,<span class="code-attr">targetDuration</span>:t.duration,<span class="code-attr">discontinuityStarts</span>:r,<span class="code-attr">timelineStarts</span>:t.timelineStarts,<span class="code-attr">segments</span>:i};<span class="code-keyword">return</span> t.contentProtection&amp;&amp;(i.contentProtection=t.contentProtection),n&amp;&amp;(i.sidx=n),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Os</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"video/mp4"</span>===(e=e.attributes).mimeType||<span class="code-string">"video/webm"</span>===e.mimeType||<span class="code-string">"video"</span>===e.contentType}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ms</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"audio/mp4"</span>===(e=e.attributes).mimeType||<span class="code-string">"audio/webm"</span>===e.mimeType||<span class="code-string">"audio"</span>===e.contentType}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Rs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"text/vtt"</span>===(e=e.attributes).mimeType||<span class="code-string">"text"</span>===e.contentType}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ns</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> i?<span class="code-built_in">Object</span>.keys(i).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=i[t];<span class="code-keyword">return</span> e.concat(t.playlists)},[]):[]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Us</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.dashPlaylists,i=e.locations,n=<span class="code-keyword">void</span> <span class="code-number">0</span>===(c=e.sidxMapping)?{}:c,r=e.previousManifest;<span class="code-keyword">if</span>(!t.length)<span class="code-keyword">return</span>{};<span class="code-keyword">var</span> a=(d=t[<span class="code-number">0</span>].attributes).sourceDuration,s=d.type,o=d.suggestedPresentationDelay,u=d.minimumUpdatePeriod,l=As(t.filter(Os)).map(Ds),c=As(t.filter(Ms)),e=As(t.filter(Rs)),d=t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.attributes.captionServices}).filter(<span class="code-built_in">Boolean</span>),a={<span class="code-attr">allowCache</span>:!<span class="code-number">0</span>,<span class="code-attr">discontinuityStarts</span>:[],<span class="code-attr">segments</span>:[],<span class="code-attr">endList</span>:!<span class="code-number">0</span>,<span class="code-attr">mediaGroups</span>:((t={<span class="code-attr">AUDIO</span>:{},<span class="code-attr">VIDEO</span>:{}})[<span class="code-string">"CLOSED-CAPTIONS"</span>]={},t.SUBTITLES={},t),<span class="code-attr">uri</span>:<span class="code-string">""</span>,<span class="code-attr">duration</span>:a,<span class="code-attr">playlists</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),!<span class="code-built_in">Object</span>.keys(t).length)<span class="code-keyword">return</span> e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> e)e[i]=Ps(e[i],t);<span class="code-keyword">return</span> e}(l,n)};<span class="code-number">0</span>&lt;=u&amp;&amp;(a.minimumUpdatePeriod=<span class="code-number">1e3</span>*u),i&amp;&amp;(a.locations=i),<span class="code-string">"dynamic"</span>===s&amp;&amp;(a.suggestedPresentationDelay=o);<span class="code-keyword">var</span> h,p,o=<span class="code-number">0</span>===a.playlists.length,o=c.length?Ls(c,n,o):<span class="code-literal">null</span>,n=e.length?(<span class="code-keyword">void</span> <span class="code-number">0</span>===(h=n)&amp;&amp;(h={}),e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.attributes.lang||<span class="code-string">"text"</span>;<span class="code-keyword">return</span> e[i]||(e[i]={<span class="code-attr">language</span>:i,<span class="code-attr">default</span>:!<span class="code-number">1</span>,<span class="code-attr">autoselect</span>:!<span class="code-number">1</span>,<span class="code-attr">playlists</span>:[],<span class="code-attr">uri</span>:<span class="code-string">""</span>}),e[i].playlists.push(Ps(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.attributes,i=e.segments,n=e.mediaSequence,r=e.discontinuityStarts,a=e.discontinuitySequence;<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> i&amp;&amp;(i=[{<span class="code-attr">uri</span>:t.baseUrl,<span class="code-attr">timeline</span>:t.periodStart,<span class="code-attr">resolvedUri</span>:t.baseUrl||<span class="code-string">""</span>,<span class="code-attr">duration</span>:t.sourceDuration,<span class="code-attr">number</span>:<span class="code-number">0</span>}],t.duration=t.sourceDuration);(e={<span class="code-attr">NAME</span>:t.id,<span class="code-attr">BANDWIDTH</span>:t.bandwidth})[<span class="code-string">"PROGRAM-ID"</span>]=<span class="code-number">1</span>;<span class="code-keyword">return</span> t.codecs&amp;&amp;(e.CODECS=t.codecs),{<span class="code-attr">attributes</span>:e,<span class="code-attr">uri</span>:<span class="code-string">""</span>,<span class="code-attr">endList</span>:<span class="code-string">"static"</span>===t.type,<span class="code-attr">timeline</span>:t.periodStart,<span class="code-attr">resolvedUri</span>:t.baseUrl||<span class="code-string">""</span>,<span class="code-attr">targetDuration</span>:t.duration,<span class="code-attr">timelineStarts</span>:t.timelineStarts,<span class="code-attr">discontinuityStarts</span>:r,<span class="code-attr">discontinuitySequence</span>:a,<span class="code-attr">mediaSequence</span>:n,<span class="code-attr">segments</span>:i}}(t),h)),e},{})):<span class="code-literal">null</span>,l=(e=l.concat(Ns(o),Ns(n))).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.timelineStarts});<span class="code-keyword">return</span> a.timelineStarts=Es(l),e=e,p=a.timelineStarts,e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.mediaSequence=<span class="code-number">0</span>,t.discontinuitySequence=vs(p,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.timeline===t.timeline}),t.segments&amp;&amp;t.segments.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.number=t})}),o&amp;&amp;(a.mediaGroups.AUDIO.audio=o),n&amp;&amp;(a.mediaGroups.SUBTITLES.subs=n),d.length&amp;&amp;(a.mediaGroups[<span class="code-string">"CLOSED-CAPTIONS"</span>].cc=d.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.channel,i=e.language;n[i]={<span class="code-attr">autoselect</span>:!<span class="code-number">1</span>,<span class="code-attr">default</span>:!<span class="code-number">1</span>,<span class="code-attr">instreamId</span>:t,<span class="code-attr">language</span>:i},e.hasOwnProperty(<span class="code-string">"aspectRatio"</span>)&amp;&amp;(n[i].aspectRatio=e.aspectRatio),e.hasOwnProperty(<span class="code-string">"easyReader"</span>)&amp;&amp;(n[i].easyReader=e.easyReader),e.hasOwnProperty(<span class="code-string">"3D"</span>)&amp;&amp;(n[i][<span class="code-string">"3D"</span>]=e[<span class="code-string">"3D"</span>])}),n},{})),r?Is({<span class="code-attr">oldManifest</span>:r,<span class="code-attr">newManifest</span>:a}):a}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bs</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n,r,a,s,o,u=e.type,l=e.minimumUpdatePeriod,c=<span class="code-keyword">void</span> <span class="code-number">0</span>===l?<span class="code-number">0</span>:l,d=<span class="code-keyword">void</span> <span class="code-number">0</span>===(l=e.media)?<span class="code-string">""</span>:l,h=e.sourceDuration,p=<span class="code-keyword">void</span> <span class="code-number">0</span>===(l=e.timescale)?<span class="code-number">1</span>:l,f=<span class="code-keyword">void</span> <span class="code-number">0</span>===(l=e.startNumber)?<span class="code-number">1</span>:l,m=e.periodStart,g=[],y=<span class="code-number">-1</span>,v=<span class="code-number">0</span>;v&lt;t.length;v++){<span class="code-keyword">var</span> _=t[v],b=_.d,T=_.r||<span class="code-number">0</span>,S=_.t||<span class="code-number">0</span>;y&lt;<span class="code-number">0</span>&amp;&amp;(y=S),S&amp;&amp;y&lt;S&amp;&amp;(y=S);<span class="code-keyword">var</span> w,E=<span class="code-keyword">void</span> <span class="code-number">0</span>;E=T&lt;<span class="code-number">0</span>?(w=v+<span class="code-number">1</span>)===t.length?<span class="code-string">"dynamic"</span>===u&amp;&amp;<span class="code-number">0</span>&lt;c&amp;&amp;<span class="code-number">0</span>&lt;d.indexOf(<span class="code-string">"$Number$"</span>)?(i=y,n=b,_=o=s=a=r=<span class="code-keyword">void</span> <span class="code-number">0</span>,r=(S=e).NOW,a=S.clientOffset,s=S.availabilityStartTime,o=S.timescale,_=S.periodStart,S=S.minimumUpdatePeriod,<span class="code-built_in">Math</span>.ceil((((r+a)/<span class="code-number">1e3</span>+(<span class="code-keyword">void</span> <span class="code-number">0</span>===S?<span class="code-number">0</span>:S)-(s+(<span class="code-keyword">void</span> <span class="code-number">0</span>===_?<span class="code-number">0</span>:_)))*(<span class="code-keyword">void</span> <span class="code-number">0</span>===o?<span class="code-number">1</span>:o)-i)/n)):(h*p-y)/b:(t[w].t-y)/b:T+<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> k=f+g.length+E,C=f+g.length;C&lt;k;)g.push({<span class="code-attr">number</span>:C,<span class="code-attr">duration</span>:b/p,<span class="code-attr">time</span>:y,<span class="code-attr">timeline</span>:m}),y+=b,C++}<span class="code-keyword">return</span> g}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fs</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.replace(vo,(r=t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"$$"</span>===e)<span class="code-keyword">return</span><span class="code-string">"$"</span>;<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> r[t])<span class="code-keyword">return</span> e;e=<span class="code-string">""</span>+r[t];<span class="code-keyword">return</span><span class="code-string">"RepresentationID"</span>===t||(n=i?<span class="code-built_in">parseInt</span>(n,<span class="code-number">10</span>):<span class="code-number">1</span>)&lt;=e.length?e:<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(n-e.length+<span class="code-number">1</span>).join(<span class="code-string">"0"</span>)+e}));<span class="code-keyword">var</span> r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">js</span>(<span class="code-params">r,e</span>)</span>{<span class="code-keyword">var</span> a={<span class="code-attr">RepresentationID</span>:r.id,<span class="code-attr">Bandwidth</span>:r.bandwidth||<span class="code-number">0</span>},t=<span class="code-keyword">void</span> <span class="code-number">0</span>===(t=r.initialization)?{<span class="code-attr">sourceURL</span>:<span class="code-string">""</span>,<span class="code-attr">range</span>:<span class="code-string">""</span>}:t,s=_s({<span class="code-attr">baseUrl</span>:r.baseUrl,<span class="code-attr">source</span>:Fs(t.sourceURL,a),<span class="code-attr">range</span>:t.range});<span class="code-keyword">return</span>(t=e,(e=r).duration||t?e.duration?Ts(e):Bs(e,t):[{<span class="code-attr">number</span>:e.startNumber||<span class="code-number">1</span>,<span class="code-attr">duration</span>:e.sourceDuration,<span class="code-attr">time</span>:<span class="code-number">0</span>,<span class="code-attr">timeline</span>:e.periodStart}]).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.Number=e.number,a.Time=e.time;<span class="code-keyword">var</span> t=Fs(r.media||<span class="code-string">""</span>,a),i=r.timescale||<span class="code-number">1</span>,n=r.presentationTimeOffset||<span class="code-number">0</span>,i=r.periodStart+(e.time-n)/i;<span class="code-keyword">return</span>{<span class="code-attr">uri</span>:t,<span class="code-attr">timeline</span>:e.timeline,<span class="code-attr">duration</span>:e.duration,<span class="code-attr">resolvedUri</span>:ir(r.baseUrl||<span class="code-string">""</span>,t),<span class="code-attr">map</span>:s,<span class="code-attr">number</span>:e.number,<span class="code-attr">presentationTime</span>:i}})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hs</span>(<span class="code-params">r,e</span>)</span>{<span class="code-keyword">var</span> t=r.duration,i=<span class="code-keyword">void</span> <span class="code-number">0</span>===(i=r.segmentUrls)?[]:i,a=r.periodStart;<span class="code-keyword">if</span>(!t&amp;&amp;!e||t&amp;&amp;e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(fo);<span class="code-keyword">var</span> n,s=i.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i=e,e=(t=r).baseUrl,t=t.initialization,t=_s({<span class="code-attr">baseUrl</span>:e,<span class="code-attr">source</span>:(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).sourceURL,<span class="code-attr">range</span>:t.range}),(i=_s({<span class="code-attr">baseUrl</span>:e,<span class="code-attr">source</span>:i.media,<span class="code-attr">range</span>:i.mediaRange})).map=t,i;<span class="code-keyword">var</span> t,i});<span class="code-keyword">return</span> t&amp;&amp;(n=Ts(r)),(n=e?Bs(r,e):n).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(s[t]){<span class="code-keyword">var</span> i=s[t],n=r.timescale||<span class="code-number">1</span>,t=r.presentationTimeOffset||<span class="code-number">0</span>;<span class="code-keyword">return</span> i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i.presentationTime=a+(e.time-t)/n,i}}).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=e.attributes,n=e.segmentInfo;n.template?(a=js,t=fs(i,n.template)):n.base?(a=Ss,t=fs(i,n.base)):n.list&amp;&amp;(a=Hs,t=fs(i,n.list));<span class="code-keyword">var</span> r={<span class="code-attr">attributes</span>:i};<span class="code-keyword">if</span>(!a)<span class="code-keyword">return</span> r;<span class="code-keyword">var</span> a,e=a(t,n.segmentTimeline);<span class="code-keyword">return</span> t.duration?(i=t.duration,a=t.timescale,t.duration=i/(<span class="code-keyword">void</span> <span class="code-number">0</span>===a?<span class="code-number">1</span>:a)):e.length?t.duration=e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(e,<span class="code-built_in">Math</span>.ceil(t.duration))},<span class="code-number">0</span>):t.duration=<span class="code-number">0</span>,r.attributes=t,r.segments=e,n.base&amp;&amp;t.indexRange&amp;&amp;(r.sidx=e[<span class="code-number">0</span>],r.segments=[]),r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vs</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> ys(e.childNodes).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.tagName===t})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ws</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.textContent.trim()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!(r=<span class="code-regexp">/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/</span>.exec(e)))<span class="code-keyword">return</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> t=(a=r.slice(<span class="code-number">1</span>))[<span class="code-number">0</span>],i=a[<span class="code-number">1</span>],n=a[<span class="code-number">2</span>],e=a[<span class="code-number">3</span>],r=a[<span class="code-number">4</span>],a=a[<span class="code-number">5</span>];<span class="code-keyword">return</span> <span class="code-number">31536e3</span>*<span class="code-built_in">parseFloat</span>(t||<span class="code-number">0</span>)+<span class="code-number">2592e3</span>*<span class="code-built_in">parseFloat</span>(i||<span class="code-number">0</span>)+<span class="code-number">86400</span>*<span class="code-built_in">parseFloat</span>(n||<span class="code-number">0</span>)+<span class="code-number">3600</span>*<span class="code-built_in">parseFloat</span>(e||<span class="code-number">0</span>)+<span class="code-number">60</span>*<span class="code-built_in">parseFloat</span>(r||<span class="code-number">0</span>)+<span class="code-built_in">parseFloat</span>(a||<span class="code-number">0</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.attributes?ys(e.attributes).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=_o[t.name]||_o.DEFAULT;<span class="code-keyword">return</span> e[t.name]=i(t.value),e},{}):{}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xs</span>(<span class="code-params">e,i</span>)</span>{<span class="code-keyword">return</span> i.length?gs(e.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> i.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> ir(t,Ws(e))})})):e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ks</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Vs(e,<span class="code-string">"SegmentTemplate"</span>)[<span class="code-number">0</span>],i=Vs(e,<span class="code-string">"SegmentList"</span>)[<span class="code-number">0</span>],n=i&amp;&amp;Vs(i,<span class="code-string">"SegmentURL"</span>).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> fs({<span class="code-attr">tag</span>:<span class="code-string">"SegmentURL"</span>},zs(e))}),r=Vs(e,<span class="code-string">"SegmentBase"</span>)[<span class="code-number">0</span>],e=(a=i||t)&amp;&amp;Vs(a,<span class="code-string">"SegmentTimeline"</span>)[<span class="code-number">0</span>],a=(a=i||r||t)&amp;&amp;Vs(a,<span class="code-string">"Initialization"</span>)[<span class="code-number">0</span>];(t=t&amp;&amp;zs(t))&amp;&amp;a?t.initialization=a&amp;&amp;zs(a):t&amp;&amp;t.initialization&amp;&amp;(t.initialization={<span class="code-attr">sourceURL</span>:t.initialization});<span class="code-keyword">var</span> s={<span class="code-attr">template</span>:t,<span class="code-attr">segmentTimeline</span>:e&amp;&amp;Vs(e,<span class="code-string">"S"</span>).map(zs),<span class="code-attr">list</span>:i&amp;&amp;fs(zs(i),{<span class="code-attr">segmentUrls</span>:n,<span class="code-attr">initialization</span>:zs(a)}),<span class="code-attr">base</span>:r&amp;&amp;fs(zs(r),{<span class="code-attr">initialization</span>:zs(a)})};<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(s).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s[e]||<span class="code-keyword">delete</span> s[e]}),s}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ys</span>(<span class="code-params">u,l,c</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=zs(e),i=Xs(l,Vs(e,<span class="code-string">"BaseURL"</span>)),n=Vs(e,<span class="code-string">"Role"</span>)[<span class="code-number">0</span>],n={<span class="code-attr">role</span>:zs(n)},t=fs(u,t,n),n=Vs(e,<span class="code-string">"Accessibility"</span>)[<span class="code-number">0</span>],n=<span class="code-string">"urn:scte:dash:cc:cea-608:2015"</span>===(n=zs(n)).schemeIdUri?(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> n.value?[]:n.value.split(<span class="code-string">";"</span>)).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n;<span class="code-keyword">return</span><span class="code-regexp">/^CC\d=/</span>.test(n=e)?(i=(t=e.split(<span class="code-string">"="</span>))[<span class="code-number">0</span>],n=t[<span class="code-number">1</span>]):<span class="code-regexp">/^CC\d$/</span>.test(e)&amp;&amp;(i=e),{<span class="code-attr">channel</span>:i,<span class="code-attr">language</span>:n}}):<span class="code-string">"urn:scte:dash:cc:cea-708:2015"</span>===n.schemeIdUri?(<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> n.value?[]:n.value.split(<span class="code-string">";"</span>)).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n={<span class="code-attr">channel</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">language</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">aspectRatio</span>:<span class="code-number">1</span>,<span class="code-attr">easyReader</span>:<span class="code-number">0</span>,<span class="code-string">"3D"</span>:<span class="code-number">0</span>};<span class="code-keyword">return</span><span class="code-regexp">/=/</span>.test(e)?(t=(i=e.split(<span class="code-string">"="</span>))[<span class="code-number">0</span>],i=<span class="code-keyword">void</span> <span class="code-number">0</span>===(i=i[<span class="code-number">1</span>])?<span class="code-string">""</span>:i,n.channel=t,n.language=e,i.split(<span class="code-string">","</span>).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.split(<span class="code-string">":"</span>),e=t[<span class="code-number">0</span>],t=t[<span class="code-number">1</span>];<span class="code-string">"lang"</span>===e?n.language=t:<span class="code-string">"er"</span>===e?n.easyReader=<span class="code-built_in">Number</span>(t):<span class="code-string">"war"</span>===e?n.aspectRatio=<span class="code-built_in">Number</span>(t):<span class="code-string">"3D"</span>===e&amp;&amp;(n[<span class="code-string">"3D"</span>]=<span class="code-built_in">Number</span>(t))})):n.language=e,n.channel&amp;&amp;(n.channel=<span class="code-string">"SERVICE"</span>+n.channel),n}):<span class="code-keyword">void</span> <span class="code-number">0</span>;n&amp;&amp;(t=fs(t,{<span class="code-attr">captionServices</span>:n}));n=Vs(e,<span class="code-string">"Label"</span>)[<span class="code-number">0</span>];n&amp;&amp;n.childNodes.length&amp;&amp;(r=n.childNodes[<span class="code-number">0</span>].nodeValue.trim(),t=fs(t,{<span class="code-attr">label</span>:r}));<span class="code-keyword">var</span> r=Vs(e,<span class="code-string">"ContentProtection"</span>).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=zs(t);i.schemeIdUri&amp;&amp;(i.schemeIdUri=i.schemeIdUri.toLowerCase());<span class="code-keyword">var</span> n=bo[i.schemeIdUri];<span class="code-keyword">return</span> n&amp;&amp;(e[n]={<span class="code-attr">attributes</span>:i},(t=Vs(t,<span class="code-string">"cenc:pssh"</span>)[<span class="code-number">0</span>])&amp;&amp;(t=Ws(t),e[n].pssh=t&amp;&amp;or(t))),e},{});<span class="code-built_in">Object</span>.keys(r).length&amp;&amp;(t=fs(t,{<span class="code-attr">contentProtection</span>:r}));<span class="code-keyword">var</span> a,s,o,r=Ks(e),e=Vs(e,<span class="code-string">"Representation"</span>),r=fs(c,r);<span class="code-keyword">return</span> gs(e.map((a=t,s=i,o=r,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Vs(e,<span class="code-string">"BaseURL"</span>),t=Xs(s,t),i=fs(a,zs(e)),n=Ks(e);<span class="code-keyword">return</span> t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">segmentInfo</span>:fs(o,n),<span class="code-attr">attributes</span>:fs(i,{<span class="code-attr">baseUrl</span>:e})}})})))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qs</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t,n=<span class="code-keyword">void</span> <span class="code-number">0</span>===(a=i.manifestUri)?<span class="code-string">""</span>:a,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===(r=i.NOW)?<span class="code-built_in">Date</span>.now():r,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===(a=i.clientOffset)?<span class="code-number">0</span>:a;<span class="code-keyword">if</span>(!(i=Vs(e,<span class="code-string">"Period"</span>)).length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(lo);<span class="code-keyword">var</span> a=Vs(e,<span class="code-string">"Location"</span>),s=zs(e),e=Xs([n],Vs(e,<span class="code-string">"BaseURL"</span>));s.type=s.type||<span class="code-string">"static"</span>,s.sourceDuration=s.mediaPresentationDuration||<span class="code-number">0</span>,s.NOW=t,s.clientOffset=r,a.length&amp;&amp;(s.locations=a.map(Ws));<span class="code-keyword">var</span> o,u,l=[];<span class="code-keyword">return</span> i.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=zs(e),r=l[t<span class="code-number">-1</span>];n.start=(i={<span class="code-attr">attributes</span>:n,<span class="code-attr">priorPeriodAttributes</span>:r?r.attributes:<span class="code-literal">null</span>,<span class="code-attr">mpdType</span>:s.type},t=i.attributes,r=i.priorPeriodAttributes,i=i.mpdType,<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.start?t.start:r&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> r.start&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> r.duration?r.start+r.duration:r||<span class="code-string">"static"</span>!==i?<span class="code-literal">null</span>:<span class="code-number">0</span>),l.push({<span class="code-attr">node</span>:e,<span class="code-attr">attributes</span>:n})}),{<span class="code-attr">locations</span>:s.locations,<span class="code-attr">representationInfo</span>:gs(l.map((o=s,u=e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=Xs(u,Vs(e.node,<span class="code-string">"BaseURL"</span>)),n=fs(o,{<span class="code-attr">periodStart</span>:e.attributes.start});<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.attributes.duration&amp;&amp;(n.periodDuration=e.attributes.duration);<span class="code-keyword">var</span> r=Vs(e.node,<span class="code-string">"AdaptationSet"</span>),e=Ks(e.node);<span class="code-keyword">return</span> gs(r.map(Ys(n,i,e)))})))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$s</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">""</span>===e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(co);<span class="code-keyword">var</span> t,i,n=<span class="code-keyword">new</span> uo;<span class="code-keyword">try</span>{i=(t=n.parseFromString(e,<span class="code-string">"application/xml"</span>))&amp;&amp;<span class="code-string">"MPD"</span>===t.documentElement.tagName?t.documentElement:<span class="code-literal">null</span>}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">if</span>(!i||i&amp;&amp;<span class="code-number">0</span>&lt;i.getElementsByTagName(<span class="code-string">"parsererror"</span>).length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(ho);<span class="code-keyword">return</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Js</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={});<span class="code-keyword">var</span> i=Qs($s(e),t),e=i.representationInfo.map(qs);<span class="code-keyword">return</span> Us({<span class="code-attr">dashPlaylists</span>:e,<span class="code-attr">locations</span>:i.locations,<span class="code-attr">sidxMapping</span>:t.sidxMapping,<span class="code-attr">previousManifest</span>:t.previousManifest})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zs</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=Vs(e,<span class="code-string">"UTCTiming"</span>)[<span class="code-number">0</span>];<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> t=zs(e);<span class="code-keyword">switch</span>(t.schemeIdUri){<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-head:2014"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-head:2012"</span>:t.method=<span class="code-string">"HEAD"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-xsdate:2014"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-iso:2014"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-xsdate:2012"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-iso:2012"</span>:t.method=<span class="code-string">"GET"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:direct:2014"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:direct:2012"</span>:t.method=<span class="code-string">"DIRECT"</span>,t.value=<span class="code-built_in">Date</span>.parse(t.value);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:http-ntp:2014"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:ntp:2014"</span>:<span class="code-keyword">case</span><span class="code-string">"urn:mpeg:dash:utc:sntp:2014"</span>:<span class="code-keyword">default</span>:<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(mo)}<span class="code-keyword">return</span> t}($s(e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">eo</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>),(e=br(e)).length-t&lt;<span class="code-number">10</span>||!wr(e,Eo,{<span class="code-attr">offset</span>:t})?t:eo(e,t+=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-number">0</span>);<span class="code-keyword">var</span> i=(e=br(e))[t+<span class="code-number">5</span>],t=e[t+<span class="code-number">6</span>]&lt;&lt;<span class="code-number">21</span>|e[t+<span class="code-number">7</span>]&lt;&lt;<span class="code-number">14</span>|e[t+<span class="code-number">8</span>]&lt;&lt;<span class="code-number">7</span>|e[t+<span class="code-number">9</span>];<span class="code-keyword">return</span>(<span class="code-number">16</span>&amp;i)&gt;&gt;<span class="code-number">4</span>?<span class="code-number">20</span>+t:<span class="code-number">10</span>+t}(e,t))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">to</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?Sr(e):e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">io</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">1</span>),n=t,t=<span class="code-built_in">Array</span>.isArray(n)?n.map(to):[to(n)],e=br(e);<span class="code-keyword">var</span> r=[];<span class="code-keyword">if</span>(!t.length)<span class="code-keyword">return</span> r;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;e.length;){<span class="code-keyword">var</span> s=(e[a]&lt;&lt;<span class="code-number">24</span>|e[a+<span class="code-number">1</span>]&lt;&lt;<span class="code-number">16</span>|e[a+<span class="code-number">2</span>]&lt;&lt;<span class="code-number">8</span>|e[a+<span class="code-number">3</span>])&gt;&gt;&gt;<span class="code-number">0</span>,o=e.subarray(a+<span class="code-number">4</span>,a+<span class="code-number">8</span>);<span class="code-keyword">if</span>(<span class="code-number">0</span>==s)<span class="code-keyword">break</span>;<span class="code-keyword">var</span> u=a+s;<span class="code-keyword">if</span>(u&gt;e.length){<span class="code-keyword">if</span>(i)<span class="code-keyword">break</span>;u=e.length}s=e.subarray(a+<span class="code-number">8</span>,u);wr(o,t[<span class="code-number">0</span>])&amp;&amp;(<span class="code-number">1</span>===t.length?r.push(s):r.push.apply(r,io(s,t.slice(<span class="code-number">1</span>),i))),a=u}<span class="code-keyword">return</span> r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">no</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=!<span class="code-number">1</span>);<span class="code-keyword">var</span> r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">1</span>,i=<span class="code-number">0</span>;i&lt;Co.length&amp;&amp;!(e&amp;Co[i]);i++)t++;<span class="code-keyword">return</span> t}(e[t]),a=e.subarray(t,t+r);<span class="code-keyword">return</span> i&amp;&amp;((a=<span class="code-built_in">Array</span>.prototype.slice.call(e,t,t+r))[<span class="code-number">0</span>]^=Co[r<span class="code-number">-1</span>]),{<span class="code-attr">length</span>:r,<span class="code-attr">value</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e,e=t.signed,e=<span class="code-keyword">void</span> <span class="code-number">0</span>!==e&amp;&amp;e,t=t.le,r=<span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;t;n=br(n);t=r?<span class="code-string">"reduce"</span>:<span class="code-string">"reduceRight"</span>,t=(n[t]||<span class="code-built_in">Array</span>.prototype[t]).call(n,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{i=r?i:<span class="code-built_in">Math</span>.abs(i+<span class="code-number">1</span>-n.length);<span class="code-keyword">return</span> e+Rr(t)*Nr[i]},Rr(<span class="code-number">0</span>));<span class="code-keyword">return</span>!e||(e=Nr[n.length]/Rr(<span class="code-number">2</span>)-Rr(<span class="code-number">1</span>))&lt;(t=Rr(t))&amp;&amp;(t-=e,t-=e,t-=Rr(<span class="code-number">2</span>)),<span class="code-built_in">Number</span>(t)}(a,{<span class="code-attr">signed</span>:n}),<span class="code-attr">bytes</span>:a}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ro</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e?e.match(<span class="code-regexp">/.{1,2}/g</span>).map(ro):<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e?Tr(e):e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ao</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(i&gt;=t.length)<span class="code-keyword">return</span> t.length;<span class="code-keyword">var</span> n=no(t,i,!<span class="code-number">1</span>);<span class="code-keyword">if</span>(wr(e.bytes,n.bytes))<span class="code-keyword">return</span> i;<span class="code-keyword">var</span> r=no(t,i+n.length);<span class="code-keyword">return</span> ao(e,t,i+r.length+r.value+n.length)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">so</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;i=t,t=<span class="code-built_in">Array</span>.isArray(i)?i.map(ro):[ro(i)],e=br(e);<span class="code-keyword">var</span> n=[];<span class="code-keyword">if</span>(!t.length)<span class="code-keyword">return</span> n;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;e.length;){<span class="code-keyword">var</span> a=no(e,r,!<span class="code-number">1</span>),s=no(e,r+a.length),o=r+a.length+s.length;<span class="code-number">127</span>===s.value&amp;&amp;(s.value=ao(a,e,o),s.value!==e.length&amp;&amp;(s.value-=o));<span class="code-keyword">var</span> u=o+s.value&gt;e.length?e.length:o+s.value,u=e.subarray(o,u);wr(t[<span class="code-number">0</span>],a.bytes)&amp;&amp;(<span class="code-number">1</span>===t.length?n.push(u):n=n.concat(so(u,t.slice(<span class="code-number">1</span>)))),r+=a.length+s.length+u.length}<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">oo</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">1</span>/<span class="code-number">0</span>),e=br(e),i=[].concat(i);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r,a=<span class="code-number">0</span>,s=<span class="code-number">0</span>;a&lt;e.length&amp;&amp;(s&lt;n||r);){<span class="code-keyword">var</span> o=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">if</span>(wr(e.subarray(a),Io)?o=<span class="code-number">4</span>:wr(e.subarray(a),xo)&amp;&amp;(o=<span class="code-number">3</span>),o){<span class="code-keyword">if</span>(s++,r)<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],i=<span class="code-number">1</span>;i&lt;e.length<span class="code-number">-2</span>;)wr(e.subarray(i,i+<span class="code-number">3</span>),Ao)&amp;&amp;(t.push(i+<span class="code-number">2</span>),i++),i++;<span class="code-keyword">if</span>(<span class="code-number">0</span>===t.length)<span class="code-keyword">return</span> e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.length-t.length,r=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n),a=<span class="code-number">0</span>,i=<span class="code-number">0</span>;i&lt;n;a++,i++)a===t[<span class="code-number">0</span>]&amp;&amp;(a++,t.shift()),r[i]=e[a];<span class="code-keyword">return</span> r}(e.subarray(r,a));<span class="code-keyword">var</span> u=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-string">"h264"</span>===t?u=<span class="code-number">31</span>&amp;e[a+o]:<span class="code-string">"h265"</span>===t&amp;&amp;(u=e[a+o]&gt;&gt;<span class="code-number">1</span>&amp;<span class="code-number">63</span>),<span class="code-number">-1</span>!==i.indexOf(u)&amp;&amp;(r=a+o),a+=o+(<span class="code-string">"h264"</span>===t?<span class="code-number">1</span>:<span class="code-number">2</span>)}<span class="code-keyword">else</span> a++}<span class="code-keyword">return</span> e.subarray(<span class="code-number">0</span>,<span class="code-number">0</span>)}<span class="code-keyword">var</span> uo={<span class="code-attr">__DOMHandler</span>:us,<span class="code-attr">DOMParser</span>:os,<span class="code-attr">DOMImplementation</span>:U.DOMImplementation,<span class="code-attr">XMLSerializer</span>:U.XMLSerializer}.DOMParser,lo=<span class="code-string">"INVALID_NUMBER_OF_PERIOD"</span>,co=<span class="code-string">"DASH_EMPTY_MANIFEST"</span>,ho=<span class="code-string">"DASH_INVALID_XML"</span>,po=<span class="code-string">"NO_BASE_URL"</span>,fo=<span class="code-string">"SEGMENT_TIME_UNSPECIFIED"</span>,mo=<span class="code-string">"UNSUPPORTED_UTC_TIMING_SCHEME"</span>,go={<span class="code-attr">static</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.duration,i=e.timescale,n=<span class="code-keyword">void</span> <span class="code-number">0</span>===i?<span class="code-number">1</span>:i,r=e.sourceDuration,i=e.periodDuration,e=bs(e.endNumber),n=t/n;<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e?{<span class="code-attr">start</span>:<span class="code-number">0</span>,<span class="code-attr">end</span>:e}:<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i?{<span class="code-attr">start</span>:<span class="code-number">0</span>,<span class="code-attr">end</span>:i/n}:{<span class="code-attr">start</span>:<span class="code-number">0</span>,<span class="code-attr">end</span>:r/n}},<span class="code-attr">dynamic</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.NOW,i=e.clientOffset,n=e.availabilityStartTime,r=e.timescale,a=<span class="code-keyword">void</span> <span class="code-number">0</span>===r?<span class="code-number">1</span>:r,s=e.duration,o=e.periodStart,u=<span class="code-keyword">void</span> <span class="code-number">0</span>===o?<span class="code-number">0</span>:o,r=e.minimumUpdatePeriod,o=<span class="code-keyword">void</span> <span class="code-number">0</span>===r?<span class="code-number">0</span>:r,r=e.timeShiftBufferDepth,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===r?<span class="code-number">1</span>/<span class="code-number">0</span>:r,e=bs(e.endNumber),i=(t+i)/<span class="code-number">1e3</span>,u=n+u,o=<span class="code-built_in">Math</span>.ceil((i+o-u)*a/s),r=<span class="code-built_in">Math</span>.floor((i-u-r)*a/s),s=<span class="code-built_in">Math</span>.floor((i-u)*a/s);<span class="code-keyword">return</span>{<span class="code-attr">start</span>:<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,r),<span class="code-attr">end</span>:<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e?e:<span class="code-built_in">Math</span>.min(o,s)}}},yo=[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>],vo=<span class="code-regexp">/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g</span>,_o={<span class="code-attr">mediaPresentationDuration</span>:Gs,<span class="code-attr">availabilityStartTime</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/</span>.test(e=e)&amp;&amp;(e+=<span class="code-string">"Z"</span>),<span class="code-built_in">Date</span>.parse(e)/<span class="code-number">1e3</span>},<span class="code-attr">minimumUpdatePeriod</span>:Gs,<span class="code-attr">suggestedPresentationDelay</span>:Gs,<span class="code-attr">type</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e},<span class="code-attr">timeShiftBufferDepth</span>:Gs,<span class="code-attr">start</span>:Gs,<span class="code-attr">width</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">height</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">bandwidth</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">startNumber</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">timescale</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">presentationTimeOffset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">duration</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>);<span class="code-keyword">return</span> <span class="code-built_in">isNaN</span>(t)?Gs(e):t},<span class="code-attr">d</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">t</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">r</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>)},<span class="code-attr">DEFAULT</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e}},bo={<span class="code-string">"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b"</span>:<span class="code-string">"org.w3.clearkey"</span>,<span class="code-string">"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"</span>:<span class="code-string">"com.widevine.alpha"</span>,<span class="code-string">"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95"</span>:<span class="code-string">"com.microsoft.playready"</span>,<span class="code-string">"urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb"</span>:<span class="code-string">"com.adobe.primetime"</span>},To=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>),So=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(e.buffer,e.byteOffset,e.byteLength);<span class="code-keyword">return</span> t.getBigUint64?(e=t.getBigUint64(<span class="code-number">0</span>))&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER?<span class="code-built_in">Number</span>(e):e:t.getUint32(<span class="code-number">0</span>)*To+t.getUint32(<span class="code-number">4</span>)},wo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(e.buffer,e.byteOffset,e.byteLength),i={<span class="code-attr">version</span>:e[<span class="code-number">0</span>],<span class="code-attr">flags</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.subarray(<span class="code-number">1</span>,<span class="code-number">4</span>)),<span class="code-attr">references</span>:[],<span class="code-attr">referenceId</span>:t.getUint32(<span class="code-number">4</span>),<span class="code-attr">timescale</span>:t.getUint32(<span class="code-number">8</span>)},n=<span class="code-number">12</span>;<span class="code-number">0</span>===i.version?(i.earliestPresentationTime=t.getUint32(n),i.firstOffset=t.getUint32(n+<span class="code-number">4</span>),n+=<span class="code-number">8</span>):(i.earliestPresentationTime=So(e.subarray(n)),i.firstOffset=So(e.subarray(n+<span class="code-number">8</span>)),n+=<span class="code-number">16</span>);<span class="code-keyword">var</span> r=t.getUint16(n+=<span class="code-number">2</span>);<span class="code-keyword">for</span>(n+=<span class="code-number">2</span>;<span class="code-number">0</span>&lt;r;n+=<span class="code-number">12</span>,r--)i.references.push({<span class="code-attr">referenceType</span>:(<span class="code-number">128</span>&amp;e[n])&gt;&gt;&gt;<span class="code-number">7</span>,<span class="code-attr">referencedSize</span>:<span class="code-number">2147483647</span>&amp;t.getUint32(n),<span class="code-attr">subsegmentDuration</span>:t.getUint32(n+<span class="code-number">4</span>),<span class="code-attr">startsWithSap</span>:!!(<span class="code-number">128</span>&amp;e[n+<span class="code-number">8</span>]),<span class="code-attr">sapType</span>:(<span class="code-number">112</span>&amp;e[n+<span class="code-number">8</span>])&gt;&gt;&gt;<span class="code-number">4</span>,<span class="code-attr">sapDeltaTime</span>:<span class="code-number">268435455</span>&amp;t.getUint32(n+<span class="code-number">8</span>)});<span class="code-keyword">return</span> i},Eo=br([<span class="code-number">73</span>,<span class="code-number">68</span>,<span class="code-number">51</span>]),ko={<span class="code-attr">EBML</span>:br([<span class="code-number">26</span>,<span class="code-number">69</span>,<span class="code-number">223</span>,<span class="code-number">163</span>]),<span class="code-attr">DocType</span>:br([<span class="code-number">66</span>,<span class="code-number">130</span>]),<span class="code-attr">Segment</span>:br([<span class="code-number">24</span>,<span class="code-number">83</span>,<span class="code-number">128</span>,<span class="code-number">103</span>]),<span class="code-attr">SegmentInfo</span>:br([<span class="code-number">21</span>,<span class="code-number">73</span>,<span class="code-number">169</span>,<span class="code-number">102</span>]),<span class="code-attr">Tracks</span>:br([<span class="code-number">22</span>,<span class="code-number">84</span>,<span class="code-number">174</span>,<span class="code-number">107</span>]),<span class="code-attr">Track</span>:br([<span class="code-number">174</span>]),<span class="code-attr">TrackNumber</span>:br([<span class="code-number">215</span>]),<span class="code-attr">DefaultDuration</span>:br([<span class="code-number">35</span>,<span class="code-number">227</span>,<span class="code-number">131</span>]),<span class="code-attr">TrackEntry</span>:br([<span class="code-number">174</span>]),<span class="code-attr">TrackType</span>:br([<span class="code-number">131</span>]),<span class="code-attr">FlagDefault</span>:br([<span class="code-number">136</span>]),<span class="code-attr">CodecID</span>:br([<span class="code-number">134</span>]),<span class="code-attr">CodecPrivate</span>:br([<span class="code-number">99</span>,<span class="code-number">162</span>]),<span class="code-attr">VideoTrack</span>:br([<span class="code-number">224</span>]),<span class="code-attr">AudioTrack</span>:br([<span class="code-number">225</span>]),<span class="code-attr">Cluster</span>:br([<span class="code-number">31</span>,<span class="code-number">67</span>,<span class="code-number">182</span>,<span class="code-number">117</span>]),<span class="code-attr">Timestamp</span>:br([<span class="code-number">231</span>]),<span class="code-attr">TimestampScale</span>:br([<span class="code-number">42</span>,<span class="code-number">215</span>,<span class="code-number">177</span>]),<span class="code-attr">BlockGroup</span>:br([<span class="code-number">160</span>]),<span class="code-attr">BlockDuration</span>:br([<span class="code-number">155</span>]),<span class="code-attr">Block</span>:br([<span class="code-number">161</span>]),<span class="code-attr">SimpleBlock</span>:br([<span class="code-number">163</span>])},Co=[<span class="code-number">128</span>,<span class="code-number">64</span>,<span class="code-number">32</span>,<span class="code-number">16</span>,<span class="code-number">8</span>,<span class="code-number">4</span>,<span class="code-number">2</span>,<span class="code-number">1</span>],Io=br([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]),xo=br([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]),Ao=br([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">3</span>]),Po={<span class="code-attr">webm</span>:br([<span class="code-number">119</span>,<span class="code-number">101</span>,<span class="code-number">98</span>,<span class="code-number">109</span>]),<span class="code-attr">matroska</span>:br([<span class="code-number">109</span>,<span class="code-number">97</span>,<span class="code-number">116</span>,<span class="code-number">114</span>,<span class="code-number">111</span>,<span class="code-number">115</span>,<span class="code-number">107</span>,<span class="code-number">97</span>]),<span class="code-attr">flac</span>:br([<span class="code-number">102</span>,<span class="code-number">76</span>,<span class="code-number">97</span>,<span class="code-number">67</span>]),<span class="code-attr">ogg</span>:br([<span class="code-number">79</span>,<span class="code-number">103</span>,<span class="code-number">103</span>,<span class="code-number">83</span>]),<span class="code-attr">ac3</span>:br([<span class="code-number">11</span>,<span class="code-number">119</span>]),<span class="code-attr">riff</span>:br([<span class="code-number">82</span>,<span class="code-number">73</span>,<span class="code-number">70</span>,<span class="code-number">70</span>]),<span class="code-attr">avi</span>:br([<span class="code-number">65</span>,<span class="code-number">86</span>,<span class="code-number">73</span>]),<span class="code-attr">wav</span>:br([<span class="code-number">87</span>,<span class="code-number">65</span>,<span class="code-number">86</span>,<span class="code-number">69</span>]),<span class="code-string">"3gp"</span>:br([<span class="code-number">102</span>,<span class="code-number">116</span>,<span class="code-number">121</span>,<span class="code-number">112</span>,<span class="code-number">51</span>,<span class="code-number">103</span>]),<span class="code-attr">mp4</span>:br([<span class="code-number">102</span>,<span class="code-number">116</span>,<span class="code-number">121</span>,<span class="code-number">112</span>]),<span class="code-attr">fmp4</span>:br([<span class="code-number">115</span>,<span class="code-number">116</span>,<span class="code-number">121</span>,<span class="code-number">112</span>]),<span class="code-attr">mov</span>:br([<span class="code-number">102</span>,<span class="code-number">116</span>,<span class="code-number">121</span>,<span class="code-number">112</span>,<span class="code-number">113</span>,<span class="code-number">116</span>]),<span class="code-attr">moov</span>:br([<span class="code-number">109</span>,<span class="code-number">111</span>,<span class="code-number">111</span>,<span class="code-number">118</span>]),<span class="code-attr">moof</span>:br([<span class="code-number">109</span>,<span class="code-number">111</span>,<span class="code-number">111</span>,<span class="code-number">102</span>])},Lo={<span class="code-attr">aac</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=eo(e);<span class="code-keyword">return</span> wr(e,[<span class="code-number">255</span>,<span class="code-number">16</span>],{<span class="code-attr">offset</span>:t,<span class="code-attr">mask</span>:[<span class="code-number">255</span>,<span class="code-number">22</span>]})},<span class="code-attr">mp3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=eo(e);<span class="code-keyword">return</span> wr(e,[<span class="code-number">255</span>,<span class="code-number">2</span>],{<span class="code-attr">offset</span>:t,<span class="code-attr">mask</span>:[<span class="code-number">255</span>,<span class="code-number">6</span>]})},<span class="code-attr">webm</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=so(e,[ko.EBML,ko.DocType])[<span class="code-number">0</span>];<span class="code-keyword">return</span> wr(e,Po.webm)},<span class="code-attr">mkv</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=so(e,[ko.EBML,ko.DocType])[<span class="code-number">0</span>];<span class="code-keyword">return</span> wr(e,Po.matroska)},<span class="code-attr">mp4</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!Lo[<span class="code-string">"3gp"</span>](e)&amp;&amp;!Lo.mov(e)&amp;&amp;(!(!wr(e,Po.mp4,{<span class="code-attr">offset</span>:<span class="code-number">4</span>})&amp;&amp;!wr(e,Po.fmp4,{<span class="code-attr">offset</span>:<span class="code-number">4</span>}))||(!(!wr(e,Po.moof,{<span class="code-attr">offset</span>:<span class="code-number">4</span>})&amp;&amp;!wr(e,Po.moov,{<span class="code-attr">offset</span>:<span class="code-number">4</span>}))||<span class="code-keyword">void</span> <span class="code-number">0</span>))},<span class="code-attr">mov</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> wr(e,Po.mov,{<span class="code-attr">offset</span>:<span class="code-number">4</span>})},<span class="code-string">"3gp"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> wr(e,Po[<span class="code-string">"3gp"</span>],{<span class="code-attr">offset</span>:<span class="code-number">4</span>})},<span class="code-attr">ac3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=eo(e);<span class="code-keyword">return</span> wr(e,Po.ac3,{<span class="code-attr">offset</span>:t})},<span class="code-attr">ts</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.length&lt;<span class="code-number">189</span>&amp;&amp;<span class="code-number">1</span>&lt;=e.length)<span class="code-keyword">return</span> <span class="code-number">71</span>===e[<span class="code-number">0</span>];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t+<span class="code-number">188</span>&lt;e.length&amp;&amp;t&lt;<span class="code-number">188</span>;){<span class="code-keyword">if</span>(<span class="code-number">71</span>===e[t]&amp;&amp;<span class="code-number">71</span>===e[t+<span class="code-number">188</span>])<span class="code-keyword">return</span>!<span class="code-number">0</span>;t+=<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>},<span class="code-attr">flac</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=eo(e);<span class="code-keyword">return</span> wr(e,Po.flac,{<span class="code-attr">offset</span>:t})},<span class="code-attr">ogg</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> wr(e,Po.ogg)},<span class="code-attr">avi</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> wr(e,Po.riff)&amp;&amp;wr(e,Po.avi,{<span class="code-attr">offset</span>:<span class="code-number">8</span>})},<span class="code-attr">wav</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> wr(e,Po.riff)&amp;&amp;wr(e,Po.wav,{<span class="code-attr">offset</span>:<span class="code-number">8</span>})},<span class="code-attr">h264</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> oo(e,<span class="code-string">"h264"</span>,<span class="code-number">7</span>,<span class="code-number">3</span>).length},<span class="code-attr">h265</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> oo(e,<span class="code-string">"h265"</span>,[<span class="code-number">32</span>,<span class="code-number">33</span>],<span class="code-number">3</span>).length}},Do=<span class="code-built_in">Object</span>.keys(Lo).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"ts"</span>!==e&amp;&amp;<span class="code-string">"h264"</span>!==e&amp;&amp;<span class="code-string">"h265"</span>!==e}).concat([<span class="code-string">"ts"</span>,<span class="code-string">"h264"</span>,<span class="code-string">"h265"</span>]);Do.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Lo[e];Lo[e]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t(br(e))}});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oo</span>(<span class="code-params">e</span>)</span>{e=br(e);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;Do.length;t++){<span class="code-keyword">var</span> i=Do[t];<span class="code-keyword">if</span>(dl[i](e))<span class="code-keyword">return</span> i}<span class="code-keyword">return</span><span class="code-string">""</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mo</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;i&amp;&amp;i.responseURL&amp;&amp;t!==i.responseURL?i.responseURL:t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ro</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> tr.log.debug?tr.log.debug.bind(tr,<span class="code-string">"VHS:"</span>,e+<span class="code-string">" &gt;"</span>):<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">No</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=[];<span class="code-keyword">if</span>(e&amp;&amp;e.length)<span class="code-keyword">for</span>(i=<span class="code-number">0</span>;i&lt;e.length;i++)t(e.start(i),e.end(i))&amp;&amp;n.push([e.start(i),e.end(i)]);<span class="code-keyword">return</span> tr.createTimeRanges(n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Uo</span>(<span class="code-params">e,i</span>)</span>{<span class="code-keyword">return</span> No(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e<span class="code-number">-.1</span>&lt;=i&amp;&amp;i&lt;=t+<span class="code-number">.1</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bo</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> No(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t&lt;=e-fl})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=[];<span class="code-keyword">if</span>(!e||!e.length)<span class="code-keyword">return</span><span class="code-string">""</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)t.push(e.start(i)+<span class="code-string">" =&gt; "</span>+e.end(i));<span class="code-keyword">return</span> t.join(<span class="code-string">", "</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],i=<span class="code-number">0</span>;i&lt;e.length;i++)t.push({<span class="code-attr">start</span>:e.start(i),<span class="code-attr">end</span>:e.end(i)});<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ho</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e.length&amp;&amp;e.end)<span class="code-keyword">return</span> e.end(e.length<span class="code-number">-1</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qo</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">0</span>;<span class="code-keyword">if</span>(!e||!e.length)<span class="code-keyword">return</span> i;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;e.length;n++){<span class="code-keyword">var</span> r=e.start(n),a=e.end(n);a&lt;t||(i+=r&lt;t&amp;&amp;t&lt;=a?a-t:a-r)}<span class="code-keyword">return</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vo</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(!e.preload)<span class="code-keyword">return</span> e.duration;<span class="code-keyword">var</span> i=<span class="code-number">0</span>;<span class="code-keyword">return</span>(e.parts||[]).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i+=e.duration}),(e.preloadHints||[]).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"PART"</span>===e.type&amp;&amp;(i+=t.partTargetDuration)}),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(e.segments||[]).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,n,r</span>)</span>{<span class="code-keyword">return</span> n.parts?n.parts.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{i.push({<span class="code-attr">duration</span>:e.duration,<span class="code-attr">segmentIndex</span>:r,<span class="code-attr">partIndex</span>:t,<span class="code-attr">part</span>:e,<span class="code-attr">segment</span>:n})}):i.push({<span class="code-attr">duration</span>:n.duration,<span class="code-attr">segmentIndex</span>:r,<span class="code-attr">partIndex</span>:<span class="code-literal">null</span>,<span class="code-attr">segment</span>:n,<span class="code-attr">part</span>:<span class="code-literal">null</span>}),i},[])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Go</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(e=e.segments&amp;&amp;e.segments.length&amp;&amp;e.segments[e.segments.length<span class="code-number">-1</span>])&amp;&amp;e.parts||[]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.preloadSegment;<span class="code-keyword">if</span>(t){e=t.parts,t=(t.preloadHints||[]).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e+(<span class="code-string">"PART"</span>===t.type?<span class="code-number">1</span>:<span class="code-number">0</span>)},<span class="code-number">0</span>);<span class="code-keyword">return</span> t+=e&amp;&amp;e.length?e.length:<span class="code-number">0</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xo</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.endList?<span class="code-number">0</span>:e&amp;&amp;e.suggestedPresentationDelay?e.suggestedPresentationDelay:(e=<span class="code-number">0</span>&lt;Go(t).length)&amp;&amp;t.serverControl&amp;&amp;t.serverControl.partHoldBack?t.serverControl.partHoldBack:e&amp;&amp;t.partTargetDuration?<span class="code-number">3</span>*t.partTargetDuration:t.serverControl&amp;&amp;t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?<span class="code-number">3</span>*t.targetDuration:<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ko</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>((t=<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t?e.mediaSequence+e.segments.length:t)&lt;e.mediaSequence)<span class="code-keyword">return</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">0</span>,n=t-e.mediaSequence,r=e.segments[n];<span class="code-keyword">if</span>(r){<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> r.start)<span class="code-keyword">return</span>{<span class="code-attr">result</span>:r.start,<span class="code-attr">precise</span>:!<span class="code-number">0</span>};<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> r.end)<span class="code-keyword">return</span>{<span class="code-attr">result</span>:r.end-r.duration,<span class="code-attr">precise</span>:!<span class="code-number">0</span>}}<span class="code-keyword">for</span>(;n--;){<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(r=e.segments[n]).end)<span class="code-keyword">return</span>{<span class="code-attr">result</span>:i+r.end,<span class="code-attr">precise</span>:!<span class="code-number">0</span>};<span class="code-keyword">if</span>(i+=Vo(e,r),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> r.start)<span class="code-keyword">return</span>{<span class="code-attr">result</span>:i+r.start,<span class="code-attr">precise</span>:!<span class="code-number">0</span>}}<span class="code-keyword">return</span>{<span class="code-attr">result</span>:i,<span class="code-attr">precise</span>:!<span class="code-number">1</span>}}(e,t);<span class="code-keyword">return</span> n.precise?n.result:(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n=<span class="code-number">0</span>,r=t-e.mediaSequence;r&lt;e.segments.length;r++){<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(i=e.segments[r]).start)<span class="code-keyword">return</span>{<span class="code-attr">result</span>:i.start-n,<span class="code-attr">precise</span>:!<span class="code-number">0</span>};<span class="code-keyword">if</span>(n+=Vo(e,i),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> i.end)<span class="code-keyword">return</span>{<span class="code-attr">result</span>:i.end-n,<span class="code-attr">precise</span>:!<span class="code-number">0</span>}}<span class="code-keyword">return</span>{<span class="code-attr">result</span>:<span class="code-number">-1</span>,<span class="code-attr">precise</span>:!<span class="code-number">1</span>}}(e,t)).precise?t.result:n.result+i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yo</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> <span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> i&amp;&amp;(i=<span class="code-number">0</span>),<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t){<span class="code-keyword">if</span>(e.totalDuration)<span class="code-keyword">return</span> e.totalDuration;<span class="code-keyword">if</span>(!e.endList)<span class="code-keyword">return</span> <span class="code-built_in">window</span>.Infinity}<span class="code-keyword">return</span> Ko(e,t,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.defaultDuration,i=e.durationList,n=e.startIndex,r=e.endIndex,a=<span class="code-number">0</span>;<span class="code-keyword">if</span>(r&lt;n&amp;&amp;(n=(e=[r,n])[<span class="code-number">0</span>],r=e[<span class="code-number">1</span>]),n&lt;<span class="code-number">0</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=n;s&lt;<span class="code-built_in">Math</span>.min(<span class="code-number">0</span>,r);s++)a+=t;n=<span class="code-number">0</span>}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=n;o&lt;r;o++)a+=i[o].duration;<span class="code-keyword">return</span> a}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$o</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;e.segments?e.endList?Yo(e):<span class="code-literal">null</span>===t?<span class="code-literal">null</span>:(t=Ko(e,e.mediaSequence+e.segments.length,t=t||<span class="code-number">0</span>),i&amp;&amp;(t-=n=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> n?n:Xo(<span class="code-literal">null</span>,e)),<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,t)):<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Jo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.excludeUntil&amp;&amp;e.excludeUntil&gt;<span class="code-built_in">Date</span>.now()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zo</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.excludeUntil&amp;&amp;e.excludeUntil===<span class="code-number">1</span>/<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">eu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Jo(e);<span class="code-keyword">return</span>!e.disabled&amp;&amp;!t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.attributes&amp;&amp;t.attributes[e]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">iu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>===e.playlists.length)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> i=t.attributes.BANDWIDTH||<span class="code-built_in">Number</span>.MAX_VALUE;<span class="code-keyword">return</span> <span class="code-number">0</span>===e.playlists.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!eu(e)&amp;&amp;(e.attributes.BANDWIDTH||<span class="code-number">0</span>)&lt;i}).length}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>!(!e&amp;&amp;!t||!e&amp;&amp;t||e&amp;&amp;!t)&amp;&amp;(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri))))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ru</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=e&amp;&amp;e.mediaGroups&amp;&amp;e.mediaGroups.AUDIO||{},r=!<span class="code-number">1</span>;<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> n){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> n[i])<span class="code-keyword">if</span>(r=t(n[i][a]))<span class="code-keyword">break</span>;<span class="code-keyword">if</span>(r)<span class="code-keyword">break</span>}<span class="code-keyword">return</span>!!r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">au</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">if</span>(!i||!i.playlists||!i.playlists.length)<span class="code-keyword">return</span> ru(i,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.playlists&amp;&amp;e.playlists.length||e.uri});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;i.playlists.length;e++){<span class="code-keyword">var</span> t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i.playlists[e],e=t.attributes&amp;&amp;t.attributes.CODECS;<span class="code-keyword">return</span> e&amp;&amp;e.split(<span class="code-string">","</span>).every(fr)||ru(i,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> nu(t,e)})?<span class="code-string">"continue"</span>:{<span class="code-attr">v</span>:!<span class="code-number">1</span>}}(e);<span class="code-keyword">if</span>(<span class="code-string">"continue"</span>!==t&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> t)<span class="code-keyword">return</span> t.v}<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">su</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e+<span class="code-string">"-"</span>+t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ou</span>(<span class="code-params">r,a</span>)</span>{r.mediaGroups&amp;&amp;[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(r.mediaGroups[e])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t <span class="code-keyword">in</span> r.mediaGroups[e])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i <span class="code-keyword">in</span> r.mediaGroups[e][t]){<span class="code-keyword">var</span> n=r.mediaGroups[e][t][i];a(n,e,t,i)}})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">uu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.playlist,i=e.uri,e=e.id;t.id=e,t.playlistErrors_=<span class="code-number">0</span>,i&amp;&amp;(t.uri=i),t.attributes=t.attributes||{}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lu</span>(<span class="code-params">o,e</span>)</span>{o.uri=e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;o.playlists.length;t++)o.playlists[t].uri||(o.playlists[t].uri=<span class="code-string">"placeholder-uri-"</span>+t);<span class="code-keyword">var</span> i,u=au(o);ou(o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-string">"placeholder-uri-"</span>+t+<span class="code-string">"-"</span>+i+<span class="code-string">"-"</span>+n;<span class="code-keyword">if</span>(!e.playlists||!e.playlists.length){<span class="code-keyword">if</span>(u&amp;&amp;<span class="code-string">"AUDIO"</span>===t&amp;&amp;!e.uri)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=<span class="code-number">0</span>;a&lt;o.playlists.length;a++){<span class="code-keyword">var</span> s=o.playlists[a];<span class="code-keyword">if</span>(s.attributes&amp;&amp;s.attributes.AUDIO&amp;&amp;s.attributes.AUDIO===i)<span class="code-keyword">return</span>}e.playlists=[g({},e)]}e.playlists.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=su(t,r);e.uri?e.resolvedUri=e.resolvedUri||pl(o.uri,e.uri):(e.uri=<span class="code-number">0</span>===t?r:i,e.resolvedUri=e.uri),e.id=e.id||i,e.attributes=e.attributes||{},o.playlists[e.id]=e,o.playlists[e.uri]=e})}),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.playlists.length;t--;){<span class="code-keyword">var</span> i=e.playlists[t];uu({<span class="code-attr">playlist</span>:i,<span class="code-attr">id</span>:su(t,i.uri)}),i.resolvedUri=pl(e.uri,i.uri),e.playlists[i.id]=i,(e.playlists[i.uri]=i).attributes.BANDWIDTH||yl.warn(<span class="code-string">"Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."</span>)}}(o),ou(i=o,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.uri&amp;&amp;(e.resolvedUri=pl(i.uri,e.uri))})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cu</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=e.slice(),r=t.slice();i=i||<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a,s=[],o=<span class="code-number">0</span>;o&lt;r.length;o++){<span class="code-keyword">var</span> u=n[o+i],l=r[o];u?(a=u.map||a,s.push(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> i=vl(e,t);<span class="code-keyword">if</span>(e.preloadHints&amp;&amp;!t.preloadHints&amp;&amp;<span class="code-keyword">delete</span> i.preloadHints,e.parts&amp;&amp;!t.parts)<span class="code-keyword">delete</span> i.parts;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e.parts&amp;&amp;t.parts)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.parts.length;n++)e.parts&amp;&amp;e.parts[n]&amp;&amp;(i.parts[n]=vl(e.parts[n],t.parts[n]));<span class="code-keyword">return</span>!e.skipped&amp;&amp;t.skipped&amp;&amp;(i.skipped=!<span class="code-number">1</span>),e.preload&amp;&amp;!t.preload&amp;&amp;(i.preload=!<span class="code-number">1</span>),i}(u,l))):(a&amp;&amp;!l.map&amp;&amp;(l.map=a),s.push(l))}<span class="code-keyword">return</span> s}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">du</span>(<span class="code-params">e,t</span>)</span>{!e.resolvedUri&amp;&amp;e.uri&amp;&amp;(e.resolvedUri=pl(t,e.uri)),e.key&amp;&amp;!e.key.resolvedUri&amp;&amp;(e.key.resolvedUri=pl(t,e.key.uri)),e.map&amp;&amp;!e.map.resolvedUri&amp;&amp;(e.map.resolvedUri=pl(t,e.map.uri)),e.map&amp;&amp;e.map.key&amp;&amp;!e.map.key.resolvedUri&amp;&amp;(e.map.key.resolvedUri=pl(t,e.map.key.uri)),e.parts&amp;&amp;e.parts.length&amp;&amp;e.parts.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.resolvedUri||(e.resolvedUri=pl(t,e.uri))}),e.preloadHints&amp;&amp;e.preloadHints.length&amp;&amp;e.preloadHints.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.resolvedUri||(e.resolvedUri=pl(t,e.uri))})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">hu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.segments||[],i=e.preloadSegment;<span class="code-keyword">if</span>(i&amp;&amp;i.parts&amp;&amp;i.parts.length){<span class="code-keyword">if</span>(i.preloadHints)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;i.preloadHints.length;n++)<span class="code-keyword">if</span>(<span class="code-string">"MAP"</span>===i.preloadHints[n].type)<span class="code-keyword">return</span> t;i.duration=e.targetDuration,i.preload=!<span class="code-number">0</span>,t.push(i)}<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e===t||e.segments&amp;&amp;t.segments&amp;&amp;e.segments.length===t.segments.length&amp;&amp;e.endList===t.endList&amp;&amp;e.mediaSequence===t.mediaSequence&amp;&amp;e.preloadSegment===t.preloadSegment}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">fu</span>(<span class="code-params">e,a,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=pu);<span class="code-keyword">var</span> i=vl(e,{}),n=i.playlists[a.id];<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(t(n,a))<span class="code-keyword">return</span> <span class="code-literal">null</span>;a.segments=hu(a);<span class="code-keyword">var</span> s=vl(n,a);<span class="code-keyword">if</span>(s.preloadSegment&amp;&amp;!a.preloadSegment&amp;&amp;<span class="code-keyword">delete</span> s.preloadSegment,n.segments){<span class="code-keyword">if</span>(a.skip){a.segments=a.segments||[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;a.skip.skippedSegments;r++)a.segments.unshift({<span class="code-attr">skipped</span>:!<span class="code-number">0</span>})}s.segments=cu(n.segments,a.segments,a.mediaSequence-n.mediaSequence)}s.segments.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{du(e,s.resolvedUri)});<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=<span class="code-number">0</span>;o&lt;i.playlists.length;o++)i.playlists[o].id===a.id&amp;&amp;(i.playlists[o]=s);<span class="code-keyword">return</span> i.playlists[a.id]=s,i.playlists[a.uri]=s,ou(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">if</span>(e.playlists)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;e.playlists.length;r++)a.id===e.playlists[r].id&amp;&amp;(e.playlists[r]=s)}),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e.segments||[],n=i[i.length<span class="code-number">-1</span>],n=(i=n&amp;&amp;n.parts&amp;&amp;n.parts[n.parts.length<span class="code-number">-1</span>])&amp;&amp;i.duration||n&amp;&amp;n.duration;<span class="code-keyword">return</span> t&amp;&amp;n?<span class="code-number">1e3</span>*n:<span class="code-number">500</span>*(e.partTargetDuration||e.targetDuration||<span class="code-number">10</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gu</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-string">"arraybuffer"</span>===e.responseType?e.response:e.responseText;!t&amp;&amp;r&amp;&amp;(e.responseTime=<span class="code-built_in">Date</span>.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=<span class="code-built_in">Math</span>.floor(e.bytesReceived/e.roundTripTime*<span class="code-number">8</span>*<span class="code-number">1e3</span>))),i.headers&amp;&amp;(e.responseHeaders=i.headers),t&amp;&amp;<span class="code-string">"ETIMEDOUT"</span>===t.code&amp;&amp;(e.timedout=!<span class="code-number">0</span>),n(t=!t&amp;&amp;!e.aborted&amp;&amp;<span class="code-number">200</span>!==i.statusCode&amp;&amp;<span class="code-number">206</span>!==i.statusCode&amp;&amp;<span class="code-number">0</span>!==i.statusCode?<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"XHR Failed with a response of: "</span>+(e&amp;&amp;(r||e.responseText))):t,e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">yu</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e,i</span>)</span>{e=Tl({<span class="code-attr">timeout</span>:<span class="code-number">45e3</span>},e);<span class="code-keyword">var</span> t=a.beforeRequest||tr.Vhs.xhr.beforeRequest;!t||<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> t||(t=t(e))&amp;&amp;(e=t);<span class="code-keyword">var</span> n=(!<span class="code-number">0</span>===tr.Vhs.xhr.original?bl:tr.Vhs.xhr)(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> gu(n,e,t,i)}),r=n.abort;<span class="code-keyword">return</span> n.abort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.aborted=!<span class="code-number">0</span>,r.apply(n,<span class="code-built_in">arguments</span>)},n.uri=e.uri,n.requestTime=<span class="code-built_in">Date</span>.now(),n}<span class="code-keyword">return</span> a.original=!<span class="code-number">0</span>,a}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">vu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i={};<span class="code-keyword">return</span> e.byterange&amp;&amp;(i.Range=(t=e.byterange,e=t.offset,t=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t.offset||<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t.length?<span class="code-built_in">window</span>.BigInt(t.offset)+<span class="code-built_in">window</span>.BigInt(t.length)-<span class="code-built_in">window</span>.BigInt(<span class="code-number">1</span>):t.offset+t.length<span class="code-number">-1</span>,<span class="code-string">"bytes="</span>+e+<span class="code-string">"-"</span>+t)),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">_u</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e=e.toString(<span class="code-number">16</span>),<span class="code-string">"00"</span>.substring(<span class="code-number">0</span>,<span class="code-number">2</span>-e.length)+e+(t%<span class="code-number">2</span>?<span class="code-string">" "</span>:<span class="code-string">""</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">bu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">32</span>&lt;=e&amp;&amp;e&lt;<span class="code-number">126</span>?<span class="code-built_in">String</span>.fromCharCode(e):<span class="code-string">"."</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Tu</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n={};<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(i).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i[e];_r(t)?n[e]={<span class="code-attr">bytes</span>:t.buffer,<span class="code-attr">byteOffset</span>:t.byteOffset,<span class="code-attr">byteLength</span>:t.byteLength}:n[e]=t}),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Su</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.byterange||{<span class="code-attr">length</span>:<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-attr">offset</span>:<span class="code-number">0</span>};<span class="code-keyword">return</span>[t.length,t.offset,e.resolvedUri].join(<span class="code-string">","</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">wu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.resolvedUri}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Eu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-built_in">Array</span>.prototype.slice.call(e),i=<span class="code-string">""</span>,n=<span class="code-number">0</span>;n&lt;t.length/<span class="code-number">16</span>;n++)i+=t.slice(<span class="code-number">16</span>*n,<span class="code-number">16</span>*n+<span class="code-number">16</span>).map(_u).join(<span class="code-string">""</span>)+<span class="code-string">" "</span>+t.slice(<span class="code-number">16</span>*n,<span class="code-number">16</span>*n+<span class="code-number">16</span>).map(bu).join(<span class="code-string">""</span>)+<span class="code-string">"\n"</span>;<span class="code-keyword">return</span> i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ku</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.playlist,i=e.time,n=<span class="code-keyword">void</span> <span class="code-number">0</span>===i?<span class="code-keyword">void</span> <span class="code-number">0</span>:i;<span class="code-keyword">if</span>(!(i=e.callback))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"getProgramTime: callback must be provided"</span>);<span class="code-keyword">return</span> t&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==n?(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!t||!t.segments||<span class="code-number">0</span>===t.segments.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>;r&lt;t.segments.length&amp;&amp;!(e&lt;=(n=(i=t.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);<span class="code-keyword">var</span> a=t.segments[t.segments.length<span class="code-number">-1</span>];<span class="code-keyword">if</span>(a.videoTimingInfo&amp;&amp;a.videoTimingInfo.transmuxedPresentationEnd&lt;e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(n&lt;e){<span class="code-keyword">if</span>(e&gt;n+<span class="code-number">.25</span>*a.duration)<span class="code-keyword">return</span> <span class="code-literal">null</span>;i=a}<span class="code-keyword">return</span>{<span class="code-attr">segment</span>:i,<span class="code-attr">estimatedStart</span>:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,<span class="code-attr">type</span>:i.videoTimingInfo?<span class="code-string">"accurate"</span>:<span class="code-string">"estimate"</span>}}(n,t))?<span class="code-string">"estimate"</span>===e.type?i({<span class="code-attr">message</span>:<span class="code-string">"Accurate programTime could not be determined. Please seek to e.seekTime and try again"</span>,<span class="code-attr">seekTime</span>:e.estimatedStart}):(t={<span class="code-attr">mediaSeconds</span>:n},(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!t.dateTimeObject)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+i);<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Date</span>(t.dateTimeObject.getTime()+<span class="code-number">1e3</span>*i)}(n,e.segment))&amp;&amp;(t.programDateTime=e.toISOString()),i(<span class="code-literal">null</span>,t)):i({<span class="code-attr">message</span>:<span class="code-string">"valid programTime was not found"</span>}):i({<span class="code-attr">message</span>:<span class="code-string">"getProgramTime: playlist and time must be provided"</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Cu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.programTime,i=e.playlist,n=e.retryCount,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-number">2</span>:n,a=e.seekTo,s=e.pauseAfterSeek,o=<span class="code-keyword">void</span> <span class="code-number">0</span>===s||s,u=e.tech,l=e.callback;<span class="code-keyword">if</span>(!l)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"seekToProgramTime: callback must be provided"</span>);<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> t&amp;&amp;i&amp;&amp;a?i.endList||u.hasStarted_?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e.segments||<span class="code-number">0</span>===e.segments.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;e.segments.length;t++)<span class="code-keyword">if</span>(!e.segments[t].dateTimeObject)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>!<span class="code-number">0</span>}(i)?(n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">try</span>{i=<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(e)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span> <span class="code-literal">null</span>}<span class="code-keyword">if</span>(!t||!t.segments||<span class="code-number">0</span>===t.segments.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(i&lt;(r=t.segments[<span class="code-number">0</span>]).dateTimeObject)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.segments.length<span class="code-number">-1</span>;n++){<span class="code-keyword">var</span> r=t.segments[n];<span class="code-keyword">if</span>(i&lt;t.segments[n+<span class="code-number">1</span>].dateTimeObject)<span class="code-keyword">break</span>}<span class="code-keyword">var</span> a,s=t.segments[t.segments.length<span class="code-number">-1</span>],e=s.dateTimeObject,a=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+<span class="code-number">.25</span>*s.duration;<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Date</span>(e.getTime()+<span class="code-number">1e3</span>*a)&lt;i?<span class="code-literal">null</span>:{<span class="code-attr">segment</span>:r=e&lt;i?s:r,<span class="code-attr">estimatedStart</span>:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:gl.duration(t,t.mediaSequence+t.segments.indexOf(r)),<span class="code-attr">type</span>:r.videoTimingInfo?<span class="code-string">"accurate"</span>:<span class="code-string">"estimate"</span>}}(t,i))?(s=n.segment,e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">try</span>{n=<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(e),i=<span class="code-keyword">new</span> <span class="code-built_in">Date</span>(t)}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">var</span> n=n.getTime();<span class="code-keyword">return</span>(i.getTime()-n)/<span class="code-number">1e3</span>}(s.dateTimeObject,t),<span class="code-string">"estimate"</span>===n.type?<span class="code-number">0</span>===r?l({<span class="code-attr">message</span>:t+<span class="code-string">" is not buffered yet. Try again"</span>}):(a(n.estimatedStart+e),<span class="code-keyword">void</span> u.one(<span class="code-string">"seeked"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{Cu({<span class="code-attr">programTime</span>:t,<span class="code-attr">playlist</span>:i,<span class="code-attr">retryCount</span>:r<span class="code-number">-1</span>,<span class="code-attr">seekTo</span>:a,<span class="code-attr">pauseAfterSeek</span>:o,<span class="code-attr">tech</span>:u,<span class="code-attr">callback</span>:l})})):(e=s.start+e,u.one(<span class="code-string">"seeked"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l(<span class="code-literal">null</span>,u.currentTime())}),o&amp;&amp;u.pause(),<span class="code-keyword">void</span> a(e))):l({<span class="code-attr">message</span>:t+<span class="code-string">" was not found in the stream"</span>}):l({<span class="code-attr">message</span>:<span class="code-string">"programDateTime tags must be provided in the manifest "</span>+i.resolvedUri}):l({<span class="code-attr">message</span>:<span class="code-string">"player must be playing a live stream to start buffering"</span>}):l({<span class="code-attr">message</span>:<span class="code-string">"seekToProgramTime: programTime, seekTo and playlist must be provided"</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Iu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">4</span>===e.readyState)<span class="code-keyword">return</span> t()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xu</span>(<span class="code-params">e,t,r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">return</span> t.abort(),o=!<span class="code-number">0</span>,r(e,t,i,n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!o){<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> n(e,t,<span class="code-string">""</span>,s);<span class="code-keyword">var</span> i=t.responseText.substring(s&amp;&amp;s.byteLength||<span class="code-number">0</span>,t.responseText.length);<span class="code-keyword">if</span>(s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-built_in">arguments</span>.length,t=<span class="code-keyword">new</span> <span class="code-built_in">Array</span>(e),i=<span class="code-number">0</span>;i&lt;e;i++)t[i]=<span class="code-built_in">arguments</span>[i];<span class="code-keyword">if</span>((t=t.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;(e.byteLength||e.length)&amp;&amp;<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e})).length&lt;=<span class="code-number">1</span>)<span class="code-keyword">return</span> br(t[<span class="code-number">0</span>]);<span class="code-keyword">var</span> n=t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> e+(t.byteLength||t.length)},<span class="code-number">0</span>),r=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n),a=<span class="code-number">0</span>;<span class="code-keyword">return</span> t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=br(e),r.set(e,a),a+=e.byteLength}),r}(s,Sr(i,!<span class="code-number">0</span>)),a=a||eo(s),s.length&lt;<span class="code-number">10</span>||a&amp;&amp;s.length&lt;a+<span class="code-number">2</span>)<span class="code-keyword">return</span> Iu(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n(e,t,<span class="code-string">""</span>,s)});i=Oo(s);<span class="code-keyword">return</span><span class="code-string">"ts"</span>===i&amp;&amp;s.length&lt;<span class="code-number">188</span>||!i&amp;&amp;s.length&lt;<span class="code-number">376</span>?Iu(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n(e,t,<span class="code-string">""</span>,s)}):n(<span class="code-literal">null</span>,t,i,s)}}<span class="code-keyword">var</span> a,s=[],o=!<span class="code-number">1</span>,u=t({<span class="code-attr">uri</span>:e,<span class="code-attr">beforeSend</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.overrideMimeType(<span class="code-string">"text/plain; charset=x-user-defined"</span>),t.addEventListener(<span class="code-string">"progress"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.total,e.loaded,gu(t,<span class="code-literal">null</span>,{<span class="code-attr">statusCode</span>:t.status},i)})}},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> gu(u,e,t,i)});<span class="code-keyword">return</span> u}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Au</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!pu(e,t))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(e.sidx&amp;&amp;t.sidx&amp;&amp;(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!e.sidx&amp;&amp;t.sidx||e.sidx&amp;&amp;!t.sidx)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(e.segments&amp;&amp;!t.segments||!e.segments&amp;&amp;t.segments)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!e.segments&amp;&amp;!t.segments)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.segments.length;i++){<span class="code-keyword">var</span> n=e.segments[i],r=t.segments[i];<span class="code-keyword">if</span>(n.uri!==r.uri)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(n.byterange||r.byterange){n=n.byterange,r=r.byterange;<span class="code-keyword">if</span>(n&amp;&amp;!r||!n&amp;&amp;r)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(n.offset!==r.offset||n.length!==r.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>}}<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n={};<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> e){<span class="code-keyword">var</span> r=e[i].sidx;<span class="code-keyword">if</span>(r){<span class="code-keyword">var</span> a=xs(r);<span class="code-keyword">if</span>(!t[a])<span class="code-keyword">break</span>;<span class="code-keyword">var</span> s=t[a].sidxInfo;s=s,r=r,(<span class="code-built_in">Boolean</span>(!s.map&amp;&amp;!r.map)||<span class="code-built_in">Boolean</span>(s.map&amp;&amp;r.map&amp;&amp;s.map.byterange.offset===r.map.byterange.offset&amp;&amp;s.map.byterange.length===r.map.byterange.length))&amp;&amp;s.uri===r.uri&amp;&amp;s.byterange.offset===r.byterange.offset&amp;&amp;s.byterange.length===r.byterange.length&amp;&amp;(n[a]=t[a])}}<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Lu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.on=e.addEventListener,e.off=e.removeEventListener,e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Du</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n=i.transmuxer,e=i.bytes,t=i.audioAppendStart,r=i.gopsToAlignWith,a=i.remux,s=i.onData,o=i.onTrackInfo,u=i.onAudioTimingInfo,l=i.onVideoTimingInfo,c=i.onVideoSegmentTimingInfo,d=i.onAudioSegmentTimingInfo,h=i.onId3,p=i.onCaptions,f=i.onDone,m=i.onEndedTimeline,g=i.onTransmuxerLog,y=i.isEndOfTimeline,v={<span class="code-attr">buffer</span>:[]},_=y;n.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;n.currentTransmux===i&amp;&amp;(<span class="code-string">"data"</span>===e.data.action&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=e.data.segment,r=n.type,a=n.initSegment,s=n.captions,o=n.captionStreams,u=n.metadata,l=n.videoFrameDtsTime,n=n.videoFramePtsTime;t.buffer.push({<span class="code-attr">captions</span>:s,<span class="code-attr">captionStreams</span>:o,<span class="code-attr">metadata</span>:u});e=e.data.segment.boxes||{<span class="code-attr">data</span>:e.data.segment.data},a={<span class="code-attr">type</span>:r,<span class="code-attr">data</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.data,e.data.byteOffset,e.data.byteLength),<span class="code-attr">initSegment</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(a.data,a.byteOffset,a.byteLength)};<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> l&amp;&amp;(a.videoFrameDtsTime=l),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> n&amp;&amp;(a.videoFramePtsTime=n),i(a)}(e,v,s),<span class="code-string">"trackinfo"</span>===e.data.action&amp;&amp;o(e.data.trackInfo),<span class="code-string">"gopInfo"</span>===e.data.action&amp;&amp;(v.gopInfo=e.data.gopInfo),<span class="code-string">"audioTimingInfo"</span>===e.data.action&amp;&amp;u(e.data.audioTimingInfo),<span class="code-string">"videoTimingInfo"</span>===e.data.action&amp;&amp;l(e.data.videoTimingInfo),<span class="code-string">"videoSegmentTimingInfo"</span>===e.data.action&amp;&amp;c(e.data.videoSegmentTimingInfo),<span class="code-string">"audioSegmentTimingInfo"</span>===e.data.action&amp;&amp;d(e.data.audioSegmentTimingInfo),<span class="code-string">"id3Frame"</span>===e.data.action&amp;&amp;h([e.data.id3Frame],e.data.id3Frame.dispatchType),<span class="code-string">"caption"</span>===e.data.action&amp;&amp;p(e.data.caption),<span class="code-string">"endedtimeline"</span>===e.data.action&amp;&amp;(_=!<span class="code-number">1</span>,m()),<span class="code-string">"log"</span>===e.data.action&amp;&amp;g(e.data.log),<span class="code-string">"transmuxed"</span>===e.data.type&amp;&amp;(_||(n.onmessage=<span class="code-literal">null</span>,e=(t={<span class="code-attr">transmuxedData</span>:v,<span class="code-attr">callback</span>:f}).transmuxedData,t=t.callback,e.buffer=[],t(e),Cl(n))))},t&amp;&amp;n.postMessage({<span class="code-attr">action</span>:<span class="code-string">"setAudioAppendStart"</span>,<span class="code-attr">appendStart</span>:t}),<span class="code-built_in">Array</span>.isArray(r)&amp;&amp;n.postMessage({<span class="code-attr">action</span>:<span class="code-string">"alignGopsWith"</span>,<span class="code-attr">gopsToAlignWith</span>:r}),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> a&amp;&amp;n.postMessage({<span class="code-attr">action</span>:<span class="code-string">"setRemux"</span>,<span class="code-attr">remux</span>:a}),e.byteLength&amp;&amp;(r=e <span class="code-keyword">instanceof</span> <span class="code-built_in">ArrayBuffer</span>?e:e.buffer,a=e <span class="code-keyword">instanceof</span> <span class="code-built_in">ArrayBuffer</span>?<span class="code-number">0</span>:e.byteOffset,n.postMessage({<span class="code-attr">action</span>:<span class="code-string">"push"</span>,<span class="code-attr">data</span>:r,<span class="code-attr">byteOffset</span>:a,<span class="code-attr">byteLength</span>:e.byteLength},[r])),y&amp;&amp;n.postMessage({<span class="code-attr">action</span>:<span class="code-string">"endTimeline"</span>}),n.postMessage({<span class="code-attr">action</span>:<span class="code-string">"flush"</span>})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ou</span>(<span class="code-params">e,t</span>)</span>{e.postMessage({<span class="code-attr">action</span>:t}),Cl(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Mu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!t.currentTransmux)<span class="code-keyword">return</span> t.currentTransmux=e,Ou(t,e),<span class="code-number">0</span>;t.transmuxQueue.push(Ou.bind(<span class="code-literal">null</span>,t,e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ru</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!e.transmuxer.currentTransmux)<span class="code-keyword">return</span> e.transmuxer.currentTransmux=e,<span class="code-keyword">void</span> Du(e);e.transmuxer.transmuxQueue.push(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nu</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n=i.transmuxer,r=i.endAction||i.action,a=i.callback,e=g({},i,{<span class="code-attr">endAction</span>:<span class="code-literal">null</span>,<span class="code-attr">transmuxer</span>:<span class="code-literal">null</span>,<span class="code-attr">callback</span>:<span class="code-literal">null</span>}),t=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{t.data.action===r&amp;&amp;(n.removeEventListener(<span class="code-string">"message"</span>,e),t.data.data&amp;&amp;(t.data.data=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.data.data,i.byteOffset||<span class="code-number">0</span>,i.byteLength||t.data.data.byteLength),i.data&amp;&amp;(i.data=t.data.data)),a(t.data))};n.addEventListener(<span class="code-string">"message"</span>,t),i.data?(t=i.data <span class="code-keyword">instanceof</span> <span class="code-built_in">ArrayBuffer</span>,e.byteOffset=t?<span class="code-number">0</span>:i.data.byteOffset,e.byteLength=i.data.byteLength,t=[t?i.data:i.data.buffer],n.postMessage(e,t)):n.postMessage(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Uu</span>(<span class="code-params">e</span>)</span>{e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.abort()})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t.timedout?{<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"HLS request timed-out at URL: "</span>+t.uri,<span class="code-attr">code</span>:Pl,<span class="code-attr">xhr</span>:t}:t.aborted?{<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"HLS request aborted at URL: "</span>+t.uri,<span class="code-attr">code</span>:Ll,<span class="code-attr">xhr</span>:t}:e?{<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"HLS request errored at URL: "</span>+t.uri,<span class="code-attr">code</span>:Al,<span class="code-attr">xhr</span>:t}:<span class="code-string">"arraybuffer"</span>===t.responseType&amp;&amp;<span class="code-number">0</span>===t.response.byteLength?{<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"Empty HLS response at URL: "</span>+t.uri,<span class="code-attr">code</span>:Al,<span class="code-attr">xhr</span>:t}:<span class="code-literal">null</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fu</span>(<span class="code-params">a,s,o</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.response,e=Bu(e,t);<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> o(e,a);<span class="code-keyword">if</span>(<span class="code-number">16</span>!==i.byteLength)<span class="code-keyword">return</span> o({<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"Invalid HLS key at URL: "</span>+t.uri,<span class="code-attr">code</span>:Al,<span class="code-attr">xhr</span>:t},a);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(i),n=<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>([i.getUint32(<span class="code-number">0</span>),i.getUint32(<span class="code-number">4</span>),i.getUint32(<span class="code-number">8</span>),i.getUint32(<span class="code-number">12</span>)]),r=<span class="code-number">0</span>;r&lt;s.length;r++)s[r].bytes=n;<span class="code-keyword">return</span> o(<span class="code-literal">null</span>,a)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ju</span>(<span class="code-params">i,n</span>)</span>{<span class="code-keyword">var</span> e=Oo(i.map.bytes);<span class="code-keyword">if</span>(<span class="code-string">"mp4"</span>!==e){<span class="code-keyword">var</span> t=i.map.resolvedUri||i.map.uri;<span class="code-keyword">return</span> n({<span class="code-attr">internal</span>:!<span class="code-number">0</span>,<span class="code-attr">message</span>:<span class="code-string">"Found unsupported "</span>+(e||<span class="code-string">"unknown"</span>)+<span class="code-string">" container for initialization segment at URL: "</span>+t,<span class="code-attr">code</span>:Al})}Nu({<span class="code-attr">action</span>:<span class="code-string">"probeMp4Tracks"</span>,<span class="code-attr">data</span>:i.map.bytes,<span class="code-attr">transmuxer</span>:i.transmuxer,<span class="code-attr">callback</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.tracks,e=e.data;<span class="code-keyword">return</span> i.map.bytes=e,t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.map.tracks=i.map.tracks||{},i.map.tracks[e.type]||<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span>(i.map.tracks[e.type]=e).id&amp;&amp;e.timescale&amp;&amp;(i.map.timescales=i.map.timescales||{},i.map.timescales[e.id]=e.timescale)}),n(<span class="code-literal">null</span>)}})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=e.segment,n=e.finishProcessingFn,r=e.responseType;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e=Bu(e,t);<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> n(e,i);e=<span class="code-string">"arraybuffer"</span>!==r&amp;&amp;t.responseText?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-keyword">new</span> <span class="code-built_in">ArrayBuffer</span>(e.length)),i=<span class="code-number">0</span>;i&lt;e.length;i++)t[i]=e.charCodeAt(i);<span class="code-keyword">return</span> t.buffer}(t.responseText.substring(i.lastReachedChar||<span class="code-number">0</span>)):t.response;<span class="code-keyword">return</span> i.stats={<span class="code-attr">bandwidth</span>:(t=t).bandwidth,<span class="code-attr">bytesReceived</span>:t.bytesReceived||<span class="code-number">0</span>,<span class="code-attr">roundTripTime</span>:t.roundTripTime||<span class="code-number">0</span>},i.key?i.encryptedBytes=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e):i.bytes=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e),n(<span class="code-literal">null</span>,i)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=e.segment,t=e.bytes,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,e=i.map&amp;&amp;i.map.tracks||{},f=<span class="code-built_in">Boolean</span>(e.audio&amp;&amp;e.video),m=r.bind(<span class="code-literal">null</span>,i,<span class="code-string">"audio"</span>,<span class="code-string">"start"</span>),g=r.bind(<span class="code-literal">null</span>,i,<span class="code-string">"audio"</span>,<span class="code-string">"end"</span>),y=r.bind(<span class="code-literal">null</span>,i,<span class="code-string">"video"</span>,<span class="code-string">"start"</span>),v=r.bind(<span class="code-literal">null</span>,i,<span class="code-string">"video"</span>,<span class="code-string">"end"</span>);Nu({<span class="code-attr">action</span>:<span class="code-string">"probeTs"</span>,<span class="code-attr">transmuxer</span>:i.transmuxer,<span class="code-attr">data</span>:t,<span class="code-attr">baseStartTime</span>:i.baseStartTime,<span class="code-attr">callback</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.bytes=t=e.data;e=e.result;e&amp;&amp;(n(i,{<span class="code-attr">hasAudio</span>:e.hasAudio,<span class="code-attr">hasVideo</span>:e.hasVideo,<span class="code-attr">isMuxed</span>:f}),n=<span class="code-literal">null</span>,e.hasAudio&amp;&amp;!f&amp;&amp;m(e.audioStart),e.hasVideo&amp;&amp;y(e.videoStart),y=m=<span class="code-literal">null</span>),Ru({<span class="code-attr">bytes</span>:t,<span class="code-attr">transmuxer</span>:i.transmuxer,<span class="code-attr">audioAppendStart</span>:i.audioAppendStart,<span class="code-attr">gopsToAlignWith</span>:i.gopsToAlignWith,<span class="code-attr">remux</span>:f,<span class="code-attr">onData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.type=<span class="code-string">"combined"</span>===e.type?<span class="code-string">"video"</span>:e.type,d(i,e)},<span class="code-attr">onTrackInfo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n&amp;&amp;(f&amp;&amp;(e.isMuxed=!<span class="code-number">0</span>),n(i,e))},<span class="code-attr">onAudioTimingInfo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{m&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e.start&amp;&amp;(m(e.start),m=<span class="code-literal">null</span>),g&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e.end&amp;&amp;g(e.end)},<span class="code-attr">onVideoTimingInfo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{y&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e.start&amp;&amp;(y(e.start),y=<span class="code-literal">null</span>),v&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e.end&amp;&amp;v(e.end)},<span class="code-attr">onVideoSegmentTimingInfo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a(e)},<span class="code-attr">onAudioSegmentTimingInfo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s(e)},<span class="code-attr">onId3</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{o(i,e,t)},<span class="code-attr">onCaptions</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{u(i,[e])},<span class="code-attr">isEndOfTimeline</span>:l,<span class="code-attr">onEndedTimeline</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{c()},<span class="code-attr">onTransmuxerLog</span>:p,<span class="code-attr">onDone</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{h&amp;&amp;(e.type=<span class="code-string">"combined"</span>===e.type?<span class="code-string">"video"</span>:e.type,h(<span class="code-literal">null</span>,i,e))}})}})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=e.segment,n=e.bytes,t=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,f=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n);<span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;io(f,[<span class="code-string">"moof"</span>]).length){i.isFmp4=!<span class="code-number">0</span>;<span class="code-keyword">var</span> m=i.map.tracks,g={<span class="code-attr">isFmp4</span>:!<span class="code-number">0</span>,<span class="code-attr">hasVideo</span>:!!m.video,<span class="code-attr">hasAudio</span>:!!m.audio};m.audio&amp;&amp;m.audio.codec&amp;&amp;<span class="code-string">"enca"</span>!==m.audio.codec&amp;&amp;(g.audioCodec=m.audio.codec),m.video&amp;&amp;m.video.codec&amp;&amp;<span class="code-string">"encv"</span>!==m.video.codec&amp;&amp;(g.videoCodec=m.video.codec),m.video&amp;&amp;m.audio&amp;&amp;(g.isMuxed=!<span class="code-number">0</span>),t(i,g);<span class="code-keyword">var</span> y=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{d(i,{<span class="code-attr">data</span>:f,<span class="code-attr">type</span>:g.hasAudio&amp;&amp;!g.isMuxed?<span class="code-string">"audio"</span>:<span class="code-string">"video"</span>}),e&amp;&amp;e.length&amp;&amp;u(i,e),h(<span class="code-literal">null</span>,i,{})};Nu({<span class="code-attr">action</span>:<span class="code-string">"probeMp4StartTime"</span>,<span class="code-attr">timescales</span>:i.map.timescales,<span class="code-attr">data</span>:f,<span class="code-attr">transmuxer</span>:i.transmuxer,<span class="code-attr">callback</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.data,e=e.startTime;n=t.buffer,i.bytes=f=t,g.hasAudio&amp;&amp;!g.isMuxed&amp;&amp;r(i,<span class="code-string">"audio"</span>,<span class="code-string">"start"</span>,e),g.hasVideo&amp;&amp;r(i,<span class="code-string">"video"</span>,<span class="code-string">"start"</span>,e),m.video&amp;&amp;t.byteLength&amp;&amp;i.transmuxer?Nu({<span class="code-attr">action</span>:<span class="code-string">"pushMp4Captions"</span>,<span class="code-attr">endAction</span>:<span class="code-string">"mp4Captions"</span>,<span class="code-attr">transmuxer</span>:i.transmuxer,<span class="code-attr">data</span>:f,<span class="code-attr">timescales</span>:i.map.timescales,<span class="code-attr">trackIds</span>:[m.video.id],<span class="code-attr">callback</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n=e.data.buffer,i.bytes=f=e.data,e.logs.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{p(tr.mergeOptions(e,{<span class="code-attr">stream</span>:<span class="code-string">"mp4CaptionParser"</span>}))}),y(e.captions)}}):y()}})}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(i.transmuxer){<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> i.container&amp;&amp;(i.container=Oo(f)),<span class="code-string">"ts"</span>!==i.container&amp;&amp;<span class="code-string">"aac"</span>!==i.container)<span class="code-keyword">return</span> t(i,{<span class="code-attr">hasAudio</span>:!<span class="code-number">1</span>,<span class="code-attr">hasVideo</span>:!<span class="code-number">1</span>}),h(<span class="code-literal">null</span>,i,{}),<span class="code-number">0</span>;qu({<span class="code-attr">segment</span>:i,<span class="code-attr">bytes</span>:n,<span class="code-attr">trackInfoFn</span>:t,<span class="code-attr">timingInfoFn</span>:r,<span class="code-attr">videoSegmentTimingInfoFn</span>:a,<span class="code-attr">audioSegmentTimingInfoFn</span>:s,<span class="code-attr">id3Fn</span>:o,<span class="code-attr">captionsFn</span>:u,<span class="code-attr">isEndOfTimeline</span>:l,<span class="code-attr">endedTimelineFn</span>:c,<span class="code-attr">dataFn</span>:d,<span class="code-attr">doneFn</span>:h,<span class="code-attr">onTransmuxerLog</span>:p})}<span class="code-keyword">else</span> h(<span class="code-literal">null</span>,i,{})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wu</span>(<span class="code-params">e,i</span>)</span>{<span class="code-keyword">var</span> n=e.id,t=e.key,r=e.encryptedBytes,a=e.decryptionWorker,e=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{t.data.source===n&amp;&amp;(a.removeEventListener(<span class="code-string">"message"</span>,e),t=t.data.decrypted,i(<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.bytes,t.byteOffset,t.byteLength)))};a.addEventListener(<span class="code-string">"message"</span>,e),e=t.bytes.slice?t.bytes.slice():<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(<span class="code-built_in">Array</span>.prototype.slice.call(t.bytes)),a.postMessage(Tu({<span class="code-attr">source</span>:n,<span class="code-attr">encrypted</span>:r,<span class="code-attr">key</span>:e,<span class="code-attr">iv</span>:t.iv}),[r.buffer,e.buffer])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=e.activeXhrs,m=e.decryptionWorker,g=e.trackInfoFn,y=e.timingInfoFn,v=e.videoSegmentTimingInfoFn,_=e.audioSegmentTimingInfoFn,b=e.id3Fn,T=e.captionsFn,S=e.isEndOfTimeline,w=e.endedTimelineFn,E=e.dataFn,k=e.doneFn,C=e.onTransmuxerLog,n=<span class="code-number">0</span>,r=!<span class="code-number">1</span>;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,f</span>)</span>{<span class="code-keyword">if</span>(!r){<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> r=!<span class="code-number">0</span>,Uu(i),k(e,f);<span class="code-keyword">if</span>((n+=<span class="code-number">1</span>)===i.length){<span class="code-keyword">var</span> t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(f.encryptedBytes)<span class="code-keyword">return</span> t=(e={<span class="code-attr">decryptionWorker</span>:m,<span class="code-attr">segment</span>:f,<span class="code-attr">trackInfoFn</span>:g,<span class="code-attr">timingInfoFn</span>:y,<span class="code-attr">videoSegmentTimingInfoFn</span>:v,<span class="code-attr">audioSegmentTimingInfoFn</span>:_,<span class="code-attr">id3Fn</span>:b,<span class="code-attr">captionsFn</span>:T,<span class="code-attr">isEndOfTimeline</span>:S,<span class="code-attr">endedTimelineFn</span>:w,<span class="code-attr">dataFn</span>:E,<span class="code-attr">doneFn</span>:k,<span class="code-attr">onTransmuxerLog</span>:C}).decryptionWorker,i=e.segment,n=e.trackInfoFn,r=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,o=e.id3Fn,u=e.captionsFn,l=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,h=e.doneFn,p=e.onTransmuxerLog,<span class="code-keyword">void</span> Wu({<span class="code-attr">id</span>:i.requestId,<span class="code-attr">key</span>:i.key,<span class="code-attr">encryptedBytes</span>:i.encryptedBytes,<span class="code-attr">decryptionWorker</span>:t},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.bytes=e,Vu({<span class="code-attr">segment</span>:i,<span class="code-attr">bytes</span>:i.bytes,<span class="code-attr">trackInfoFn</span>:n,<span class="code-attr">timingInfoFn</span>:r,<span class="code-attr">videoSegmentTimingInfoFn</span>:a,<span class="code-attr">audioSegmentTimingInfoFn</span>:s,<span class="code-attr">id3Fn</span>:o,<span class="code-attr">captionsFn</span>:u,<span class="code-attr">isEndOfTimeline</span>:l,<span class="code-attr">endedTimelineFn</span>:c,<span class="code-attr">dataFn</span>:d,<span class="code-attr">doneFn</span>:h,<span class="code-attr">onTransmuxerLog</span>:p})});<span class="code-keyword">var</span> e,t,i,n,r,a,s,o,u,l,c,d,h,p;Vu({<span class="code-attr">segment</span>:f,<span class="code-attr">bytes</span>:f.bytes,<span class="code-attr">trackInfoFn</span>:g,<span class="code-attr">timingInfoFn</span>:y,<span class="code-attr">videoSegmentTimingInfoFn</span>:v,<span class="code-attr">audioSegmentTimingInfoFn</span>:_,<span class="code-attr">id3Fn</span>:b,<span class="code-attr">captionsFn</span>:T,<span class="code-attr">isEndOfTimeline</span>:S,<span class="code-attr">endedTimelineFn</span>:w,<span class="code-attr">dataFn</span>:E,<span class="code-attr">doneFn</span>:k,<span class="code-attr">onTransmuxerLog</span>:C})};<span class="code-keyword">if</span>(f.endOfAllRequests=<span class="code-built_in">Date</span>.now(),f.map&amp;&amp;f.map.encryptedBytes&amp;&amp;!f.map.bytes)<span class="code-keyword">return</span> Wu({<span class="code-attr">decryptionWorker</span>:m,<span class="code-attr">id</span>:f.requestId+<span class="code-string">"-init"</span>,<span class="code-attr">encryptedBytes</span>:f.map.encryptedBytes,<span class="code-attr">key</span>:f.map.key},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{f.map.bytes=e,ju(f,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e?(Uu(i),k(e,f)):<span class="code-keyword">void</span> t()})});t()}}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=e.segment,r=e.progressFn;<span class="code-keyword">return</span> e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=e.target;<span class="code-keyword">if</span>(!i.aborted)<span class="code-keyword">return</span> n.stats=tr.mergeOptions(n.stats,(i=(t=e).target,(i={<span class="code-attr">bandwidth</span>:<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-attr">bytesReceived</span>:<span class="code-number">0</span>,<span class="code-attr">roundTripTime</span>:<span class="code-built_in">Date</span>.now()-i.requestTime||<span class="code-number">0</span>}).bytesReceived=t.loaded,i.bandwidth=<span class="code-built_in">Math</span>.floor(i.bytesReceived/i.roundTripTime*<span class="code-number">8</span>*<span class="code-number">1e3</span>),i)),!n.stats.firstBytesReceivedAt&amp;&amp;n.stats.bytesReceived&amp;&amp;(n.stats.firstBytesReceivedAt=<span class="code-built_in">Date</span>.now()),r(e,n)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r=e.xhr,a=e.xhrOptions,s=e.decryptionWorker,o=e.segment,u=e.abortFn,l=e.progressFn,c=e.trackInfoFn,d=e.timingInfoFn,h=e.videoSegmentTimingInfoFn,p=e.audioSegmentTimingInfoFn,f=e.id3Fn,m=e.captionsFn,g=e.isEndOfTimeline,y=e.endedTimelineFn,v=e.dataFn,_=e.doneFn,e=e.onTransmuxerLog,b=[],_=Gu({<span class="code-attr">activeXhrs</span>:b,<span class="code-attr">decryptionWorker</span>:s,<span class="code-attr">trackInfoFn</span>:c,<span class="code-attr">timingInfoFn</span>:d,<span class="code-attr">videoSegmentTimingInfoFn</span>:h,<span class="code-attr">audioSegmentTimingInfoFn</span>:p,<span class="code-attr">id3Fn</span>:f,<span class="code-attr">captionsFn</span>:m,<span class="code-attr">isEndOfTimeline</span>:g,<span class="code-attr">endedTimelineFn</span>:y,<span class="code-attr">dataFn</span>:v,<span class="code-attr">doneFn</span>:_,<span class="code-attr">onTransmuxerLog</span>:e});o.key&amp;&amp;!o.key.bytes&amp;&amp;(e=[o.key],o.map&amp;&amp;!o.map.bytes&amp;&amp;o.map.key&amp;&amp;o.map.key.resolvedUri===o.key.resolvedUri&amp;&amp;e.push(o.map.key),e=r(tr.mergeOptions(a,{<span class="code-attr">uri</span>:o.key.resolvedUri,<span class="code-attr">responseType</span>:<span class="code-string">"arraybuffer"</span>}),Fu(o,e,_)),b.push(e)),o.map&amp;&amp;!o.map.bytes&amp;&amp;(!o.map.key||o.key&amp;&amp;o.key.resolvedUri===o.map.key.resolvedUri||(t=r(tr.mergeOptions(a,{<span class="code-attr">uri</span>:o.map.key.resolvedUri,<span class="code-attr">responseType</span>:<span class="code-string">"arraybuffer"</span>}),Fu(o,[o.map.key],_)),b.push(t)),t=r(tr.mergeOptions(a,{<span class="code-attr">uri</span>:o.map.resolvedUri,<span class="code-attr">responseType</span>:<span class="code-string">"arraybuffer"</span>,<span class="code-attr">headers</span>:vu(o.map)}),(i=(t={<span class="code-attr">segment</span>:o,<span class="code-attr">finishProcessingFn</span>:_}).segment,n=t.finishProcessingFn,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e=Bu(e,t);<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> n(e,i);e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.response);<span class="code-keyword">if</span>(i.map.key)<span class="code-keyword">return</span> i.map.encryptedBytes=e,n(<span class="code-literal">null</span>,i);i.map.bytes=e,ju(i,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e?(e.xhr=t,e.status=t.status,n(e,i)):<span class="code-keyword">void</span> n(<span class="code-literal">null</span>,i)})})),b.push(t)),a=tr.mergeOptions(a,{<span class="code-attr">uri</span>:o.part&amp;&amp;o.part.resolvedUri||o.resolvedUri,<span class="code-attr">responseType</span>:<span class="code-string">"arraybuffer"</span>,<span class="code-attr">headers</span>:vu(o)}),(a=r(a,Hu({<span class="code-attr">segment</span>:o,<span class="code-attr">finishProcessingFn</span>:_,<span class="code-attr">responseType</span>:a.responseType}))).addEventListener(<span class="code-string">"progress"</span>,zu({<span class="code-attr">segment</span>:o,<span class="code-attr">progressFn</span>:l,<span class="code-attr">trackInfoFn</span>:c,<span class="code-attr">timingInfoFn</span>:d,<span class="code-attr">videoSegmentTimingInfoFn</span>:h,<span class="code-attr">audioSegmentTimingInfoFn</span>:p,<span class="code-attr">id3Fn</span>:f,<span class="code-attr">captionsFn</span>:m,<span class="code-attr">isEndOfTimeline</span>:g,<span class="code-attr">endedTimelineFn</span>:y,<span class="code-attr">dataFn</span>:v})),b.push(a);<span class="code-keyword">var</span> T={};<span class="code-keyword">return</span> b.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i;e.addEventListener(<span class="code-string">"loadend"</span>,(t=(e={<span class="code-attr">loadendState</span>:T,<span class="code-attr">abortFn</span>:u}).loadendState,i=e.abortFn,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.target.aborted&amp;&amp;i&amp;&amp;!t.calledAbortFn&amp;&amp;(i(),t.calledAbortFn=!<span class="code-number">0</span>)}))}),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Uu(b)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ku</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> t=t.attributes||{},e&amp;&amp;e.mediaGroups&amp;&amp;e.mediaGroups.AUDIO&amp;&amp;t.AUDIO&amp;&amp;e.mediaGroups.AUDIO[t.AUDIO]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n={};<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.mediaType,i=e.type,e=e.details;n[t]=n[t]||[],n[t].push(hr(<span class="code-string">""</span>+i+e))}),<span class="code-built_in">Object</span>.keys(n).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">1</span>&lt;n[e].length?(Dl(<span class="code-string">"multiple "</span>+e+<span class="code-string">" codecs found as attributes: "</span>+n[e].join(<span class="code-string">", "</span>)+<span class="code-string">". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."</span>),<span class="code-keyword">void</span>(n[e]=<span class="code-literal">null</span>)):<span class="code-keyword">void</span>(n[e]=n[e][<span class="code-number">0</span>])}),n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Qu</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>;<span class="code-keyword">return</span> e.audio&amp;&amp;t++,e.video&amp;&amp;t++,t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">$u</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=t.attributes||{},r=Yu(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.attributes||{};<span class="code-keyword">if</span>(e.CODECS)<span class="code-keyword">return</span> pr(e.CODECS)}(t)||[]);<span class="code-keyword">return</span> Ku(e,t)&amp;&amp;!r.audio&amp;&amp;!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!Ku(e,t))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> i,t=t.attributes||{},n=e.mediaGroups.AUDIO[t.AUDIO];<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> n)<span class="code-keyword">if</span>(!n[i].uri&amp;&amp;!n[i].playlists)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>}(e,t)&amp;&amp;(i=Yu(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!e.mediaGroups.AUDIO||!t)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i,n=e.mediaGroups.AUDIO[t];<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> n){<span class="code-keyword">var</span> r=n[i];<span class="code-keyword">if</span>(r.default&amp;&amp;r.playlists)<span class="code-keyword">return</span> pr(r.playlists[<span class="code-number">0</span>].attributes.CODECS)}<span class="code-keyword">return</span> <span class="code-literal">null</span>}(e,n.AUDIO)||[])).audio&amp;&amp;(r.audio=i.audio),r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ju</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e&amp;&amp;e.playlist){<span class="code-keyword">var</span> t=e.playlist;<span class="code-keyword">return</span> <span class="code-built_in">JSON</span>.stringify({<span class="code-attr">id</span>:t.id,<span class="code-attr">bandwidth</span>:e.bandwidth,<span class="code-attr">width</span>:e.width,<span class="code-attr">height</span>:e.height,<span class="code-attr">codecs</span>:t.attributes&amp;&amp;t.attributes.CODECS||<span class="code-string">""</span>})}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Zu</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(e=e&amp;&amp;<span class="code-built_in">window</span>.getComputedStyle(e))?e[t]:<span class="code-string">""</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">el</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">var</span> r=e.slice();e.sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n(e,t);<span class="code-keyword">return</span> <span class="code-number">0</span>===i?r.indexOf(e)-r.indexOf(t):i})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">tl</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n;<span class="code-keyword">return</span>(i=(i=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:i)||<span class="code-built_in">window</span>.Number.MAX_VALUE)-(n=(n=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:n)||<span class="code-built_in">window</span>.Number.MAX_VALUE)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">il</span>(<span class="code-params">e,t,i,n,r,a</span>)</span>{<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> s={<span class="code-attr">bandwidth</span>:t,<span class="code-attr">width</span>:i,<span class="code-attr">height</span>:n,<span class="code-attr">limitRenditionByPlayerDimensions</span>:r},o=e.playlists;gl.isAudioOnly(e)&amp;&amp;(o=a.getAudioTrackPlaylists_(),s.audioOnly=!<span class="code-number">0</span>);<span class="code-keyword">var</span> u=o.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.attributes&amp;&amp;e.attributes.RESOLUTION&amp;&amp;e.attributes.RESOLUTION.width,i=e.attributes&amp;&amp;e.attributes.RESOLUTION&amp;&amp;e.attributes.RESOLUTION.height,n=e.attributes&amp;&amp;e.attributes.BANDWIDTH;<span class="code-keyword">return</span>{<span class="code-attr">bandwidth</span>:n||<span class="code-built_in">window</span>.Number.MAX_VALUE,<span class="code-attr">width</span>:t,<span class="code-attr">height</span>:i,<span class="code-attr">playlist</span>:e}});el(u,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.bandwidth-t.bandwidth});<span class="code-keyword">var</span> l=(u=u.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!gl.isIncompatible(e.playlist)})).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> gl.isEnabled(e.playlist)}),e=(l=!l.length?u.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!gl.isDisabled(e.playlist)}):l).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.bandwidth*El.BANDWIDTH_VARIANCE&lt;t}),c=e[e.length<span class="code-number">-1</span>],o=e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.bandwidth===c.bandwidth})[<span class="code-number">0</span>];<span class="code-keyword">if</span>(!<span class="code-number">1</span>===r){<span class="code-keyword">var</span> d=o||l[<span class="code-number">0</span>]||u[<span class="code-number">0</span>];<span class="code-keyword">if</span>(d&amp;&amp;d.playlist){r=o?<span class="code-string">"bandwidthBestRep"</span>:<span class="code-string">"sortedPlaylistReps"</span>;<span class="code-keyword">return</span> l[<span class="code-number">0</span>]&amp;&amp;(r=<span class="code-string">"enabledPlaylistReps"</span>),Ol(<span class="code-string">"choosing "</span>+Ju(d)+<span class="code-string">" using "</span>+r+<span class="code-string">" with options"</span>,s),d.playlist}<span class="code-keyword">return</span> Ol(<span class="code-string">"could not choose a playlist with options"</span>,s),<span class="code-literal">null</span>}d=e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.width&amp;&amp;e.height});el(d,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.width-t.width});<span class="code-keyword">var</span> h,p,f,e=d.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.width===i&amp;&amp;e.height===n}),c=e[e.length<span class="code-number">-1</span>],e=e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.bandwidth===c.bandwidth})[<span class="code-number">0</span>];e||(p=(h=d.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.width&gt;i||e.height&gt;n})).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.width===h[<span class="code-number">0</span>].width&amp;&amp;e.height===h[<span class="code-number">0</span>].height}),c=p[p.length<span class="code-number">-1</span>],p=p.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.bandwidth===c.bandwidth})[<span class="code-number">0</span>]),a.experimentalLeastPixelDiffSelector&amp;&amp;(m=d.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.pixelDiff=<span class="code-built_in">Math</span>.abs(e.width-i)+<span class="code-built_in">Math</span>.abs(e.height-n),e}),el(m,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff}),f=m[<span class="code-number">0</span>]);<span class="code-keyword">var</span> m=f||p||e||o||l[<span class="code-number">0</span>]||u[<span class="code-number">0</span>];<span class="code-keyword">if</span>(m&amp;&amp;m.playlist){u=<span class="code-string">"sortedPlaylistReps"</span>;<span class="code-keyword">return</span> f?u=<span class="code-string">"leastPixelDiffRep"</span>:p?u=<span class="code-string">"resolutionPlusOneRep"</span>:e?u=<span class="code-string">"resolutionBestRep"</span>:o?u=<span class="code-string">"bandwidthBestRep"</span>:l[<span class="code-number">0</span>]&amp;&amp;(u=<span class="code-string">"enabledPlaylistReps"</span>),Ol(<span class="code-string">"choosing "</span>+Ju(m)+<span class="code-string">" using "</span>+u+<span class="code-string">" with options"</span>,s),m.playlist}<span class="code-keyword">return</span> Ol(<span class="code-string">"could not choose a playlist with options"</span>,s),<span class="code-literal">null</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">nl</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,n=e.videoDuration;<span class="code-keyword">if</span>(i){<span class="code-keyword">var</span> a=<span class="code-built_in">window</span>.WebKitDataCue||<span class="code-built_in">window</span>.VTTCue,s=t.metadataTrack_;<span class="code-keyword">if</span>(s&amp;&amp;(i.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=e.cueTime+r;!(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> n||<span class="code-built_in">window</span>.isNaN(n)||n&lt;<span class="code-number">0</span>)&amp;&amp;n&lt;<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;e.frames.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-keyword">new</span> a(n,n,e.value||e.url||e.data||<span class="code-string">""</span>);i.frame=e,i.value=e,t=i,<span class="code-built_in">Object</span>.defineProperties(t.frame,{<span class="code-attr">id</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"cue.frame.id is deprecated. Use cue.value.key instead."</span>),t.value.key}},<span class="code-attr">value</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"cue.frame.value is deprecated. Use cue.value.data instead."</span>),t.value.data}},<span class="code-attr">privateData</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"cue.frame.privateData is deprecated. Use cue.value.data instead."</span>),t.value.data}}}),s.addCue(i)})}),s.cues&amp;&amp;s.cues.length)){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=s.cues,u=[],l=<span class="code-number">0</span>;l&lt;o.length;l++)o[l]&amp;&amp;u.push(o[l]);<span class="code-keyword">var</span> c=u.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e[t.startTime]||[];<span class="code-keyword">return</span> i.push(t),e[t.startTime]=i,e},{}),d=<span class="code-built_in">Object</span>.keys(c).sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Number</span>(e)-<span class="code-built_in">Number</span>(t)});d.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> e=c[e],i=<span class="code-built_in">Number</span>(d[t+<span class="code-number">1</span>])||n;e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.endTime=i})})}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">rl</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r;<span class="code-keyword">if</span>(i&amp;&amp;i.cues)<span class="code-keyword">for</span>(n=i.cues.length;n--;)(r=i.cues[n]).startTime&gt;=e&amp;&amp;r.endTime&lt;=t&amp;&amp;i.removeCue(r)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">al</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-built_in">isFinite</span>(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">sl</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.startOfSegment,i=e.duration,n=e.segment,r=e.part,a=e.playlist,s=a.mediaSequence,o=a.id,u=a.segments,l=e.mediaIndex,c=e.partIndex,d=e.timeline,h=(<span class="code-keyword">void</span> <span class="code-number">0</span>===u?[]:u).length<span class="code-number">-1</span>,p=<span class="code-string">"mediaIndex/partIndex increment"</span>;<span class="code-keyword">return</span> e.getMediaInfoForTime?p=<span class="code-string">"getMediaInfoForTime ("</span>+e.getMediaInfoForTime+<span class="code-string">")"</span>:e.isSyncRequest&amp;&amp;(p=<span class="code-string">"getSyncSegmentCandidate (isSyncRequest)"</span>),e.independent&amp;&amp;(p+=<span class="code-string">" with independent "</span>+e.independent),a=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> c,u=e.segment.uri?<span class="code-string">"segment"</span>:<span class="code-string">"pre-segment"</span>,e=a?zo({<span class="code-attr">preloadSegment</span>:n})<span class="code-number">-1</span>:<span class="code-number">0</span>,u+<span class="code-string">" ["</span>+(s+l)+<span class="code-string">"/"</span>+(s+h)+<span class="code-string">"]"</span>+(a?<span class="code-string">" part ["</span>+c+<span class="code-string">"/"</span>+e+<span class="code-string">"]"</span>:<span class="code-string">""</span>)+<span class="code-string">" segment start/end ["</span>+n.start+<span class="code-string">" =&gt; "</span>+n.end+<span class="code-string">"]"</span>+(a?<span class="code-string">" part start/end ["</span>+r.start+<span class="code-string">" =&gt; "</span>+r.end+<span class="code-string">"]"</span>:<span class="code-string">""</span>)+<span class="code-string">" startOfSegment ["</span>+t+<span class="code-string">"] duration ["</span>+i+<span class="code-string">"] timeline ["</span>+d+<span class="code-string">"] selected by ["</span>+p+<span class="code-string">"] playlist ["</span>+o+<span class="code-string">"]"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ol</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e+<span class="code-string">"TimingInfo"</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ul</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.timelineChangeController,i=e.currentTimeline,n=e.segmentTimeline,r=e.loaderType,e=e.audioDisabled;<span class="code-keyword">if</span>(i!==n){<span class="code-keyword">if</span>(<span class="code-string">"audio"</span>===r){i=t.lastTimelineChange({<span class="code-attr">type</span>:<span class="code-string">"main"</span>});<span class="code-keyword">return</span>!i||i.to!==n}<span class="code-keyword">if</span>(<span class="code-string">"main"</span>===r&amp;&amp;e){t=t.pendingTimelineChange({<span class="code-attr">type</span>:<span class="code-string">"audio"</span>});<span class="code-keyword">return</span> t&amp;&amp;t.to===n?!<span class="code-number">1</span>:!<span class="code-number">0</span>}}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ll</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.segmentDuration,e=e.maxDuration;<span class="code-keyword">return</span>!!t&amp;&amp;<span class="code-built_in">Math</span>.round(t)&gt;e+fl}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">cl</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"hls"</span>!==t)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> n,r,i=(n={<span class="code-attr">audioTimingInfo</span>:e.audioTimingInfo,<span class="code-attr">videoTimingInfo</span>:e.videoTimingInfo},r=<span class="code-number">0</span>,[<span class="code-string">"video"</span>,<span class="code-string">"audio"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=n[e+<span class="code-string">"TimingInfo"</span>];i&amp;&amp;(e=i.start,i=i.end,<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> e||<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> i?t=<span class="code-built_in">window</span>.BigInt(i)-<span class="code-built_in">window</span>.BigInt(e):<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i&amp;&amp;(t=i-e),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> t&amp;&amp;r&lt;t&amp;&amp;(r=t))}),r=<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> r&amp;&amp;r&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER?<span class="code-built_in">Number</span>(r):r);<span class="code-keyword">if</span>(!i)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> a=e.playlist.targetDuration,s=ll({<span class="code-attr">segmentDuration</span>:i,<span class="code-attr">maxDuration</span>:<span class="code-number">2</span>*a}),t=ll({<span class="code-attr">segmentDuration</span>:i,<span class="code-attr">maxDuration</span>:a}),a=<span class="code-string">"Segment with index "</span>+e.mediaIndex+<span class="code-string">" from playlist "</span>+e.playlist.id+<span class="code-string">" has a duration of "</span>+i+<span class="code-string">" when the reported duration is "</span>+e.duration+<span class="code-string">" and the target duration is "</span>+a+<span class="code-string">". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1"</span>;<span class="code-keyword">return</span> s||t?{<span class="code-attr">severity</span>:s?<span class="code-string">"warn"</span>:<span class="code-string">"info"</span>,<span class="code-attr">message</span>:a}:<span class="code-literal">null</span>}<span class="code-keyword">var</span> dl=Lo,hl=<span class="code-number">9e4</span>,pl=ir,fl=<span class="code-number">1</span>/<span class="code-number">30</span>,ml=tr.createTimeRange,gl={<span class="code-attr">liveEdgeDelay</span>:Xo,<span class="code-attr">duration</span>:Yo,<span class="code-attr">seekable</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=t||<span class="code-number">0</span>,i=$o(e,t,!<span class="code-number">0</span>,i);<span class="code-keyword">return</span> <span class="code-literal">null</span>===i?ml():ml(n,i)},<span class="code-attr">getMediaInfoForTime</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.playlist,i=e.currentTime,n=e.startingSegmentIndex,r=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,o=i-a,u=Wo(t),l=<span class="code-number">0</span>,c=<span class="code-number">0</span>;c&lt;u.length;c++){<span class="code-keyword">var</span> d=u[c];<span class="code-keyword">if</span>(n===d.segmentIndex&amp;&amp;(<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> r||<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> d.partIndex||r===d.partIndex)){l=c;<span class="code-keyword">break</span>}}<span class="code-keyword">if</span>(o&lt;<span class="code-number">0</span>){<span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;l)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> h=l<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=h;h--){<span class="code-keyword">var</span> p=u[h];<span class="code-keyword">if</span>(o+=p.duration,s){<span class="code-keyword">if</span>(o&lt;<span class="code-number">0</span>)<span class="code-keyword">continue</span>}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(o+fl&lt;=<span class="code-number">0</span>)<span class="code-keyword">continue</span>;<span class="code-keyword">return</span>{<span class="code-attr">partIndex</span>:p.partIndex,<span class="code-attr">segmentIndex</span>:p.segmentIndex,<span class="code-attr">startTime</span>:a-Qo({<span class="code-attr">defaultDuration</span>:t.targetDuration,<span class="code-attr">durationList</span>:u,<span class="code-attr">startIndex</span>:l,<span class="code-attr">endIndex</span>:h})}}<span class="code-keyword">return</span>{<span class="code-attr">partIndex</span>:u[<span class="code-number">0</span>]&amp;&amp;u[<span class="code-number">0</span>].partIndex||<span class="code-literal">null</span>,<span class="code-attr">segmentIndex</span>:u[<span class="code-number">0</span>]&amp;&amp;u[<span class="code-number">0</span>].segmentIndex||<span class="code-number">0</span>,<span class="code-attr">startTime</span>:i}}<span class="code-keyword">if</span>(l&lt;<span class="code-number">0</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> f=l;f&lt;<span class="code-number">0</span>;f++)<span class="code-keyword">if</span>((o-=t.targetDuration)&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span>{<span class="code-attr">partIndex</span>:u[<span class="code-number">0</span>]&amp;&amp;u[<span class="code-number">0</span>].partIndex||<span class="code-literal">null</span>,<span class="code-attr">segmentIndex</span>:u[<span class="code-number">0</span>]&amp;&amp;u[<span class="code-number">0</span>].segmentIndex||<span class="code-number">0</span>,<span class="code-attr">startTime</span>:i};l=<span class="code-number">0</span>}<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m=l;m&lt;u.length;m++){<span class="code-keyword">var</span> g=u[m];<span class="code-keyword">if</span>(o-=g.duration,s){<span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;o)<span class="code-keyword">continue</span>}<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;=o-fl)<span class="code-keyword">continue</span>;<span class="code-keyword">return</span>{<span class="code-attr">partIndex</span>:g.partIndex,<span class="code-attr">segmentIndex</span>:g.segmentIndex,<span class="code-attr">startTime</span>:a+Qo({<span class="code-attr">defaultDuration</span>:t.targetDuration,<span class="code-attr">durationList</span>:u,<span class="code-attr">startIndex</span>:l,<span class="code-attr">endIndex</span>:m})}}<span class="code-keyword">return</span>{<span class="code-attr">segmentIndex</span>:u[u.length<span class="code-number">-1</span>].segmentIndex,<span class="code-attr">partIndex</span>:u[u.length<span class="code-number">-1</span>].partIndex,<span class="code-attr">startTime</span>:i}},<span class="code-attr">isEnabled</span>:eu,<span class="code-attr">isDisabled</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.disabled},<span class="code-attr">isBlacklisted</span>:Jo,<span class="code-attr">isIncompatible</span>:Zo,<span class="code-attr">playlistEnd</span>:$o,<span class="code-attr">isAes</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;e.segments.length;t++)<span class="code-keyword">if</span>(e.segments[t].key)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>},<span class="code-attr">hasAttribute</span>:tu,<span class="code-attr">estimateSegmentRequestTime</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">return</span> tu(<span class="code-string">"BANDWIDTH"</span>,i)?(e*i.attributes.BANDWIDTH<span class="code-number">-8</span>*(n=<span class="code-keyword">void</span> <span class="code-number">0</span>===n?<span class="code-number">0</span>:n))/t:<span class="code-literal">NaN</span>},<span class="code-attr">isLowestEnabledRendition</span>:iu,<span class="code-attr">isAudioOnly</span>:au,<span class="code-attr">playlistMatch</span>:nu,<span class="code-attr">segmentDurationWithParts</span>:Vo},yl=tr.log,vl=tr.mergeOptions,W=tr.EventTarget,_l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={}),n=a.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>,!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"A non-empty playlist URL or object is required"</span>);n.logger_=Ro(<span class="code-string">"PlaylistLoader"</span>);<span class="code-keyword">var</span> r=i.withCredentials,r=<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;r,i=i.handleManifestRedirects,i=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;i;n.src=e,n.vhs_=t,n.withCredentials=r,n.handleManifestRedirects=i;t=t.options_;<span class="code-keyword">return</span> n.customTagParsers=t&amp;&amp;t.customTagParsers||[],n.customTagMappers=t&amp;&amp;t.customTagMappers||[],n.experimentalLLHLS=t&amp;&amp;t.experimentalLLHLS||!<span class="code-number">1</span>,tr.browser.IE_VERSION&amp;&amp;(n.experimentalLLHLS=!<span class="code-number">1</span>),n.state=<span class="code-string">"HAVE_NOTHING"</span>,n.handleMediaupdatetimeout_=n.handleMediaupdatetimeout_.bind(ft(n)),n.on(<span class="code-string">"mediaupdatetimeout"</span>,n.handleMediaupdatetimeout_),n}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.handleMediaupdatetimeout_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,i=<span class="code-keyword">this</span>;<span class="code-string">"HAVE_METADATA"</span>===<span class="code-keyword">this</span>.state&amp;&amp;(e=<span class="code-keyword">this</span>.media(),t=pl(<span class="code-keyword">this</span>.master.uri,e.uri),<span class="code-keyword">this</span>.experimentalLLHLS&amp;&amp;(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(t.endList||!t.serverControl)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> i,n,r,a,s={};<span class="code-keyword">return</span> t.serverControl.canBlockReload&amp;&amp;(r=t.preloadSegment,i=t.mediaSequence+t.segments.length,r&amp;&amp;(n=r.parts||[],<span class="code-number">-1</span>&lt;(r=zo(t)<span class="code-number">-1</span>)&amp;&amp;r!=n.length<span class="code-number">-1</span>&amp;&amp;(s._HLS_part=r),(<span class="code-number">-1</span>&lt;r||n.length)&amp;&amp;i--),s._HLS_msn=i),t.serverControl&amp;&amp;t.serverControl.canSkipUntil&amp;&amp;(s._HLS_skip=t.serverControl.canSkipDateranges?<span class="code-string">"v2"</span>:<span class="code-string">"YES"</span>),<span class="code-built_in">Object</span>.keys(s).length&amp;&amp;(a=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.URL(e),[<span class="code-string">"_HLS_skip"</span>,<span class="code-string">"_HLS_msn"</span>,<span class="code-string">"_HLS_part"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s.hasOwnProperty(e)&amp;&amp;a.searchParams.set(e,s[e])}),e=a.toString()),e}(t,e)),<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_CURRENT_METADATA"</span>,<span class="code-keyword">this</span>.request=<span class="code-keyword">this</span>.vhs_.xhr({<span class="code-attr">uri</span>:t,<span class="code-attr">withCredentials</span>:<span class="code-keyword">this</span>.withCredentials},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(i.request)<span class="code-keyword">return</span> e?i.playlistRequestError(i.request,i.media(),<span class="code-string">"HAVE_METADATA"</span>):<span class="code-keyword">void</span> i.haveMetadata({<span class="code-attr">playlistString</span>:i.request.responseText,<span class="code-attr">url</span>:i.media().uri,<span class="code-attr">id</span>:i.media().id})}))},t.playlistRequestError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=t.uri,t=t.id;<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>,i&amp;&amp;(<span class="code-keyword">this</span>.state=i),<span class="code-keyword">this</span>.error={<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.master.playlists[t],<span class="code-attr">status</span>:e.status,<span class="code-attr">message</span>:<span class="code-string">"HLS playlist request error at URL: "</span>+n+<span class="code-string">"."</span>,<span class="code-attr">responseText</span>:e.responseText,<span class="code-attr">code</span>:<span class="code-number">500</span>&lt;=e.status?<span class="code-number">4</span>:<span class="code-number">2</span>},<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>)},t.parseManifest_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,i=e.url;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.onwarn,i=e.oninfo,n=e.manifestString,r=e.customTagParsers,a=<span class="code-keyword">void</span> <span class="code-number">0</span>===r?[]:r,r=e.customTagMappers,r=<span class="code-keyword">void</span> <span class="code-number">0</span>===r?[]:r,e=e.experimentalLLHLS,s=<span class="code-keyword">new</span> Ir;t&amp;&amp;s.on(<span class="code-string">"warn"</span>,t),i&amp;&amp;s.on(<span class="code-string">"info"</span>,i),a.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> s.addParser(e)}),r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> s.addTagMapper(e)}),s.push(n),s.end();<span class="code-keyword">var</span> o=s.manifest;e||([<span class="code-string">"preloadSegment"</span>,<span class="code-string">"skip"</span>,<span class="code-string">"serverControl"</span>,<span class="code-string">"renditionReports"</span>,<span class="code-string">"partInf"</span>,<span class="code-string">"partTargetDuration"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{o.hasOwnProperty(e)&amp;&amp;<span class="code-keyword">delete</span> o[e]}),o.segments&amp;&amp;o.segments.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{[<span class="code-string">"parts"</span>,<span class="code-string">"preloadHints"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.hasOwnProperty(e)&amp;&amp;<span class="code-keyword">delete</span> t[e]})})),o.targetDuration||(u=<span class="code-number">10</span>,o.segments&amp;&amp;o.segments.length&amp;&amp;(u=o.segments.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(e,t.duration)},<span class="code-number">0</span>)),t&amp;&amp;t(<span class="code-string">"manifest has no targetDuration defaulting to "</span>+u),o.targetDuration=u);<span class="code-keyword">var</span> u=Go(o);<span class="code-keyword">return</span> u.length&amp;&amp;!o.partTargetDuration&amp;&amp;(u=u.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(e,t.duration)},<span class="code-number">0</span>),t&amp;&amp;(t(<span class="code-string">"manifest has no partTargetDuration defaulting to "</span>+u),yl.error(<span class="code-string">"LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed."</span>)),o.partTargetDuration=u),o}({<span class="code-attr">onwarn</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.message;<span class="code-keyword">return</span> t.logger_(<span class="code-string">"m3u8-parser warn for "</span>+i+<span class="code-string">": "</span>+e)},<span class="code-attr">oninfo</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.message;<span class="code-keyword">return</span> t.logger_(<span class="code-string">"m3u8-parser info for "</span>+i+<span class="code-string">": "</span>+e)},<span class="code-attr">manifestString</span>:e.manifestString,<span class="code-attr">customTagParsers</span>:<span class="code-keyword">this</span>.customTagParsers,<span class="code-attr">customTagMappers</span>:<span class="code-keyword">this</span>.customTagMappers,<span class="code-attr">experimentalLLHLS</span>:<span class="code-keyword">this</span>.experimentalLLHLS})},t.haveMetadata=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.playlistString,i=e.playlistObject,n=e.url,e=e.id;<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_METADATA"</span>;t=i||<span class="code-keyword">this</span>.parseManifest_({<span class="code-attr">url</span>:n,<span class="code-attr">manifestString</span>:t});t.lastRequest=<span class="code-built_in">Date</span>.now(),uu({<span class="code-attr">playlist</span>:t,<span class="code-attr">uri</span>:n,<span class="code-attr">id</span>:e});n=fu(<span class="code-keyword">this</span>.master,t);<span class="code-keyword">this</span>.targetDuration=t.partTargetDuration||t.targetDuration,<span class="code-keyword">this</span>.pendingMedia_=<span class="code-literal">null</span>,n?(<span class="code-keyword">this</span>.master=n,<span class="code-keyword">this</span>.media_=<span class="code-keyword">this</span>.master.playlists[e]):<span class="code-keyword">this</span>.trigger(<span class="code-string">"playlistunchanged"</span>),<span class="code-keyword">this</span>.updateMediaUpdateTimeout_(mu(<span class="code-keyword">this</span>.media(),!!n)),<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedplaylist"</span>)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.stopRequest(),<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.finalRenditionTimeout),<span class="code-keyword">this</span>.off()},t.stopRequest=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.request&amp;&amp;(e=<span class="code-keyword">this</span>.request,<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>,e.onreadystatechange=<span class="code-literal">null</span>,e.abort())},t.media=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!i)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.media_;<span class="code-keyword">if</span>(<span class="code-string">"HAVE_NOTHING"</span>===<span class="code-keyword">this</span>.state)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot switch media playlist from "</span>+<span class="code-keyword">this</span>.state);<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> i){<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.master.playlists[i])<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unknown playlist URI: "</span>+i);i=<span class="code-keyword">this</span>.master.playlists[i]}<span class="code-keyword">if</span>(<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.finalRenditionTimeout),e){<span class="code-keyword">var</span> t=(i.partTargetDuration||i.targetDuration)/<span class="code-number">2</span>*<span class="code-number">1e3</span>||<span class="code-number">5e3</span>;<span class="code-keyword">this</span>.finalRenditionTimeout=<span class="code-built_in">window</span>.setTimeout(<span class="code-keyword">this</span>.media.bind(<span class="code-keyword">this</span>,i,!<span class="code-number">1</span>),t)}<span class="code-keyword">else</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.state,e=!<span class="code-keyword">this</span>.media_||i.id!==<span class="code-keyword">this</span>.media_.id,t=<span class="code-keyword">this</span>.master.playlists[i.id];<span class="code-keyword">if</span>(t&amp;&amp;t.endList||i.endList&amp;&amp;i.segments.length)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.request&amp;&amp;(<span class="code-keyword">this</span>.request.onreadystatechange=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.request.abort(),<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_METADATA"</span>,<span class="code-keyword">this</span>.media_=i,<span class="code-keyword">void</span>(e&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachanging"</span>),<span class="code-string">"HAVE_MASTER"</span>===r?<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedmetadata"</span>):<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachange"</span>)));<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.updateMediaUpdateTimeout_(mu(i,!<span class="code-number">0</span>)),e){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.state=<span class="code-string">"SWITCHING_MEDIA"</span>,<span class="code-keyword">this</span>.request){<span class="code-keyword">if</span>(i.resolvedUri===<span class="code-keyword">this</span>.request.url)<span class="code-keyword">return</span>;<span class="code-keyword">this</span>.request.onreadystatechange=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.request.abort(),<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>}<span class="code-keyword">this</span>.media_&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachanging"</span>),<span class="code-keyword">this</span>.pendingMedia_=i,<span class="code-keyword">this</span>.request=<span class="code-keyword">this</span>.vhs_.xhr({<span class="code-attr">uri</span>:i.resolvedUri,<span class="code-attr">withCredentials</span>:<span class="code-keyword">this</span>.withCredentials},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(n.request){<span class="code-keyword">if</span>(i.lastRequest=<span class="code-built_in">Date</span>.now(),i.resolvedUri=Mo(n.handleManifestRedirects,i.resolvedUri,t),e)<span class="code-keyword">return</span> n.playlistRequestError(n.request,i,r);n.haveMetadata({<span class="code-attr">playlistString</span>:t.responseText,<span class="code-attr">url</span>:i.uri,<span class="code-attr">id</span>:i.id}),<span class="code-string">"HAVE_MASTER"</span>===r?n.trigger(<span class="code-string">"loadedmetadata"</span>):n.trigger(<span class="code-string">"mediachange"</span>)}})}}},t.pause=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mediaUpdateTimeout&amp;&amp;(<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.stopRequest(),<span class="code-string">"HAVE_NOTHING"</span>===<span class="code-keyword">this</span>.state&amp;&amp;(<span class="code-keyword">this</span>.started=!<span class="code-number">1</span>),<span class="code-string">"SWITCHING_MEDIA"</span>===<span class="code-keyword">this</span>.state?<span class="code-keyword">this</span>.media_?<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_METADATA"</span>:<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_MASTER"</span>:<span class="code-string">"HAVE_CURRENT_METADATA"</span>===<span class="code-keyword">this</span>.state&amp;&amp;(<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_METADATA"</span>)},t.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.mediaUpdateTimeout&amp;&amp;(<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-literal">null</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.media();e?(e=i?(i.partTargetDuration||i.targetDuration)/<span class="code-number">2</span>*<span class="code-number">1e3</span>:<span class="code-number">5e3</span>,<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.mediaUpdateTimeout=<span class="code-literal">null</span>,t.load()},e)):<span class="code-keyword">this</span>.started?i&amp;&amp;!i.endList?<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediaupdatetimeout"</span>):<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedplaylist"</span>):<span class="code-keyword">this</span>.start()},t.updateMediaUpdateTimeout_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.mediaUpdateTimeout&amp;&amp;(<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.media()&amp;&amp;!<span class="code-keyword">this</span>.media().endList&amp;&amp;(<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.mediaUpdateTimeout=<span class="code-literal">null</span>,t.trigger(<span class="code-string">"mediaupdatetimeout"</span>),t.updateMediaUpdateTimeout_(e)},e))},t.start=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.started=!<span class="code-number">0</span>,<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.src)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.src.uri||(<span class="code-keyword">this</span>.src.uri=<span class="code-built_in">window</span>.location.href),<span class="code-keyword">this</span>.src.resolvedUri=<span class="code-keyword">this</span>.src.uri,<span class="code-keyword">void</span> setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.setupInitialPlaylist(i.src)},<span class="code-number">0</span>);<span class="code-keyword">this</span>.request=<span class="code-keyword">this</span>.vhs_.xhr({<span class="code-attr">uri</span>:<span class="code-keyword">this</span>.src,<span class="code-attr">withCredentials</span>:<span class="code-keyword">this</span>.withCredentials},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(i.request){<span class="code-keyword">if</span>(i.request=<span class="code-literal">null</span>,e)<span class="code-keyword">return</span> i.error={<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"HLS playlist request error at URL: "</span>+i.src+<span class="code-string">"."</span>,<span class="code-attr">responseText</span>:t.responseText,<span class="code-attr">code</span>:<span class="code-number">2</span>},<span class="code-string">"HAVE_NOTHING"</span>===i.state&amp;&amp;(i.started=!<span class="code-number">1</span>),i.trigger(<span class="code-string">"error"</span>);i.src=Mo(i.handleManifestRedirects,i.src,t);t=i.parseManifest_({<span class="code-attr">manifestString</span>:t.responseText,<span class="code-attr">url</span>:i.src});i.setupInitialPlaylist(t)}})},t.srcUri=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.src?<span class="code-keyword">this</span>.src:<span class="code-keyword">this</span>.src.uri},t.setupInitialPlaylist=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_MASTER"</span>,e.playlists)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.master=e,lu(<span class="code-keyword">this</span>.master,<span class="code-keyword">this</span>.srcUri()),e.playlists.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.segments=hu(t),t.segments.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{du(e,t.resolvedUri)})}),<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedplaylist"</span>),<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.request||<span class="code-keyword">this</span>.media(<span class="code-keyword">this</span>.master.playlists[<span class="code-number">0</span>]));<span class="code-keyword">var</span> t,i,n,r=<span class="code-keyword">this</span>.srcUri()||<span class="code-built_in">window</span>.location.href;<span class="code-keyword">this</span>.master=(i=su(<span class="code-number">0</span>,t=r),(n={<span class="code-attr">mediaGroups</span>:{<span class="code-attr">AUDIO</span>:{},<span class="code-attr">VIDEO</span>:{},<span class="code-string">"CLOSED-CAPTIONS"</span>:{},<span class="code-attr">SUBTITLES</span>:{}},<span class="code-attr">uri</span>:<span class="code-built_in">window</span>.location.href,<span class="code-attr">resolvedUri</span>:<span class="code-built_in">window</span>.location.href,<span class="code-attr">playlists</span>:[{<span class="code-attr">uri</span>:t,<span class="code-attr">id</span>:i,<span class="code-attr">resolvedUri</span>:t,<span class="code-attr">attributes</span>:{}}]}).playlists[i]=n.playlists[<span class="code-number">0</span>],n.playlists[t]=n.playlists[<span class="code-number">0</span>],n),<span class="code-keyword">this</span>.haveMetadata({<span class="code-attr">playlistObject</span>:e,<span class="code-attr">url</span>:r,<span class="code-attr">id</span>:<span class="code-keyword">this</span>.master.playlists[<span class="code-number">0</span>].id}),<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedmetadata"</span>)},e}(W),bl=tr.xhr,Tl=tr.mergeOptions,zt=<span class="code-built_in">Object</span>.freeze({<span class="code-attr">__proto__</span>:<span class="code-literal">null</span>,<span class="code-attr">createTransferableMessage</span>:Tu,<span class="code-attr">initSegmentId</span>:Su,<span class="code-attr">segmentKeyId</span>:wu,<span class="code-attr">hexDump</span>:Eu,<span class="code-attr">tagDump</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.bytes;<span class="code-keyword">return</span> Eu(e)},<span class="code-attr">textRanges</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n=<span class="code-string">""</span>,r=<span class="code-number">0</span>;r&lt;e.length;r++)n+=(i=r,(t=e).start(i)+<span class="code-string">"-"</span>+t.end(i)+<span class="code-string">" "</span>);<span class="code-keyword">return</span> n}}),ar=tr.EventTarget,Sl=tr.mergeOptions,wl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i={}),(r=a.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>).masterPlaylistLoader_=n||ft(r),n||(r.isMaster_=!<span class="code-number">0</span>);n=i.withCredentials,n=<span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;n,i=i.handleManifestRedirects,i=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;i;<span class="code-keyword">if</span>(r.vhs_=t,r.withCredentials=n,r.handleManifestRedirects=i,!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"A non-empty playlist URL or object is required"</span>);<span class="code-keyword">return</span> r.on(<span class="code-string">"minimumUpdatePeriod"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.refreshXml_()}),r.on(<span class="code-string">"mediaupdatetimeout"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.refreshMedia_(r.media().id)}),r.state=<span class="code-string">"HAVE_NOTHING"</span>,r.loadedPlaylists_={},r.logger_=Ro(<span class="code-string">"DashPlaylistLoader"</span>),r.isMaster_?(r.masterPlaylistLoader_.srcUrl=e,r.masterPlaylistLoader_.sidxMapping_={}):r.childPlaylist_=e,r}mt(e,a);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.requestErrored_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span>!<span class="code-keyword">this</span>.request||(<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>,e?(<span class="code-keyword">this</span>.error=<span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> e||e <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>?{<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"DASH request error at URL: "</span>+t.uri,<span class="code-attr">response</span>:t.response,<span class="code-attr">code</span>:<span class="code-number">2</span>}:e,i&amp;&amp;(<span class="code-keyword">this</span>.state=i),<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>),!<span class="code-number">0</span>):<span class="code-keyword">void</span> <span class="code-number">0</span>)},t.addSidxSegments_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a,n,r</span>)</span>{<span class="code-keyword">var</span> s,o,u=<span class="code-keyword">this</span>,l=a.sidx&amp;&amp;xs(a.sidx);a.sidx&amp;&amp;l&amp;&amp;!<span class="code-keyword">this</span>.masterPlaylistLoader_.sidxMapping_[l]?(s=Mo(<span class="code-keyword">this</span>.handleManifestRedirects,a.sidx.resolvedUri),o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!u.requestErrored_(e,t,n)){<span class="code-keyword">var</span> i,e=u.masterPlaylistLoader_.sidxMapping_;<span class="code-keyword">try</span>{i=wo(br(t.response).subarray(<span class="code-number">8</span>))}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span> <span class="code-keyword">void</span> u.requestErrored_(e,t,n)}<span class="code-keyword">return</span> e[l]={<span class="code-attr">sidxInfo</span>:a.sidx,<span class="code-attr">sidx</span>:i},ws(a,i,a.sidx.resolvedUri),r(!<span class="code-number">0</span>)}},<span class="code-keyword">this</span>.request=xu(s,<span class="code-keyword">this</span>.vhs_.xhr,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> o(e,t);<span class="code-keyword">if</span>(!i||<span class="code-string">"mp4"</span>!==i)<span class="code-keyword">return</span> o({<span class="code-attr">status</span>:t.status,<span class="code-attr">message</span>:<span class="code-string">"Unsupported "</span>+(i||<span class="code-string">"unknown"</span>)+<span class="code-string">" container type for sidx segment at URL: "</span>+s,<span class="code-attr">response</span>:<span class="code-string">""</span>,<span class="code-attr">playlist</span>:a,<span class="code-attr">internal</span>:!<span class="code-number">0</span>,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-attr">code</span>:<span class="code-number">2</span>},t);<span class="code-keyword">var</span> r=a.sidx.byterange,i=r.offset,r=r.length;<span class="code-keyword">if</span>(n.length&gt;=r+i)<span class="code-keyword">return</span> o(e,{<span class="code-attr">response</span>:n.subarray(i,i+r),<span class="code-attr">status</span>:t.status,<span class="code-attr">uri</span>:t.uri});u.request=u.vhs_.xhr({<span class="code-attr">uri</span>:s,<span class="code-attr">responseType</span>:<span class="code-string">"arraybuffer"</span>,<span class="code-attr">headers</span>:vu({<span class="code-attr">byterange</span>:a.sidx.byterange})},o)})):<span class="code-keyword">this</span>.mediaRequest_=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> r(!<span class="code-number">1</span>)},<span class="code-number">0</span>)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.stopRequest(),<span class="code-keyword">this</span>.loadedPlaylists_={},<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.minimumUpdatePeriodTimeout_),<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaRequest_),<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.mediaRequest_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.minimumUpdatePeriodTimeout_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.masterPlaylistLoader_.createMupOnMedia_&amp;&amp;(<span class="code-keyword">this</span>.off(<span class="code-string">"loadedmetadata"</span>,<span class="code-keyword">this</span>.masterPlaylistLoader_.createMupOnMedia_),<span class="code-keyword">this</span>.masterPlaylistLoader_.createMupOnMedia_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.off()},t.hasPendingRequest=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.request||<span class="code-keyword">this</span>.mediaRequest_},t.stopRequest=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.request&amp;&amp;(e=<span class="code-keyword">this</span>.request,<span class="code-keyword">this</span>.request=<span class="code-literal">null</span>,e.onreadystatechange=<span class="code-literal">null</span>,e.abort())},t.media=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.media_;<span class="code-keyword">if</span>(<span class="code-string">"HAVE_NOTHING"</span>===<span class="code-keyword">this</span>.state)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot switch media playlist from "</span>+<span class="code-keyword">this</span>.state);<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.state;<span class="code-keyword">if</span>(<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t){<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.masterPlaylistLoader_.master.playlists[t])<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unknown playlist URI: "</span>+t);t=<span class="code-keyword">this</span>.masterPlaylistLoader_.master.playlists[t]}<span class="code-keyword">var</span> e=!<span class="code-keyword">this</span>.media_||t.id!==<span class="code-keyword">this</span>.media_.id;<span class="code-keyword">if</span>(e&amp;&amp;<span class="code-keyword">this</span>.loadedPlaylists_[t.id]&amp;&amp;<span class="code-keyword">this</span>.loadedPlaylists_[t.id].endList)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_METADATA"</span>,<span class="code-keyword">this</span>.media_=t,<span class="code-keyword">void</span>(e&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachanging"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachange"</span>)));e&amp;&amp;(<span class="code-keyword">this</span>.media_&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachanging"</span>),<span class="code-keyword">this</span>.addSidxSegments_(t,n,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.haveMetadata({<span class="code-attr">startingState</span>:n,<span class="code-attr">playlist</span>:t})}))},t.haveMetadata=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.startingState,e=e.playlist;<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_METADATA"</span>,<span class="code-keyword">this</span>.loadedPlaylists_[e.id]=e,<span class="code-keyword">this</span>.mediaRequest_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.refreshMedia_(e.id),<span class="code-string">"HAVE_MASTER"</span>===t?<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedmetadata"</span>):<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediachange"</span>)},t.pause=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.masterPlaylistLoader_.createMupOnMedia_&amp;&amp;(<span class="code-keyword">this</span>.off(<span class="code-string">"loadedmetadata"</span>,<span class="code-keyword">this</span>.masterPlaylistLoader_.createMupOnMedia_),<span class="code-keyword">this</span>.masterPlaylistLoader_.createMupOnMedia_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.stopRequest(),<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.isMaster_&amp;&amp;(<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),<span class="code-keyword">this</span>.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=<span class="code-literal">null</span>),<span class="code-string">"HAVE_NOTHING"</span>===<span class="code-keyword">this</span>.state&amp;&amp;(<span class="code-keyword">this</span>.started=!<span class="code-number">1</span>)},t.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.mediaUpdateTimeout),<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-literal">null</span>;<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.media();e?(e=i?i.targetDuration/<span class="code-number">2</span>*<span class="code-number">1e3</span>:<span class="code-number">5e3</span>,<span class="code-keyword">this</span>.mediaUpdateTimeout=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.load()},e)):<span class="code-keyword">this</span>.started?i&amp;&amp;!i.endList?(<span class="code-keyword">this</span>.isMaster_&amp;&amp;!<span class="code-keyword">this</span>.minimumUpdatePeriodTimeout_&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"minimumUpdatePeriod"</span>),<span class="code-keyword">this</span>.updateMinimumUpdatePeriodTimeout_()),<span class="code-keyword">this</span>.trigger(<span class="code-string">"mediaupdatetimeout"</span>)):<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedplaylist"</span>):<span class="code-keyword">this</span>.start()},t.start=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.started=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.isMaster_?<span class="code-keyword">this</span>.requestMaster_(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{i.haveMaster_(),i.hasPendingRequest()||i.media_||i.media(i.masterPlaylistLoader_.master.playlists[<span class="code-number">0</span>])}):<span class="code-keyword">this</span>.mediaRequest_=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.haveMaster_()},<span class="code-number">0</span>)},t.requestMaster_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.request=<span class="code-keyword">this</span>.vhs_.xhr({<span class="code-attr">uri</span>:<span class="code-keyword">this</span>.masterPlaylistLoader_.srcUrl,<span class="code-attr">withCredentials</span>:<span class="code-keyword">this</span>.withCredentials},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!r.requestErrored_(e,t)){<span class="code-keyword">var</span> i=t.responseText!==r.masterPlaylistLoader_.masterXml_;<span class="code-keyword">return</span> r.masterPlaylistLoader_.masterXml_=t.responseText,t.responseHeaders&amp;&amp;t.responseHeaders.date?r.masterLoaded_=<span class="code-built_in">Date</span>.parse(t.responseHeaders.date):r.masterLoaded_=<span class="code-built_in">Date</span>.now(),r.masterPlaylistLoader_.srcUrl=Mo(r.handleManifestRedirects,r.masterPlaylistLoader_.srcUrl,t),i?(r.handleMaster_(),<span class="code-keyword">void</span> r.syncClientServerClock_(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n(t,i)})):n(t,i)}<span class="code-string">"HAVE_NOTHING"</span>===r.state&amp;&amp;(r.started=!<span class="code-number">1</span>)})},t.syncClientServerClock_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r=Zs(<span class="code-keyword">this</span>.masterPlaylistLoader_.masterXml_);<span class="code-keyword">return</span> <span class="code-literal">null</span>===r?(<span class="code-keyword">this</span>.masterPlaylistLoader_.clientOffset_=<span class="code-keyword">this</span>.masterLoaded_-<span class="code-built_in">Date</span>.now(),i()):<span class="code-string">"DIRECT"</span>===r.method?(<span class="code-keyword">this</span>.masterPlaylistLoader_.clientOffset_=r.value-<span class="code-built_in">Date</span>.now(),i()):<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.request=<span class="code-keyword">this</span>.vhs_.xhr({<span class="code-attr">uri</span>:pl(<span class="code-keyword">this</span>.masterPlaylistLoader_.srcUrl,r.value),<span class="code-attr">method</span>:r.method,<span class="code-attr">withCredentials</span>:<span class="code-keyword">this</span>.withCredentials},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(n.request){<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> n.masterPlaylistLoader_.clientOffset_=n.masterLoaded_-<span class="code-built_in">Date</span>.now(),i();t=<span class="code-string">"HEAD"</span>===r.method?t.responseHeaders&amp;&amp;t.responseHeaders.date?<span class="code-built_in">Date</span>.parse(t.responseHeaders.date):n.masterLoaded_:<span class="code-built_in">Date</span>.parse(t.responseText);n.masterPlaylistLoader_.clientOffset_=t-<span class="code-built_in">Date</span>.now(),i()}}))},t.haveMaster_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.state=<span class="code-string">"HAVE_MASTER"</span>,<span class="code-keyword">this</span>.isMaster_?<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedplaylist"</span>):<span class="code-keyword">this</span>.media_||<span class="code-keyword">this</span>.media(<span class="code-keyword">this</span>.childPlaylist_)},t.handleMaster_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mediaRequest_=<span class="code-literal">null</span>;<span class="code-keyword">var</span> e,t,i,n,r=<span class="code-keyword">this</span>.masterPlaylistLoader_.master,t=(a={<span class="code-attr">masterXml</span>:<span class="code-keyword">this</span>.masterPlaylistLoader_.masterXml_,<span class="code-attr">srcUrl</span>:<span class="code-keyword">this</span>.masterPlaylistLoader_.srcUrl,<span class="code-attr">clientOffset</span>:<span class="code-keyword">this</span>.masterPlaylistLoader_.clientOffset_,<span class="code-attr">sidxMapping</span>:<span class="code-keyword">this</span>.masterPlaylistLoader_.sidxMapping_,<span class="code-attr">previousManifest</span>:r},e=a.masterXml,t=a.srcUrl,i=a.clientOffset,n=a.sidxMapping,a=a.previousManifest,a=Js(e,{<span class="code-attr">manifestUri</span>:t,<span class="code-attr">clientOffset</span>:i,<span class="code-attr">sidxMapping</span>:n,<span class="code-attr">previousManifest</span>:a}),lu(a,t),a);r&amp;&amp;(t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a=!<span class="code-number">0</span>,s=Sl(e,{<span class="code-attr">duration</span>:t.duration,<span class="code-attr">minimumUpdatePeriod</span>:t.minimumUpdatePeriod,<span class="code-attr">timelineStarts</span>:t.timelineStarts}),n=<span class="code-number">0</span>;n&lt;t.playlists.length;n++){<span class="code-keyword">var</span> r,o=t.playlists[n];o.sidx&amp;&amp;(r=xs(o.sidx),i&amp;&amp;i[r]&amp;&amp;i[r].sidx&amp;&amp;ws(o,i[r].sidx,o.sidx.resolvedUri));o=fu(s,o,Au);o&amp;&amp;(s=o,a=!<span class="code-number">1</span>)}<span class="code-keyword">return</span> ou(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r;e.playlists&amp;&amp;e.playlists.length&amp;&amp;(r=e.playlists[<span class="code-number">0</span>].id,(e=fu(s,e.playlists[<span class="code-number">0</span>],Au))&amp;&amp;((s=e).mediaGroups[t][i][n].playlists[<span class="code-number">0</span>]=s.playlists[r],a=!<span class="code-number">1</span>))}),(a=t.minimumUpdatePeriod===e.minimumUpdatePeriod&amp;&amp;a)?<span class="code-literal">null</span>:s}(r,t,<span class="code-keyword">this</span>.masterPlaylistLoader_.sidxMapping_)),<span class="code-keyword">this</span>.masterPlaylistLoader_.master=t||r;<span class="code-keyword">var</span> a=<span class="code-keyword">this</span>.masterPlaylistLoader_.master.locations&amp;&amp;<span class="code-keyword">this</span>.masterPlaylistLoader_.master.locations[<span class="code-number">0</span>];<span class="code-keyword">return</span> a&amp;&amp;a!==<span class="code-keyword">this</span>.masterPlaylistLoader_.srcUrl&amp;&amp;(<span class="code-keyword">this</span>.masterPlaylistLoader_.srcUrl=a),(!r||t&amp;&amp;t.minimumUpdatePeriod!==r.minimumUpdatePeriod)&amp;&amp;<span class="code-keyword">this</span>.updateMinimumUpdatePeriodTimeout_(),<span class="code-built_in">Boolean</span>(t)},t.updateMinimumUpdatePeriodTimeout_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.masterPlaylistLoader_;e.createMupOnMedia_&amp;&amp;(e.off(<span class="code-string">"loadedmetadata"</span>,e.createMupOnMedia_),e.createMupOnMedia_=<span class="code-literal">null</span>),e.minimumUpdatePeriodTimeout_&amp;&amp;(<span class="code-built_in">window</span>.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=<span class="code-literal">null</span>);<span class="code-keyword">var</span> t=e.master&amp;&amp;e.master.minimumUpdatePeriod;<span class="code-number">0</span>===t&amp;&amp;(e.media()?t=<span class="code-number">1e3</span>*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one(<span class="code-string">"loadedmetadata"</span>,e.createMupOnMedia_))),<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> t||t&lt;=<span class="code-number">0</span>?t&lt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>.logger_(<span class="code-string">"found invalid minimumUpdatePeriod of "</span>+t+<span class="code-string">", not setting a timeout"</span>):<span class="code-keyword">this</span>.createMUPTimeout_(t)},t.createMUPTimeout_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.minimumUpdatePeriodTimeout_=<span class="code-literal">null</span>,t.trigger(<span class="code-string">"minimumUpdatePeriod"</span>),t.createMUPTimeout_(e)},e)},t.refreshXml_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.requestMaster_(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> r,a;t&amp;&amp;(i.media_&amp;&amp;(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=(t=i.masterPlaylistLoader_.master,r=i.masterPlaylistLoader_.sidxMapping_,a=Pu(t.playlists,r),ou(t,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{e.playlists&amp;&amp;e.playlists.length&amp;&amp;(e=e.playlists,a=Sl(a,Pu(e,r)))}),a),i.addSidxSegments_(i.media(),i.state,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.refreshMedia_(i.media().id)}))})},t.refreshMedia_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"refreshMedia_ must take a media id"</span>);<span class="code-keyword">this</span>.media_&amp;&amp;<span class="code-keyword">this</span>.isMaster_&amp;&amp;<span class="code-keyword">this</span>.handleMaster_();<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.masterPlaylistLoader_.master.playlists,n=!<span class="code-keyword">this</span>.media_||<span class="code-keyword">this</span>.media_!==i[e];n?<span class="code-keyword">this</span>.media_=i[e]:<span class="code-keyword">this</span>.trigger(<span class="code-string">"playlistunchanged"</span>),<span class="code-keyword">this</span>.mediaUpdateTimeout||<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{t.media().endList||(t.mediaUpdateTimeout=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger(<span class="code-string">"mediaupdatetimeout"</span>),e()},mu(t.media(),<span class="code-built_in">Boolean</span>(n))))}(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"loadedplaylist"</span>)},e}(ar),El={<span class="code-attr">GOAL_BUFFER_LENGTH</span>:<span class="code-number">30</span>,<span class="code-attr">MAX_GOAL_BUFFER_LENGTH</span>:<span class="code-number">60</span>,<span class="code-attr">BACK_BUFFER_LENGTH</span>:<span class="code-number">30</span>,<span class="code-attr">GOAL_BUFFER_LENGTH_RATE</span>:<span class="code-number">1</span>,<span class="code-attr">INITIAL_BANDWIDTH</span>:<span class="code-number">4194304</span>,<span class="code-attr">BANDWIDTH_VARIANCE</span>:<span class="code-number">1.2</span>,<span class="code-attr">BUFFER_LOW_WATER_LINE</span>:<span class="code-number">0</span>,<span class="code-attr">MAX_BUFFER_LOW_WATER_LINE</span>:<span class="code-number">30</span>,<span class="code-attr">EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE</span>:<span class="code-number">16</span>,<span class="code-attr">BUFFER_LOW_WATER_LINE_RATE</span>:<span class="code-number">1</span>,<span class="code-attr">BUFFER_HIGH_WATER_LINE</span>:<span class="code-number">30</span>},x=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">return</span> URL.createObjectURL(<span class="code-keyword">new</span> Blob([t],{<span class="code-attr">type</span>:<span class="code-string">"application/javascript"</span>}))}<span class="code-keyword">catch</span>(e){<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> BlobBuilder;<span class="code-keyword">return</span> i.append(t),URL.createObjectURL(i.getBlob())}}(n),t=Lu(<span class="code-keyword">new</span> Worker(e));t.objURL=e;<span class="code-keyword">var</span> i=t.terminate;<span class="code-keyword">return</span> t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> URL.revokeObjectURL(e),i.call(<span class="code-keyword">this</span>)},t}},U=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"var browserWorkerPolyFill = "</span>+Lu.toString()+<span class="code-string">";\nbrowserWorkerPolyFill(self);\n"</span>+e},W=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.toString().replace(<span class="code-regexp">/^function.+?{/</span>,<span class="code-string">""</span>).slice(<span class="code-number">0</span>,<span class="code-number">-1</span>)},kl=x(U(W(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.init=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> a={};<span class="code-keyword">this</span>.on=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{a[e]||(a[e]=[]),a[e]=a[e].concat(t)},<span class="code-keyword">this</span>.off=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>!!a[e]&amp;&amp;(t=a[e].indexOf(t),a[e]=a[e].slice(),a[e].splice(t,<span class="code-number">1</span>),<span class="code-number">-1</span>&lt;t)},<span class="code-keyword">this</span>.trigger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r=a[e];<span class="code-keyword">if</span>(r)<span class="code-keyword">if</span>(<span class="code-number">2</span>===<span class="code-built_in">arguments</span>.length)<span class="code-keyword">for</span>(i=r.length,t=<span class="code-number">0</span>;t&lt;i;++t)r[t].call(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]);<span class="code-keyword">else</span>{<span class="code-keyword">for</span>(n=[],t=<span class="code-built_in">arguments</span>.length,t=<span class="code-number">1</span>;t&lt;<span class="code-built_in">arguments</span>.length;++t)n.push(<span class="code-built_in">arguments</span>[t]);<span class="code-keyword">for</span>(i=r.length,t=<span class="code-number">0</span>;t&lt;i;++t)r[t].apply(<span class="code-keyword">this</span>,n)}},<span class="code-keyword">this</span>.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a={}}}};e.prototype.pipe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.push(e)}),<span class="code-keyword">this</span>.on(<span class="code-string">"done"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.flush(e)}),<span class="code-keyword">this</span>.on(<span class="code-string">"partialdone"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.partialFlush(e)}),<span class="code-keyword">this</span>.on(<span class="code-string">"endedtimeline"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.endTimeline(e)}),<span class="code-keyword">this</span>.on(<span class="code-string">"reset"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.reset(e)}),t},e.prototype.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,e)},e.prototype.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>,e)},e.prototype.partialFlush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"partialdone"</span>,e)},e.prototype.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"endedtimeline"</span>,e)},e.prototype.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>,e)};<span class="code-keyword">var</span> u,t,i,n,r,a,s,o,l,c,d,h,p,f,m,g,y,v,_,b,T,S,w,E,k,C,I,x,A,P,L,D,O,M,R,N,U,B,F,j=e,H=<span class="code-built_in">Math</span>.pow(<span class="code-number">2</span>,<span class="code-number">32</span>),q={<span class="code-attr">getUint64</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(e.buffer,e.byteOffset,e.byteLength);<span class="code-keyword">return</span> t.getBigUint64?(e=t.getBigUint64(<span class="code-number">0</span>))&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER?<span class="code-built_in">Number</span>(e):e:t.getUint32(<span class="code-number">0</span>)*H+t.getUint32(<span class="code-number">4</span>)},<span class="code-attr">MAX_UINT32</span>:H},V=q.MAX_UINT32;!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(T={<span class="code-attr">avc1</span>:[],<span class="code-attr">avcC</span>:[],<span class="code-attr">btrt</span>:[],<span class="code-attr">dinf</span>:[],<span class="code-attr">dref</span>:[],<span class="code-attr">esds</span>:[],<span class="code-attr">ftyp</span>:[],<span class="code-attr">hdlr</span>:[],<span class="code-attr">mdat</span>:[],<span class="code-attr">mdhd</span>:[],<span class="code-attr">mdia</span>:[],<span class="code-attr">mfhd</span>:[],<span class="code-attr">minf</span>:[],<span class="code-attr">moof</span>:[],<span class="code-attr">moov</span>:[],<span class="code-attr">mp4a</span>:[],<span class="code-attr">mvex</span>:[],<span class="code-attr">mvhd</span>:[],<span class="code-attr">pasp</span>:[],<span class="code-attr">sdtp</span>:[],<span class="code-attr">smhd</span>:[],<span class="code-attr">stbl</span>:[],<span class="code-attr">stco</span>:[],<span class="code-attr">stsc</span>:[],<span class="code-attr">stsd</span>:[],<span class="code-attr">stsz</span>:[],<span class="code-attr">stts</span>:[],<span class="code-attr">styp</span>:[],<span class="code-attr">tfdt</span>:[],<span class="code-attr">tfhd</span>:[],<span class="code-attr">traf</span>:[],<span class="code-attr">trak</span>:[],<span class="code-attr">trun</span>:[],<span class="code-attr">trex</span>:[],<span class="code-attr">tkhd</span>:[],<span class="code-attr">vmhd</span>:[]},<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">Uint8Array</span>){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e <span class="code-keyword">in</span> T)T.hasOwnProperty(e)&amp;&amp;(T[e]=[e.charCodeAt(<span class="code-number">0</span>),e.charCodeAt(<span class="code-number">1</span>),e.charCodeAt(<span class="code-number">2</span>),e.charCodeAt(<span class="code-number">3</span>)]);S=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-string">"i"</span>.charCodeAt(<span class="code-number">0</span>),<span class="code-string">"s"</span>.charCodeAt(<span class="code-number">0</span>),<span class="code-string">"o"</span>.charCodeAt(<span class="code-number">0</span>),<span class="code-string">"m"</span>.charCodeAt(<span class="code-number">0</span>)]),E=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-string">"a"</span>.charCodeAt(<span class="code-number">0</span>),<span class="code-string">"v"</span>.charCodeAt(<span class="code-number">0</span>),<span class="code-string">"c"</span>.charCodeAt(<span class="code-number">0</span>),<span class="code-string">"1"</span>.charCodeAt(<span class="code-number">0</span>)]),w=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]),k=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">118</span>,<span class="code-number">105</span>,<span class="code-number">100</span>,<span class="code-number">101</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">86</span>,<span class="code-number">105</span>,<span class="code-number">100</span>,<span class="code-number">101</span>,<span class="code-number">111</span>,<span class="code-number">72</span>,<span class="code-number">97</span>,<span class="code-number">110</span>,<span class="code-number">100</span>,<span class="code-number">108</span>,<span class="code-number">101</span>,<span class="code-number">114</span>,<span class="code-number">0</span>]),C=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">115</span>,<span class="code-number">111</span>,<span class="code-number">117</span>,<span class="code-number">110</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">83</span>,<span class="code-number">111</span>,<span class="code-number">117</span>,<span class="code-number">110</span>,<span class="code-number">100</span>,<span class="code-number">72</span>,<span class="code-number">97</span>,<span class="code-number">110</span>,<span class="code-number">100</span>,<span class="code-number">108</span>,<span class="code-number">101</span>,<span class="code-number">114</span>,<span class="code-number">0</span>]),I={<span class="code-attr">video</span>:k,<span class="code-attr">audio</span>:C},P=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">12</span>,<span class="code-number">117</span>,<span class="code-number">114</span>,<span class="code-number">108</span>,<span class="code-number">32</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]),A=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>]),L=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>]),D=L,O=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>]),M=L,x=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>])}}(),u=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=[],n=<span class="code-number">0</span>,r=<span class="code-number">1</span>;r&lt;<span class="code-built_in">arguments</span>.length;r++)i.push(<span class="code-built_in">arguments</span>[r]);<span class="code-keyword">for</span>(r=i.length;r--;)n+=i[r].byteLength;<span class="code-keyword">for</span>(t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n+<span class="code-number">8</span>),<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(t.buffer,t.byteOffset,t.byteLength).setUint32(<span class="code-number">0</span>,t.byteLength),t.set(e,<span class="code-number">4</span>),r=<span class="code-number">0</span>,n=<span class="code-number">8</span>;r&lt;i.length;r++)t.set(i[r],n),n+=i[r].byteLength;<span class="code-keyword">return</span> t},t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> u(T.dinf,u(T.dref,P))},i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.esds,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">3</span>,<span class="code-number">25</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">4</span>,<span class="code-number">17</span>,<span class="code-number">64</span>,<span class="code-number">21</span>,<span class="code-number">0</span>,<span class="code-number">6</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">218</span>,<span class="code-number">192</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">218</span>,<span class="code-number">192</span>,<span class="code-number">5</span>,<span class="code-number">2</span>,e.audioobjecttype&lt;&lt;<span class="code-number">3</span>|e.samplingfrequencyindex&gt;&gt;&gt;<span class="code-number">1</span>,e.samplingfrequencyindex&lt;&lt;<span class="code-number">7</span>|e.channelcount&lt;&lt;<span class="code-number">3</span>,<span class="code-number">6</span>,<span class="code-number">1</span>,<span class="code-number">2</span>]))},f=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.hdlr,I[e])},p=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">3</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">95</span>,<span class="code-number">144</span>,e.duration&gt;&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>,e.duration&gt;&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>,e.duration&gt;&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>,<span class="code-number">255</span>&amp;e.duration,<span class="code-number">85</span>,<span class="code-number">196</span>,<span class="code-number">0</span>,<span class="code-number">0</span>]);<span class="code-keyword">return</span> e.samplerate&amp;&amp;(t[<span class="code-number">12</span>]=e.samplerate&gt;&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>,t[<span class="code-number">13</span>]=e.samplerate&gt;&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>,t[<span class="code-number">14</span>]=e.samplerate&gt;&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>,t[<span class="code-number">15</span>]=<span class="code-number">255</span>&amp;e.samplerate),u(T.mdhd,t)},h=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.mdia,p(e),f(e.type),a(e))},r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.mfhd,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">4278190080</span>&amp;e)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e]))},a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.minf,<span class="code-string">"video"</span>===e.type?u(T.vmhd,x):u(T.smhd,A),t(),g(e))},We=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=[],n=t.length;n--;)i[n]=v(t[n]);<span class="code-keyword">return</span> u.apply(<span class="code-literal">null</span>,[T.moof,r(e)].concat(i))},s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.length,i=[];t--;)i[t]=c(e[t]);<span class="code-keyword">return</span> u.apply(<span class="code-literal">null</span>,[T.moov,l(<span class="code-number">4294967295</span>)].concat(i).concat(o(e)))},o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.length,i=[];t--;)i[t]=_(e[t]);<span class="code-keyword">return</span> u.apply(<span class="code-literal">null</span>,[T.mvex].concat(i))},l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">95</span>,<span class="code-number">144</span>,(<span class="code-number">4278190080</span>&amp;e)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">64</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">255</span>,<span class="code-number">255</span>,<span class="code-number">255</span>,<span class="code-number">255</span>]);<span class="code-keyword">return</span> u(T.mvhd,e)},m=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=e.samples||[],n=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-number">4</span>+i.length),r=<span class="code-number">0</span>;r&lt;i.length;r++)t=i[r].flags,n[r+<span class="code-number">4</span>]=t.dependsOn&lt;&lt;<span class="code-number">4</span>|t.isDependedOn&lt;&lt;<span class="code-number">2</span>|t.hasRedundancy;<span class="code-keyword">return</span> u(T.sdtp,n)},g=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.stbl,y(e),u(T.stts,M),u(T.stsc,D),u(T.stsz,O),u(T.stco,L))},y=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.stsd,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]),(<span class="code-string">"video"</span>===e.type?R:N)(e))},R=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n=e.sps||[],r=e.pps||[],a=[],s=[],o=<span class="code-number">0</span>;o&lt;n.length;o++)a.push((<span class="code-number">65280</span>&amp;n[o].byteLength)&gt;&gt;&gt;<span class="code-number">8</span>),a.push(<span class="code-number">255</span>&amp;n[o].byteLength),a=a.concat(<span class="code-built_in">Array</span>.prototype.slice.call(n[o]));<span class="code-keyword">for</span>(o=<span class="code-number">0</span>;o&lt;r.length;o++)s.push((<span class="code-number">65280</span>&amp;r[o].byteLength)&gt;&gt;&gt;<span class="code-number">8</span>),s.push(<span class="code-number">255</span>&amp;r[o].byteLength),s=s.concat(<span class="code-built_in">Array</span>.prototype.slice.call(r[o]));<span class="code-keyword">return</span> t=[T.avc1,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">65280</span>&amp;e.width)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.width,(<span class="code-number">65280</span>&amp;e.height)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.height,<span class="code-number">0</span>,<span class="code-number">72</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">72</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">19</span>,<span class="code-number">118</span>,<span class="code-number">105</span>,<span class="code-number">100</span>,<span class="code-number">101</span>,<span class="code-number">111</span>,<span class="code-number">106</span>,<span class="code-number">115</span>,<span class="code-number">45</span>,<span class="code-number">99</span>,<span class="code-number">111</span>,<span class="code-number">110</span>,<span class="code-number">116</span>,<span class="code-number">114</span>,<span class="code-number">105</span>,<span class="code-number">98</span>,<span class="code-number">45</span>,<span class="code-number">104</span>,<span class="code-number">108</span>,<span class="code-number">115</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">24</span>,<span class="code-number">17</span>,<span class="code-number">17</span>]),u(T.avcC,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">1</span>,e.profileIdc,e.profileCompatibility,e.levelIdc,<span class="code-number">255</span>].concat([n.length],a,[r.length],s))),u(T.btrt,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">28</span>,<span class="code-number">156</span>,<span class="code-number">128</span>,<span class="code-number">0</span>,<span class="code-number">45</span>,<span class="code-number">198</span>,<span class="code-number">192</span>,<span class="code-number">0</span>,<span class="code-number">45</span>,<span class="code-number">198</span>,<span class="code-number">192</span>]))],e.sarRatio&amp;&amp;(i=e.sarRatio[<span class="code-number">0</span>],e=e.sarRatio[<span class="code-number">1</span>],t.push(u(T.pasp,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([(<span class="code-number">4278190080</span>&amp;i)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;i)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;i)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;i,(<span class="code-number">4278190080</span>&amp;e)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e])))),u.apply(<span class="code-literal">null</span>,t)},N=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.mp4a,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">65280</span>&amp;e.channelcount)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.channelcount,(<span class="code-number">65280</span>&amp;e.samplesize)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.samplesize,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">65280</span>&amp;e.samplerate)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.samplerate,<span class="code-number">0</span>,<span class="code-number">0</span>]),i(e))},d=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">7</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">4278190080</span>&amp;e.id)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e.id)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e.id)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.id,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">4278190080</span>&amp;e.duration)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e.duration)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e.duration)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.duration,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">64</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">65280</span>&amp;e.width)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.width,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">65280</span>&amp;e.height)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.height,<span class="code-number">0</span>,<span class="code-number">0</span>]);<span class="code-keyword">return</span> u(T.tkhd,e)},v=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=u(T.tfhd,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">58</span>,(<span class="code-number">4278190080</span>&amp;e.id)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e.id)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e.id)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.id,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>])),n=<span class="code-built_in">Math</span>.floor(e.baseMediaDecodeTime/V),r=<span class="code-built_in">Math</span>.floor(e.baseMediaDecodeTime%V),n=u(T.tfdt,<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,n&gt;&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>,n&gt;&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>,n&gt;&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>,<span class="code-number">255</span>&amp;n,r&gt;&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>,r&gt;&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>,r&gt;&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>,<span class="code-number">255</span>&amp;r]));<span class="code-keyword">return</span><span class="code-string">"audio"</span>===e.type?(t=b(e,<span class="code-number">92</span>),u(T.traf,i,n,t)):(r=m(e),t=b(e,r.length+<span class="code-number">92</span>),u(T.traf,i,n,t,r))},c=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.duration=e.duration||<span class="code-number">4294967295</span>,u(T.trak,d(e),h(e))},_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,(<span class="code-number">4278190080</span>&amp;e.id)&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e.id)&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e.id)&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.id,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]);<span class="code-keyword">return</span><span class="code-string">"video"</span>!==e.type&amp;&amp;(t[t.length<span class="code-number">-1</span>]=<span class="code-number">0</span>),u(T.trex,t)},U=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>,a=<span class="code-number">0</span>;<span class="code-keyword">return</span> e.length&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[<span class="code-number">0</span>].duration&amp;&amp;(i=<span class="code-number">1</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[<span class="code-number">0</span>].size&amp;&amp;(n=<span class="code-number">2</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[<span class="code-number">0</span>].flags&amp;&amp;(r=<span class="code-number">4</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>!==e[<span class="code-number">0</span>].compositionTimeOffset&amp;&amp;(a=<span class="code-number">8</span>)),[<span class="code-number">0</span>,<span class="code-number">0</span>,i|n|r|a,<span class="code-number">1</span>,(<span class="code-number">4278190080</span>&amp;e.length)&gt;&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;e.length)&gt;&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;e.length)&gt;&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;e.length,(<span class="code-number">4278190080</span>&amp;t)&gt;&gt;&gt;<span class="code-number">24</span>,(<span class="code-number">16711680</span>&amp;t)&gt;&gt;&gt;<span class="code-number">16</span>,(<span class="code-number">65280</span>&amp;t)&gt;&gt;&gt;<span class="code-number">8</span>,<span class="code-number">255</span>&amp;t]},B=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r,a,s=e.samples||[];<span class="code-keyword">for</span>(t+=<span class="code-number">20</span>+<span class="code-number">16</span>*s.length,t=U(s,t),(n=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.length+<span class="code-number">16</span>*s.length)).set(t),i=t.length,a=<span class="code-number">0</span>;a&lt;s.length;a++)r=s[a],n[i++]=(<span class="code-number">4278190080</span>&amp;r.duration)&gt;&gt;&gt;<span class="code-number">24</span>,n[i++]=(<span class="code-number">16711680</span>&amp;r.duration)&gt;&gt;&gt;<span class="code-number">16</span>,n[i++]=(<span class="code-number">65280</span>&amp;r.duration)&gt;&gt;&gt;<span class="code-number">8</span>,n[i++]=<span class="code-number">255</span>&amp;r.duration,n[i++]=(<span class="code-number">4278190080</span>&amp;r.size)&gt;&gt;&gt;<span class="code-number">24</span>,n[i++]=(<span class="code-number">16711680</span>&amp;r.size)&gt;&gt;&gt;<span class="code-number">16</span>,n[i++]=(<span class="code-number">65280</span>&amp;r.size)&gt;&gt;&gt;<span class="code-number">8</span>,n[i++]=<span class="code-number">255</span>&amp;r.size,n[i++]=r.flags.isLeading&lt;&lt;<span class="code-number">2</span>|r.flags.dependsOn,n[i++]=r.flags.isDependedOn&lt;&lt;<span class="code-number">6</span>|r.flags.hasRedundancy&lt;&lt;<span class="code-number">4</span>|r.flags.paddingValue&lt;&lt;<span class="code-number">1</span>|r.flags.isNonSyncSample,n[i++]=<span class="code-number">61440</span>&amp;r.flags.degradationPriority,n[i++]=<span class="code-number">15</span>&amp;r.flags.degradationPriority,n[i++]=(<span class="code-number">4278190080</span>&amp;r.compositionTimeOffset)&gt;&gt;&gt;<span class="code-number">24</span>,n[i++]=(<span class="code-number">16711680</span>&amp;r.compositionTimeOffset)&gt;&gt;&gt;<span class="code-number">16</span>,n[i++]=(<span class="code-number">65280</span>&amp;r.compositionTimeOffset)&gt;&gt;&gt;<span class="code-number">8</span>,n[i++]=<span class="code-number">255</span>&amp;r.compositionTimeOffset;<span class="code-keyword">return</span> u(T.trun,n)},F=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r,a,s=e.samples||[];<span class="code-keyword">for</span>(t+=<span class="code-number">20</span>+<span class="code-number">8</span>*s.length,t=U(s,t),(i=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.length+<span class="code-number">8</span>*s.length)).set(t),n=t.length,a=<span class="code-number">0</span>;a&lt;s.length;a++)r=s[a],i[n++]=(<span class="code-number">4278190080</span>&amp;r.duration)&gt;&gt;&gt;<span class="code-number">24</span>,i[n++]=(<span class="code-number">16711680</span>&amp;r.duration)&gt;&gt;&gt;<span class="code-number">16</span>,i[n++]=(<span class="code-number">65280</span>&amp;r.duration)&gt;&gt;&gt;<span class="code-number">8</span>,i[n++]=<span class="code-number">255</span>&amp;r.duration,i[n++]=(<span class="code-number">4278190080</span>&amp;r.size)&gt;&gt;&gt;<span class="code-number">24</span>,i[n++]=(<span class="code-number">16711680</span>&amp;r.size)&gt;&gt;&gt;<span class="code-number">16</span>,i[n++]=(<span class="code-number">65280</span>&amp;r.size)&gt;&gt;&gt;<span class="code-number">8</span>,i[n++]=<span class="code-number">255</span>&amp;r.size;<span class="code-keyword">return</span> u(T.trun,i)},b=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(<span class="code-string">"audio"</span>===e.type?F:B)(e,t)};n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> u(T.ftyp,S,w,S,E)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">W</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i={<span class="code-attr">size</span>:<span class="code-number">0</span>,<span class="code-attr">flags</span>:{<span class="code-attr">isLeading</span>:<span class="code-number">0</span>,<span class="code-attr">dependsOn</span>:<span class="code-number">1</span>,<span class="code-attr">isDependedOn</span>:<span class="code-number">0</span>,<span class="code-attr">hasRedundancy</span>:<span class="code-number">0</span>,<span class="code-attr">degradationPriority</span>:<span class="code-number">0</span>,<span class="code-attr">isNonSyncSample</span>:<span class="code-number">1</span>}};<span class="code-keyword">return</span> i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=<span class="code-number">4</span>*e.length,i.size+=e.byteLength,e.keyFrame&amp;&amp;(i.flags.dependsOn=<span class="code-number">2</span>,i.flags.isNonSyncSample=<span class="code-number">0</span>),i}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">G</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[];e--;)t.push(<span class="code-number">0</span>);<span class="code-keyword">return</span> t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">z</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,i;<span class="code-keyword">return</span> X||(e={<span class="code-number">96e3</span>:[ie,[<span class="code-number">227</span>,<span class="code-number">64</span>],G(<span class="code-number">154</span>),[<span class="code-number">56</span>]],<span class="code-number">88200</span>:[ie,[<span class="code-number">231</span>],G(<span class="code-number">170</span>),[<span class="code-number">56</span>]],<span class="code-number">64e3</span>:[ie,[<span class="code-number">248</span>,<span class="code-number">192</span>],G(<span class="code-number">240</span>),[<span class="code-number">56</span>]],<span class="code-number">48e3</span>:[ie,[<span class="code-number">255</span>,<span class="code-number">192</span>],G(<span class="code-number">268</span>),[<span class="code-number">55</span>,<span class="code-number">148</span>,<span class="code-number">128</span>],G(<span class="code-number">54</span>),[<span class="code-number">112</span>]],<span class="code-number">44100</span>:[ie,[<span class="code-number">255</span>,<span class="code-number">192</span>],G(<span class="code-number">268</span>),[<span class="code-number">55</span>,<span class="code-number">163</span>,<span class="code-number">128</span>],G(<span class="code-number">84</span>),[<span class="code-number">112</span>]],<span class="code-number">32e3</span>:[ie,[<span class="code-number">255</span>,<span class="code-number">192</span>],G(<span class="code-number">268</span>),[<span class="code-number">55</span>,<span class="code-number">234</span>],G(<span class="code-number">226</span>),[<span class="code-number">112</span>]],<span class="code-number">24e3</span>:[ie,[<span class="code-number">255</span>,<span class="code-number">192</span>],G(<span class="code-number">268</span>),[<span class="code-number">55</span>,<span class="code-number">255</span>,<span class="code-number">128</span>],G(<span class="code-number">268</span>),[<span class="code-number">111</span>,<span class="code-number">112</span>],G(<span class="code-number">126</span>),[<span class="code-number">224</span>]],<span class="code-number">16e3</span>:[ie,[<span class="code-number">255</span>,<span class="code-number">192</span>],G(<span class="code-number">268</span>),[<span class="code-number">55</span>,<span class="code-number">255</span>,<span class="code-number">128</span>],G(<span class="code-number">268</span>),[<span class="code-number">111</span>,<span class="code-number">255</span>],G(<span class="code-number">269</span>),[<span class="code-number">223</span>,<span class="code-number">108</span>],G(<span class="code-number">195</span>),[<span class="code-number">1</span>,<span class="code-number">192</span>]],<span class="code-number">12e3</span>:[ne,G(<span class="code-number">268</span>),[<span class="code-number">3</span>,<span class="code-number">127</span>,<span class="code-number">248</span>],G(<span class="code-number">268</span>),[<span class="code-number">6</span>,<span class="code-number">255</span>,<span class="code-number">240</span>],G(<span class="code-number">268</span>),[<span class="code-number">13</span>,<span class="code-number">255</span>,<span class="code-number">224</span>],G(<span class="code-number">268</span>),[<span class="code-number">27</span>,<span class="code-number">253</span>,<span class="code-number">128</span>],G(<span class="code-number">259</span>),[<span class="code-number">56</span>]],<span class="code-number">11025</span>:[ne,G(<span class="code-number">268</span>),[<span class="code-number">3</span>,<span class="code-number">127</span>,<span class="code-number">248</span>],G(<span class="code-number">268</span>),[<span class="code-number">6</span>,<span class="code-number">255</span>,<span class="code-number">240</span>],G(<span class="code-number">268</span>),[<span class="code-number">13</span>,<span class="code-number">255</span>,<span class="code-number">224</span>],G(<span class="code-number">268</span>),[<span class="code-number">27</span>,<span class="code-number">255</span>,<span class="code-number">192</span>],G(<span class="code-number">268</span>),[<span class="code-number">55</span>,<span class="code-number">175</span>,<span class="code-number">128</span>],G(<span class="code-number">108</span>),[<span class="code-number">112</span>]],<span class="code-number">8e3</span>:[ne,G(<span class="code-number">268</span>),[<span class="code-number">3</span>,<span class="code-number">121</span>,<span class="code-number">16</span>],G(<span class="code-number">47</span>),[<span class="code-number">7</span>]]},i=e,X=<span class="code-built_in">Object</span>.keys(i).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e[t]=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(i[t].reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.concat(t)},[])),e},{})),X}<span class="code-keyword">var</span> X,K=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> u(T.mdat,e)},Y=We,Q=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=n(),i=s(e),e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t.byteLength+i.byteLength);<span class="code-keyword">return</span> e.set(t),e.set(i,t.byteLength),e},$=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=[],r=[];<span class="code-keyword">for</span>(r.byteLength=<span class="code-number">0</span>,r.nalCount=<span class="code-number">0</span>,r.duration=<span class="code-number">0</span>,t=n.byteLength=<span class="code-number">0</span>;t&lt;e.length;t++)<span class="code-string">"access_unit_delimiter_rbsp"</span>===(i=e[t]).nalUnitType?(n.length&amp;&amp;(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):(<span class="code-string">"slice_layer_without_partitioning_rbsp_idr"</span>===i.nalUnitType&amp;&amp;(n.keyFrame=!<span class="code-number">0</span>),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));<span class="code-keyword">return</span> r.length&amp;&amp;(!n.duration||n.duration&lt;=<span class="code-number">0</span>)&amp;&amp;(n.duration=r[r.length<span class="code-number">-1</span>].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},J=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=[],r=[];<span class="code-keyword">for</span>(n.byteLength=<span class="code-number">0</span>,n.nalCount=<span class="code-number">0</span>,n.duration=<span class="code-number">0</span>,n.pts=e[<span class="code-number">0</span>].pts,n.dts=e[<span class="code-number">0</span>].dts,r.byteLength=<span class="code-number">0</span>,r.nalCount=<span class="code-number">0</span>,r.duration=<span class="code-number">0</span>,r.pts=e[<span class="code-number">0</span>].pts,r.dts=e[<span class="code-number">0</span>].dts,t=<span class="code-number">0</span>;t&lt;e.length;t++)(i=e[t]).keyFrame?(n.length&amp;&amp;(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));<span class="code-keyword">return</span> r.length&amp;&amp;n.duration&lt;=<span class="code-number">0</span>&amp;&amp;(n.duration=r[r.length<span class="code-number">-1</span>].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},Z=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">return</span>!e[<span class="code-number">0</span>][<span class="code-number">0</span>].keyFrame&amp;&amp;<span class="code-number">1</span>&lt;e.length&amp;&amp;(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[<span class="code-number">0</span>][<span class="code-number">0</span>].dts=t.dts,e[<span class="code-number">0</span>][<span class="code-number">0</span>].pts=t.pts,e[<span class="code-number">0</span>][<span class="code-number">0</span>].duration+=t.duration),e},ee=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n,r,a=t||<span class="code-number">0</span>,s=[],o=<span class="code-number">0</span>;o&lt;e.length;o++)<span class="code-keyword">for</span>(n=e[o],i=<span class="code-number">0</span>;i&lt;n.length;i++)r=n[i],a+=(r=W(r,a)).size,s.push(r);<span class="code-keyword">return</span> s},te=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n,r,a,s=<span class="code-number">0</span>,o=e.byteLength,u=e.nalCount,l=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(o+<span class="code-number">4</span>*u),c=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(l.buffer),d=<span class="code-number">0</span>;d&lt;e.length;d++)<span class="code-keyword">for</span>(n=e[d],t=<span class="code-number">0</span>;t&lt;n.length;t++)<span class="code-keyword">for</span>(r=n[t],i=<span class="code-number">0</span>;i&lt;r.length;i++)a=r[i],c.setUint32(s,a.data.byteLength),l.set(a.data,s+=<span class="code-number">4</span>),s+=a.data.byteLength;<span class="code-keyword">return</span> l},ie=[<span class="code-number">33</span>,<span class="code-number">16</span>,<span class="code-number">5</span>,<span class="code-number">32</span>,<span class="code-number">164</span>,<span class="code-number">27</span>],ne=[<span class="code-number">33</span>,<span class="code-number">65</span>,<span class="code-number">108</span>,<span class="code-number">84</span>,<span class="code-number">1</span>,<span class="code-number">2</span>,<span class="code-number">4</span>,<span class="code-number">8</span>,<span class="code-number">168</span>,<span class="code-number">2</span>,<span class="code-number">4</span>,<span class="code-number">8</span>,<span class="code-number">17</span>,<span class="code-number">191</span>,<span class="code-number">252</span>],re=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">9e4</span>*e},ae=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e*t},se=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e/<span class="code-number">9e4</span>},oe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e/t},ue=<span class="code-number">9e4</span>,le=re,ce=se,de=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> re(oe(e,t))},he=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> ae(se(e),t)},pe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> se(i?e:e-t)},fe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r,a,s,o,u,l,c=<span class="code-number">0</span>,d=<span class="code-number">0</span>;<span class="code-keyword">if</span>(t.length&amp;&amp;(r=de(e.baseMediaDecodeTime,e.samplerate),a=<span class="code-built_in">Math</span>.ceil(ue/(e.samplerate/<span class="code-number">1024</span>)),i&amp;&amp;n&amp;&amp;(s=r-<span class="code-built_in">Math</span>.max(i,n),d=(c=<span class="code-built_in">Math</span>.floor(s/a))*a),!(c&lt;<span class="code-number">1</span>||ue/<span class="code-number">2</span>&lt;d))){<span class="code-keyword">for</span>(o=(o=z()[e.samplerate])||t[<span class="code-number">0</span>].data,u=<span class="code-number">0</span>;u&lt;c;u++)l=t[<span class="code-number">0</span>],t.splice(<span class="code-number">0</span>,<span class="code-number">0</span>,{<span class="code-attr">data</span>:o,<span class="code-attr">dts</span>:l.dts-a,<span class="code-attr">pts</span>:l.pts-a});<span class="code-keyword">return</span> e.baseMediaDecodeTime-=<span class="code-built_in">Math</span>.floor(he(d,e.samplerate)),d}},me=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> t.minSegmentDts&gt;=i?e:(t.minSegmentDts=<span class="code-number">1</span>/<span class="code-number">0</span>,e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.dts&gt;=i&amp;&amp;(t.minSegmentDts=<span class="code-built_in">Math</span>.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!<span class="code-number">0</span>)}))},ge=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=[],n=<span class="code-number">0</span>;n&lt;e.length;n++)t=e[n],i.push({<span class="code-attr">size</span>:t.data.byteLength,<span class="code-attr">duration</span>:<span class="code-number">1024</span>});<span class="code-keyword">return</span> i},ye=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=<span class="code-number">0</span>,n=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,i=<span class="code-number">0</span>;i&lt;e.length;i++)t+=e[i].data.byteLength;<span class="code-keyword">return</span> t}(e)),r=<span class="code-number">0</span>;r&lt;e.length;r++)t=e[r],n.set(t.data,i),i+=t.data.byteLength;<span class="code-keyword">return</span> n},ve=ue,_e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">delete</span> e.minSegmentDts,<span class="code-keyword">delete</span> e.maxSegmentDts,<span class="code-keyword">delete</span> e.minSegmentPts,<span class="code-keyword">delete</span> e.maxSegmentPts},be=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e.minSegmentDts;<span class="code-keyword">return</span> t||(i-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=<span class="code-built_in">Math</span>.max(<span class="code-number">0</span>,t),<span class="code-string">"audio"</span>===e.type&amp;&amp;(t*=e.samplerate/ve,t=<span class="code-built_in">Math</span>.floor(t)),t},Te=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.pts&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>===e.timelineStartInfo.pts&amp;&amp;(e.timelineStartInfo.pts=t.pts),<span class="code-keyword">void</span> <span class="code-number">0</span>===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=<span class="code-built_in">Math</span>.min(e.minSegmentPts,t.pts),<span class="code-keyword">void</span> <span class="code-number">0</span>===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=<span class="code-built_in">Math</span>.max(e.maxSegmentPts,t.pts)),<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.dts&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>===e.timelineStartInfo.dts&amp;&amp;(e.timelineStartInfo.dts=t.dts),<span class="code-keyword">void</span> <span class="code-number">0</span>===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=<span class="code-built_in">Math</span>.min(e.minSegmentDts,t.dts),<span class="code-keyword">void</span> <span class="code-number">0</span>===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=<span class="code-built_in">Math</span>.max(e.maxSegmentDts,t.dts))},Se=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>,i={<span class="code-attr">payloadType</span>:<span class="code-number">-1</span>,<span class="code-attr">payloadSize</span>:<span class="code-number">0</span>},n=<span class="code-number">0</span>,r=<span class="code-number">0</span>;t&lt;e.byteLength&amp;&amp;<span class="code-number">128</span>!==e[t];){<span class="code-keyword">for</span>(;<span class="code-number">255</span>===e[t];)n+=<span class="code-number">255</span>,t++;<span class="code-keyword">for</span>(n+=e[t++];<span class="code-number">255</span>===e[t];)r+=<span class="code-number">255</span>,t++;<span class="code-keyword">if</span>(r+=e[t++],!i.payload&amp;&amp;<span class="code-number">4</span>===n){<span class="code-keyword">if</span>(<span class="code-string">"GA94"</span>===<span class="code-built_in">String</span>.fromCharCode(e[t+<span class="code-number">3</span>],e[t+<span class="code-number">4</span>],e[t+<span class="code-number">5</span>],e[t+<span class="code-number">6</span>])){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);<span class="code-keyword">break</span>}i.payload=<span class="code-keyword">void</span> <span class="code-number">0</span>}t+=r,r=n=<span class="code-number">0</span>}<span class="code-keyword">return</span> i},we=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">181</span>!==e.payload[<span class="code-number">0</span>]||<span class="code-number">49</span>!=(e.payload[<span class="code-number">1</span>]&lt;&lt;<span class="code-number">8</span>|e.payload[<span class="code-number">2</span>])||<span class="code-string">"GA94"</span>!==<span class="code-built_in">String</span>.fromCharCode(e.payload[<span class="code-number">3</span>],e.payload[<span class="code-number">4</span>],e.payload[<span class="code-number">5</span>],e.payload[<span class="code-number">6</span>])||<span class="code-number">3</span>!==e.payload[<span class="code-number">7</span>]?<span class="code-literal">null</span>:e.payload.subarray(<span class="code-number">8</span>,e.payload.length<span class="code-number">-1</span>)},Ee=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r,a,s=[];<span class="code-keyword">if</span>(!(<span class="code-number">64</span>&amp;t[<span class="code-number">0</span>]))<span class="code-keyword">return</span> s;<span class="code-keyword">for</span>(n=<span class="code-number">31</span>&amp;t[<span class="code-number">0</span>],i=<span class="code-number">0</span>;i&lt;n;i++)a={<span class="code-attr">type</span>:<span class="code-number">3</span>&amp;t[<span class="code-number">2</span>+(r=<span class="code-number">3</span>*i)],<span class="code-attr">pts</span>:e},<span class="code-number">4</span>&amp;t[<span class="code-number">2</span>+r]&amp;&amp;(a.ccData=t[<span class="code-number">3</span>+r]&lt;&lt;<span class="code-number">8</span>|t[<span class="code-number">4</span>+r],s.push(a));<span class="code-keyword">return</span> s},ke=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.byteLength,i=[],n=<span class="code-number">1</span>;n&lt;t<span class="code-number">-2</span>;)<span class="code-number">0</span>===e[n]&amp;&amp;<span class="code-number">0</span>===e[n+<span class="code-number">1</span>]&amp;&amp;<span class="code-number">3</span>===e[n+<span class="code-number">2</span>]?(i.push(n+<span class="code-number">2</span>),n+=<span class="code-number">2</span>):n++;<span class="code-keyword">if</span>(<span class="code-number">0</span>===i.length)<span class="code-keyword">return</span> e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=t-i.length,a=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(r),s=<span class="code-number">0</span>,n=<span class="code-number">0</span>;n&lt;r;s++,n++)s===i[<span class="code-number">0</span>]&amp;&amp;(s++,i.shift()),a[n]=e[s];<span class="code-keyword">return</span> a},Ce=<span class="code-number">4</span>,Ie=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{t=t||{},e.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.parse708captions_=<span class="code-string">"boolean"</span>!=<span class="code-keyword">typeof</span> t.parse708captions||t.parse708captions,<span class="code-keyword">this</span>.captionPackets_=[],<span class="code-keyword">this</span>.ccStreams_=[<span class="code-keyword">new</span> Ue(<span class="code-number">0</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Ue(<span class="code-number">0</span>,<span class="code-number">1</span>),<span class="code-keyword">new</span> Ue(<span class="code-number">1</span>,<span class="code-number">0</span>),<span class="code-keyword">new</span> Ue(<span class="code-number">1</span>,<span class="code-number">1</span>)],<span class="code-keyword">this</span>.parse708captions_&amp;&amp;(<span class="code-keyword">this</span>.cc708Stream_=<span class="code-keyword">new</span> De({<span class="code-attr">captionServices</span>:t.captionServices})),<span class="code-keyword">this</span>.reset(),<span class="code-keyword">this</span>.ccStreams_.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.on(<span class="code-string">"data"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"data"</span>)),e.on(<span class="code-string">"partialdone"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"partialdone"</span>)),e.on(<span class="code-string">"done"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"done"</span>))},<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.parse708captions_&amp;&amp;(<span class="code-keyword">this</span>.cc708Stream_.on(<span class="code-string">"data"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"data"</span>)),<span class="code-keyword">this</span>.cc708Stream_.on(<span class="code-string">"partialdone"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"partialdone"</span>)),<span class="code-keyword">this</span>.cc708Stream_.on(<span class="code-string">"done"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"done"</span>)))};(Ie.prototype=<span class="code-keyword">new</span> j).push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i;<span class="code-keyword">if</span>(<span class="code-string">"sei_rbsp"</span>===e.nalUnitType&amp;&amp;(t=Se(e.escapedRBSP)).payload&amp;&amp;t.payloadType===Ce&amp;&amp;(i=we(t)))<span class="code-keyword">if</span>(e.dts&lt;<span class="code-keyword">this</span>.latestDts_)<span class="code-keyword">this</span>.ignoreNextEqualDts_=!<span class="code-number">0</span>;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(e.dts===<span class="code-keyword">this</span>.latestDts_&amp;&amp;<span class="code-keyword">this</span>.ignoreNextEqualDts_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.numSameDts_--,<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.numSameDts_||(<span class="code-keyword">this</span>.ignoreNextEqualDts_=!<span class="code-number">1</span>));i=Ee(e.pts,i),<span class="code-keyword">this</span>.captionPackets_=<span class="code-keyword">this</span>.captionPackets_.concat(i),<span class="code-keyword">this</span>.latestDts_!==e.dts&amp;&amp;(<span class="code-keyword">this</span>.numSameDts_=<span class="code-number">0</span>),<span class="code-keyword">this</span>.numSameDts_++,<span class="code-keyword">this</span>.latestDts_=e.dts}},Ie.prototype.flushCCStreams=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.ccStreams_.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"flush"</span>===t?e.flush():e.partialFlush()},<span class="code-keyword">this</span>)},Ie.prototype.flushStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.captionPackets_.length&amp;&amp;(<span class="code-keyword">this</span>.captionPackets_.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.presortIndex=t}),<span class="code-keyword">this</span>.captionPackets_.sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),<span class="code-keyword">this</span>.captionPackets_.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.type&lt;<span class="code-number">2</span>?<span class="code-keyword">this</span>.dispatchCea608Packet(e):<span class="code-keyword">this</span>.dispatchCea708Packet(e)},<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.captionPackets_.length=<span class="code-number">0</span>),<span class="code-keyword">this</span>.flushCCStreams(e)},Ie.prototype.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.flushStream(<span class="code-string">"flush"</span>)},Ie.prototype.partialFlush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.flushStream(<span class="code-string">"partialFlush"</span>)},Ie.prototype.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.latestDts_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.ignoreNextEqualDts_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.numSameDts_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.activeCea608Channel_=[<span class="code-literal">null</span>,<span class="code-literal">null</span>],<span class="code-keyword">this</span>.ccStreams_.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.reset()})},Ie.prototype.dispatchCea608Packet=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.setsTextOrXDSActive(e)?<span class="code-keyword">this</span>.activeCea608Channel_[e.type]=<span class="code-literal">null</span>:<span class="code-keyword">this</span>.setsChannel1Active(e)?<span class="code-keyword">this</span>.activeCea608Channel_[e.type]=<span class="code-number">0</span>:<span class="code-keyword">this</span>.setsChannel2Active(e)&amp;&amp;(<span class="code-keyword">this</span>.activeCea608Channel_[e.type]=<span class="code-number">1</span>),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.activeCea608Channel_[e.type]&amp;&amp;<span class="code-keyword">this</span>.ccStreams_[(e.type&lt;&lt;<span class="code-number">1</span>)+<span class="code-keyword">this</span>.activeCea608Channel_[e.type]].push(e)},Ie.prototype.setsChannel1Active=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">4096</span>==(<span class="code-number">30720</span>&amp;e.ccData)},Ie.prototype.setsChannel2Active=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">6144</span>==(<span class="code-number">30720</span>&amp;e.ccData)},Ie.prototype.setsTextOrXDSActive=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">256</span>==(<span class="code-number">28928</span>&amp;e.ccData)||<span class="code-number">4138</span>==(<span class="code-number">30974</span>&amp;e.ccData)||<span class="code-number">6186</span>==(<span class="code-number">30974</span>&amp;e.ccData)},Ie.prototype.dispatchCea708Packet=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.parse708captions_&amp;&amp;<span class="code-keyword">this</span>.cc708Stream_.push(e)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">32</span>&lt;=e&amp;&amp;e&lt;=<span class="code-number">127</span>||<span class="code-number">160</span>&lt;=e&amp;&amp;e&lt;=<span class="code-number">255</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ae</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.windowNum=e,<span class="code-keyword">this</span>.reset()}<span class="code-keyword">var</span> Pe={<span class="code-number">127</span>:<span class="code-number">9834</span>,<span class="code-number">4128</span>:<span class="code-number">32</span>,<span class="code-number">4129</span>:<span class="code-number">160</span>,<span class="code-number">4133</span>:<span class="code-number">8230</span>,<span class="code-number">4138</span>:<span class="code-number">352</span>,<span class="code-number">4140</span>:<span class="code-number">338</span>,<span class="code-number">4144</span>:<span class="code-number">9608</span>,<span class="code-number">4145</span>:<span class="code-number">8216</span>,<span class="code-number">4146</span>:<span class="code-number">8217</span>,<span class="code-number">4147</span>:<span class="code-number">8220</span>,<span class="code-number">4148</span>:<span class="code-number">8221</span>,<span class="code-number">4149</span>:<span class="code-number">8226</span>,<span class="code-number">4153</span>:<span class="code-number">8482</span>,<span class="code-number">4154</span>:<span class="code-number">353</span>,<span class="code-number">4156</span>:<span class="code-number">339</span>,<span class="code-number">4157</span>:<span class="code-number">8480</span>,<span class="code-number">4159</span>:<span class="code-number">376</span>,<span class="code-number">4214</span>:<span class="code-number">8539</span>,<span class="code-number">4215</span>:<span class="code-number">8540</span>,<span class="code-number">4216</span>:<span class="code-number">8541</span>,<span class="code-number">4217</span>:<span class="code-number">8542</span>,<span class="code-number">4218</span>:<span class="code-number">9168</span>,<span class="code-number">4219</span>:<span class="code-number">9124</span>,<span class="code-number">4220</span>:<span class="code-number">9123</span>,<span class="code-number">4221</span>:<span class="code-number">9135</span>,<span class="code-number">4222</span>:<span class="code-number">9126</span>,<span class="code-number">4223</span>:<span class="code-number">9121</span>,<span class="code-number">4256</span>:<span class="code-number">12600</span>};Ae.prototype.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clearText(),<span class="code-keyword">this</span>.pendingNewLine=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.winAttr={},<span class="code-keyword">this</span>.penAttr={},<span class="code-keyword">this</span>.penLoc={},<span class="code-keyword">this</span>.penColor={},<span class="code-keyword">this</span>.visible=<span class="code-number">0</span>,<span class="code-keyword">this</span>.rowLock=<span class="code-number">0</span>,<span class="code-keyword">this</span>.columnLock=<span class="code-number">0</span>,<span class="code-keyword">this</span>.priority=<span class="code-number">0</span>,<span class="code-keyword">this</span>.relativePositioning=<span class="code-number">0</span>,<span class="code-keyword">this</span>.anchorVertical=<span class="code-number">0</span>,<span class="code-keyword">this</span>.anchorHorizontal=<span class="code-number">0</span>,<span class="code-keyword">this</span>.anchorPoint=<span class="code-number">0</span>,<span class="code-keyword">this</span>.rowCount=<span class="code-number">1</span>,<span class="code-keyword">this</span>.virtualRowCount=<span class="code-keyword">this</span>.rowCount+<span class="code-number">1</span>,<span class="code-keyword">this</span>.columnCount=<span class="code-number">41</span>,<span class="code-keyword">this</span>.windowStyle=<span class="code-number">0</span>,<span class="code-keyword">this</span>.penStyle=<span class="code-number">0</span>},Ae.prototype.getText=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.rows.join(<span class="code-string">"\n"</span>)},Ae.prototype.clearText=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.rows=[<span class="code-string">""</span>],<span class="code-keyword">this</span>.rowIdx=<span class="code-number">0</span>},Ae.prototype.newLine=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">this</span>.rows.length&gt;=<span class="code-keyword">this</span>.virtualRowCount&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.beforeRowOverflow&amp;&amp;<span class="code-keyword">this</span>.beforeRowOverflow(e),<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.rows.length&amp;&amp;(<span class="code-keyword">this</span>.rows.push(<span class="code-string">""</span>),<span class="code-keyword">this</span>.rowIdx++);<span class="code-keyword">this</span>.rows.length&gt;<span class="code-keyword">this</span>.virtualRowCount;)<span class="code-keyword">this</span>.rows.shift(),<span class="code-keyword">this</span>.rowIdx--},Ae.prototype.isEmpty=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.rows.length||<span class="code-number">1</span>===<span class="code-keyword">this</span>.rows.length&amp;&amp;<span class="code-string">""</span>===<span class="code-keyword">this</span>.rows[<span class="code-number">0</span>]},Ae.prototype.addText=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.rows[<span class="code-keyword">this</span>.rowIdx]+=e},Ae.prototype.backspace=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.isEmpty()||(e=<span class="code-keyword">this</span>.rows[<span class="code-keyword">this</span>.rowIdx],<span class="code-keyword">this</span>.rows[<span class="code-keyword">this</span>.rowIdx]=e.substr(<span class="code-number">0</span>,e.length<span class="code-number">-1</span>))};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Le</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">this</span>.serviceNum=e,<span class="code-keyword">this</span>.text=<span class="code-string">""</span>,<span class="code-keyword">this</span>.currentWindow=<span class="code-keyword">new</span> Ae(<span class="code-number">-1</span>),<span class="code-keyword">this</span>.windows=[],<span class="code-keyword">this</span>.stream=i,<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;<span class="code-keyword">this</span>.createTextDecoder(t)}Le.prototype.init=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.startPts=e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;<span class="code-number">8</span>;i++)<span class="code-keyword">this</span>.windows[i]=<span class="code-keyword">new</span> Ae(i),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;(<span class="code-keyword">this</span>.windows[i].beforeRowOverflow=t)},Le.prototype.setCurrentWindow=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.currentWindow=<span class="code-keyword">this</span>.windows[e]},Le.prototype.createTextDecoder=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> TextDecoder)<span class="code-keyword">this</span>.stream.trigger(<span class="code-string">"log"</span>,{<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"The `encoding` option is unsupported without TextDecoder support"</span>});<span class="code-keyword">else</span> <span class="code-keyword">try</span>{<span class="code-keyword">this</span>.textDecoder_=<span class="code-keyword">new</span> TextDecoder(t)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">this</span>.stream.trigger(<span class="code-string">"log"</span>,{<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"TextDecoder could not be created with "</span>+t+<span class="code-string">" encoding. "</span>+e})}};<span class="code-keyword">var</span> De=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{t=t||{},e.prototype.init.call(<span class="code-keyword">this</span>);<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>,r=t.captionServices||{},a={};<span class="code-built_in">Object</span>.keys(r).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i=r[e],/^SERVICE/.test(e)&amp;&amp;(a[e]=i.encoding)}),<span class="code-keyword">this</span>.serviceEncodings=a,<span class="code-keyword">this</span>.current708Packet=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.services={},<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{(<span class="code-number">3</span>===e.type||<span class="code-literal">null</span>===n.current708Packet)&amp;&amp;n.new708Packet(),n.add708Bytes(e)}};De.prototype=<span class="code-keyword">new</span> j,De.prototype.new708Packet=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.current708Packet&amp;&amp;<span class="code-keyword">this</span>.push708Packet(),<span class="code-keyword">this</span>.current708Packet={<span class="code-attr">data</span>:[],<span class="code-attr">ptsVals</span>:[]}},De.prototype.add708Bytes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.ccData,i=t&gt;&gt;&gt;<span class="code-number">8</span>,t=<span class="code-number">255</span>&amp;t;<span class="code-keyword">this</span>.current708Packet.ptsVals.push(e.pts),<span class="code-keyword">this</span>.current708Packet.data.push(i),<span class="code-keyword">this</span>.current708Packet.data.push(t)},De.prototype.push708Packet=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>.current708Packet,i=t.data,n=<span class="code-literal">null</span>,r=<span class="code-number">0</span>,a=i[r++];<span class="code-keyword">for</span>(t.seq=a&gt;&gt;<span class="code-number">6</span>,t.sizeCode=<span class="code-number">63</span>&amp;a;r&lt;i.length;r++)e=<span class="code-number">31</span>&amp;(a=i[r++]),<span class="code-number">7</span>===(n=a&gt;&gt;<span class="code-number">5</span>)&amp;&amp;<span class="code-number">0</span>&lt;e&amp;&amp;(n=i[r++]),<span class="code-keyword">this</span>.pushServiceBlock(n,r,e),<span class="code-number">0</span>&lt;e&amp;&amp;(r+=e<span class="code-number">-1</span>)},De.prototype.pushServiceBlock=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r=t,a=<span class="code-keyword">this</span>.current708Packet.data,s=(s=<span class="code-keyword">this</span>.services[e])||<span class="code-keyword">this</span>.initService(e,r);r&lt;t+i&amp;&amp;r&lt;a.length;r++)n=a[r],xe(n)?r=<span class="code-keyword">this</span>.handleText(r,s):<span class="code-number">24</span>===n?r=<span class="code-keyword">this</span>.multiByteCharacter(r,s):<span class="code-number">16</span>===n?r=<span class="code-keyword">this</span>.extendedCommands(r,s):<span class="code-number">128</span>&lt;=n&amp;&amp;n&lt;=<span class="code-number">135</span>?r=<span class="code-keyword">this</span>.setCurrentWindow(r,s):<span class="code-number">152</span>&lt;=n&amp;&amp;n&lt;=<span class="code-number">159</span>?r=<span class="code-keyword">this</span>.defineWindow(r,s):<span class="code-number">136</span>===n?r=<span class="code-keyword">this</span>.clearWindows(r,s):<span class="code-number">140</span>===n?r=<span class="code-keyword">this</span>.deleteWindows(r,s):<span class="code-number">137</span>===n?r=<span class="code-keyword">this</span>.displayWindows(r,s):<span class="code-number">138</span>===n?r=<span class="code-keyword">this</span>.hideWindows(r,s):<span class="code-number">139</span>===n?r=<span class="code-keyword">this</span>.toggleWindows(r,s):<span class="code-number">151</span>===n?r=<span class="code-keyword">this</span>.setWindowAttributes(r,s):<span class="code-number">144</span>===n?r=<span class="code-keyword">this</span>.setPenAttributes(r,s):<span class="code-number">145</span>===n?r=<span class="code-keyword">this</span>.setPenColor(r,s):<span class="code-number">146</span>===n?r=<span class="code-keyword">this</span>.setPenLocation(r,s):<span class="code-number">143</span>===n?s=<span class="code-keyword">this</span>.reset(r,s):<span class="code-number">8</span>===n?s.currentWindow.backspace():<span class="code-number">12</span>===n?s.currentWindow.clearText():<span class="code-number">13</span>===n?s.currentWindow.pendingNewLine=!<span class="code-number">0</span>:<span class="code-number">14</span>===n?s.currentWindow.clearText():<span class="code-number">141</span>===n&amp;&amp;r++},De.prototype.extendedCommands=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[++e];<span class="code-keyword">return</span> e=xe(i)?<span class="code-keyword">this</span>.handleText(e,t,{<span class="code-attr">isExtended</span>:!<span class="code-number">0</span>}):e},De.prototype.getPts=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.current708Packet.ptsVals[<span class="code-built_in">Math</span>.floor(e/<span class="code-number">2</span>)]},De.prototype.initService=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> i,n=<span class="code-string">"SERVICE"</span>+t,r=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> n <span class="code-keyword">in</span> <span class="code-keyword">this</span>.serviceEncodings&amp;&amp;(i=<span class="code-keyword">this</span>.serviceEncodings[n]),<span class="code-keyword">this</span>.services[t]=<span class="code-keyword">new</span> Le(t,i,r),<span class="code-keyword">this</span>.services[t].init(<span class="code-keyword">this</span>.getPts(e),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r.flushDisplayed(e,r.services[t])}),<span class="code-keyword">this</span>.services[t]},De.prototype.handleText=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r=i&amp;&amp;i.isExtended,a=i&amp;&amp;i.isMultiByte,s=<span class="code-keyword">this</span>.current708Packet.data,o=r?<span class="code-number">4096</span>:<span class="code-number">0</span>,u=s[e],i=s[e+<span class="code-number">1</span>],s=t.currentWindow,l=t.textDecoder_&amp;&amp;!r?(a?(n=[u,i],e++):n=[u],t.textDecoder_.decode(<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n))):(l=Pe[u=o|u]||u,<span class="code-number">4096</span>&amp;u&amp;&amp;u===l?<span class="code-string">""</span>:<span class="code-built_in">String</span>.fromCharCode(l));<span class="code-keyword">return</span> s.pendingNewLine&amp;&amp;!s.isEmpty()&amp;&amp;s.newLine(<span class="code-keyword">this</span>.getPts(e)),s.pendingNewLine=!<span class="code-number">1</span>,s.addText(l),e},De.prototype.multiByteCharacter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data,n=i[e+<span class="code-number">1</span>],i=i[e+<span class="code-number">2</span>];<span class="code-keyword">return</span> e=xe(n)&amp;&amp;xe(i)?<span class="code-keyword">this</span>.handleText(++e,t,{<span class="code-attr">isMultiByte</span>:!<span class="code-number">0</span>}):e},De.prototype.setCurrentWindow=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[e];<span class="code-keyword">return</span> t.setCurrentWindow(<span class="code-number">7</span>&amp;i),e},De.prototype.defineWindow=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data,n=i[e];t.setCurrentWindow(<span class="code-number">7</span>&amp;n);t=t.currentWindow,n=i[++e];<span class="code-keyword">return</span> t.visible=(<span class="code-number">32</span>&amp;n)&gt;&gt;<span class="code-number">5</span>,t.rowLock=(<span class="code-number">16</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.columnLock=(<span class="code-number">8</span>&amp;n)&gt;&gt;<span class="code-number">3</span>,t.priority=<span class="code-number">7</span>&amp;n,n=i[++e],t.relativePositioning=(<span class="code-number">128</span>&amp;n)&gt;&gt;<span class="code-number">7</span>,t.anchorVertical=<span class="code-number">127</span>&amp;n,n=i[++e],t.anchorHorizontal=n,n=i[++e],t.anchorPoint=(<span class="code-number">240</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.rowCount=<span class="code-number">15</span>&amp;n,n=i[++e],t.columnCount=<span class="code-number">63</span>&amp;n,n=i[++e],t.windowStyle=(<span class="code-number">56</span>&amp;n)&gt;&gt;<span class="code-number">3</span>,t.penStyle=<span class="code-number">7</span>&amp;n,t.virtualRowCount=t.rowCount+<span class="code-number">1</span>,e},De.prototype.setWindowAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data,n=i[e],t=t.currentWindow.winAttr,n=i[++e];<span class="code-keyword">return</span> t.fillOpacity=(<span class="code-number">192</span>&amp;n)&gt;&gt;<span class="code-number">6</span>,t.fillRed=(<span class="code-number">48</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.fillGreen=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.fillBlue=<span class="code-number">3</span>&amp;n,n=i[++e],t.borderType=(<span class="code-number">192</span>&amp;n)&gt;&gt;<span class="code-number">6</span>,t.borderRed=(<span class="code-number">48</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.borderGreen=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.borderBlue=<span class="code-number">3</span>&amp;n,n=i[++e],t.borderType+=(<span class="code-number">128</span>&amp;n)&gt;&gt;<span class="code-number">5</span>,t.wordWrap=(<span class="code-number">64</span>&amp;n)&gt;&gt;<span class="code-number">6</span>,t.printDirection=(<span class="code-number">48</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.scrollDirection=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.justify=<span class="code-number">3</span>&amp;n,n=i[++e],t.effectSpeed=(<span class="code-number">240</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.effectDirection=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.displayEffect=<span class="code-number">3</span>&amp;n,e},De.prototype.flushDisplayed=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=[],n=<span class="code-number">0</span>;n&lt;<span class="code-number">8</span>;n++)t.windows[n].visible&amp;&amp;!t.windows[n].isEmpty()&amp;&amp;i.push(t.windows[n].getText());t.endPts=e,t.text=i.join(<span class="code-string">"\n\n"</span>),<span class="code-keyword">this</span>.pushCaption(t),t.startPts=e},De.prototype.pushCaption=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">""</span>!==e.text&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">startPts</span>:e.startPts,<span class="code-attr">endPts</span>:e.endPts,<span class="code-attr">text</span>:e.text,<span class="code-attr">stream</span>:<span class="code-string">"cc708_"</span>+e.serviceNum}),e.text=<span class="code-string">""</span>,e.startPts=e.endPts)},De.prototype.displayWindows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[++e],n=<span class="code-keyword">this</span>.getPts(e);<span class="code-keyword">this</span>.flushDisplayed(n,t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;<span class="code-number">8</span>;r++)i&amp;<span class="code-number">1</span>&lt;&lt;r&amp;&amp;(t.windows[r].visible=<span class="code-number">1</span>);<span class="code-keyword">return</span> e},De.prototype.hideWindows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[++e],n=<span class="code-keyword">this</span>.getPts(e);<span class="code-keyword">this</span>.flushDisplayed(n,t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;<span class="code-number">8</span>;r++)i&amp;<span class="code-number">1</span>&lt;&lt;r&amp;&amp;(t.windows[r].visible=<span class="code-number">0</span>);<span class="code-keyword">return</span> e},De.prototype.toggleWindows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[++e],n=<span class="code-keyword">this</span>.getPts(e);<span class="code-keyword">this</span>.flushDisplayed(n,t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;<span class="code-number">8</span>;r++)i&amp;<span class="code-number">1</span>&lt;&lt;r&amp;&amp;(t.windows[r].visible^=<span class="code-number">1</span>);<span class="code-keyword">return</span> e},De.prototype.clearWindows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[++e],n=<span class="code-keyword">this</span>.getPts(e);<span class="code-keyword">this</span>.flushDisplayed(n,t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;<span class="code-number">8</span>;r++)i&amp;<span class="code-number">1</span>&lt;&lt;r&amp;&amp;t.windows[r].clearText();<span class="code-keyword">return</span> e},De.prototype.deleteWindows=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data[++e],n=<span class="code-keyword">this</span>.getPts(e);<span class="code-keyword">this</span>.flushDisplayed(n,t);<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;<span class="code-number">8</span>;r++)i&amp;<span class="code-number">1</span>&lt;&lt;r&amp;&amp;t.windows[r].reset();<span class="code-keyword">return</span> e},De.prototype.setPenAttributes=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data,n=i[e],t=t.currentWindow.penAttr,n=i[++e];<span class="code-keyword">return</span> t.textTag=(<span class="code-number">240</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.offset=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.penSize=<span class="code-number">3</span>&amp;n,n=i[++e],t.italics=(<span class="code-number">128</span>&amp;n)&gt;&gt;<span class="code-number">7</span>,t.underline=(<span class="code-number">64</span>&amp;n)&gt;&gt;<span class="code-number">6</span>,t.edgeType=(<span class="code-number">56</span>&amp;n)&gt;&gt;<span class="code-number">3</span>,t.fontStyle=<span class="code-number">7</span>&amp;n,e},De.prototype.setPenColor=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data,n=i[e],t=t.currentWindow.penColor,n=i[++e];<span class="code-keyword">return</span> t.fgOpacity=(<span class="code-number">192</span>&amp;n)&gt;&gt;<span class="code-number">6</span>,t.fgRed=(<span class="code-number">48</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.fgGreen=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.fgBlue=<span class="code-number">3</span>&amp;n,n=i[++e],t.bgOpacity=(<span class="code-number">192</span>&amp;n)&gt;&gt;<span class="code-number">6</span>,t.bgRed=(<span class="code-number">48</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.bgGreen=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.bgBlue=<span class="code-number">3</span>&amp;n,n=i[++e],t.edgeRed=(<span class="code-number">48</span>&amp;n)&gt;&gt;<span class="code-number">4</span>,t.edgeGreen=(<span class="code-number">12</span>&amp;n)&gt;&gt;<span class="code-number">2</span>,t.edgeBlue=<span class="code-number">3</span>&amp;n,e},De.prototype.setPenLocation=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.current708Packet.data,n=i[e],r=t.currentWindow.penLoc;<span class="code-keyword">return</span> t.currentWindow.pendingNewLine=!<span class="code-number">0</span>,n=i[++e],r.row=<span class="code-number">15</span>&amp;n,n=i[++e],r.column=<span class="code-number">63</span>&amp;n,e},De.prototype.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.getPts(e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.flushDisplayed(i,t),<span class="code-keyword">this</span>.initService(t.serviceNum,e)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Oe</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>===e?<span class="code-string">""</span>:(e=Re[e]||e,<span class="code-built_in">String</span>.fromCharCode(e))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Me</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=[],t=<span class="code-number">15</span>;t--;)e.push(<span class="code-string">""</span>);<span class="code-keyword">return</span> e}<span class="code-keyword">var</span> Re={<span class="code-number">42</span>:<span class="code-number">225</span>,<span class="code-number">92</span>:<span class="code-number">233</span>,<span class="code-number">94</span>:<span class="code-number">237</span>,<span class="code-number">95</span>:<span class="code-number">243</span>,<span class="code-number">96</span>:<span class="code-number">250</span>,<span class="code-number">123</span>:<span class="code-number">231</span>,<span class="code-number">124</span>:<span class="code-number">247</span>,<span class="code-number">125</span>:<span class="code-number">209</span>,<span class="code-number">126</span>:<span class="code-number">241</span>,<span class="code-number">127</span>:<span class="code-number">9608</span>,<span class="code-number">304</span>:<span class="code-number">174</span>,<span class="code-number">305</span>:<span class="code-number">176</span>,<span class="code-number">306</span>:<span class="code-number">189</span>,<span class="code-number">307</span>:<span class="code-number">191</span>,<span class="code-number">308</span>:<span class="code-number">8482</span>,<span class="code-number">309</span>:<span class="code-number">162</span>,<span class="code-number">310</span>:<span class="code-number">163</span>,<span class="code-number">311</span>:<span class="code-number">9834</span>,<span class="code-number">312</span>:<span class="code-number">224</span>,<span class="code-number">313</span>:<span class="code-number">160</span>,<span class="code-number">314</span>:<span class="code-number">232</span>,<span class="code-number">315</span>:<span class="code-number">226</span>,<span class="code-number">316</span>:<span class="code-number">234</span>,<span class="code-number">317</span>:<span class="code-number">238</span>,<span class="code-number">318</span>:<span class="code-number">244</span>,<span class="code-number">319</span>:<span class="code-number">251</span>,<span class="code-number">544</span>:<span class="code-number">193</span>,<span class="code-number">545</span>:<span class="code-number">201</span>,<span class="code-number">546</span>:<span class="code-number">211</span>,<span class="code-number">547</span>:<span class="code-number">218</span>,<span class="code-number">548</span>:<span class="code-number">220</span>,<span class="code-number">549</span>:<span class="code-number">252</span>,<span class="code-number">550</span>:<span class="code-number">8216</span>,<span class="code-number">551</span>:<span class="code-number">161</span>,<span class="code-number">552</span>:<span class="code-number">42</span>,<span class="code-number">553</span>:<span class="code-number">39</span>,<span class="code-number">554</span>:<span class="code-number">8212</span>,<span class="code-number">555</span>:<span class="code-number">169</span>,<span class="code-number">556</span>:<span class="code-number">8480</span>,<span class="code-number">557</span>:<span class="code-number">8226</span>,<span class="code-number">558</span>:<span class="code-number">8220</span>,<span class="code-number">559</span>:<span class="code-number">8221</span>,<span class="code-number">560</span>:<span class="code-number">192</span>,<span class="code-number">561</span>:<span class="code-number">194</span>,<span class="code-number">562</span>:<span class="code-number">199</span>,<span class="code-number">563</span>:<span class="code-number">200</span>,<span class="code-number">564</span>:<span class="code-number">202</span>,<span class="code-number">565</span>:<span class="code-number">203</span>,<span class="code-number">566</span>:<span class="code-number">235</span>,<span class="code-number">567</span>:<span class="code-number">206</span>,<span class="code-number">568</span>:<span class="code-number">207</span>,<span class="code-number">569</span>:<span class="code-number">239</span>,<span class="code-number">570</span>:<span class="code-number">212</span>,<span class="code-number">571</span>:<span class="code-number">217</span>,<span class="code-number">572</span>:<span class="code-number">249</span>,<span class="code-number">573</span>:<span class="code-number">219</span>,<span class="code-number">574</span>:<span class="code-number">171</span>,<span class="code-number">575</span>:<span class="code-number">187</span>,<span class="code-number">800</span>:<span class="code-number">195</span>,<span class="code-number">801</span>:<span class="code-number">227</span>,<span class="code-number">802</span>:<span class="code-number">205</span>,<span class="code-number">803</span>:<span class="code-number">204</span>,<span class="code-number">804</span>:<span class="code-number">236</span>,<span class="code-number">805</span>:<span class="code-number">210</span>,<span class="code-number">806</span>:<span class="code-number">242</span>,<span class="code-number">807</span>:<span class="code-number">213</span>,<span class="code-number">808</span>:<span class="code-number">245</span>,<span class="code-number">809</span>:<span class="code-number">123</span>,<span class="code-number">810</span>:<span class="code-number">125</span>,<span class="code-number">811</span>:<span class="code-number">92</span>,<span class="code-number">812</span>:<span class="code-number">94</span>,<span class="code-number">813</span>:<span class="code-number">95</span>,<span class="code-number">814</span>:<span class="code-number">124</span>,<span class="code-number">815</span>:<span class="code-number">126</span>,<span class="code-number">816</span>:<span class="code-number">196</span>,<span class="code-number">817</span>:<span class="code-number">228</span>,<span class="code-number">818</span>:<span class="code-number">214</span>,<span class="code-number">819</span>:<span class="code-number">246</span>,<span class="code-number">820</span>:<span class="code-number">223</span>,<span class="code-number">821</span>:<span class="code-number">165</span>,<span class="code-number">822</span>:<span class="code-number">164</span>,<span class="code-number">823</span>:<span class="code-number">9474</span>,<span class="code-number">824</span>:<span class="code-number">197</span>,<span class="code-number">825</span>:<span class="code-number">229</span>,<span class="code-number">826</span>:<span class="code-number">216</span>,<span class="code-number">827</span>:<span class="code-number">248</span>,<span class="code-number">828</span>:<span class="code-number">9484</span>,<span class="code-number">829</span>:<span class="code-number">9488</span>,<span class="code-number">830</span>:<span class="code-number">9492</span>,<span class="code-number">831</span>:<span class="code-number">9496</span>},Ne=[<span class="code-number">4352</span>,<span class="code-number">4384</span>,<span class="code-number">4608</span>,<span class="code-number">4640</span>,<span class="code-number">5376</span>,<span class="code-number">5408</span>,<span class="code-number">5632</span>,<span class="code-number">5664</span>,<span class="code-number">5888</span>,<span class="code-number">5920</span>,<span class="code-number">4096</span>,<span class="code-number">4864</span>,<span class="code-number">4896</span>,<span class="code-number">5120</span>,<span class="code-number">5152</span>],Ue=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,i</span>)</span>{e.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.field_=t||<span class="code-number">0</span>,<span class="code-keyword">this</span>.dataChannel_=i||<span class="code-number">0</span>,<span class="code-keyword">this</span>.name_=<span class="code-string">"CC"</span>+(<span class="code-number">1</span>+(<span class="code-keyword">this</span>.field_&lt;&lt;<span class="code-number">1</span>|<span class="code-keyword">this</span>.dataChannel_)),<span class="code-keyword">this</span>.setConstants(),<span class="code-keyword">this</span>.reset(),<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a=<span class="code-number">32639</span>&amp;e.ccData;a!==<span class="code-keyword">this</span>.lastControlCode_?(<span class="code-number">4096</span>==(<span class="code-number">61440</span>&amp;a)?<span class="code-keyword">this</span>.lastControlCode_=a:a!==<span class="code-keyword">this</span>.PADDING_&amp;&amp;(<span class="code-keyword">this</span>.lastControlCode_=<span class="code-literal">null</span>),t=a&gt;&gt;&gt;<span class="code-number">8</span>,i=<span class="code-number">255</span>&amp;a,a===<span class="code-keyword">this</span>.PADDING_||(a===<span class="code-keyword">this</span>.RESUME_CAPTION_LOADING_?<span class="code-keyword">this</span>.mode_=<span class="code-string">"popOn"</span>:a===<span class="code-keyword">this</span>.END_OF_CAPTION_?(<span class="code-keyword">this</span>.mode_=<span class="code-string">"popOn"</span>,<span class="code-keyword">this</span>.clearFormatting(e.pts),<span class="code-keyword">this</span>.flushDisplayed(e.pts),r=<span class="code-keyword">this</span>.displayed_,<span class="code-keyword">this</span>.displayed_=<span class="code-keyword">this</span>.nonDisplayed_,<span class="code-keyword">this</span>.nonDisplayed_=r,<span class="code-keyword">this</span>.startPts_=e.pts):a===<span class="code-keyword">this</span>.ROLL_UP_2_ROWS_?(<span class="code-keyword">this</span>.rollUpRows_=<span class="code-number">2</span>,<span class="code-keyword">this</span>.setRollUp(e.pts)):a===<span class="code-keyword">this</span>.ROLL_UP_3_ROWS_?(<span class="code-keyword">this</span>.rollUpRows_=<span class="code-number">3</span>,<span class="code-keyword">this</span>.setRollUp(e.pts)):a===<span class="code-keyword">this</span>.ROLL_UP_4_ROWS_?(<span class="code-keyword">this</span>.rollUpRows_=<span class="code-number">4</span>,<span class="code-keyword">this</span>.setRollUp(e.pts)):a===<span class="code-keyword">this</span>.CARRIAGE_RETURN_?(<span class="code-keyword">this</span>.clearFormatting(e.pts),<span class="code-keyword">this</span>.flushDisplayed(e.pts),<span class="code-keyword">this</span>.shiftRowsUp_(),<span class="code-keyword">this</span>.startPts_=e.pts):a===<span class="code-keyword">this</span>.BACKSPACE_?<span class="code-string">"popOn"</span>===<span class="code-keyword">this</span>.mode_?<span class="code-keyword">this</span>.nonDisplayed_[<span class="code-keyword">this</span>.row_]=<span class="code-keyword">this</span>.nonDisplayed_[<span class="code-keyword">this</span>.row_].slice(<span class="code-number">0</span>,<span class="code-number">-1</span>):<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_]=<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_].slice(<span class="code-number">0</span>,<span class="code-number">-1</span>):a===<span class="code-keyword">this</span>.ERASE_DISPLAYED_MEMORY_?(<span class="code-keyword">this</span>.flushDisplayed(e.pts),<span class="code-keyword">this</span>.displayed_=Me()):a===<span class="code-keyword">this</span>.ERASE_NON_DISPLAYED_MEMORY_?<span class="code-keyword">this</span>.nonDisplayed_=Me():a===<span class="code-keyword">this</span>.RESUME_DIRECT_CAPTIONING_?(<span class="code-string">"paintOn"</span>!==<span class="code-keyword">this</span>.mode_&amp;&amp;(<span class="code-keyword">this</span>.flushDisplayed(e.pts),<span class="code-keyword">this</span>.displayed_=Me()),<span class="code-keyword">this</span>.mode_=<span class="code-string">"paintOn"</span>,<span class="code-keyword">this</span>.startPts_=e.pts):<span class="code-keyword">this</span>.isSpecialCharacter(t,i)?(n=Oe((t=(<span class="code-number">3</span>&amp;t)&lt;&lt;<span class="code-number">8</span>)|i),<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.mode_](e.pts,n),<span class="code-keyword">this</span>.column_++):<span class="code-keyword">this</span>.isExtCharacter(t,i)?(<span class="code-string">"popOn"</span>===<span class="code-keyword">this</span>.mode_?<span class="code-keyword">this</span>.nonDisplayed_[<span class="code-keyword">this</span>.row_]=<span class="code-keyword">this</span>.nonDisplayed_[<span class="code-keyword">this</span>.row_].slice(<span class="code-number">0</span>,<span class="code-number">-1</span>):<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_]=<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_].slice(<span class="code-number">0</span>,<span class="code-number">-1</span>),n=Oe((t=(<span class="code-number">3</span>&amp;t)&lt;&lt;<span class="code-number">8</span>)|i),<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.mode_](e.pts,n),<span class="code-keyword">this</span>.column_++):<span class="code-keyword">this</span>.isMidRowCode(t,i)?(<span class="code-keyword">this</span>.clearFormatting(e.pts),<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.mode_](e.pts,<span class="code-string">" "</span>),<span class="code-keyword">this</span>.column_++,<span class="code-number">14</span>==(<span class="code-number">14</span>&amp;i)&amp;&amp;<span class="code-keyword">this</span>.addFormatting(e.pts,[<span class="code-string">"i"</span>]),<span class="code-number">1</span>==(<span class="code-number">1</span>&amp;i)&amp;&amp;<span class="code-keyword">this</span>.addFormatting(e.pts,[<span class="code-string">"u"</span>])):<span class="code-keyword">this</span>.isOffsetControlCode(t,i)?<span class="code-keyword">this</span>.column_+=<span class="code-number">3</span>&amp;i:<span class="code-keyword">this</span>.isPAC(t,i)?(r=Ne.indexOf(<span class="code-number">7968</span>&amp;a),<span class="code-string">"rollUp"</span>===<span class="code-keyword">this</span>.mode_&amp;&amp;(r-<span class="code-keyword">this</span>.rollUpRows_+<span class="code-number">1</span>&lt;<span class="code-number">0</span>&amp;&amp;(r=<span class="code-keyword">this</span>.rollUpRows_<span class="code-number">-1</span>),<span class="code-keyword">this</span>.setRollUp(e.pts,r)),r!==<span class="code-keyword">this</span>.row_&amp;&amp;(<span class="code-keyword">this</span>.clearFormatting(e.pts),<span class="code-keyword">this</span>.row_=r),<span class="code-number">1</span>&amp;i&amp;&amp;<span class="code-number">-1</span>===<span class="code-keyword">this</span>.formatting_.indexOf(<span class="code-string">"u"</span>)&amp;&amp;<span class="code-keyword">this</span>.addFormatting(e.pts,[<span class="code-string">"u"</span>]),<span class="code-number">16</span>==(<span class="code-number">16</span>&amp;a)&amp;&amp;(<span class="code-keyword">this</span>.column_=<span class="code-number">4</span>*((<span class="code-number">14</span>&amp;a)&gt;&gt;<span class="code-number">1</span>)),<span class="code-keyword">this</span>.isColorPAC(i)&amp;&amp;<span class="code-number">14</span>==(<span class="code-number">14</span>&amp;i)&amp;&amp;<span class="code-keyword">this</span>.addFormatting(e.pts,[<span class="code-string">"i"</span>])):<span class="code-keyword">this</span>.isNormalChar(t)&amp;&amp;(<span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-literal">null</span>),n=Oe(t),n+=Oe(i),<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.mode_](e.pts,n),<span class="code-keyword">this</span>.column_+=n.length))):<span class="code-keyword">this</span>.lastControlCode_=<span class="code-literal">null</span>}};Ue.prototype=<span class="code-keyword">new</span> j,Ue.prototype.flushDisplayed=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.displayed_.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">try</span>{<span class="code-keyword">return</span> e.trim()}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"log"</span>,{<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"Skipping a malformed 608 caption at index "</span>+t+<span class="code-string">"."</span>}),<span class="code-string">""</span>}},<span class="code-keyword">this</span>).join(<span class="code-string">"\n"</span>).replace(<span class="code-regexp">/^\n+|\n+$/g</span>,<span class="code-string">""</span>);t.length&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">startPts</span>:<span class="code-keyword">this</span>.startPts_,<span class="code-attr">endPts</span>:e,<span class="code-attr">text</span>:t,<span class="code-attr">stream</span>:<span class="code-keyword">this</span>.name_})},Ue.prototype.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mode_=<span class="code-string">"popOn"</span>,<span class="code-keyword">this</span>.topRow_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.startPts_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.displayed_=Me(),<span class="code-keyword">this</span>.nonDisplayed_=Me(),<span class="code-keyword">this</span>.lastControlCode_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.column_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.row_=<span class="code-number">14</span>,<span class="code-keyword">this</span>.rollUpRows_=<span class="code-number">2</span>,<span class="code-keyword">this</span>.formatting_=[]},Ue.prototype.setConstants=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">0</span>===<span class="code-keyword">this</span>.dataChannel_?(<span class="code-keyword">this</span>.BASE_=<span class="code-number">16</span>,<span class="code-keyword">this</span>.EXT_=<span class="code-number">17</span>,<span class="code-keyword">this</span>.CONTROL_=(<span class="code-number">20</span>|<span class="code-keyword">this</span>.field_)&lt;&lt;<span class="code-number">8</span>,<span class="code-keyword">this</span>.OFFSET_=<span class="code-number">23</span>):<span class="code-number">1</span>===<span class="code-keyword">this</span>.dataChannel_&amp;&amp;(<span class="code-keyword">this</span>.BASE_=<span class="code-number">24</span>,<span class="code-keyword">this</span>.EXT_=<span class="code-number">25</span>,<span class="code-keyword">this</span>.CONTROL_=(<span class="code-number">28</span>|<span class="code-keyword">this</span>.field_)&lt;&lt;<span class="code-number">8</span>,<span class="code-keyword">this</span>.OFFSET_=<span class="code-number">31</span>),<span class="code-keyword">this</span>.PADDING_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.RESUME_CAPTION_LOADING_=<span class="code-number">32</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.END_OF_CAPTION_=<span class="code-number">47</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.ROLL_UP_2_ROWS_=<span class="code-number">37</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.ROLL_UP_3_ROWS_=<span class="code-number">38</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.ROLL_UP_4_ROWS_=<span class="code-number">39</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.CARRIAGE_RETURN_=<span class="code-number">45</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.RESUME_DIRECT_CAPTIONING_=<span class="code-number">41</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.BACKSPACE_=<span class="code-number">33</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.ERASE_DISPLAYED_MEMORY_=<span class="code-number">44</span>|<span class="code-keyword">this</span>.CONTROL_,<span class="code-keyword">this</span>.ERASE_NON_DISPLAYED_MEMORY_=<span class="code-number">46</span>|<span class="code-keyword">this</span>.CONTROL_},Ue.prototype.isSpecialCharacter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e===<span class="code-keyword">this</span>.EXT_&amp;&amp;<span class="code-number">48</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">63</span>},Ue.prototype.isExtCharacter=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(e===<span class="code-keyword">this</span>.EXT_+<span class="code-number">1</span>||e===<span class="code-keyword">this</span>.EXT_+<span class="code-number">2</span>)&amp;&amp;<span class="code-number">32</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">63</span>},Ue.prototype.isMidRowCode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e===<span class="code-keyword">this</span>.EXT_&amp;&amp;<span class="code-number">32</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">47</span>},Ue.prototype.isOffsetControlCode=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e===<span class="code-keyword">this</span>.OFFSET_&amp;&amp;<span class="code-number">33</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">35</span>},Ue.prototype.isPAC=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e&gt;=<span class="code-keyword">this</span>.BASE_&amp;&amp;e&lt;<span class="code-keyword">this</span>.BASE_+<span class="code-number">8</span>&amp;&amp;<span class="code-number">64</span>&lt;=t&amp;&amp;t&lt;=<span class="code-number">127</span>},Ue.prototype.isColorPAC=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">64</span>&lt;=e&amp;&amp;e&lt;=<span class="code-number">79</span>||<span class="code-number">96</span>&lt;=e&amp;&amp;e&lt;=<span class="code-number">127</span>},Ue.prototype.isNormalChar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">32</span>&lt;=e&amp;&amp;e&lt;=<span class="code-number">127</span>},Ue.prototype.setRollUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"rollUp"</span>!==<span class="code-keyword">this</span>.mode_&amp;&amp;(<span class="code-keyword">this</span>.row_=<span class="code-number">14</span>,<span class="code-keyword">this</span>.mode_=<span class="code-string">"rollUp"</span>,<span class="code-keyword">this</span>.flushDisplayed(e),<span class="code-keyword">this</span>.nonDisplayed_=Me(),<span class="code-keyword">this</span>.displayed_=Me()),<span class="code-keyword">void</span> <span class="code-number">0</span>!==t&amp;&amp;t!==<span class="code-keyword">this</span>.row_)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;<span class="code-keyword">this</span>.rollUpRows_;i++)<span class="code-keyword">this</span>.displayed_[t-i]=<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_-i],<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_-i]=<span class="code-string">""</span>;<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">this</span>.row_),<span class="code-keyword">this</span>.topRow_=t-<span class="code-keyword">this</span>.rollUpRows_+<span class="code-number">1</span>},Ue.prototype.addFormatting=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.formatting_=<span class="code-keyword">this</span>.formatting_.concat(t);t=t.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e+<span class="code-string">"&lt;"</span>+t+<span class="code-string">"&gt;"</span>},<span class="code-string">""</span>);<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.mode_](e,t)},Ue.prototype.clearFormatting=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">this</span>.formatting_.length&amp;&amp;(t=<span class="code-keyword">this</span>.formatting_.reverse().reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e+<span class="code-string">"&lt;/"</span>+t+<span class="code-string">"&gt;"</span>},<span class="code-string">""</span>),<span class="code-keyword">this</span>.formatting_=[],<span class="code-keyword">this</span>[<span class="code-keyword">this</span>.mode_](e,t))},Ue.prototype.popOn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.nonDisplayed_[<span class="code-keyword">this</span>.row_];<span class="code-keyword">this</span>.nonDisplayed_[<span class="code-keyword">this</span>.row_]=i+=t},Ue.prototype.rollUp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_];<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_]=i+=t},Ue.prototype.shiftRowsUp_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;<span class="code-keyword">this</span>.topRow_;e++)<span class="code-keyword">this</span>.displayed_[e]=<span class="code-string">""</span>;<span class="code-keyword">for</span>(e=<span class="code-keyword">this</span>.row_+<span class="code-number">1</span>;e&lt;<span class="code-number">15</span>;e++)<span class="code-keyword">this</span>.displayed_[e]=<span class="code-string">""</span>;<span class="code-keyword">for</span>(e=<span class="code-keyword">this</span>.topRow_;e&lt;<span class="code-keyword">this</span>.row_;e++)<span class="code-keyword">this</span>.displayed_[e]=<span class="code-keyword">this</span>.displayed_[e+<span class="code-number">1</span>];<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_]=<span class="code-string">""</span>},Ue.prototype.paintOn=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_];<span class="code-keyword">this</span>.displayed_[<span class="code-keyword">this</span>.row_]=i+=t};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Be</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">1</span>;<span class="code-keyword">for</span>(t&lt;e&amp;&amp;(i=<span class="code-number">-1</span>);<span class="code-number">4294967296</span>&lt;<span class="code-built_in">Math</span>.abs(t-e);)e+=<span class="code-number">8589934592</span>*i;<span class="code-keyword">return</span> e}<span class="code-keyword">var</span> Fe={<span class="code-attr">CaptionStream</span>:Ie,<span class="code-attr">Cea608Stream</span>:Ue,<span class="code-attr">Cea708Stream</span>:De},je={<span class="code-attr">H264_STREAM_TYPE</span>:<span class="code-number">27</span>,<span class="code-attr">ADTS_STREAM_TYPE</span>:<span class="code-number">15</span>,<span class="code-attr">METADATA_STREAM_TYPE</span>:<span class="code-number">21</span>},e=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i,n;e.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.type_=t||<span class="code-string">"shared"</span>,<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"shared"</span>!==<span class="code-keyword">this</span>.type_&amp;&amp;e.type!==<span class="code-keyword">this</span>.type_||(<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=e.dts),e.dts=Be(e.dts,n),e.pts=Be(e.pts,n),i=e.dts,<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,e))},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n=i,<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>)},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.flush(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"endedtimeline"</span>)},<span class="code-keyword">this</span>.discontinuity=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i=n=<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.discontinuity(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)}};e.prototype=<span class="code-keyword">new</span> j;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">He</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-string">""</span>,r=t;r&lt;i;r++)n+=<span class="code-string">"%"</span>+(<span class="code-string">"00"</span>+e[r].toString(<span class="code-number">16</span>)).slice(<span class="code-number">-2</span>);<span class="code-keyword">return</span> n}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">qe</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">decodeURIComponent</span>(He(e,t,i))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ve</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e[<span class="code-number">0</span>]&lt;&lt;<span class="code-number">21</span>|e[<span class="code-number">1</span>]&lt;&lt;<span class="code-number">14</span>|e[<span class="code-number">2</span>]&lt;&lt;<span class="code-number">7</span>|e[<span class="code-number">3</span>]}<span class="code-keyword">var</span> We=e,Ie=Be,Ge={<span class="code-attr">TXXX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">if</span>(<span class="code-number">3</span>===e.data[<span class="code-number">0</span>]){<span class="code-keyword">for</span>(t=<span class="code-number">1</span>;t&lt;e.data.length;t++)<span class="code-keyword">if</span>(<span class="code-number">0</span>===e.data[t]){e.description=qe(e.data,<span class="code-number">1</span>,t),e.value=qe(e.data,t+<span class="code-number">1</span>,e.data.length).replace(<span class="code-regexp">/\0*$/</span>,<span class="code-string">""</span>);<span class="code-keyword">break</span>}e.data=e.value}},<span class="code-attr">WXXX</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">if</span>(<span class="code-number">3</span>===e.data[<span class="code-number">0</span>])<span class="code-keyword">for</span>(t=<span class="code-number">1</span>;t&lt;e.data.length;t++)<span class="code-keyword">if</span>(<span class="code-number">0</span>===e.data[t]){e.description=qe(e.data,<span class="code-number">1</span>,t),e.url=qe(e.data,t+<span class="code-number">1</span>,e.data.length);<span class="code-keyword">break</span>}},<span class="code-attr">PRIV</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=<span class="code-number">0</span>;i&lt;e.data.length;i++)<span class="code-keyword">if</span>(<span class="code-number">0</span>===e.data[i]){e.owner=(t=e.data,<span class="code-built_in">unescape</span>(He(t,<span class="code-number">0</span>,i)));<span class="code-keyword">break</span>}e.privateData=e.data.subarray(i+<span class="code-number">1</span>),e.data=e.privateData}},ze=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i={<span class="code-attr">descriptor</span>:e&amp;&amp;e.descriptor},u=<span class="code-number">0</span>,l=[],c=<span class="code-number">0</span>;<span class="code-keyword">if</span>(ze.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.dispatchType=je.METADATA_STREAM_TYPE.toString(<span class="code-number">16</span>),i.descriptor)<span class="code-keyword">for</span>(t=<span class="code-number">0</span>;t&lt;i.descriptor.length;t++)<span class="code-keyword">this</span>.dispatchType+=(<span class="code-string">"00"</span>+i.descriptor[t].toString(<span class="code-number">16</span>)).slice(<span class="code-number">-2</span>);<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a,s,o;<span class="code-keyword">if</span>(<span class="code-string">"timed-metadata"</span>===e.type)<span class="code-keyword">if</span>(e.dataAlignmentIndicator&amp;&amp;(c=<span class="code-number">0</span>,l.length=<span class="code-number">0</span>),<span class="code-number">0</span>===l.length&amp;&amp;(e.data.length&lt;<span class="code-number">10</span>||e.data[<span class="code-number">0</span>]!==<span class="code-string">"I"</span>.charCodeAt(<span class="code-number">0</span>)||e.data[<span class="code-number">1</span>]!==<span class="code-string">"D"</span>.charCodeAt(<span class="code-number">0</span>)||e.data[<span class="code-number">2</span>]!==<span class="code-string">"3"</span>.charCodeAt(<span class="code-number">0</span>)))<span class="code-keyword">this</span>.trigger(<span class="code-string">"log"</span>,{<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"Skipping unrecognized metadata packet"</span>});<span class="code-keyword">else</span> <span class="code-keyword">if</span>(l.push(e),c+=e.data.byteLength,<span class="code-number">1</span>===l.length&amp;&amp;(u=Ve(e.data.subarray(<span class="code-number">6</span>,<span class="code-number">10</span>)),u+=<span class="code-number">10</span>),!(c&lt;u)){<span class="code-keyword">for</span>(t={<span class="code-attr">data</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(u),<span class="code-attr">frames</span>:[],<span class="code-attr">pts</span>:l[<span class="code-number">0</span>].pts,<span class="code-attr">dts</span>:l[<span class="code-number">0</span>].dts},r=<span class="code-number">0</span>;r&lt;u;)t.data.set(l[<span class="code-number">0</span>].data.subarray(<span class="code-number">0</span>,u-r),r),r+=l[<span class="code-number">0</span>].data.byteLength,c-=l[<span class="code-number">0</span>].data.byteLength,l.shift();i=<span class="code-number">10</span>,<span class="code-number">64</span>&amp;t.data[<span class="code-number">5</span>]&amp;&amp;(i+=<span class="code-number">4</span>,i+=Ve(t.data.subarray(<span class="code-number">10</span>,<span class="code-number">14</span>)),u-=Ve(t.data.subarray(<span class="code-number">16</span>,<span class="code-number">20</span>)));<span class="code-keyword">do</span>{<span class="code-keyword">if</span>((n=Ve(t.data.subarray(i+<span class="code-number">4</span>,i+<span class="code-number">8</span>)))&lt;<span class="code-number">1</span>)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"log"</span>,{<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"Malformed ID3 frame encountered. Skipping metadata parsing."</span>})}<span class="code-keyword">while</span>((o={<span class="code-attr">id</span>:<span class="code-built_in">String</span>.fromCharCode(t.data[i],t.data[i+<span class="code-number">1</span>],t.data[i+<span class="code-number">2</span>],t.data[i+<span class="code-number">3</span>]),<span class="code-attr">data</span>:t.data.subarray(i+<span class="code-number">10</span>,i+n+<span class="code-number">10</span>)}).key=o.id,Ge[o.id]&amp;&amp;(Ge[o.id](o),<span class="code-string">"com.apple.streaming.transportStreamTimestamp"</span>===o.owner&amp;&amp;(s=(<span class="code-number">1</span>&amp;(a=o.data)[<span class="code-number">3</span>])&lt;&lt;<span class="code-number">30</span>|a[<span class="code-number">4</span>]&lt;&lt;<span class="code-number">22</span>|a[<span class="code-number">5</span>]&lt;&lt;<span class="code-number">14</span>|a[<span class="code-number">6</span>]&lt;&lt;<span class="code-number">6</span>|a[<span class="code-number">7</span>]&gt;&gt;&gt;<span class="code-number">2</span>,s*=<span class="code-number">4</span>,s+=<span class="code-number">3</span>&amp;a[<span class="code-number">7</span>],o.timeStamp=s,<span class="code-keyword">void</span> <span class="code-number">0</span>===t.pts&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===t.dts&amp;&amp;(t.pts=o.timeStamp,t.dts=o.timeStamp),<span class="code-keyword">this</span>.trigger(<span class="code-string">"timestamp"</span>,o))),t.frames.push(o),i+=<span class="code-number">10</span>,(i+=n)&lt;u);<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,t)}}};ze.prototype=<span class="code-keyword">new</span> j;<span class="code-keyword">var</span> Xe,Ke,e=ze,We=We,Ye=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-number">188</span>),a=<span class="code-number">0</span>;Ye.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-number">0</span>,n=<span class="code-number">188</span>;<span class="code-keyword">for</span>(a?((t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.byteLength+a)).set(r.subarray(<span class="code-number">0</span>,a)),t.set(e,a),a=<span class="code-number">0</span>):t=e;n&lt;t.byteLength;)<span class="code-number">71</span>!==t[i]||<span class="code-number">71</span>!==t[n]?(i++,n++):(<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,t.subarray(i,n)),i+=<span class="code-number">188</span>,n+=<span class="code-number">188</span>);i&lt;t.byteLength&amp;&amp;(r.set(t.subarray(i),<span class="code-number">0</span>),a=t.byteLength-i)},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">188</span>===a&amp;&amp;<span class="code-number">71</span>===r[<span class="code-number">0</span>]&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,r),a=<span class="code-number">0</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>)},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.flush(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"endedtimeline"</span>)},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)}};Ye.prototype=<span class="code-keyword">new</span> j,(Xe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n,r,a,s;Xe.prototype.init.call(<span class="code-keyword">this</span>),(s=<span class="code-keyword">this</span>).packetsWaitingForPmt=[],<span class="code-keyword">this</span>.programMapTable=<span class="code-keyword">void</span> <span class="code-number">0</span>,n=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">0</span>;t.payloadUnitStartIndicator&amp;&amp;(i+=e[i]+<span class="code-number">1</span>),(<span class="code-string">"pat"</span>===t.type?r:a)(e.subarray(i),t)},r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t.section_number=e[<span class="code-number">7</span>],t.last_section_number=e[<span class="code-number">8</span>],s.pmtPid=(<span class="code-number">31</span>&amp;e[<span class="code-number">10</span>])&lt;&lt;<span class="code-number">8</span>|e[<span class="code-number">11</span>],t.pmtPid=s.pmtPid},a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n;<span class="code-keyword">if</span>(<span class="code-number">1</span>&amp;e[<span class="code-number">5</span>]){<span class="code-keyword">for</span>(s.programMapTable={<span class="code-attr">video</span>:<span class="code-literal">null</span>,<span class="code-attr">audio</span>:<span class="code-literal">null</span>,<span class="code-string">"timed-metadata"</span>:{}},i=<span class="code-number">3</span>+((<span class="code-number">15</span>&amp;e[<span class="code-number">1</span>])&lt;&lt;<span class="code-number">8</span>|e[<span class="code-number">2</span>])<span class="code-number">-4</span>,n=<span class="code-number">12</span>+((<span class="code-number">15</span>&amp;e[<span class="code-number">10</span>])&lt;&lt;<span class="code-number">8</span>|e[<span class="code-number">11</span>]);n&lt;i;){<span class="code-keyword">var</span> r=e[n],a=(<span class="code-number">31</span>&amp;e[n+<span class="code-number">1</span>])&lt;&lt;<span class="code-number">8</span>|e[n+<span class="code-number">2</span>];r===je.H264_STREAM_TYPE&amp;&amp;<span class="code-literal">null</span>===s.programMapTable.video?s.programMapTable.video=a:r===je.ADTS_STREAM_TYPE&amp;&amp;<span class="code-literal">null</span>===s.programMapTable.audio?s.programMapTable.audio=a:r===je.METADATA_STREAM_TYPE&amp;&amp;(s.programMapTable[<span class="code-string">"timed-metadata"</span>][a]=r),n+=<span class="code-number">5</span>+((<span class="code-number">15</span>&amp;e[n+<span class="code-number">3</span>])&lt;&lt;<span class="code-number">8</span>|e[n+<span class="code-number">4</span>])}t.programMapTable=s.programMapTable}},<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={},i=<span class="code-number">4</span>;<span class="code-keyword">if</span>(t.payloadUnitStartIndicator=!!(<span class="code-number">64</span>&amp;e[<span class="code-number">1</span>]),t.pid=<span class="code-number">31</span>&amp;e[<span class="code-number">1</span>],t.pid&lt;&lt;=<span class="code-number">8</span>,t.pid|=e[<span class="code-number">2</span>],<span class="code-number">1</span>&lt;(<span class="code-number">48</span>&amp;e[<span class="code-number">3</span>])&gt;&gt;&gt;<span class="code-number">4</span>&amp;&amp;(i+=e[i]+<span class="code-number">1</span>),<span class="code-number">0</span>===t.pid)t.type=<span class="code-string">"pat"</span>,n(e.subarray(i),t),<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,t);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.pid===<span class="code-keyword">this</span>.pmtPid)<span class="code-keyword">for</span>(t.type=<span class="code-string">"pmt"</span>,n(e.subarray(i),t),<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,t);<span class="code-keyword">this</span>.packetsWaitingForPmt.length;)<span class="code-keyword">this</span>.processPes_.apply(<span class="code-keyword">this</span>,<span class="code-keyword">this</span>.packetsWaitingForPmt.shift());<span class="code-keyword">else</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===<span class="code-keyword">this</span>.programMapTable?<span class="code-keyword">this</span>.packetsWaitingForPmt.push([e,i,t]):<span class="code-keyword">this</span>.processPes_(e,i,t)},<span class="code-keyword">this</span>.processPes_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{i.pid===<span class="code-keyword">this</span>.programMapTable.video?i.streamType=je.H264_STREAM_TYPE:i.pid===<span class="code-keyword">this</span>.programMapTable.audio?i.streamType=je.ADTS_STREAM_TYPE:i.streamType=<span class="code-keyword">this</span>.programMapTable[<span class="code-string">"timed-metadata"</span>][i.pid],i.type=<span class="code-string">"pes"</span>,i.data=e.subarray(t),<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,i)}}).prototype=<span class="code-keyword">new</span> j,Xe.STREAM_TYPES={<span class="code-attr">h264</span>:<span class="code-number">27</span>,<span class="code-attr">adts</span>:<span class="code-number">15</span>},(Ke=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a,s,o=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.size),u={<span class="code-attr">type</span>:t},l=<span class="code-number">0</span>,c=<span class="code-number">0</span>;<span class="code-keyword">if</span>(e.data.length&amp;&amp;!(e.size&lt;<span class="code-number">9</span>)){<span class="code-keyword">for</span>(u.trackId=e.data[<span class="code-number">0</span>].pid,l=<span class="code-number">0</span>;l&lt;e.data.length;l++)n=e.data[l],o.set(n.data,c),c+=n.data.byteLength;a=u,s=(r=o)[<span class="code-number">0</span>]&lt;&lt;<span class="code-number">16</span>|r[<span class="code-number">1</span>]&lt;&lt;<span class="code-number">8</span>|r[<span class="code-number">2</span>],a.data=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>,<span class="code-number">1</span>==s&amp;&amp;(a.packetLength=<span class="code-number">6</span>+(r[<span class="code-number">4</span>]&lt;&lt;<span class="code-number">8</span>|r[<span class="code-number">5</span>]),a.dataAlignmentIndicator=<span class="code-number">0</span>!=(<span class="code-number">4</span>&amp;r[<span class="code-number">6</span>]),<span class="code-number">192</span>&amp;(s=r[<span class="code-number">7</span>])&amp;&amp;(a.pts=(<span class="code-number">14</span>&amp;r[<span class="code-number">9</span>])&lt;&lt;<span class="code-number">27</span>|(<span class="code-number">255</span>&amp;r[<span class="code-number">10</span>])&lt;&lt;<span class="code-number">20</span>|(<span class="code-number">254</span>&amp;r[<span class="code-number">11</span>])&lt;&lt;<span class="code-number">12</span>|(<span class="code-number">255</span>&amp;r[<span class="code-number">12</span>])&lt;&lt;<span class="code-number">5</span>|(<span class="code-number">254</span>&amp;r[<span class="code-number">13</span>])&gt;&gt;&gt;<span class="code-number">3</span>,a.pts*=<span class="code-number">4</span>,a.pts+=(<span class="code-number">6</span>&amp;r[<span class="code-number">13</span>])&gt;&gt;&gt;<span class="code-number">1</span>,a.dts=a.pts,<span class="code-number">64</span>&amp;s&amp;&amp;(a.dts=(<span class="code-number">14</span>&amp;r[<span class="code-number">14</span>])&lt;&lt;<span class="code-number">27</span>|(<span class="code-number">255</span>&amp;r[<span class="code-number">15</span>])&lt;&lt;<span class="code-number">20</span>|(<span class="code-number">254</span>&amp;r[<span class="code-number">16</span>])&lt;&lt;<span class="code-number">12</span>|(<span class="code-number">255</span>&amp;r[<span class="code-number">17</span>])&lt;&lt;<span class="code-number">5</span>|(<span class="code-number">254</span>&amp;r[<span class="code-number">18</span>])&gt;&gt;&gt;<span class="code-number">3</span>,a.dts*=<span class="code-number">4</span>,a.dts+=(<span class="code-number">6</span>&amp;r[<span class="code-number">18</span>])&gt;&gt;&gt;<span class="code-number">1</span>)),a.data=r.subarray(<span class="code-number">9</span>+r[<span class="code-number">8</span>])),t=<span class="code-string">"video"</span>===t||u.packetLength&lt;=e.size,(i||t)&amp;&amp;(e.size=<span class="code-number">0</span>,e.data.length=<span class="code-number">0</span>),t&amp;&amp;d.trigger(<span class="code-string">"data"</span>,u)}}<span class="code-keyword">var</span> t,d=<span class="code-keyword">this</span>,r=!<span class="code-number">1</span>,a={<span class="code-attr">data</span>:[],<span class="code-attr">size</span>:<span class="code-number">0</span>},s={<span class="code-attr">data</span>:[],<span class="code-attr">size</span>:<span class="code-number">0</span>},o={<span class="code-attr">data</span>:[],<span class="code-attr">size</span>:<span class="code-number">0</span>};Ke.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{({<span class="code-attr">pat</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},<span class="code-attr">pes</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t;<span class="code-keyword">switch</span>(i.streamType){<span class="code-keyword">case</span> je.H264_STREAM_TYPE:e=a,t=<span class="code-string">"video"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> je.ADTS_STREAM_TYPE:e=s,t=<span class="code-string">"audio"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> je.METADATA_STREAM_TYPE:e=o,t=<span class="code-string">"timed-metadata"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:<span class="code-keyword">return</span>}i.payloadUnitStartIndicator&amp;&amp;n(e,t,!<span class="code-number">0</span>),e.data.push(i),e.size+=i.data.byteLength},<span class="code-attr">pmt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e={<span class="code-attr">type</span>:<span class="code-string">"metadata"</span>,<span class="code-attr">tracks</span>:[]};<span class="code-literal">null</span>!==(t=i.programMapTable).video&amp;&amp;e.tracks.push({<span class="code-attr">timelineStartInfo</span>:{<span class="code-attr">baseMediaDecodeTime</span>:<span class="code-number">0</span>},<span class="code-attr">id</span>:+t.video,<span class="code-attr">codec</span>:<span class="code-string">"avc"</span>,<span class="code-attr">type</span>:<span class="code-string">"video"</span>}),<span class="code-literal">null</span>!==t.audio&amp;&amp;e.tracks.push({<span class="code-attr">timelineStartInfo</span>:{<span class="code-attr">baseMediaDecodeTime</span>:<span class="code-number">0</span>},<span class="code-attr">id</span>:+t.audio,<span class="code-attr">codec</span>:<span class="code-string">"adts"</span>,<span class="code-attr">type</span>:<span class="code-string">"audio"</span>}),r=!<span class="code-number">0</span>,d.trigger(<span class="code-string">"data"</span>,e)}})[i.type]()},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.size=<span class="code-number">0</span>,a.data.length=<span class="code-number">0</span>,s.size=<span class="code-number">0</span>,s.data.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)},<span class="code-keyword">this</span>.flushStreams_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n(a,<span class="code-string">"video"</span>),n(s,<span class="code-string">"audio"</span>),n(o,<span class="code-string">"timed-metadata"</span>)},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;!r&amp;&amp;t&amp;&amp;(e={<span class="code-attr">type</span>:<span class="code-string">"metadata"</span>,<span class="code-attr">tracks</span>:[]},<span class="code-literal">null</span>!==t.video&amp;&amp;e.tracks.push({<span class="code-attr">timelineStartInfo</span>:{<span class="code-attr">baseMediaDecodeTime</span>:<span class="code-number">0</span>},<span class="code-attr">id</span>:+t.video,<span class="code-attr">codec</span>:<span class="code-string">"avc"</span>,<span class="code-attr">type</span>:<span class="code-string">"video"</span>}),<span class="code-literal">null</span>!==t.audio&amp;&amp;e.tracks.push({<span class="code-attr">timelineStartInfo</span>:{<span class="code-attr">baseMediaDecodeTime</span>:<span class="code-number">0</span>},<span class="code-attr">id</span>:+t.audio,<span class="code-attr">codec</span>:<span class="code-string">"adts"</span>,<span class="code-attr">type</span>:<span class="code-string">"audio"</span>}),d.trigger(<span class="code-string">"data"</span>,e)),r=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.flushStreams_(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>)}}).prototype=<span class="code-keyword">new</span> j;<span class="code-keyword">var</span> Qe,$e={<span class="code-attr">PAT_PID</span>:<span class="code-number">0</span>,<span class="code-attr">MP2T_PACKET_LENGTH</span>:<span class="code-number">188</span>,<span class="code-attr">TransportPacketStream</span>:Ye,<span class="code-attr">TransportParseStream</span>:Xe,<span class="code-attr">ElementaryStream</span>:Ke,<span class="code-attr">TimestampRolloverStream</span>:We,<span class="code-attr">CaptionStream</span>:Fe.CaptionStream,<span class="code-attr">Cea608Stream</span>:Fe.Cea608Stream,<span class="code-attr">Cea708Stream</span>:Fe.Cea708Stream,<span class="code-attr">MetadataStream</span>:e};<span class="code-keyword">for</span>(Qe <span class="code-keyword">in</span> je)je.hasOwnProperty(Qe)&amp;&amp;($e[Qe]=je[Qe]);<span class="code-keyword">var</span> Je=$e,Ze=ue,et=[<span class="code-number">96e3</span>,<span class="code-number">88200</span>,<span class="code-number">64e3</span>,<span class="code-number">48e3</span>,<span class="code-number">44100</span>,<span class="code-number">32e3</span>,<span class="code-number">24e3</span>,<span class="code-number">22050</span>,<span class="code-number">16e3</span>,<span class="code-number">12e3</span>,<span class="code-number">11025</span>,<span class="code-number">8e3</span>,<span class="code-number">7350</span>],tt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">u</span>)</span>{<span class="code-keyword">var</span> l,c=<span class="code-number">0</span>;tt.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.skipWarn_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"log"</span>,{<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"adts skiping bytes "</span>+e+<span class="code-string">" to "</span>+t+<span class="code-string">" in frame "</span>+c+<span class="code-string">" outside syncword"</span>})},<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a,s,o=<span class="code-number">0</span>;<span class="code-keyword">if</span>(u||(c=<span class="code-number">0</span>),<span class="code-string">"audio"</span>===e.type){<span class="code-keyword">for</span>(l&amp;&amp;l.length?(n=l,(l=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n.byteLength+e.data.byteLength)).set(n),l.set(e.data,n.byteLength)):l=e.data;o+<span class="code-number">7</span>&lt;l.length;)<span class="code-keyword">if</span>(<span class="code-number">255</span>===l[o]&amp;&amp;<span class="code-number">240</span>==(<span class="code-number">246</span>&amp;l[o+<span class="code-number">1</span>])){<span class="code-keyword">if</span>(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> s&amp;&amp;(<span class="code-keyword">this</span>.skipWarn_(s,o),s=<span class="code-literal">null</span>),i=<span class="code-number">2</span>*(<span class="code-number">1</span>&amp;~l[o+<span class="code-number">1</span>]),t=(<span class="code-number">3</span>&amp;l[o+<span class="code-number">3</span>])&lt;&lt;<span class="code-number">11</span>|l[o+<span class="code-number">4</span>]&lt;&lt;<span class="code-number">3</span>|(<span class="code-number">224</span>&amp;l[o+<span class="code-number">5</span>])&gt;&gt;<span class="code-number">5</span>,a=(r=<span class="code-number">1024</span>*(<span class="code-number">1</span>+(<span class="code-number">3</span>&amp;l[o+<span class="code-number">6</span>])))*Ze/et[(<span class="code-number">60</span>&amp;l[o+<span class="code-number">2</span>])&gt;&gt;&gt;<span class="code-number">2</span>],l.byteLength-o&lt;t)<span class="code-keyword">break</span>;<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">pts</span>:e.pts+c*a,<span class="code-attr">dts</span>:e.dts+c*a,<span class="code-attr">sampleCount</span>:r,<span class="code-attr">audioobjecttype</span>:<span class="code-number">1</span>+(l[o+<span class="code-number">2</span>]&gt;&gt;&gt;<span class="code-number">6</span>&amp;<span class="code-number">3</span>),<span class="code-attr">channelcount</span>:(<span class="code-number">1</span>&amp;l[o+<span class="code-number">2</span>])&lt;&lt;<span class="code-number">2</span>|(<span class="code-number">192</span>&amp;l[o+<span class="code-number">3</span>])&gt;&gt;&gt;<span class="code-number">6</span>,<span class="code-attr">samplerate</span>:et[(<span class="code-number">60</span>&amp;l[o+<span class="code-number">2</span>])&gt;&gt;&gt;<span class="code-number">2</span>],<span class="code-attr">samplingfrequencyindex</span>:(<span class="code-number">60</span>&amp;l[o+<span class="code-number">2</span>])&gt;&gt;&gt;<span class="code-number">2</span>,<span class="code-attr">samplesize</span>:<span class="code-number">16</span>,<span class="code-attr">data</span>:l.subarray(o+<span class="code-number">7</span>+i,o+t)}),c++,o+=t}<span class="code-keyword">else</span><span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> s&amp;&amp;(s=o),o++;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> s&amp;&amp;(<span class="code-keyword">this</span>.skipWarn_(s,o),s=<span class="code-literal">null</span>),l=l.subarray(o)}},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{c=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>)},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{l=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{l=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"endedtimeline"</span>)}};tt.prototype=<span class="code-keyword">new</span> j;<span class="code-keyword">var</span> it,nt,rt=tt,at=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> r=n.byteLength,a=<span class="code-number">0</span>,s=<span class="code-number">0</span>;<span class="code-keyword">this</span>.length=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">8</span>*r},<span class="code-keyword">this</span>.bitsAvailable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">8</span>*r+s},<span class="code-keyword">this</span>.loadWord=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.byteLength-r,t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-number">4</span>),i=<span class="code-built_in">Math</span>.min(<span class="code-number">4</span>,r);<span class="code-keyword">if</span>(<span class="code-number">0</span>===i)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"no bytes available"</span>);t.set(n.subarray(e,e+i)),a=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(t.buffer).getUint32(<span class="code-number">0</span>),s=<span class="code-number">8</span>*i,r-=i},<span class="code-keyword">this</span>.skipBits=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;e&lt;s||(e-=s,e-=<span class="code-number">8</span>*(t=<span class="code-built_in">Math</span>.floor(e/<span class="code-number">8</span>)),r-=t,<span class="code-keyword">this</span>.loadWord()),a&lt;&lt;=e,s-=e},<span class="code-keyword">this</span>.readBits=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">Math</span>.min(s,e),i=a&gt;&gt;&gt;<span class="code-number">32</span>-t;<span class="code-keyword">return</span> <span class="code-number">0</span>&lt;(s-=t)?a&lt;&lt;=t:<span class="code-number">0</span>&lt;r&amp;&amp;<span class="code-keyword">this</span>.loadWord(),<span class="code-number">0</span>&lt;(t=e-t)?i&lt;&lt;t|<span class="code-keyword">this</span>.readBits(t):i},<span class="code-keyword">this</span>.skipLeadingZeros=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e=<span class="code-number">0</span>;e&lt;s;++e)<span class="code-keyword">if</span>(<span class="code-number">0</span>!=(a&amp;<span class="code-number">2147483648</span>&gt;&gt;&gt;e))<span class="code-keyword">return</span> a&lt;&lt;=e,s-=e,e;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.loadWord(),e+<span class="code-keyword">this</span>.skipLeadingZeros()},<span class="code-keyword">this</span>.skipUnsignedExpGolomb=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.skipBits(<span class="code-number">1</span>+<span class="code-keyword">this</span>.skipLeadingZeros())},<span class="code-keyword">this</span>.skipExpGolomb=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.skipBits(<span class="code-number">1</span>+<span class="code-keyword">this</span>.skipLeadingZeros())},<span class="code-keyword">this</span>.readUnsignedExpGolomb=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.skipLeadingZeros();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.readBits(e+<span class="code-number">1</span>)<span class="code-number">-1</span>},<span class="code-keyword">this</span>.readExpGolomb=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.readUnsignedExpGolomb();<span class="code-keyword">return</span> <span class="code-number">1</span>&amp;e?<span class="code-number">1</span>+e&gt;&gt;&gt;<span class="code-number">1</span>:<span class="code-number">-1</span>*(e&gt;&gt;&gt;<span class="code-number">1</span>)},<span class="code-keyword">this</span>.readBoolean=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">1</span>===<span class="code-keyword">this</span>.readBits(<span class="code-number">1</span>)},<span class="code-keyword">this</span>.readUnsignedByte=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.readBits(<span class="code-number">8</span>)},<span class="code-keyword">this</span>.loadWord()},st=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n,r,a=<span class="code-number">0</span>;st.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=(r=r?((t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;a&lt;i<span class="code-number">-3</span>;a++)<span class="code-keyword">if</span>(<span class="code-number">1</span>===r[a+<span class="code-number">2</span>]){n=a+<span class="code-number">5</span>;<span class="code-keyword">break</span>}<span class="code-keyword">for</span>(;n&lt;i;)<span class="code-keyword">switch</span>(r[n]){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">if</span>(<span class="code-number">0</span>!==r[n<span class="code-number">-1</span>]){n+=<span class="code-number">2</span>;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(<span class="code-number">0</span>!==r[n<span class="code-number">-2</span>]){n++;<span class="code-keyword">break</span>}<span class="code-keyword">for</span>(a+<span class="code-number">3</span>!==n<span class="code-number">-2</span>&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,r.subarray(a+<span class="code-number">3</span>,n<span class="code-number">-2</span>));<span class="code-number">1</span>!==r[++n]&amp;&amp;n&lt;i;);a=n<span class="code-number">-2</span>,n+=<span class="code-number">3</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">if</span>(<span class="code-number">0</span>!==r[n<span class="code-number">-1</span>]||<span class="code-number">0</span>!==r[n<span class="code-number">-2</span>]){n+=<span class="code-number">3</span>;<span class="code-keyword">break</span>}<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,r.subarray(a+<span class="code-number">3</span>,n<span class="code-number">-2</span>)),a=n<span class="code-number">-2</span>,n+=<span class="code-number">3</span>;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:n+=<span class="code-number">3</span>}r=r.subarray(a),n-=a,a=<span class="code-number">0</span>},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r=<span class="code-literal">null</span>,a=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r&amp;&amp;<span class="code-number">3</span>&lt;r.byteLength&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,r.subarray(a+<span class="code-number">3</span>)),r=<span class="code-literal">null</span>,a=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>)},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.flush(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"endedtimeline"</span>)}};st.prototype=<span class="code-keyword">new</span> j,nt={<span class="code-number">100</span>:!<span class="code-number">0</span>,<span class="code-number">110</span>:!<span class="code-number">0</span>,<span class="code-number">122</span>:!<span class="code-number">0</span>,<span class="code-number">244</span>:!<span class="code-number">0</span>,<span class="code-number">44</span>:!<span class="code-number">0</span>,<span class="code-number">83</span>:!<span class="code-number">0</span>,<span class="code-number">86</span>:!<span class="code-number">0</span>,<span class="code-number">118</span>:!<span class="code-number">0</span>,<span class="code-number">128</span>:!<span class="code-number">0</span>,<span class="code-number">138</span>:!<span class="code-number">0</span>,<span class="code-number">139</span>:!<span class="code-number">0</span>,<span class="code-number">134</span>:!<span class="code-number">0</span>},(it=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i,n,r,a,s,o,m,t=<span class="code-keyword">new</span> st;it.prototype.init.call(<span class="code-keyword">this</span>),(i=<span class="code-keyword">this</span>).push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"video"</span>===e.type&amp;&amp;(n=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">trackId</span>:n,<span class="code-attr">pts</span>:r,<span class="code-attr">dts</span>:a,<span class="code-attr">data</span>:e,<span class="code-attr">nalUnitTypeCode</span>:<span class="code-number">31</span>&amp;e[<span class="code-number">0</span>]};<span class="code-keyword">switch</span>(t.nalUnitTypeCode){<span class="code-keyword">case</span> <span class="code-number">5</span>:t.nalUnitType=<span class="code-string">"slice_layer_without_partitioning_rbsp_idr"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">6</span>:t.nalUnitType=<span class="code-string">"sei_rbsp"</span>,t.escapedRBSP=s(e.subarray(<span class="code-number">1</span>));<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">7</span>:t.nalUnitType=<span class="code-string">"seq_parameter_set_rbsp"</span>,t.escapedRBSP=s(e.subarray(<span class="code-number">1</span>)),t.config=o(t.escapedRBSP);<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">8</span>:t.nalUnitType=<span class="code-string">"pic_parameter_set_rbsp"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">9</span>:t.nalUnitType=<span class="code-string">"access_unit_delimiter_rbsp"</span>}i.trigger(<span class="code-string">"data"</span>,t)}),t.on(<span class="code-string">"done"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.trigger(<span class="code-string">"done"</span>)}),t.on(<span class="code-string">"partialdone"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.trigger(<span class="code-string">"partialdone"</span>)}),t.on(<span class="code-string">"reset"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.trigger(<span class="code-string">"reset"</span>)}),t.on(<span class="code-string">"endedtimeline"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.trigger(<span class="code-string">"endedtimeline"</span>)}),<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.flush()},<span class="code-keyword">this</span>.partialFlush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.partialFlush()},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.reset()},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.endTimeline()},m=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">8</span>,n=<span class="code-number">8</span>,r=<span class="code-number">0</span>;r&lt;e;r++)i=<span class="code-number">0</span>===(n=<span class="code-number">0</span>!==n?(i+t.readExpGolomb()+<span class="code-number">256</span>)%<span class="code-number">256</span>:n)?i:n},s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=e.byteLength,i=[],n=<span class="code-number">1</span>;n&lt;t<span class="code-number">-2</span>;)<span class="code-number">0</span>===e[n]&amp;&amp;<span class="code-number">0</span>===e[n+<span class="code-number">1</span>]&amp;&amp;<span class="code-number">3</span>===e[n+<span class="code-number">2</span>]?(i.push(n+<span class="code-number">2</span>),n+=<span class="code-number">2</span>):n++;<span class="code-keyword">if</span>(<span class="code-number">0</span>===i.length)<span class="code-keyword">return</span> e;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=t-i.length,a=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(r),s=<span class="code-number">0</span>,n=<span class="code-number">0</span>;n&lt;r;s++,n++)s===i[<span class="code-number">0</span>]&amp;&amp;(s++,i.shift()),a[n]=e[s];<span class="code-keyword">return</span> a},o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a,s=<span class="code-number">0</span>,o=<span class="code-number">0</span>,u=<span class="code-number">0</span>,l=<span class="code-number">0</span>,c=[<span class="code-number">1</span>,<span class="code-number">1</span>],d=<span class="code-keyword">new</span> at(e),h=d.readUnsignedByte(),p=d.readUnsignedByte(),f=d.readUnsignedByte();<span class="code-keyword">if</span>(d.skipUnsignedExpGolomb(),nt[h]&amp;&amp;(<span class="code-number">3</span>===(i=d.readUnsignedExpGolomb())&amp;&amp;d.skipBits(<span class="code-number">1</span>),d.skipUnsignedExpGolomb(),d.skipUnsignedExpGolomb(),d.skipBits(<span class="code-number">1</span>),d.readBoolean()))<span class="code-keyword">for</span>(r=<span class="code-number">3</span>!==i?<span class="code-number">8</span>:<span class="code-number">12</span>,a=<span class="code-number">0</span>;a&lt;r;a++)d.readBoolean()&amp;&amp;m(a&lt;<span class="code-number">6</span>?<span class="code-number">16</span>:<span class="code-number">64</span>,d);<span class="code-keyword">if</span>(d.skipUnsignedExpGolomb(),<span class="code-number">0</span>===(n=d.readUnsignedExpGolomb()))d.readUnsignedExpGolomb();<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-number">1</span>===n)<span class="code-keyword">for</span>(d.skipBits(<span class="code-number">1</span>),d.skipExpGolomb(),d.skipExpGolomb(),t=d.readUnsignedExpGolomb(),a=<span class="code-number">0</span>;a&lt;t;a++)d.skipExpGolomb();<span class="code-keyword">if</span>(d.skipUnsignedExpGolomb(),d.skipBits(<span class="code-number">1</span>),e=d.readUnsignedExpGolomb(),i=d.readUnsignedExpGolomb(),<span class="code-number">0</span>===(n=d.readBits(<span class="code-number">1</span>))&amp;&amp;d.skipBits(<span class="code-number">1</span>),d.skipBits(<span class="code-number">1</span>),d.readBoolean()&amp;&amp;(s=d.readUnsignedExpGolomb(),o=d.readUnsignedExpGolomb(),u=d.readUnsignedExpGolomb(),l=d.readUnsignedExpGolomb()),d.readBoolean()&amp;&amp;d.readBoolean()){<span class="code-keyword">switch</span>(d.readUnsignedByte()){<span class="code-keyword">case</span> <span class="code-number">1</span>:c=[<span class="code-number">1</span>,<span class="code-number">1</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">2</span>:c=[<span class="code-number">12</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">3</span>:c=[<span class="code-number">10</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">4</span>:c=[<span class="code-number">16</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">5</span>:c=[<span class="code-number">40</span>,<span class="code-number">33</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">6</span>:c=[<span class="code-number">24</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">7</span>:c=[<span class="code-number">20</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">8</span>:c=[<span class="code-number">32</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">9</span>:c=[<span class="code-number">80</span>,<span class="code-number">33</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">10</span>:c=[<span class="code-number">18</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">11</span>:c=[<span class="code-number">15</span>,<span class="code-number">11</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">12</span>:c=[<span class="code-number">64</span>,<span class="code-number">33</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">13</span>:c=[<span class="code-number">160</span>,<span class="code-number">99</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">14</span>:c=[<span class="code-number">4</span>,<span class="code-number">3</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">15</span>:c=[<span class="code-number">3</span>,<span class="code-number">2</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">16</span>:c=[<span class="code-number">2</span>,<span class="code-number">1</span>];<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">255</span>:c=[d.readUnsignedByte()&lt;&lt;<span class="code-number">8</span>|d.readUnsignedByte(),d.readUnsignedByte()&lt;&lt;<span class="code-number">8</span>|d.readUnsignedByte()]}c&amp;&amp;(c[<span class="code-number">0</span>],c[<span class="code-number">1</span>])}<span class="code-keyword">return</span>{<span class="code-attr">profileIdc</span>:h,<span class="code-attr">levelIdc</span>:f,<span class="code-attr">profileCompatibility</span>:p,<span class="code-attr">width</span>:<span class="code-number">16</span>*(e+<span class="code-number">1</span>)<span class="code-number">-2</span>*s<span class="code-number">-2</span>*o,<span class="code-attr">height</span>:(<span class="code-number">2</span>-n)*(i+<span class="code-number">1</span>)*<span class="code-number">16</span><span class="code-number">-2</span>*u<span class="code-number">-2</span>*l,<span class="code-attr">sarRatio</span>:c}}}).prototype=<span class="code-keyword">new</span> j;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ot</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">0</span>&lt;=(i=e[t+<span class="code-number">6</span>]&lt;&lt;<span class="code-number">21</span>|e[t+<span class="code-number">7</span>]&lt;&lt;<span class="code-number">14</span>|e[t+<span class="code-number">8</span>]&lt;&lt;<span class="code-number">7</span>|e[t+<span class="code-number">9</span>])?i:<span class="code-number">0</span>;<span class="code-keyword">return</span>(<span class="code-number">16</span>&amp;e[t+<span class="code-number">5</span>])&gt;&gt;<span class="code-number">4</span>?i+<span class="code-number">20</span>:i+<span class="code-number">10</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ut</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.length-t&lt;<span class="code-number">10</span>||e[t]!==<span class="code-string">"I"</span>.charCodeAt(<span class="code-number">0</span>)||e[t+<span class="code-number">1</span>]!==<span class="code-string">"D"</span>.charCodeAt(<span class="code-number">0</span>)||e[t+<span class="code-number">2</span>]!==<span class="code-string">"3"</span>.charCodeAt(<span class="code-number">0</span>)?t:ut(e,t+=ot(e,t))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">lt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e[<span class="code-number">0</span>]&lt;&lt;<span class="code-number">21</span>|e[<span class="code-number">1</span>]&lt;&lt;<span class="code-number">14</span>|e[<span class="code-number">2</span>]&lt;&lt;<span class="code-number">7</span>|e[<span class="code-number">3</span>]}<span class="code-keyword">var</span> e={<span class="code-attr">H264Stream</span>:it,<span class="code-attr">NalByteStream</span>:st},ct=[<span class="code-number">96e3</span>,<span class="code-number">88200</span>,<span class="code-number">64e3</span>,<span class="code-number">48e3</span>,<span class="code-number">44100</span>,<span class="code-number">32e3</span>,<span class="code-number">24e3</span>,<span class="code-number">22050</span>,<span class="code-number">16e3</span>,<span class="code-number">12e3</span>,<span class="code-number">11025</span>,<span class="code-number">8e3</span>,<span class="code-number">7350</span>],dt={<span class="code-attr">isLikelyAacData</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=ut(e,<span class="code-number">0</span>);<span class="code-keyword">return</span> e.length&gt;=t+<span class="code-number">2</span>&amp;&amp;<span class="code-number">255</span>==(<span class="code-number">255</span>&amp;e[t])&amp;&amp;<span class="code-number">240</span>==(<span class="code-number">240</span>&amp;e[t+<span class="code-number">1</span>])&amp;&amp;<span class="code-number">16</span>==(<span class="code-number">22</span>&amp;e[t+<span class="code-number">1</span>])},<span class="code-attr">parseId3TagSize</span>:ot,<span class="code-attr">parseAdtsSize</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=(<span class="code-number">224</span>&amp;e[t+<span class="code-number">5</span>])&gt;&gt;<span class="code-number">5</span>,n=e[t+<span class="code-number">4</span>]&lt;&lt;<span class="code-number">3</span>;<span class="code-keyword">return</span> <span class="code-number">6144</span>&amp;e[t+<span class="code-number">3</span>]|n|i},<span class="code-attr">parseType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e[t]===<span class="code-string">"I"</span>.charCodeAt(<span class="code-number">0</span>)&amp;&amp;e[t+<span class="code-number">1</span>]===<span class="code-string">"D"</span>.charCodeAt(<span class="code-number">0</span>)&amp;&amp;e[t+<span class="code-number">2</span>]===<span class="code-string">"3"</span>.charCodeAt(<span class="code-number">0</span>)?<span class="code-string">"timed-metadata"</span>:!<span class="code-number">0</span>&amp;e[t]&amp;&amp;<span class="code-number">240</span>==(<span class="code-number">240</span>&amp;e[t+<span class="code-number">1</span>])?<span class="code-string">"audio"</span>:<span class="code-literal">null</span>},<span class="code-attr">parseSampleRate</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">0</span>;t+<span class="code-number">5</span>&lt;e.length;){<span class="code-keyword">if</span>(<span class="code-number">255</span>===e[t]&amp;&amp;<span class="code-number">240</span>==(<span class="code-number">246</span>&amp;e[t+<span class="code-number">1</span>]))<span class="code-keyword">return</span> ct[(<span class="code-number">60</span>&amp;e[t+<span class="code-number">2</span>])&gt;&gt;&gt;<span class="code-number">2</span>];t++}<span class="code-keyword">return</span> <span class="code-literal">null</span>},<span class="code-attr">parseAacTimestamp</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=<span class="code-number">10</span>;<span class="code-number">64</span>&amp;e[<span class="code-number">5</span>]&amp;&amp;(i+=<span class="code-number">4</span>,i+=lt(e.subarray(<span class="code-number">10</span>,<span class="code-number">14</span>)));<span class="code-keyword">do</span>{<span class="code-keyword">if</span>((t=lt(e.subarray(i+<span class="code-number">4</span>,i+<span class="code-number">8</span>)))&lt;<span class="code-number">1</span>)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-string">"PRIV"</span>===<span class="code-built_in">String</span>.fromCharCode(e[i],e[i+<span class="code-number">1</span>],e[i+<span class="code-number">2</span>],e[i+<span class="code-number">3</span>]))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=e.subarray(i+<span class="code-number">10</span>,i+t+<span class="code-number">10</span>),r=<span class="code-number">0</span>;r&lt;n.byteLength;r++)<span class="code-keyword">if</span>(<span class="code-number">0</span>===n[r]){<span class="code-keyword">if</span>(<span class="code-string">"com.apple.streaming.transportStreamTimestamp"</span>!==<span class="code-built_in">unescape</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-string">""</span>,r=t;r&lt;i;r++)n+=<span class="code-string">"%"</span>+(<span class="code-string">"00"</span>+e[r].toString(<span class="code-number">16</span>)).slice(<span class="code-number">-2</span>);<span class="code-keyword">return</span> n}(n,<span class="code-number">0</span>,r)))<span class="code-keyword">break</span>;<span class="code-keyword">var</span> a=n.subarray(r+<span class="code-number">1</span>),s=(<span class="code-number">1</span>&amp;a[<span class="code-number">3</span>])&lt;&lt;<span class="code-number">30</span>|a[<span class="code-number">4</span>]&lt;&lt;<span class="code-number">22</span>|a[<span class="code-number">5</span>]&lt;&lt;<span class="code-number">14</span>|a[<span class="code-number">6</span>]&lt;&lt;<span class="code-number">6</span>|a[<span class="code-number">7</span>]&gt;&gt;&gt;<span class="code-number">2</span>;<span class="code-keyword">return</span> s*=<span class="code-number">4</span>,s+=<span class="code-number">3</span>&amp;a[<span class="code-number">7</span>]}}<span class="code-keyword">while</span>(i+=<span class="code-number">10</span>,(i+=t)&lt;e.byteLength);<span class="code-keyword">return</span> <span class="code-literal">null</span>}},ht=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> a=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>,s=<span class="code-number">0</span>;ht.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.setTimestamp=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s=e},<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=<span class="code-number">0</span>,r=<span class="code-number">0</span>;<span class="code-keyword">for</span>(a.length?(i=a.length,(a=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.byteLength+i)).set(a.subarray(<span class="code-number">0</span>,i)),a.set(e,i)):a=e;<span class="code-number">3</span>&lt;=a.length-r;)<span class="code-keyword">if</span>(a[r]!==<span class="code-string">"I"</span>.charCodeAt(<span class="code-number">0</span>)||a[r+<span class="code-number">1</span>]!==<span class="code-string">"D"</span>.charCodeAt(<span class="code-number">0</span>)||a[r+<span class="code-number">2</span>]!==<span class="code-string">"3"</span>.charCodeAt(<span class="code-number">0</span>))<span class="code-keyword">if</span>(<span class="code-number">255</span>!=(<span class="code-number">255</span>&amp;a[r])||<span class="code-number">240</span>!=(<span class="code-number">240</span>&amp;a[r+<span class="code-number">1</span>]))r++;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(a.length-r&lt;<span class="code-number">7</span>)<span class="code-keyword">break</span>;<span class="code-keyword">if</span>(r+(n=dt.parseAdtsSize(a,r))&gt;a.length)<span class="code-keyword">break</span>;t={<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">data</span>:a.subarray(r,r+n),<span class="code-attr">pts</span>:s,<span class="code-attr">dts</span>:s},<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,t),r+=n}<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(a.length-r&lt;<span class="code-number">10</span>)<span class="code-keyword">break</span>;<span class="code-keyword">if</span>(r+(n=dt.parseId3TagSize(a,r))&gt;a.length)<span class="code-keyword">break</span>;t={<span class="code-attr">type</span>:<span class="code-string">"timed-metadata"</span>,<span class="code-attr">data</span>:a.subarray(r,r+n)},<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,t),r+=n}e=a.length-r,a=<span class="code-number">0</span>&lt;e?a.subarray(r):<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"endedtimeline"</span>)}};ht.prototype=<span class="code-keyword">new</span> j;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">pt</span>(<span class="code-params">e,t</span>)</span>{t.stream=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"log"</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ft</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-built_in">Object</span>.keys(t),n=<span class="code-number">0</span>;n&lt;i.length;n++){<span class="code-keyword">var</span> r=i[n];<span class="code-string">"headOfPipeline"</span>!==r&amp;&amp;t[r].on&amp;&amp;t[r].on(<span class="code-string">"log"</span>,pt.bind(e,r))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">mt</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i;<span class="code-keyword">if</span>(e.length===t.length){<span class="code-keyword">for</span>(i=<span class="code-number">0</span>;i&lt;e.length;i++)<span class="code-keyword">if</span>(e[i]!==t[i])<span class="code-keyword">return</span>;<span class="code-keyword">return</span> <span class="code-number">1</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">gt</span>(<span class="code-params">e,t,i,n,r,a</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">start</span>:{<span class="code-attr">dts</span>:e,<span class="code-attr">pts</span>:e+(i-t)},<span class="code-attr">end</span>:{<span class="code-attr">dts</span>:e+(n-t),<span class="code-attr">pts</span>:e+(r-i)},<span class="code-attr">prependedContentDuration</span>:a,<span class="code-attr">baseMediaDecodeTime</span>:e}}<span class="code-keyword">var</span> yt,vt,_t,bt=ht,Tt=[<span class="code-string">"audioobjecttype"</span>,<span class="code-string">"channelcount"</span>,<span class="code-string">"samplerate"</span>,<span class="code-string">"samplingfrequencyindex"</span>,<span class="code-string">"samplesize"</span>],St=[<span class="code-string">"width"</span>,<span class="code-string">"height"</span>,<span class="code-string">"profileIdc"</span>,<span class="code-string">"levelIdc"</span>,<span class="code-string">"profileCompatibility"</span>,<span class="code-string">"sarRatio"</span>],wt=e.H264Stream,Et=dt.isLikelyAacData,kt=ue,Ct=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a,s</span>)</span>{<span class="code-keyword">var</span> o=[],u=<span class="code-number">0</span>,l=<span class="code-number">0</span>,c=<span class="code-number">1</span>/<span class="code-number">0</span>,d=(s=s||{}).firstSequenceNumber||<span class="code-number">0</span>;Ct.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{Te(a,t),a&amp;&amp;Tt.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a[e]=t[e]}),o.push(t)},<span class="code-keyword">this</span>.setEarliestDts=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{u=e},<span class="code-keyword">this</span>.setVideoBaseMediaDecodeTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{c=e},<span class="code-keyword">this</span>.setAudioAppendStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{l=e},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t,i,n,r;<span class="code-number">0</span>!==o.length&amp;&amp;(e=me(o,a,u),a.baseMediaDecodeTime=be(a,s.keepOriginalTimestamps),r=fe(a,e,l,c),a.samples=ge(e),t=K(ye(e)),o=[],n=Y(d,[a]),i=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n.byteLength+t.byteLength),d++,i.set(n),i.set(t,n.byteLength),_e(a),n=<span class="code-built_in">Math</span>.ceil(<span class="code-number">1024</span>*kt/a.samplerate),e.length&amp;&amp;(n=e.length*n,<span class="code-keyword">this</span>.trigger(<span class="code-string">"segmentTimingInfo"</span>,gt(de(a.baseMediaDecodeTime,a.samplerate),e[<span class="code-number">0</span>].dts,e[<span class="code-number">0</span>].pts,e[<span class="code-number">0</span>].dts+n,e[<span class="code-number">0</span>].pts+n,r||<span class="code-number">0</span>)),<span class="code-keyword">this</span>.trigger(<span class="code-string">"timingInfo"</span>,{<span class="code-attr">start</span>:e[<span class="code-number">0</span>].pts,<span class="code-attr">end</span>:e[<span class="code-number">0</span>].pts+n})),<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">track</span>:a,<span class="code-attr">boxes</span>:i})),<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>,<span class="code-string">"AudioSegmentStream"</span>)},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{_e(a),o=[],<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)}};Ct.prototype=<span class="code-keyword">new</span> j,(yt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s,a</span>)</span>{<span class="code-keyword">var</span> t,i,o=[],l=[],u=(a=a||{}).firstSequenceNumber||<span class="code-number">0</span>;yt.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">delete</span> s.minPTS,<span class="code-keyword">this</span>.gopCache_=[],<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Te(s,e),<span class="code-string">"seq_parameter_set_rbsp"</span>!==e.nalUnitType||t||(t=e.config,s.sps=[e.data],St.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s[e]=t[e]},<span class="code-keyword">this</span>)),<span class="code-string">"pic_parameter_set_rbsp"</span>!==e.nalUnitType||i||(i=e.data,s.pps=[e.data]),o.push(e)},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,t,i,n=<span class="code-number">0</span>;o.length&amp;&amp;<span class="code-string">"access_unit_delimiter_rbsp"</span>!==o[<span class="code-number">0</span>].nalUnitType;)o.shift();<span class="code-keyword">if</span>(<span class="code-number">0</span>===o.length)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.resetStream_(),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>,<span class="code-string">"VideoSegmentStream"</span>);<span class="code-keyword">if</span>(e=$(o),(t=J(e))[<span class="code-number">0</span>][<span class="code-number">0</span>].keyFrame||((i=<span class="code-keyword">this</span>.getGopForFusion_(o[<span class="code-number">0</span>],s))?(n=i.duration,t.unshift(i),t.byteLength+=i.byteLength,t.nalCount+=i.nalCount,t.pts=i.pts,t.dts=i.dts,t.duration+=i.duration):t=Z(t)),l.length){<span class="code-keyword">var</span> r=a.alignGopsAtEnd?<span class="code-keyword">this</span>.alignGopsAtEnd_(t):<span class="code-keyword">this</span>.alignGopsAtStart_(t);<span class="code-keyword">if</span>(!r)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.gopCache_.unshift({<span class="code-attr">gop</span>:t.pop(),<span class="code-attr">pps</span>:s.pps,<span class="code-attr">sps</span>:s.sps}),<span class="code-keyword">this</span>.gopCache_.length=<span class="code-built_in">Math</span>.min(<span class="code-number">6</span>,<span class="code-keyword">this</span>.gopCache_.length),o=[],<span class="code-keyword">this</span>.resetStream_(),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>,<span class="code-string">"VideoSegmentStream"</span>);_e(s),t=r}Te(s,t),s.samples=ee(t),e=K(te(t)),s.baseMediaDecodeTime=be(s,a.keepOriginalTimestamps),<span class="code-keyword">this</span>.trigger(<span class="code-string">"processedGopsInfo"</span>,t.map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">pts</span>:e.pts,<span class="code-attr">dts</span>:e.dts,<span class="code-attr">byteLength</span>:e.byteLength}})),i=t[<span class="code-number">0</span>],r=t[t.length<span class="code-number">-1</span>],<span class="code-keyword">this</span>.trigger(<span class="code-string">"segmentTimingInfo"</span>,gt(s.baseMediaDecodeTime,i.dts,i.pts,r.dts+r.duration,r.pts+r.duration,n)),<span class="code-keyword">this</span>.trigger(<span class="code-string">"timingInfo"</span>,{<span class="code-attr">start</span>:t[<span class="code-number">0</span>].pts,<span class="code-attr">end</span>:t[t.length<span class="code-number">-1</span>].pts+t[t.length<span class="code-number">-1</span>].duration}),<span class="code-keyword">this</span>.gopCache_.unshift({<span class="code-attr">gop</span>:t.pop(),<span class="code-attr">pps</span>:s.pps,<span class="code-attr">sps</span>:s.sps}),<span class="code-keyword">this</span>.gopCache_.length=<span class="code-built_in">Math</span>.min(<span class="code-number">6</span>,<span class="code-keyword">this</span>.gopCache_.length),o=[],<span class="code-keyword">this</span>.trigger(<span class="code-string">"baseMediaDecodeTime"</span>,s.baseMediaDecodeTime),<span class="code-keyword">this</span>.trigger(<span class="code-string">"timelineStartInfo"</span>,s.timelineStartInfo),n=Y(u,[s]),t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n.byteLength+e.byteLength),u++,t.set(n),t.set(e,n.byteLength),<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,{<span class="code-attr">track</span>:s,<span class="code-attr">boxes</span>:t}),<span class="code-keyword">this</span>.resetStream_(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>,<span class="code-string">"VideoSegmentStream"</span>)},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.resetStream_(),o=[],<span class="code-keyword">this</span>.gopCache_.length=<span class="code-number">0</span>,l.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"reset"</span>)},<span class="code-keyword">this</span>.resetStream_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{_e(s),i=t=<span class="code-keyword">void</span> <span class="code-number">0</span>},<span class="code-keyword">this</span>.getGopForFusion_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n,r=<span class="code-number">1</span>/<span class="code-number">0</span>,a=<span class="code-number">0</span>;a&lt;<span class="code-keyword">this</span>.gopCache_.length;a++)i=(n=<span class="code-keyword">this</span>.gopCache_[a]).gop,s.pps&amp;&amp;mt(s.pps[<span class="code-number">0</span>],n.pps[<span class="code-number">0</span>])&amp;&amp;s.sps&amp;&amp;mt(s.sps[<span class="code-number">0</span>],n.sps[<span class="code-number">0</span>])&amp;&amp;(i.dts&lt;s.timelineStartInfo.dts||<span class="code-number">-1e4</span>&lt;=(i=e.dts-i.dts-i.duration)&amp;&amp;i&lt;=<span class="code-number">45e3</span>&amp;&amp;(!t||i&lt;r)&amp;&amp;(t=n,r=i));<span class="code-keyword">return</span> t?t.gop:<span class="code-literal">null</span>},<span class="code-keyword">this</span>.alignGopsAtStart_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n,r,a=e.byteLength,s=e.nalCount,o=e.duration,u=t=<span class="code-number">0</span>;u&lt;l.length&amp;&amp;t&lt;e.length&amp;&amp;(i=l[u],n=e[t],i.pts!==n.pts);)n.pts&gt;i.pts?u++:(t++,a-=n.byteLength,s-=n.nalCount,o-=n.duration);<span class="code-keyword">return</span> <span class="code-number">0</span>===t?e:t===e.length?<span class="code-literal">null</span>:((r=e.slice(t)).byteLength=a,r.duration=o,r.nalCount=s,r.pts=r[<span class="code-number">0</span>].pts,r.dts=r[<span class="code-number">0</span>].dts,r)},<span class="code-keyword">this</span>.alignGopsAtEnd_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i,n=l.length<span class="code-number">-1</span>,r=e.length<span class="code-number">-1</span>,a=<span class="code-literal">null</span>,s=!<span class="code-number">1</span>;<span class="code-number">0</span>&lt;=n&amp;&amp;<span class="code-number">0</span>&lt;=r;){<span class="code-keyword">if</span>(t=l[n],i=e[r],t.pts===i.pts){s=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}t.pts&gt;i.pts?n--:(n===l.length<span class="code-number">-1</span>&amp;&amp;(a=r),r--)}<span class="code-keyword">if</span>(!s&amp;&amp;<span class="code-literal">null</span>===a)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>===(u=s?r:a))<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> o=e.slice(u),u=o.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{<span class="code-attr">byteLength</span>:<span class="code-number">0</span>,<span class="code-attr">duration</span>:<span class="code-number">0</span>,<span class="code-attr">nalCount</span>:<span class="code-number">0</span>});<span class="code-keyword">return</span> o.byteLength=u.byteLength,o.duration=u.duration,o.nalCount=u.nalCount,o.pts=o[<span class="code-number">0</span>].pts,o.dts=o[<span class="code-number">0</span>].dts,o},<span class="code-keyword">this</span>.alignGopsWith=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{l=e}}).prototype=<span class="code-keyword">new</span> j,(_t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.numberOfTracks=<span class="code-number">0</span>,<span class="code-keyword">this</span>.metadataStream=t,<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(e=e||{}).remux?<span class="code-keyword">this</span>.remuxTracks=!!e.remux:<span class="code-keyword">this</span>.remuxTracks=!<span class="code-number">0</span>,<span class="code-string">"boolean"</span>==<span class="code-keyword">typeof</span> e.keepOriginalTimestamps?<span class="code-keyword">this</span>.keepOriginalTimestamps=e.keepOriginalTimestamps:<span class="code-keyword">this</span>.keepOriginalTimestamps=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.pendingTracks=[],<span class="code-keyword">this</span>.videoTrack=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.pendingBoxes=[],<span class="code-keyword">this</span>.pendingCaptions=[],<span class="code-keyword">this</span>.pendingMetadata=[],<span class="code-keyword">this</span>.pendingBytes=<span class="code-number">0</span>,<span class="code-keyword">this</span>.emittedTracks=<span class="code-number">0</span>,_t.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.text?<span class="code-keyword">this</span>.pendingCaptions.push(e):e.frames?<span class="code-keyword">this</span>.pendingMetadata.push(e):(<span class="code-keyword">this</span>.pendingTracks.push(e.track),<span class="code-keyword">this</span>.pendingBytes+=e.boxes.byteLength,<span class="code-string">"video"</span>===e.track.type&amp;&amp;(<span class="code-keyword">this</span>.videoTrack=e.track,<span class="code-keyword">this</span>.pendingBoxes.push(e.boxes)),<span class="code-keyword">void</span>(<span class="code-string">"audio"</span>===e.track.type&amp;&amp;(<span class="code-keyword">this</span>.audioTrack=e.track,<span class="code-keyword">this</span>.pendingBoxes.unshift(e.boxes))))}}).prototype=<span class="code-keyword">new</span> j,_t.prototype.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r=<span class="code-number">0</span>,a={<span class="code-attr">captions</span>:[],<span class="code-attr">captionStreams</span>:{},<span class="code-attr">metadata</span>:[],<span class="code-attr">info</span>:{}},s=<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.pendingTracks.length&lt;<span class="code-keyword">this</span>.numberOfTracks){<span class="code-keyword">if</span>(<span class="code-string">"VideoSegmentStream"</span>!==e&amp;&amp;<span class="code-string">"AudioSegmentStream"</span>!==e)<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.remuxTracks)<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>===<span class="code-keyword">this</span>.pendingTracks.length)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.emittedTracks++,<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.emittedTracks&gt;=<span class="code-keyword">this</span>.numberOfTracks&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>),<span class="code-keyword">this</span>.emittedTracks=<span class="code-number">0</span>))}<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.videoTrack?(s=<span class="code-keyword">this</span>.videoTrack.timelineStartInfo.pts,St.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.info[e]=<span class="code-keyword">this</span>.videoTrack[e]},<span class="code-keyword">this</span>)):<span class="code-keyword">this</span>.audioTrack&amp;&amp;(s=<span class="code-keyword">this</span>.audioTrack.timelineStartInfo.pts,Tt.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a.info[e]=<span class="code-keyword">this</span>.audioTrack[e]},<span class="code-keyword">this</span>)),<span class="code-keyword">this</span>.videoTrack||<span class="code-keyword">this</span>.audioTrack){<span class="code-keyword">for</span>(<span class="code-number">1</span>===<span class="code-keyword">this</span>.pendingTracks.length?a.type=<span class="code-keyword">this</span>.pendingTracks[<span class="code-number">0</span>].type:a.type=<span class="code-string">"combined"</span>,<span class="code-keyword">this</span>.emittedTracks+=<span class="code-keyword">this</span>.pendingTracks.length,e=Q(<span class="code-keyword">this</span>.pendingTracks),a.initSegment=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.byteLength),a.initSegment.set(e),a.data=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-keyword">this</span>.pendingBytes),n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.pendingBoxes.length;n++)a.data.set(<span class="code-keyword">this</span>.pendingBoxes[n],r),r+=<span class="code-keyword">this</span>.pendingBoxes[n].byteLength;<span class="code-keyword">for</span>(n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.pendingCaptions.length;n++)(t=<span class="code-keyword">this</span>.pendingCaptions[n]).startTime=pe(t.startPts,s,<span class="code-keyword">this</span>.keepOriginalTimestamps),t.endTime=pe(t.endPts,s,<span class="code-keyword">this</span>.keepOriginalTimestamps),a.captionStreams[t.stream]=!<span class="code-number">0</span>,a.captions.push(t);<span class="code-keyword">for</span>(n=<span class="code-number">0</span>;n&lt;<span class="code-keyword">this</span>.pendingMetadata.length;n++)(i=<span class="code-keyword">this</span>.pendingMetadata[n]).cueTime=pe(i.pts,s,<span class="code-keyword">this</span>.keepOriginalTimestamps),a.metadata.push(i);<span class="code-keyword">for</span>(a.metadata.dispatchType=<span class="code-keyword">this</span>.metadataStream.dispatchType,<span class="code-keyword">this</span>.pendingTracks.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.videoTrack=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.pendingBoxes.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.pendingCaptions.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.pendingBytes=<span class="code-number">0</span>,<span class="code-keyword">this</span>.pendingMetadata.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"data"</span>,a),n=<span class="code-number">0</span>;n&lt;a.captions.length;n++)t=a.captions[n],<span class="code-keyword">this</span>.trigger(<span class="code-string">"caption"</span>,t);<span class="code-keyword">for</span>(n=<span class="code-number">0</span>;n&lt;a.metadata.length;n++)i=a.metadata[n],<span class="code-keyword">this</span>.trigger(<span class="code-string">"id3Frame"</span>,i)}<span class="code-keyword">this</span>.emittedTracks&gt;=<span class="code-keyword">this</span>.numberOfTracks&amp;&amp;(<span class="code-keyword">this</span>.trigger(<span class="code-string">"done"</span>),<span class="code-keyword">this</span>.emittedTracks=<span class="code-number">0</span>)},_t.prototype.setRemux=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.remuxTracks=e},(vt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> r,a,s=<span class="code-keyword">this</span>,i=!<span class="code-number">0</span>;vt.prototype.init.call(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.baseMediaDecodeTime=(n=n||{}).baseMediaDecodeTime||<span class="code-number">0</span>,<span class="code-keyword">this</span>.transmuxPipeline_={},<span class="code-keyword">this</span>.setupAacPipeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t={};(<span class="code-keyword">this</span>.transmuxPipeline_=t).type=<span class="code-string">"aac"</span>,t.metadataStream=<span class="code-keyword">new</span> Je.MetadataStream,t.aacStream=<span class="code-keyword">new</span> bt,t.audioTimestampRolloverStream=<span class="code-keyword">new</span> Je.TimestampRolloverStream(<span class="code-string">"audio"</span>),t.timedMetadataTimestampRolloverStream=<span class="code-keyword">new</span> Je.TimestampRolloverStream(<span class="code-string">"timed-metadata"</span>),t.adtsStream=<span class="code-keyword">new</span> rt,t.coalesceStream=<span class="code-keyword">new</span> _t(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on(<span class="code-string">"timestamp"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"timed-metadata"</span>!==e.type&amp;&amp;<span class="code-string">"audio"</span>!==e.type||t.audioSegmentStream||(a=a||{<span class="code-attr">timelineStartInfo</span>:{<span class="code-attr">baseMediaDecodeTime</span>:s.baseMediaDecodeTime},<span class="code-attr">codec</span>:<span class="code-string">"adts"</span>,<span class="code-attr">type</span>:<span class="code-string">"audio"</span>},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=<span class="code-keyword">new</span> Ct(a,n),t.audioSegmentStream.on(<span class="code-string">"log"</span>,s.getLogTrigger_(<span class="code-string">"audioSegmentStream"</span>)),t.audioSegmentStream.on(<span class="code-string">"timingInfo"</span>,s.trigger.bind(s,<span class="code-string">"audioTimingInfo"</span>)),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),s.trigger(<span class="code-string">"trackinfo"</span>,{<span class="code-attr">hasAudio</span>:!!a,<span class="code-attr">hasVideo</span>:!!r}))}),t.coalesceStream.on(<span class="code-string">"data"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"data"</span>)),t.coalesceStream.on(<span class="code-string">"done"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"done"</span>)),ft(<span class="code-keyword">this</span>,t)},<span class="code-keyword">this</span>.setupTsPipeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i={};(<span class="code-keyword">this</span>.transmuxPipeline_=i).type=<span class="code-string">"ts"</span>,i.metadataStream=<span class="code-keyword">new</span> Je.MetadataStream,i.packetStream=<span class="code-keyword">new</span> Je.TransportPacketStream,i.parseStream=<span class="code-keyword">new</span> Je.TransportParseStream,i.elementaryStream=<span class="code-keyword">new</span> Je.ElementaryStream,i.timestampRolloverStream=<span class="code-keyword">new</span> Je.TimestampRolloverStream,i.adtsStream=<span class="code-keyword">new</span> rt,i.h264Stream=<span class="code-keyword">new</span> wt,i.captionStream=<span class="code-keyword">new</span> Je.CaptionStream(n),i.coalesceStream=<span class="code-keyword">new</span> _t(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">if</span>(<span class="code-string">"metadata"</span>===e.type){<span class="code-keyword">for</span>(t=e.tracks.length;t--;)r||<span class="code-string">"video"</span>!==e.tracks[t].type?a||<span class="code-string">"audio"</span>!==e.tracks[t].type||((a=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&amp;&amp;!i.videoSegmentStream&amp;&amp;(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=<span class="code-keyword">new</span> yt(r,n),i.videoSegmentStream.on(<span class="code-string">"log"</span>,s.getLogTrigger_(<span class="code-string">"videoSegmentStream"</span>)),i.videoSegmentStream.on(<span class="code-string">"timelineStartInfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a&amp;&amp;!n.keepOriginalTimestamps&amp;&amp;(a.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts-s.baseMediaDecodeTime))}),i.videoSegmentStream.on(<span class="code-string">"processedGopsInfo"</span>,s.trigger.bind(s,<span class="code-string">"gopInfo"</span>)),i.videoSegmentStream.on(<span class="code-string">"segmentTimingInfo"</span>,s.trigger.bind(s,<span class="code-string">"videoSegmentTimingInfo"</span>)),i.videoSegmentStream.on(<span class="code-string">"baseMediaDecodeTime"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a&amp;&amp;i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on(<span class="code-string">"timingInfo"</span>,s.trigger.bind(s,<span class="code-string">"videoTimingInfo"</span>)),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),a&amp;&amp;!i.audioSegmentStream&amp;&amp;(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=<span class="code-keyword">new</span> Ct(a,n),i.audioSegmentStream.on(<span class="code-string">"log"</span>,s.getLogTrigger_(<span class="code-string">"audioSegmentStream"</span>)),i.audioSegmentStream.on(<span class="code-string">"timingInfo"</span>,s.trigger.bind(s,<span class="code-string">"audioTimingInfo"</span>)),i.audioSegmentStream.on(<span class="code-string">"segmentTimingInfo"</span>,s.trigger.bind(s,<span class="code-string">"audioSegmentTimingInfo"</span>)),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),s.trigger(<span class="code-string">"trackinfo"</span>,{<span class="code-attr">hasAudio</span>:!!a,<span class="code-attr">hasVideo</span>:!!r})}}),i.coalesceStream.on(<span class="code-string">"data"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"data"</span>)),i.coalesceStream.on(<span class="code-string">"id3Frame"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.dispatchType=i.metadataStream.dispatchType,s.trigger(<span class="code-string">"id3Frame"</span>,e)}),i.coalesceStream.on(<span class="code-string">"caption"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"caption"</span>)),i.coalesceStream.on(<span class="code-string">"done"</span>,<span class="code-keyword">this</span>.trigger.bind(<span class="code-keyword">this</span>,<span class="code-string">"done"</span>)),ft(<span class="code-keyword">this</span>,i)},<span class="code-keyword">this</span>.setBaseMediaDecodeTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.transmuxPipeline_;n.keepOriginalTimestamps||(<span class="code-keyword">this</span>.baseMediaDecodeTime=e),a&amp;&amp;(a.timelineStartInfo.dts=<span class="code-keyword">void</span> <span class="code-number">0</span>,a.timelineStartInfo.pts=<span class="code-keyword">void</span> <span class="code-number">0</span>,_e(a),t.audioTimestampRolloverStream&amp;&amp;t.audioTimestampRolloverStream.discontinuity()),r&amp;&amp;(t.videoSegmentStream&amp;&amp;(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=<span class="code-keyword">void</span> <span class="code-number">0</span>,r.timelineStartInfo.pts=<span class="code-keyword">void</span> <span class="code-number">0</span>,_e(r),t.captionStream.reset()),t.timestampRolloverStream&amp;&amp;t.timestampRolloverStream.discontinuity()},<span class="code-keyword">this</span>.setAudioAppendStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{a&amp;&amp;<span class="code-keyword">this</span>.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},<span class="code-keyword">this</span>.setRemux=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.transmuxPipeline_;n.remux=e,t&amp;&amp;t.coalesceStream&amp;&amp;t.coalesceStream.setRemux(e)},<span class="code-keyword">this</span>.alignGopsWith=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{r&amp;&amp;<span class="code-keyword">this</span>.transmuxPipeline_.videoSegmentStream&amp;&amp;<span class="code-keyword">this</span>.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},<span class="code-keyword">this</span>.getLogTrigger_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.stream=t,i.trigger(<span class="code-string">"log"</span>,e)}},<span class="code-keyword">this</span>.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;i&amp;&amp;((t=Et(e))&amp;&amp;<span class="code-string">"aac"</span>!==<span class="code-keyword">this</span>.transmuxPipeline_.type?<span class="code-keyword">this</span>.setupAacPipeline():t||<span class="code-string">"ts"</span>===<span class="code-keyword">this</span>.transmuxPipeline_.type||<span class="code-keyword">this</span>.setupTsPipeline(),i=!<span class="code-number">1</span>),<span class="code-keyword">this</span>.transmuxPipeline_.headOfPipeline.push(e)},<span class="code-keyword">this</span>.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.transmuxPipeline_.headOfPipeline.flush()},<span class="code-keyword">this</span>.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transmuxPipeline_.headOfPipeline.endTimeline()},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transmuxPipeline_.headOfPipeline&amp;&amp;<span class="code-keyword">this</span>.transmuxPipeline_.headOfPipeline.reset()},<span class="code-keyword">this</span>.resetCaptions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transmuxPipeline_.captionStream&amp;&amp;<span class="code-keyword">this</span>.transmuxPipeline_.captionStream.reset()}}).prototype=<span class="code-keyword">new</span> j;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">It</span>(<span class="code-params">e,c</span>)</span>{<span class="code-keyword">var</span> i=Rt(e,[<span class="code-string">"moof"</span>,<span class="code-string">"traf"</span>]),e=Rt(e,[<span class="code-string">"mdat"</span>]),d={},n=[];<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=i[t];n.push({<span class="code-attr">mdat</span>:e,<span class="code-attr">traf</span>:t})}),n.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a,s=e.mdat,o=e.traf,u=Rt(o,[<span class="code-string">"tfhd"</span>]),l=Ht(u[<span class="code-number">0</span>]),e=l.trackId,u=Rt(o,[<span class="code-string">"tfdt"</span>]),u=<span class="code-number">0</span>&lt;u.length?Bt(u[<span class="code-number">0</span>]).baseMediaDecodeTime:<span class="code-number">0</span>,o=Rt(o,[<span class="code-string">"trun"</span>]);c===e&amp;&amp;<span class="code-number">0</span>&lt;o.length&amp;&amp;(o=o,t=u,i=(l=l).defaultSampleDuration||<span class="code-number">0</span>,n=l.defaultSampleSize||<span class="code-number">0</span>,r=l.trackId,a=[],o.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=jt(e).samples;e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e.duration&amp;&amp;(e.duration=i),<span class="code-keyword">void</span> <span class="code-number">0</span>===e.size&amp;&amp;(e.size=n),e.trackId=r,e.dts=t,<span class="code-keyword">void</span> <span class="code-number">0</span>===e.compositionTimeOffset&amp;&amp;(e.compositionTimeOffset=<span class="code-number">0</span>),<span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t?(e.pts=t+qt.BigInt(e.compositionTimeOffset),t+=qt.BigInt(e.duration)):(e.pts=t+e.compositionTimeOffset,t+=e.duration)}),a=a.concat(e)}),s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r,a=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(e.buffer,e.byteOffset,e.byteLength),s={<span class="code-attr">logs</span>:[],<span class="code-attr">seiNals</span>:[]},o=<span class="code-number">0</span>;o+<span class="code-number">4</span>&lt;e.length;o+=n)<span class="code-keyword">if</span>(n=a.getUint32(o),o+=<span class="code-number">4</span>,!(n&lt;=<span class="code-number">0</span>))<span class="code-keyword">switch</span>(<span class="code-number">31</span>&amp;e[o]){<span class="code-keyword">case</span> <span class="code-number">6</span>:<span class="code-keyword">var</span> u=e.subarray(o+<span class="code-number">1</span>,o+<span class="code-number">1</span>+n),l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e,n=<span class="code-number">0</span>;n&lt;t.length;n++){<span class="code-keyword">var</span> r=t[n];<span class="code-keyword">if</span>(i&lt;r.size)<span class="code-keyword">return</span> r;i-=r.size}<span class="code-keyword">return</span> <span class="code-literal">null</span>}(o,t),u={<span class="code-attr">nalUnitType</span>:<span class="code-string">"sei_rbsp"</span>,<span class="code-attr">size</span>:n,<span class="code-attr">data</span>:u,<span class="code-attr">escapedRBSP</span>:Vt(u),<span class="code-attr">trackId</span>:i};<span class="code-keyword">if</span>(l)u.pts=l.pts,u.dts=l.dts,r=l;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!r){s.logs.push({<span class="code-attr">level</span>:<span class="code-string">"warn"</span>,<span class="code-attr">message</span>:<span class="code-string">"We've encountered a nal unit without data at "</span>+o+<span class="code-string">" for trackId "</span>+i+<span class="code-string">". See mux.js#223."</span>});<span class="code-keyword">break</span>}u.pts=r.pts,u.dts=r.dts}s.seiNals.push(u)}<span class="code-keyword">return</span> s}(s,a,e),d[e]||(d[e]={<span class="code-attr">seiNals</span>:[],<span class="code-attr">logs</span>:[]}),d[e].seiNals=d[e].seiNals.concat(s.seiNals),d[e].logs=d[e].logs.concat(s.logs))}),d}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">31</span>&amp;e[<span class="code-number">1</span>];<span class="code-keyword">return</span> t&lt;&lt;=<span class="code-number">8</span>,t|=e[<span class="code-number">2</span>]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">At</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!(<span class="code-number">64</span>&amp;e[<span class="code-number">1</span>])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Pt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>;<span class="code-keyword">return</span> <span class="code-number">1</span>&lt;(<span class="code-number">48</span>&amp;e[<span class="code-number">3</span>])&gt;&gt;&gt;<span class="code-number">4</span>&amp;&amp;(t+=e[<span class="code-number">4</span>]+<span class="code-number">1</span>),t}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Lt</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">switch</span>(e){<span class="code-keyword">case</span> <span class="code-number">5</span>:<span class="code-keyword">return</span><span class="code-string">"slice_layer_without_partitioning_rbsp_idr"</span>;<span class="code-keyword">case</span> <span class="code-number">6</span>:<span class="code-keyword">return</span><span class="code-string">"sei_rbsp"</span>;<span class="code-keyword">case</span> <span class="code-number">7</span>:<span class="code-keyword">return</span><span class="code-string">"seq_parameter_set_rbsp"</span>;<span class="code-keyword">case</span> <span class="code-number">8</span>:<span class="code-keyword">return</span><span class="code-string">"pic_parameter_set_rbsp"</span>;<span class="code-keyword">case</span> <span class="code-number">9</span>:<span class="code-keyword">return</span><span class="code-string">"access_unit_delimiter_rbsp"</span>;<span class="code-keyword">default</span>:<span class="code-keyword">return</span> <span class="code-literal">null</span>}}<span class="code-keyword">var</span> Dt={<span class="code-attr">Transmuxer</span>:vt,<span class="code-attr">VideoSegmentStream</span>:yt,<span class="code-attr">AudioSegmentStream</span>:Ct,<span class="code-attr">AUDIO_PROPERTIES</span>:Tt,<span class="code-attr">VIDEO_PROPERTIES</span>:St,<span class="code-attr">generateSegmentTimingInfo</span>:gt},e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&gt;&gt;&gt;<span class="code-number">0</span>},Ot=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-string">""</span>;<span class="code-keyword">return</span> t+=<span class="code-built_in">String</span>.fromCharCode(e[<span class="code-number">0</span>]),t+=<span class="code-built_in">String</span>.fromCharCode(e[<span class="code-number">1</span>]),t+=<span class="code-built_in">String</span>.fromCharCode(e[<span class="code-number">2</span>]),t+=<span class="code-built_in">String</span>.fromCharCode(e[<span class="code-number">3</span>])},Mt=e,Rt=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a,s=[];<span class="code-keyword">if</span>(!i.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">for</span>(n=<span class="code-number">0</span>;n&lt;t.byteLength;)r=Mt(t[n]&lt;&lt;<span class="code-number">24</span>|t[n+<span class="code-number">1</span>]&lt;&lt;<span class="code-number">16</span>|t[n+<span class="code-number">2</span>]&lt;&lt;<span class="code-number">8</span>|t[n+<span class="code-number">3</span>]),a=Ot(t.subarray(n+<span class="code-number">4</span>,n+<span class="code-number">8</span>)),r=<span class="code-number">1</span>&lt;r?n+r:t.byteLength,a===i[<span class="code-number">0</span>]&amp;&amp;(<span class="code-number">1</span>===i.length?s.push(t.subarray(n+<span class="code-number">8</span>,r)):(a=e(t.subarray(n+<span class="code-number">8</span>,r),i.slice(<span class="code-number">1</span>))).length&amp;&amp;(s=s.concat(a))),n=r;<span class="code-keyword">return</span> s},Nt=e,Ut=q.getUint64,Bt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">version</span>:e[<span class="code-number">0</span>],<span class="code-attr">flags</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.subarray(<span class="code-number">1</span>,<span class="code-number">4</span>))};<span class="code-keyword">return</span> <span class="code-number">1</span>===t.version?t.baseMediaDecodeTime=Ut(e.subarray(<span class="code-number">4</span>)):t.baseMediaDecodeTime=Nt(e[<span class="code-number">4</span>]&lt;&lt;<span class="code-number">24</span>|e[<span class="code-number">5</span>]&lt;&lt;<span class="code-number">16</span>|e[<span class="code-number">6</span>]&lt;&lt;<span class="code-number">8</span>|e[<span class="code-number">7</span>]),t},Ft=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">isLeading</span>:(<span class="code-number">12</span>&amp;e[<span class="code-number">0</span>])&gt;&gt;&gt;<span class="code-number">2</span>,<span class="code-attr">dependsOn</span>:<span class="code-number">3</span>&amp;e[<span class="code-number">0</span>],<span class="code-attr">isDependedOn</span>:(<span class="code-number">192</span>&amp;e[<span class="code-number">1</span>])&gt;&gt;&gt;<span class="code-number">6</span>,<span class="code-attr">hasRedundancy</span>:(<span class="code-number">48</span>&amp;e[<span class="code-number">1</span>])&gt;&gt;&gt;<span class="code-number">4</span>,<span class="code-attr">paddingValue</span>:(<span class="code-number">14</span>&amp;e[<span class="code-number">1</span>])&gt;&gt;&gt;<span class="code-number">1</span>,<span class="code-attr">isNonSyncSample</span>:<span class="code-number">1</span>&amp;e[<span class="code-number">1</span>],<span class="code-attr">degradationPriority</span>:e[<span class="code-number">2</span>]&lt;&lt;<span class="code-number">8</span>|e[<span class="code-number">3</span>]}},jt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i={<span class="code-attr">version</span>:e[<span class="code-number">0</span>],<span class="code-attr">flags</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.subarray(<span class="code-number">1</span>,<span class="code-number">4</span>)),<span class="code-attr">samples</span>:[]},n=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(e.buffer,e.byteOffset,e.byteLength),r=<span class="code-number">1</span>&amp;i.flags[<span class="code-number">2</span>],a=<span class="code-number">4</span>&amp;i.flags[<span class="code-number">2</span>],s=<span class="code-number">1</span>&amp;i.flags[<span class="code-number">1</span>],o=<span class="code-number">2</span>&amp;i.flags[<span class="code-number">1</span>],u=<span class="code-number">4</span>&amp;i.flags[<span class="code-number">1</span>],l=<span class="code-number">8</span>&amp;i.flags[<span class="code-number">1</span>],c=n.getUint32(<span class="code-number">4</span>),d=<span class="code-number">8</span>;<span class="code-keyword">for</span>(r&amp;&amp;(i.dataOffset=n.getInt32(d),d+=<span class="code-number">4</span>),a&amp;&amp;c&amp;&amp;(t={<span class="code-attr">flags</span>:Ft(e.subarray(d,d+<span class="code-number">4</span>))},d+=<span class="code-number">4</span>,s&amp;&amp;(t.duration=n.getUint32(d),d+=<span class="code-number">4</span>),o&amp;&amp;(t.size=n.getUint32(d),d+=<span class="code-number">4</span>),l&amp;&amp;(<span class="code-number">1</span>===i.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=<span class="code-number">4</span>),i.samples.push(t),c--);c--;)t={},s&amp;&amp;(t.duration=n.getUint32(d),d+=<span class="code-number">4</span>),o&amp;&amp;(t.size=n.getUint32(d),d+=<span class="code-number">4</span>),u&amp;&amp;(t.flags=Ft(e.subarray(d,d+<span class="code-number">4</span>)),d+=<span class="code-number">4</span>),l&amp;&amp;(<span class="code-number">1</span>===i.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=<span class="code-number">4</span>),i.samples.push(t);<span class="code-keyword">return</span> i},Ht=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(e.buffer,e.byteOffset,e.byteLength),i={<span class="code-attr">version</span>:e[<span class="code-number">0</span>],<span class="code-attr">flags</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.subarray(<span class="code-number">1</span>,<span class="code-number">4</span>)),<span class="code-attr">trackId</span>:t.getUint32(<span class="code-number">4</span>)},n=<span class="code-number">1</span>&amp;i.flags[<span class="code-number">2</span>],r=<span class="code-number">2</span>&amp;i.flags[<span class="code-number">2</span>],a=<span class="code-number">8</span>&amp;i.flags[<span class="code-number">2</span>],s=<span class="code-number">16</span>&amp;i.flags[<span class="code-number">2</span>],o=<span class="code-number">32</span>&amp;i.flags[<span class="code-number">2</span>],u=<span class="code-number">65536</span>&amp;i.flags[<span class="code-number">0</span>],l=<span class="code-number">131072</span>&amp;i.flags[<span class="code-number">0</span>],e=<span class="code-number">8</span>;<span class="code-keyword">return</span> n&amp;&amp;(e+=<span class="code-number">4</span>,i.baseDataOffset=t.getUint32(<span class="code-number">12</span>),e+=<span class="code-number">4</span>),r&amp;&amp;(i.sampleDescriptionIndex=t.getUint32(e),e+=<span class="code-number">4</span>),a&amp;&amp;(i.defaultSampleDuration=t.getUint32(e),e+=<span class="code-number">4</span>),s&amp;&amp;(i.defaultSampleSize=t.getUint32(e),e+=<span class="code-number">4</span>),o&amp;&amp;(i.defaultSampleFlags=t.getUint32(e)),u&amp;&amp;(i.durationIsEmpty=!<span class="code-number">0</span>),!n&amp;&amp;l&amp;&amp;(i.baseDataOffsetIsMoof=!<span class="code-number">0</span>),i},j=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> globalThis?globalThis:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> global?global:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> self?self:{},j=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> j?j:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> self?self:{},qt=j,Vt=ke,Wt=Fe.CaptionStream,Gt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,r,a,s,o,i,n=!<span class="code-number">1</span>;<span class="code-keyword">this</span>.isInitialized=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n},<span class="code-keyword">this</span>.init=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t=<span class="code-keyword">new</span> Wt,n=!<span class="code-number">0</span>,i=!!e&amp;&amp;e.isPartial,t.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.startTime=e.startPts/s,e.endTime=e.endPts/s,o.captions.push(e),o.captionStreams[e.stream]=!<span class="code-number">0</span>}),t.on(<span class="code-string">"log"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{o.logs.push(e)})},<span class="code-keyword">this</span>.isNewInit=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>!(e&amp;&amp;<span class="code-number">0</span>===e.length||t&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;<span class="code-number">0</span>===<span class="code-built_in">Object</span>.keys(t).length)&amp;&amp;(a!==e[<span class="code-number">0</span>]||s!==t[a])},<span class="code-keyword">this</span>.parse=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.isInitialized())<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(!t||!i)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.isNewInit(t,i))a=t[<span class="code-number">0</span>],s=i[a];<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-literal">null</span>===a||!s)<span class="code-keyword">return</span> r.push(e),<span class="code-literal">null</span>;<span class="code-keyword">for</span>(;<span class="code-number">0</span>&lt;r.length;){<span class="code-keyword">var</span> n=r.shift();<span class="code-keyword">this</span>.parse(n,t,i)}<span class="code-keyword">return</span>(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t)<span class="code-keyword">return</span> <span class="code-literal">null</span>;t=It(e,t)[t]||{};<span class="code-keyword">return</span>{<span class="code-attr">seiNals</span>:t.seiNals,<span class="code-attr">logs</span>:t.logs,<span class="code-attr">timescale</span>:i}}(e,a,s))&amp;&amp;e.logs&amp;&amp;(o.logs=o.logs.concat(e.logs)),<span class="code-literal">null</span>!==e&amp;&amp;e.seiNals?(<span class="code-keyword">this</span>.pushNals(e.seiNals),<span class="code-keyword">this</span>.flushStream(),o):o.logs.length?{<span class="code-attr">logs</span>:o.logs,<span class="code-attr">captions</span>:[],<span class="code-attr">captionStreams</span>:[]}:<span class="code-literal">null</span>},<span class="code-keyword">this</span>.pushNals=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.isInitialized()||!e||<span class="code-number">0</span>===e.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.push(e)})},<span class="code-keyword">this</span>.flushStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.isInitialized())<span class="code-keyword">return</span> <span class="code-literal">null</span>;i?t.partialFlush():t.flush()},<span class="code-keyword">this</span>.clearParsedCaptions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{o.captions=[],o.captionStreams={},o.logs=[]},<span class="code-keyword">this</span>.resetCaptionStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.isInitialized())<span class="code-keyword">return</span> <span class="code-literal">null</span>;t.reset()},<span class="code-keyword">this</span>.clearAllCaptions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.clearParsedCaptions(),<span class="code-keyword">this</span>.resetCaptionStream()},<span class="code-keyword">this</span>.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r=[],s=a=<span class="code-literal">null</span>,o?<span class="code-keyword">this</span>.clearParsedCaptions():o={<span class="code-attr">captions</span>:[],<span class="code-attr">captionStreams</span>:{},<span class="code-attr">logs</span>:[]},<span class="code-keyword">this</span>.resetCaptionStream()},<span class="code-keyword">this</span>.reset()},zt=e,Xt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(<span class="code-string">"00"</span>+e.toString(<span class="code-number">16</span>)).slice(<span class="code-number">-2</span>)},Kt=q.getUint64,j=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> Rt(e,[<span class="code-string">"moov"</span>,<span class="code-string">"trak"</span>]).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r=Rt(t,[<span class="code-string">"tkhd"</span>])[<span class="code-number">0</span>];<span class="code-keyword">return</span> r?(i=r[<span class="code-number">0</span>],r=zt(r[n=<span class="code-number">0</span>===i?<span class="code-number">12</span>:<span class="code-number">20</span>]&lt;&lt;<span class="code-number">24</span>|r[<span class="code-number">1</span>+n]&lt;&lt;<span class="code-number">16</span>|r[<span class="code-number">2</span>+n]&lt;&lt;<span class="code-number">8</span>|r[<span class="code-number">3</span>+n]),(t=Rt(t,[<span class="code-string">"mdia"</span>,<span class="code-string">"mdhd"</span>])[<span class="code-number">0</span>])?(i=t[<span class="code-number">0</span>],e[r]=zt(t[n=<span class="code-number">0</span>===i?<span class="code-number">12</span>:<span class="code-number">20</span>]&lt;&lt;<span class="code-number">24</span>|t[<span class="code-number">1</span>+n]&lt;&lt;<span class="code-number">16</span>|t[<span class="code-number">2</span>+n]&lt;&lt;<span class="code-number">8</span>|t[<span class="code-number">3</span>+n]),e):<span class="code-literal">null</span>):<span class="code-literal">null</span>},{})},ke=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">a,e</span>)</span>{e=Rt(e,[<span class="code-string">"moof"</span>,<span class="code-string">"traf"</span>]).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=Rt(t,[<span class="code-string">"tfhd"</span>])[<span class="code-number">0</span>],r=zt(n[<span class="code-number">4</span>]&lt;&lt;<span class="code-number">24</span>|n[<span class="code-number">5</span>]&lt;&lt;<span class="code-number">16</span>|n[<span class="code-number">6</span>]&lt;&lt;<span class="code-number">8</span>|n[<span class="code-number">7</span>]),n=a[r]||<span class="code-number">9e4</span>,r=Rt(t,[<span class="code-string">"tfdt"</span>])[<span class="code-number">0</span>],t=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(r.buffer,r.byteOffset,r.byteLength),t=<span class="code-number">1</span>===r[<span class="code-number">0</span>]?Kt(r.subarray(<span class="code-number">4</span>,<span class="code-number">12</span>)):t.getUint32(<span class="code-number">4</span>);<span class="code-keyword">return</span><span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> t?i=t/qt.BigInt(n):<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> t||<span class="code-built_in">isNaN</span>(t)||(i=t/n),e=(i=i&lt;<span class="code-built_in">Number</span>.MAX_SAFE_INTEGER?<span class="code-built_in">Number</span>(i):i)&lt;e?i:e},<span class="code-number">1</span>/<span class="code-number">0</span>);<span class="code-keyword">return</span><span class="code-string">"bigint"</span>==<span class="code-keyword">typeof</span> e||<span class="code-built_in">isFinite</span>(e)?e:<span class="code-number">0</span>},e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> e=Rt(e,[<span class="code-string">"moov"</span>,<span class="code-string">"trak"</span>]),n=[];<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Rt(e,[<span class="code-string">"mdia"</span>,<span class="code-string">"hdlr"</span>]),i=Rt(e,[<span class="code-string">"tkhd"</span>]);t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e=Ot(e.subarray(<span class="code-number">8</span>,<span class="code-number">12</span>)),t=i[t];<span class="code-string">"vide"</span>===e&amp;&amp;(t=<span class="code-number">0</span>===(t=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(t.buffer,t.byteOffset,t.byteLength)).getUint8(<span class="code-number">0</span>)?t.getUint32(<span class="code-number">12</span>):t.getUint32(<span class="code-number">20</span>),n.push(t))})}),n},Yt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>===e[<span class="code-number">0</span>]?<span class="code-number">12</span>:<span class="code-number">20</span>;<span class="code-keyword">return</span> zt(e[t]&lt;&lt;<span class="code-number">24</span>|e[<span class="code-number">1</span>+t]&lt;&lt;<span class="code-number">16</span>|e[<span class="code-number">2</span>+t]&lt;&lt;<span class="code-number">8</span>|e[<span class="code-number">3</span>+t])},q=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> e=Rt(e,[<span class="code-string">"moov"</span>,<span class="code-string">"trak"</span>]),s=[];<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={},i=Rt(e,[<span class="code-string">"tkhd"</span>])[<span class="code-number">0</span>];i&amp;&amp;(i=(n=<span class="code-keyword">new</span> <span class="code-built_in">DataView</span>(i.buffer,i.byteOffset,i.byteLength)).getUint8(<span class="code-number">0</span>),t.id=<span class="code-number">0</span>===i?n.getUint32(<span class="code-number">12</span>):n.getUint32(<span class="code-number">20</span>));<span class="code-keyword">var</span> n=Rt(e,[<span class="code-string">"mdia"</span>,<span class="code-string">"hdlr"</span>])[<span class="code-number">0</span>];n&amp;&amp;(a=Ot(n.subarray(<span class="code-number">8</span>,<span class="code-number">12</span>)),t.type=<span class="code-string">"vide"</span>===a?<span class="code-string">"video"</span>:<span class="code-string">"soun"</span>===a?<span class="code-string">"audio"</span>:a);<span class="code-keyword">var</span> r,a=Rt(e,[<span class="code-string">"mdia"</span>,<span class="code-string">"minf"</span>,<span class="code-string">"stbl"</span>,<span class="code-string">"stsd"</span>])[<span class="code-number">0</span>];a&amp;&amp;(a=a.subarray(<span class="code-number">8</span>),t.codec=Ot(a.subarray(<span class="code-number">4</span>,<span class="code-number">8</span>)),(a=Rt(a,[t.codec])[<span class="code-number">0</span>])&amp;&amp;(<span class="code-regexp">/^[asm]vc[1-9]$/i</span>.test(t.codec)?(r=a.subarray(<span class="code-number">78</span>),<span class="code-string">"avcC"</span>===Ot(r.subarray(<span class="code-number">4</span>,<span class="code-number">8</span>))&amp;&amp;<span class="code-number">11</span>&lt;r.length?(t.codec+=<span class="code-string">"."</span>,t.codec+=Xt(r[<span class="code-number">9</span>]),t.codec+=Xt(r[<span class="code-number">10</span>]),t.codec+=Xt(r[<span class="code-number">11</span>])):t.codec=<span class="code-string">"avc1.4d400d"</span>):<span class="code-regexp">/^mp4[a,v]$/i</span>.test(t.codec)?(r=a.subarray(<span class="code-number">28</span>),<span class="code-string">"esds"</span>===Ot(r.subarray(<span class="code-number">4</span>,<span class="code-number">8</span>))&amp;&amp;<span class="code-number">20</span>&lt;r.length&amp;&amp;<span class="code-number">0</span>!==r[<span class="code-number">19</span>]?(t.codec+=<span class="code-string">"."</span>+Xt(r[<span class="code-number">19</span>]),t.codec+=<span class="code-string">"."</span>+Xt(r[<span class="code-number">20</span>]&gt;&gt;&gt;<span class="code-number">2</span>&amp;<span class="code-number">63</span>).replace(<span class="code-regexp">/^0/</span>,<span class="code-string">""</span>)):t.codec=<span class="code-string">"mp4a.40.2"</span>):t.codec=t.codec.toLowerCase()));e=Rt(e,[<span class="code-string">"mdia"</span>,<span class="code-string">"mdhd"</span>])[<span class="code-number">0</span>];e&amp;&amp;(t.timescale=Yt(e)),s.push(t)}),s},Qt=ke,$t=q,Jt=Ie,Zt={};Zt.ts={<span class="code-attr">parseType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e=xt(e);<span class="code-keyword">return</span> <span class="code-number">0</span>===e?<span class="code-string">"pat"</span>:e===t?<span class="code-string">"pmt"</span>:t?<span class="code-string">"pes"</span>:<span class="code-literal">null</span>},<span class="code-attr">parsePat</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=At(e),i=<span class="code-number">4</span>+Pt(e);<span class="code-keyword">return</span> t&amp;&amp;(i+=e[i]+<span class="code-number">1</span>),(<span class="code-number">31</span>&amp;e[i+<span class="code-number">10</span>])&lt;&lt;<span class="code-number">8</span>|e[i+<span class="code-number">11</span>]},<span class="code-attr">parsePmt</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={},i=At(e),n=<span class="code-number">4</span>+Pt(e);<span class="code-keyword">if</span>(i&amp;&amp;(n+=e[n]+<span class="code-number">1</span>),<span class="code-number">1</span>&amp;e[n+<span class="code-number">5</span>]){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">3</span>+((<span class="code-number">15</span>&amp;e[n+<span class="code-number">1</span>])&lt;&lt;<span class="code-number">8</span>|e[n+<span class="code-number">2</span>])<span class="code-number">-4</span>,a=<span class="code-number">12</span>+((<span class="code-number">15</span>&amp;e[n+<span class="code-number">10</span>])&lt;&lt;<span class="code-number">8</span>|e[n+<span class="code-number">11</span>]);a&lt;r;){<span class="code-keyword">var</span> s=n+a;t[(<span class="code-number">31</span>&amp;e[s+<span class="code-number">1</span>])&lt;&lt;<span class="code-number">8</span>|e[s+<span class="code-number">2</span>]]=e[s],a+=<span class="code-number">5</span>+((<span class="code-number">15</span>&amp;e[s+<span class="code-number">3</span>])&lt;&lt;<span class="code-number">8</span>|e[s+<span class="code-number">4</span>])}<span class="code-keyword">return</span> t}},<span class="code-attr">parsePayloadUnitStartIndicator</span>:At,<span class="code-attr">parsePesType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">switch</span>(t[xt(e)]){<span class="code-keyword">case</span> je.H264_STREAM_TYPE:<span class="code-keyword">return</span><span class="code-string">"video"</span>;<span class="code-keyword">case</span> je.ADTS_STREAM_TYPE:<span class="code-keyword">return</span><span class="code-string">"audio"</span>;<span class="code-keyword">case</span> je.METADATA_STREAM_TYPE:<span class="code-keyword">return</span><span class="code-string">"timed-metadata"</span>;<span class="code-keyword">default</span>:<span class="code-keyword">return</span> <span class="code-literal">null</span>}},<span class="code-attr">parsePesTime</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!At(e))<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> t=<span class="code-number">4</span>+Pt(e);<span class="code-keyword">if</span>(t&gt;=e.byteLength)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i=<span class="code-literal">null</span>,n=e[t+<span class="code-number">7</span>];<span class="code-keyword">return</span> <span class="code-number">192</span>&amp;n&amp;&amp;((i={}).pts=(<span class="code-number">14</span>&amp;e[t+<span class="code-number">9</span>])&lt;&lt;<span class="code-number">27</span>|(<span class="code-number">255</span>&amp;e[t+<span class="code-number">10</span>])&lt;&lt;<span class="code-number">20</span>|(<span class="code-number">254</span>&amp;e[t+<span class="code-number">11</span>])&lt;&lt;<span class="code-number">12</span>|(<span class="code-number">255</span>&amp;e[t+<span class="code-number">12</span>])&lt;&lt;<span class="code-number">5</span>|(<span class="code-number">254</span>&amp;e[t+<span class="code-number">13</span>])&gt;&gt;&gt;<span class="code-number">3</span>,i.pts*=<span class="code-number">4</span>,i.pts+=(<span class="code-number">6</span>&amp;e[t+<span class="code-number">13</span>])&gt;&gt;&gt;<span class="code-number">1</span>,i.dts=i.pts,<span class="code-number">64</span>&amp;n&amp;&amp;(i.dts=(<span class="code-number">14</span>&amp;e[t+<span class="code-number">14</span>])&lt;&lt;<span class="code-number">27</span>|(<span class="code-number">255</span>&amp;e[t+<span class="code-number">15</span>])&lt;&lt;<span class="code-number">20</span>|(<span class="code-number">254</span>&amp;e[t+<span class="code-number">16</span>])&lt;&lt;<span class="code-number">12</span>|(<span class="code-number">255</span>&amp;e[t+<span class="code-number">17</span>])&lt;&lt;<span class="code-number">5</span>|(<span class="code-number">254</span>&amp;e[t+<span class="code-number">18</span>])&gt;&gt;&gt;<span class="code-number">3</span>,i.dts*=<span class="code-number">4</span>,i.dts+=(<span class="code-number">6</span>&amp;e[t+<span class="code-number">18</span>])&gt;&gt;&gt;<span class="code-number">1</span>)),i},<span class="code-attr">videoPacketContainsKeyFrame</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=<span class="code-number">4</span>+Pt(e),i=e.subarray(t),n=<span class="code-number">0</span>,r=<span class="code-number">0</span>,a=!<span class="code-number">1</span>;r&lt;i.byteLength<span class="code-number">-3</span>;r++)<span class="code-keyword">if</span>(<span class="code-number">1</span>===i[r+<span class="code-number">2</span>]){n=r+<span class="code-number">5</span>;<span class="code-keyword">break</span>}<span class="code-keyword">for</span>(;n&lt;i.byteLength;)<span class="code-keyword">switch</span>(i[n]){<span class="code-keyword">case</span> <span class="code-number">0</span>:<span class="code-keyword">if</span>(<span class="code-number">0</span>!==i[n<span class="code-number">-1</span>]){n+=<span class="code-number">2</span>;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>(<span class="code-number">0</span>!==i[n<span class="code-number">-2</span>]){n++;<span class="code-keyword">break</span>}<span class="code-keyword">for</span>(r+<span class="code-number">3</span>!==n<span class="code-number">-2</span>&amp;&amp;<span class="code-string">"slice_layer_without_partitioning_rbsp_idr"</span>===Lt(<span class="code-number">31</span>&amp;i[r+<span class="code-number">3</span>])&amp;&amp;(a=!<span class="code-number">0</span>);<span class="code-number">1</span>!==i[++n]&amp;&amp;n&lt;i.length;);r=n<span class="code-number">-2</span>,n+=<span class="code-number">3</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> <span class="code-number">1</span>:<span class="code-keyword">if</span>(<span class="code-number">0</span>!==i[n<span class="code-number">-1</span>]||<span class="code-number">0</span>!==i[n<span class="code-number">-2</span>]){n+=<span class="code-number">3</span>;<span class="code-keyword">break</span>}<span class="code-string">"slice_layer_without_partitioning_rbsp_idr"</span>===Lt(<span class="code-number">31</span>&amp;i[r+<span class="code-number">3</span>])&amp;&amp;(a=!<span class="code-number">0</span>),r=n<span class="code-number">-2</span>,n+=<span class="code-number">3</span>;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:n+=<span class="code-number">3</span>}<span class="code-keyword">return</span> i=i.subarray(r),n-=r,r=<span class="code-number">0</span>,a=i&amp;&amp;<span class="code-number">3</span>&lt;i.byteLength&amp;&amp;<span class="code-string">"slice_layer_without_partitioning_rbsp_idr"</span>===Lt(<span class="code-number">31</span>&amp;i[r+<span class="code-number">3</span>])?!<span class="code-number">0</span>:a}},Zt.aac=dt;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ei</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r,a,s,o=<span class="code-number">0</span>,u=<span class="code-number">188</span>,l=!<span class="code-number">1</span>;u&lt;=e.byteLength;)<span class="code-keyword">if</span>(<span class="code-number">71</span>!==e[o]||<span class="code-number">71</span>!==e[u]&amp;&amp;u!==e.byteLength)o++,u++;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(n=e.subarray(o,u),<span class="code-string">"pes"</span>===Zt.ts.parseType(n,t.pid)&amp;&amp;(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class="code-string">"audio"</span>===r&amp;&amp;a&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class="code-string">"audio"</span>,i.audio.push(s),l=!<span class="code-number">0</span>)),l)<span class="code-keyword">break</span>;o+=<span class="code-number">188</span>,u+=<span class="code-number">188</span>}<span class="code-keyword">for</span>(o=(u=e.byteLength)<span class="code-number">-188</span>,l=!<span class="code-number">1</span>;<span class="code-number">0</span>&lt;=o;)<span class="code-keyword">if</span>(<span class="code-number">71</span>!==e[o]||<span class="code-number">71</span>!==e[u]&amp;&amp;u!==e.byteLength)o--,u--;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(n=e.subarray(o,u),<span class="code-string">"pes"</span>===Zt.ts.parseType(n,t.pid)&amp;&amp;(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class="code-string">"audio"</span>===r&amp;&amp;a&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class="code-string">"audio"</span>,i.audio.push(s),l=!<span class="code-number">0</span>)),l)<span class="code-keyword">break</span>;o-=<span class="code-number">188</span>,u-=<span class="code-number">188</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ti</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i={<span class="code-attr">pid</span>:<span class="code-literal">null</span>,<span class="code-attr">table</span>:<span class="code-literal">null</span>},n={};<span class="code-keyword">for</span>(t <span class="code-keyword">in</span>!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i,n=<span class="code-number">0</span>,r=<span class="code-number">188</span>;r&lt;e.byteLength;)<span class="code-keyword">if</span>(<span class="code-number">71</span>!==e[n]||<span class="code-number">71</span>!==e[r])n++,r++;<span class="code-keyword">else</span>{<span class="code-keyword">switch</span>(i=e.subarray(n,r),Zt.ts.parseType(i,t.pid)){<span class="code-keyword">case</span><span class="code-string">"pat"</span>:t.pid=Zt.ts.parsePat(i);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"pmt"</span>:<span class="code-keyword">var</span> a=Zt.ts.parsePmt(i);t.table=t.table||{},<span class="code-built_in">Object</span>.keys(a).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.table[e]=a[e]})}n+=<span class="code-number">188</span>,r+=<span class="code-number">188</span>}}(e,i),i.table)<span class="code-keyword">if</span>(i.table.hasOwnProperty(t))<span class="code-keyword">switch</span>(i.table[t]){<span class="code-keyword">case</span> je.H264_STREAM_TYPE:n.video=[],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r,a,s,o,u,l,c,d=<span class="code-number">0</span>,h=<span class="code-number">188</span>,p=!<span class="code-number">1</span>,f={<span class="code-attr">data</span>:[],<span class="code-attr">size</span>:<span class="code-number">0</span>};h&lt;e.byteLength;)<span class="code-keyword">if</span>(<span class="code-number">71</span>!==e[d]||<span class="code-number">71</span>!==e[h])d++,h++;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(n=e.subarray(d,h),<span class="code-string">"pes"</span>===Zt.ts.parseType(n,t.pid))<span class="code-keyword">if</span>(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class="code-string">"video"</span>===r&amp;&amp;(a&amp;&amp;!p&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class="code-string">"video"</span>,i.video.push(s),p=!<span class="code-number">0</span>),!i.firstKeyFrame)){<span class="code-keyword">if</span>(a&amp;&amp;<span class="code-number">0</span>!==f.size){<span class="code-keyword">for</span>(o=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(f.size),u=<span class="code-number">0</span>;f.data.length;)l=f.data.shift(),o.set(l,u),u+=l.byteLength;!Zt.ts.videoPacketContainsKeyFrame(o)||(c=Zt.ts.parsePesTime(o))&amp;&amp;(i.firstKeyFrame=c,i.firstKeyFrame.type=<span class="code-string">"video"</span>),f.size=<span class="code-number">0</span>}f.data.push(n),f.size+=n.byteLength}<span class="code-keyword">if</span>(p&amp;&amp;i.firstKeyFrame)<span class="code-keyword">break</span>;d+=<span class="code-number">188</span>,h+=<span class="code-number">188</span>}<span class="code-keyword">for</span>(d=(h=e.byteLength)<span class="code-number">-188</span>,p=!<span class="code-number">1</span>;<span class="code-number">0</span>&lt;=d;)<span class="code-keyword">if</span>(<span class="code-number">71</span>!==e[d]||<span class="code-number">71</span>!==e[h])d--,h--;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(n=e.subarray(d,h),<span class="code-string">"pes"</span>===Zt.ts.parseType(n,t.pid)&amp;&amp;(r=Zt.ts.parsePesType(n,t.table),a=Zt.ts.parsePayloadUnitStartIndicator(n),<span class="code-string">"video"</span>===r&amp;&amp;a&amp;&amp;(s=Zt.ts.parsePesTime(n))&amp;&amp;(s.type=<span class="code-string">"video"</span>,i.video.push(s),p=!<span class="code-number">0</span>)),p)<span class="code-keyword">break</span>;d-=<span class="code-number">188</span>,h-=<span class="code-number">188</span>}}(e,i,n),<span class="code-number">0</span>===n.video.length&amp;&amp;<span class="code-keyword">delete</span> n.video;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> je.ADTS_STREAM_TYPE:n.audio=[],ei(e,i,n),<span class="code-number">0</span>===n.audio.length&amp;&amp;<span class="code-keyword">delete</span> n.audio}<span class="code-keyword">return</span> n}<span class="code-keyword">var</span> ii=ue,ni=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r=(Zt.aac.isLikelyAacData(e)?<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t,i=!<span class="code-number">1</span>,n=<span class="code-number">0</span>,r=<span class="code-literal">null</span>,a=<span class="code-literal">null</span>,s=<span class="code-number">0</span>,o=<span class="code-number">0</span>;<span class="code-number">3</span>&lt;=e.length-o;){<span class="code-keyword">switch</span>(Zt.aac.parseType(e,o)){<span class="code-keyword">case</span><span class="code-string">"timed-metadata"</span>:<span class="code-keyword">if</span>(e.length-o&lt;<span class="code-number">10</span>){i=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>((s=Zt.aac.parseId3TagSize(e,o))&gt;e.length){i=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}<span class="code-literal">null</span>===a&amp;&amp;(t=e.subarray(o,o+s),a=Zt.aac.parseAacTimestamp(t)),o+=s;<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"audio"</span>:<span class="code-keyword">if</span>(e.length-o&lt;<span class="code-number">7</span>){i=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}<span class="code-keyword">if</span>((s=Zt.aac.parseAdtsSize(e,o))&gt;e.length){i=!<span class="code-number">0</span>;<span class="code-keyword">break</span>}<span class="code-literal">null</span>===r&amp;&amp;(t=e.subarray(o,o+s),r=Zt.aac.parseSampleRate(t)),n++,o+=s;<span class="code-keyword">break</span>;<span class="code-keyword">default</span>:o++}<span class="code-keyword">if</span>(i)<span class="code-keyword">return</span> <span class="code-literal">null</span>}<span class="code-keyword">if</span>(<span class="code-literal">null</span>===r||<span class="code-literal">null</span>===a)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> u=ii/r;<span class="code-keyword">return</span>{<span class="code-attr">audio</span>:[{<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">dts</span>:a,<span class="code-attr">pts</span>:a},{<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">dts</span>:a+<span class="code-number">1024</span>*n*u,<span class="code-attr">pts</span>:a+<span class="code-number">1024</span>*n*u}]}}:ti)(e);<span class="code-keyword">return</span> r&amp;&amp;(r.audio||r.video)?(e=t,(t=r).audio&amp;&amp;t.audio.length&amp;&amp;(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(i=e)&amp;&amp;!<span class="code-built_in">isNaN</span>(i)||(i=t.audio[<span class="code-number">0</span>].dts),t.audio.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.dts=Jt(e.dts,i),e.pts=Jt(e.pts,i),e.dtsTime=e.dts/ii,e.ptsTime=e.pts/ii})),t.video&amp;&amp;t.video.length&amp;&amp;(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(n=e)&amp;&amp;!<span class="code-built_in">isNaN</span>(n)||(n=t.video[<span class="code-number">0</span>].dts),t.video.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.dts=Jt(e.dts,n),e.pts=Jt(e.pts,n),e.dtsTime=e.dts/ii,e.ptsTime=e.pts/ii}),t.firstKeyFrame&amp;&amp;((t=t.firstKeyFrame).dts=Jt(t.dts,n),t.pts=Jt(t.pts,n),t.dtsTime=t.dts/ii,t.ptsTime=t.pts/ii)),r):<span class="code-literal">null</span>},ri=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.options=t||{},<span class="code-keyword">this</span>.self=e,<span class="code-keyword">this</span>.init()}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.init=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i,e;<span class="code-keyword">this</span>.transmuxer&amp;&amp;<span class="code-keyword">this</span>.transmuxer.dispose(),<span class="code-keyword">this</span>.transmuxer=<span class="code-keyword">new</span> Dt.Transmuxer(<span class="code-keyword">this</span>.options),i=<span class="code-keyword">this</span>.self,(e=<span class="code-keyword">this</span>.transmuxer).on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.initSegment;e.initSegment={<span class="code-attr">data</span>:t.buffer,<span class="code-attr">byteOffset</span>:t.byteOffset,<span class="code-attr">byteLength</span>:t.byteLength};t=e.data;e.data=t.buffer,i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"data"</span>,<span class="code-attr">segment</span>:e,<span class="code-attr">byteOffset</span>:t.byteOffset,<span class="code-attr">byteLength</span>:t.byteLength},[e.data])}),e.on(<span class="code-string">"done"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"done"</span>})}),e.on(<span class="code-string">"gopInfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"gopInfo"</span>,<span class="code-attr">gopInfo</span>:e})}),e.on(<span class="code-string">"videoSegmentTimingInfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">start</span>:{<span class="code-attr">decode</span>:ce(e.start.dts),<span class="code-attr">presentation</span>:ce(e.start.pts)},<span class="code-attr">end</span>:{<span class="code-attr">decode</span>:ce(e.end.dts),<span class="code-attr">presentation</span>:ce(e.end.pts)},<span class="code-attr">baseMediaDecodeTime</span>:ce(e.baseMediaDecodeTime)};e.prependedContentDuration&amp;&amp;(t.prependedContentDuration=ce(e.prependedContentDuration)),i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"videoSegmentTimingInfo"</span>,<span class="code-attr">videoSegmentTimingInfo</span>:t})}),e.on(<span class="code-string">"audioSegmentTimingInfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={<span class="code-attr">start</span>:{<span class="code-attr">decode</span>:ce(e.start.dts),<span class="code-attr">presentation</span>:ce(e.start.pts)},<span class="code-attr">end</span>:{<span class="code-attr">decode</span>:ce(e.end.dts),<span class="code-attr">presentation</span>:ce(e.end.pts)},<span class="code-attr">baseMediaDecodeTime</span>:ce(e.baseMediaDecodeTime)};e.prependedContentDuration&amp;&amp;(t.prependedContentDuration=ce(e.prependedContentDuration)),i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"audioSegmentTimingInfo"</span>,<span class="code-attr">audioSegmentTimingInfo</span>:t})}),e.on(<span class="code-string">"id3Frame"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"id3Frame"</span>,<span class="code-attr">id3Frame</span>:e})}),e.on(<span class="code-string">"caption"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"caption"</span>,<span class="code-attr">caption</span>:e})}),e.on(<span class="code-string">"trackinfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"trackinfo"</span>,<span class="code-attr">trackInfo</span>:e})}),e.on(<span class="code-string">"audioTimingInfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"audioTimingInfo"</span>,<span class="code-attr">audioTimingInfo</span>:{<span class="code-attr">start</span>:ce(e.start),<span class="code-attr">end</span>:ce(e.end)}})}),e.on(<span class="code-string">"videoTimingInfo"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"videoTimingInfo"</span>,<span class="code-attr">videoTimingInfo</span>:{<span class="code-attr">start</span>:ce(e.start),<span class="code-attr">end</span>:ce(e.end)}})}),e.on(<span class="code-string">"log"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.postMessage({<span class="code-attr">action</span>:<span class="code-string">"log"</span>,<span class="code-attr">log</span>:e})})},t.pushMp4Captions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.captionParser||(<span class="code-keyword">this</span>.captionParser=<span class="code-keyword">new</span> Gt,<span class="code-keyword">this</span>.captionParser.init());<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.data,e.byteOffset,e.byteLength),e=<span class="code-keyword">this</span>.captionParser.parse(t,e.trackIds,e.timescales);<span class="code-keyword">this</span>.self.postMessage({<span class="code-attr">action</span>:<span class="code-string">"mp4Captions"</span>,<span class="code-attr">captions</span>:e&amp;&amp;e.captions||[],<span class="code-attr">logs</span>:e&amp;&amp;e.logs||[],<span class="code-attr">data</span>:t.buffer},[t.buffer])},t.probeMp4StartTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.timescales,e=e.data,t=Qt(t,e);<span class="code-keyword">this</span>.self.postMessage({<span class="code-attr">action</span>:<span class="code-string">"probeMp4StartTime"</span>,<span class="code-attr">startTime</span>:t,<span class="code-attr">data</span>:e},[e.buffer])},t.probeMp4Tracks=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.data,e=$t(t);<span class="code-keyword">this</span>.self.postMessage({<span class="code-attr">action</span>:<span class="code-string">"probeMp4Tracks"</span>,<span class="code-attr">tracks</span>:e,<span class="code-attr">data</span>:t},[t.buffer])},t.probeTs=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.data,i=e.baseStartTime,e=<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> i||<span class="code-built_in">isNaN</span>(i)?<span class="code-keyword">void</span> <span class="code-number">0</span>:i*ue,i=ni(t,e),e=<span class="code-literal">null</span>;i&amp;&amp;((e={<span class="code-attr">hasVideo</span>:i.video&amp;&amp;<span class="code-number">2</span>===i.video.length||!<span class="code-number">1</span>,<span class="code-attr">hasAudio</span>:i.audio&amp;&amp;<span class="code-number">2</span>===i.audio.length||!<span class="code-number">1</span>}).hasVideo&amp;&amp;(e.videoStart=i.video[<span class="code-number">0</span>].ptsTime),e.hasAudio&amp;&amp;(e.audioStart=i.audio[<span class="code-number">0</span>].ptsTime)),<span class="code-keyword">this</span>.self.postMessage({<span class="code-attr">action</span>:<span class="code-string">"probeTs"</span>,<span class="code-attr">result</span>:e,<span class="code-attr">data</span>:t},[t.buffer])},t.clearAllMp4Captions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.captionParser&amp;&amp;<span class="code-keyword">this</span>.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.captionParser&amp;&amp;<span class="code-keyword">this</span>.captionParser.clearParsedCaptions()},t.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.data,e.byteOffset,e.byteLength);<span class="code-keyword">this</span>.transmuxer.push(e)},t.reset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transmuxer.reset()},t.setTimestampOffset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=e.timestampOffset||<span class="code-number">0</span>;<span class="code-keyword">this</span>.transmuxer.setBaseMediaDecodeTime(<span class="code-built_in">Math</span>.round(le(e)))},t.setAudioAppendStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.transmuxer.setAudioAppendStart(<span class="code-built_in">Math</span>.ceil(le(e.appendStart)))},t.setRemux=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.transmuxer.setRemux(e.remux)},t.flush=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.transmuxer.flush(),self.postMessage({<span class="code-attr">action</span>:<span class="code-string">"done"</span>,<span class="code-attr">type</span>:<span class="code-string">"transmuxed"</span>})},t.endTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transmuxer.endTimeline(),self.postMessage({<span class="code-attr">action</span>:<span class="code-string">"endedtimeline"</span>,<span class="code-attr">type</span>:<span class="code-string">"transmuxed"</span>})},t.alignGopsWith=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"init"</span>===e.data.action&amp;&amp;e.data.options?<span class="code-keyword">this</span>.messageHandlers=<span class="code-keyword">new</span> ri(self,e.data.options):(<span class="code-keyword">this</span>.messageHandlers||(<span class="code-keyword">this</span>.messageHandlers=<span class="code-keyword">new</span> ri(self)),e.data&amp;&amp;e.data.action&amp;&amp;<span class="code-string">"init"</span>!==e.data.action&amp;&amp;<span class="code-keyword">this</span>.messageHandlers[e.data.action]&amp;&amp;<span class="code-keyword">this</span>.messageHandlers[e.data.action](e.data))}}))),Cl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.currentTransmux=<span class="code-literal">null</span>,e.transmuxQueue.length&amp;&amp;(e.currentTransmux=e.transmuxQueue.shift(),<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.currentTransmux?e.currentTransmux():Du(e.currentTransmux))},Il=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Mu(<span class="code-string">"reset"</span>,e)},xl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">new</span> kl;t.currentTransmux=<span class="code-literal">null</span>,t.transmuxQueue=[];<span class="code-keyword">var</span> i=t.terminate;<span class="code-keyword">return</span> t.terminate=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.currentTransmux=<span class="code-literal">null</span>,t.transmuxQueue.length=<span class="code-number">0</span>,i.call(t)},t.postMessage({<span class="code-attr">action</span>:<span class="code-string">"init"</span>,<span class="code-attr">options</span>:e}),t},Al=<span class="code-number">2</span>,Pl=<span class="code-number">-101</span>,Ll=<span class="code-number">-102</span>,Dl=Ro(<span class="code-string">"CodecUtils"</span>),Ol=Ro(<span class="code-string">"PlaylistSelector"</span>),ar=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.useDevicePixelRatio&amp;&amp;<span class="code-built_in">window</span>.devicePixelRatio||<span class="code-number">1</span>;<span class="code-keyword">return</span> il(<span class="code-keyword">this</span>.playlists.master,<span class="code-keyword">this</span>.systemBandwidth,<span class="code-built_in">parseInt</span>(Zu(<span class="code-keyword">this</span>.tech_.el(),<span class="code-string">"width"</span>),<span class="code-number">10</span>)*e,<span class="code-built_in">parseInt</span>(Zu(<span class="code-keyword">this</span>.tech_.el(),<span class="code-string">"height"</span>),<span class="code-number">10</span>)*e,<span class="code-keyword">this</span>.limitRenditionByPlayerDimensions,<span class="code-keyword">this</span>.masterPlaylistController_)},Ml=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"Initialization settings are required"</span>);<span class="code-keyword">if</span>(<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> e.currentTime)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"No currentTime getter specified"</span>);<span class="code-keyword">if</span>(!e.mediaSource)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">TypeError</span>(<span class="code-string">"No MediaSource specified"</span>);<span class="code-keyword">return</span> i.bandwidth=e.bandwidth,i.throughput={<span class="code-attr">rate</span>:<span class="code-number">0</span>,<span class="code-attr">count</span>:<span class="code-number">0</span>},i.roundTrip=<span class="code-literal">NaN</span>,i.resetStats_(),i.mediaIndex=<span class="code-literal">null</span>,i.partIndex=<span class="code-literal">null</span>,i.hasPlayed_=e.hasPlayed,i.currentTime_=e.currentTime,i.seekable_=e.seekable,i.seeking_=e.seeking,i.duration_=e.duration,i.mediaSource_=e.mediaSource,i.vhs_=e.vhs,i.loaderType_=e.loaderType,i.currentMediaInfo_=<span class="code-keyword">void</span> <span class="code-number">0</span>,i.startingMediaInfo_=<span class="code-keyword">void</span> <span class="code-number">0</span>,i.segmentMetadataTrack_=e.segmentMetadataTrack,i.goalBufferLength_=e.goalBufferLength,i.sourceType_=e.sourceType,i.sourceUpdater_=e.sourceUpdater,i.inbandTextTracks_=e.inbandTextTracks,i.state_=<span class="code-string">"INIT"</span>,i.timelineChangeController_=e.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!<span class="code-number">0</span>,i.parse708captions_=e.parse708captions,i.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,i.captionServices_=e.captionServices,i.experimentalExactManifestTimings=e.experimentalExactManifestTimings,i.checkBufferTimeout_=<span class="code-literal">null</span>,i.error_=<span class="code-keyword">void</span> <span class="code-number">0</span>,i.currentTimeline_=<span class="code-number">-1</span>,i.pendingSegment_=<span class="code-literal">null</span>,i.xhrOptions_=<span class="code-literal">null</span>,i.pendingSegments_=[],i.audioDisabled_=!<span class="code-number">1</span>,i.isPendingTimestampOffset_=!<span class="code-number">1</span>,i.gopBuffer_=[],i.timeMapping_=<span class="code-number">0</span>,i.safeAppend_=<span class="code-number">11</span>&lt;=tr.browser.IE_VERSION,i.appendInitSegment_={<span class="code-attr">audio</span>:!<span class="code-number">0</span>,<span class="code-attr">video</span>:!<span class="code-number">0</span>},i.playlistOfLastInitSegment_={<span class="code-attr">audio</span>:<span class="code-literal">null</span>,<span class="code-attr">video</span>:<span class="code-literal">null</span>},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={<span class="code-attr">id3</span>:[],<span class="code-attr">caption</span>:[]},i.waitingOnRemove_=!<span class="code-number">1</span>,i.quotaExceededErrorRetryTimeout_=<span class="code-literal">null</span>,i.activeInitSegmentId_=<span class="code-literal">null</span>,i.initSegments_={},i.cacheEncryptionKeys_=e.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=e.decrypter,i.syncController_=e.syncController,i.syncPoint_={<span class="code-attr">segmentIndex</span>:<span class="code-number">0</span>,<span class="code-attr">time</span>:<span class="code-number">0</span>},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.trigger(<span class="code-string">"syncinfoupdate"</span>)},i.syncController_.on(<span class="code-string">"syncinfoupdate"</span>,i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener(<span class="code-string">"sourceopen"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.isEndOfStream_()||(i.ended_=!<span class="code-number">1</span>)}),i.fetchAtBuffer_=!<span class="code-number">1</span>,i.logger_=Ro(<span class="code-string">"SegmentLoader["</span>+i.loaderType_+<span class="code-string">"]"</span>),<span class="code-built_in">Object</span>.defineProperty(ft(i),<span class="code-string">"state"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state_},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e!==<span class="code-keyword">this</span>.state_&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-keyword">this</span>.state_+<span class="code-string">" -&gt; "</span>+e),<span class="code-keyword">this</span>.state_=e,<span class="code-keyword">this</span>.trigger(<span class="code-string">"statechange"</span>))}}),i.sourceUpdater_.on(<span class="code-string">"ready"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.hasEnoughInfoToAppend_()&amp;&amp;i.processCallQueue_()}),<span class="code-string">"main"</span>===i.loaderType_&amp;&amp;i.timelineChangeController_.on(<span class="code-string">"pendingtimelinechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.hasEnoughInfoToAppend_()&amp;&amp;i.processCallQueue_()}),<span class="code-string">"audio"</span>===i.loaderType_&amp;&amp;i.timelineChangeController_.on(<span class="code-string">"timelinechange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.hasEnoughInfoToLoad_()&amp;&amp;i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&amp;&amp;i.processCallQueue_()}),i}mt(e,n);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createTransmuxer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> xl({<span class="code-attr">remux</span>:!<span class="code-number">1</span>,<span class="code-attr">alignGopsAtEnd</span>:<span class="code-keyword">this</span>.safeAppend_,<span class="code-attr">keepOriginalTimestamps</span>:!<span class="code-number">0</span>,<span class="code-attr">parse708captions</span>:<span class="code-keyword">this</span>.parse708captions_,<span class="code-attr">captionServices</span>:<span class="code-keyword">this</span>.captionServices_})},t.resetStats_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mediaBytesTransferred=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaRequests=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaRequestsAborted=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaRequestsTimedout=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaRequestsErrored=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaTransferDuration=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaSecondsLoaded=<span class="code-number">0</span>,<span class="code-keyword">this</span>.mediaAppends=<span class="code-number">0</span>},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.state=<span class="code-string">"DISPOSED"</span>,<span class="code-keyword">this</span>.pause(),<span class="code-keyword">this</span>.abort_(),<span class="code-keyword">this</span>.transmuxer_&amp;&amp;<span class="code-keyword">this</span>.transmuxer_.terminate(),<span class="code-keyword">this</span>.resetStats_(),<span class="code-keyword">this</span>.checkBufferTimeout_&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.checkBufferTimeout_),<span class="code-keyword">this</span>.syncController_&amp;&amp;<span class="code-keyword">this</span>.triggerSyncInfoUpdate_&amp;&amp;<span class="code-keyword">this</span>.syncController_.off(<span class="code-string">"syncinfoupdate"</span>,<span class="code-keyword">this</span>.triggerSyncInfoUpdate_),<span class="code-keyword">this</span>.off()},t.setAudio=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.audioDisabled_=!e,e?<span class="code-keyword">this</span>.appendInitSegment_.audio=!<span class="code-number">0</span>:<span class="code-keyword">this</span>.sourceUpdater_.removeAudio(<span class="code-number">0</span>,<span class="code-keyword">this</span>.duration_())},t.abort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"WAITING"</span>===<span class="code-keyword">this</span>.state?(<span class="code-keyword">this</span>.abort_(),<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,<span class="code-keyword">this</span>.paused()||<span class="code-keyword">this</span>.monitorBuffer_()):<span class="code-keyword">this</span>.pendingSegment_&amp;&amp;(<span class="code-keyword">this</span>.pendingSegment_=<span class="code-literal">null</span>)},t.abort_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.pendingSegment_&amp;&amp;<span class="code-keyword">this</span>.pendingSegment_.abortRequests&amp;&amp;<span class="code-keyword">this</span>.pendingSegment_.abortRequests(),<span class="code-keyword">this</span>.pendingSegment_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.callQueue_=[],<span class="code-keyword">this</span>.loadQueue_=[],<span class="code-keyword">this</span>.metadataQueue_.id3=[],<span class="code-keyword">this</span>.metadataQueue_.caption=[],<span class="code-keyword">this</span>.timelineChangeController_.clearPendingTimelineChange(<span class="code-keyword">this</span>.loaderType_),<span class="code-keyword">this</span>.waitingOnRemove_=!<span class="code-number">1</span>,<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.quotaExceededErrorRetryTimeout_),<span class="code-keyword">this</span>.quotaExceededErrorRetryTimeout_=<span class="code-literal">null</span>},t.checkForAbort_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"APPENDING"</span>!==<span class="code-keyword">this</span>.state||<span class="code-keyword">this</span>.pendingSegment_?!<span class="code-keyword">this</span>.pendingSegment_||<span class="code-keyword">this</span>.pendingSegment_.requestId!==e:(<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,!<span class="code-number">0</span>)},t.error=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-string">"error occurred:"</span>,e),<span class="code-keyword">this</span>.error_=e),<span class="code-keyword">this</span>.pendingSegment_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.error_},t.endOfStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.ended_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.transmuxer_&amp;&amp;Il(<span class="code-keyword">this</span>.transmuxer_),<span class="code-keyword">this</span>.gopBuffer_.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.pause(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"ended"</span>)},t.buffered_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.getMediaInfo_();<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.sourceUpdater_||!e)<span class="code-keyword">return</span> tr.createTimeRanges();<span class="code-keyword">if</span>(<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_){<span class="code-keyword">var</span> t=e.hasAudio,i=e.hasVideo,e=e.isMuxed;<span class="code-keyword">if</span>(i&amp;&amp;t&amp;&amp;!<span class="code-keyword">this</span>.audioDisabled_&amp;&amp;!e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.sourceUpdater_.buffered();<span class="code-keyword">if</span>(i)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.sourceUpdater_.videoBuffered()}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.sourceUpdater_.audioBuffered()},t.initSegmentForMap=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">1</span>),!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i=Su(e),n=<span class="code-keyword">this</span>.initSegments_[i];<span class="code-keyword">return</span> t&amp;&amp;!n&amp;&amp;e.bytes&amp;&amp;(<span class="code-keyword">this</span>.initSegments_[i]=n={<span class="code-attr">resolvedUri</span>:e.resolvedUri,<span class="code-attr">byterange</span>:e.byterange,<span class="code-attr">bytes</span>:e.bytes,<span class="code-attr">tracks</span>:e.tracks,<span class="code-attr">timescales</span>:e.timescales}),n||e},t.segmentKey=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">1</span>),!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i=wu(e),n=<span class="code-keyword">this</span>.keyCache_[i];<span class="code-keyword">this</span>.cacheEncryptionKeys_&amp;&amp;t&amp;&amp;!n&amp;&amp;e.bytes&amp;&amp;(<span class="code-keyword">this</span>.keyCache_[i]=n={<span class="code-attr">resolvedUri</span>:e.resolvedUri,<span class="code-attr">bytes</span>:e.bytes});e={<span class="code-attr">resolvedUri</span>:(n||e).resolvedUri};<span class="code-keyword">return</span> n&amp;&amp;(e.bytes=n.bytes),e},t.couldBeginLoading_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.playlist_&amp;&amp;!<span class="code-keyword">this</span>.paused()},t.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.monitorBuffer_(),<span class="code-keyword">this</span>.playlist_)<span class="code-keyword">return</span><span class="code-string">"INIT"</span>===<span class="code-keyword">this</span>.state&amp;&amp;<span class="code-keyword">this</span>.couldBeginLoading_()?<span class="code-keyword">this</span>.init_():<span class="code-keyword">void</span>(!<span class="code-keyword">this</span>.couldBeginLoading_()||<span class="code-string">"READY"</span>!==<span class="code-keyword">this</span>.state&amp;&amp;<span class="code-string">"INIT"</span>!==<span class="code-keyword">this</span>.state||(<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>))},t.init_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,<span class="code-keyword">this</span>.resetEverything(),<span class="code-keyword">this</span>.monitorBuffer_()},t.playlist=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t={}),e){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.playlist_,n=<span class="code-keyword">this</span>.pendingSegment_;<span class="code-keyword">this</span>.playlist_=e,<span class="code-keyword">this</span>.xhrOptions_=t,<span class="code-string">"INIT"</span>===<span class="code-keyword">this</span>.state&amp;&amp;(e.syncInfo={<span class="code-attr">mediaSequence</span>:e.mediaSequence,<span class="code-attr">time</span>:<span class="code-number">0</span>},<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_&amp;&amp;<span class="code-keyword">this</span>.syncController_.setDateTimeMappingForStart(e));<span class="code-keyword">var</span> r=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(i&amp;&amp;(i.id?r=i.id:i.uri&amp;&amp;(r=i.uri)),<span class="code-keyword">this</span>.logger_(<span class="code-string">"playlist update ["</span>+r+<span class="code-string">" =&gt; "</span>+(e.id||e.uri)+<span class="code-string">"]"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"syncinfoupdate"</span>),<span class="code-string">"INIT"</span>===<span class="code-keyword">this</span>.state&amp;&amp;<span class="code-keyword">this</span>.couldBeginLoading_())<span class="code-keyword">return</span> <span class="code-keyword">this</span>.init_();<span class="code-keyword">if</span>(!i||i.uri!==e.uri)<span class="code-keyword">return</span> <span class="code-literal">null</span>!==<span class="code-keyword">this</span>.mediaIndex&amp;&amp;(e.endList?<span class="code-keyword">this</span>.resyncLoader():<span class="code-keyword">this</span>.resetLoader()),<span class="code-keyword">this</span>.currentMediaInfo_=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"playlistupdate"</span>);t=e.mediaSequence-i.mediaSequence;<span class="code-keyword">this</span>.logger_(<span class="code-string">"live window shift ["</span>+t+<span class="code-string">"]"</span>),<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.mediaIndex&amp;&amp;(<span class="code-keyword">this</span>.mediaIndex-=t,<span class="code-keyword">this</span>.mediaIndex&lt;<span class="code-number">0</span>?(<span class="code-keyword">this</span>.mediaIndex=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.partIndex=<span class="code-literal">null</span>):(r=<span class="code-keyword">this</span>.playlist_.segments[<span class="code-keyword">this</span>.mediaIndex],!<span class="code-keyword">this</span>.partIndex||r.parts&amp;&amp;r.parts.length&amp;&amp;r.parts[<span class="code-keyword">this</span>.partIndex]||(r=<span class="code-keyword">this</span>.mediaIndex,<span class="code-keyword">this</span>.logger_(<span class="code-string">"currently processing part (index "</span>+<span class="code-keyword">this</span>.partIndex+<span class="code-string">") no longer exists."</span>),<span class="code-keyword">this</span>.resetLoader(),<span class="code-keyword">this</span>.mediaIndex=r))),n&amp;&amp;(n.mediaIndex-=t,n.mediaIndex&lt;<span class="code-number">0</span>?(n.mediaIndex=<span class="code-literal">null</span>,n.partIndex=<span class="code-literal">null</span>):(<span class="code-number">0</span>&lt;=n.mediaIndex&amp;&amp;(n.segment=e.segments[n.mediaIndex]),<span class="code-number">0</span>&lt;=n.partIndex&amp;&amp;n.segment.parts&amp;&amp;(n.part=n.segment.parts[n.partIndex]))),<span class="code-keyword">this</span>.syncController_.saveExpiredSegmentInfo(i,e)}},t.pause=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.checkBufferTimeout_&amp;&amp;(<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.checkBufferTimeout_),<span class="code-keyword">this</span>.checkBufferTimeout_=<span class="code-literal">null</span>)},t.paused=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>===<span class="code-keyword">this</span>.checkBufferTimeout_},t.resetEverything=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.ended_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.appendInitSegment_={<span class="code-attr">audio</span>:!<span class="code-number">0</span>,<span class="code-attr">video</span>:!<span class="code-number">0</span>},<span class="code-keyword">this</span>.resetLoader(),<span class="code-keyword">this</span>.remove(<span class="code-number">0</span>,<span class="code-number">1</span>/<span class="code-number">0</span>,e),<span class="code-keyword">this</span>.transmuxer_&amp;&amp;(<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"clearAllMp4Captions"</span>}),<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"reset"</span>}))},t.resetLoader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.fetchAtBuffer_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.resyncLoader()},t.resyncLoader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.transmuxer_&amp;&amp;Il(<span class="code-keyword">this</span>.transmuxer_),<span class="code-keyword">this</span>.mediaIndex=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.partIndex=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.syncPoint_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.isPendingTimestampOffset_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.callQueue_=[],<span class="code-keyword">this</span>.loadQueue_=[],<span class="code-keyword">this</span>.metadataQueue_.id3=[],<span class="code-keyword">this</span>.metadataQueue_.caption=[],<span class="code-keyword">this</span>.abort(),<span class="code-keyword">this</span>.transmuxer_&amp;&amp;<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"clearParsedMp4Captions"</span>})},t.remove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{}),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=!<span class="code-number">1</span>),(t=t===<span class="code-number">1</span>/<span class="code-number">0</span>?<span class="code-keyword">this</span>.duration_():t)&lt;=e)<span class="code-keyword">this</span>.logger_(<span class="code-string">"skipping remove because end ${end} is &lt;= start ${start}"</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">this</span>.sourceUpdater_&amp;&amp;<span class="code-keyword">this</span>.getMediaInfo_()){<span class="code-keyword">var</span> r,a=<span class="code-number">1</span>,s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-number">0</span>===--a&amp;&amp;i()};<span class="code-keyword">for</span>(r <span class="code-keyword">in</span>!n&amp;&amp;<span class="code-keyword">this</span>.audioDisabled_||(a++,<span class="code-keyword">this</span>.sourceUpdater_.removeAudio(e,t,s)),!n&amp;&amp;<span class="code-string">"main"</span>!==<span class="code-keyword">this</span>.loaderType_||(<span class="code-keyword">this</span>.gopBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-built_in">Math</span>.ceil((t-n)*hl),a=<span class="code-built_in">Math</span>.ceil((i-n)*hl),n=e.slice(),s=e.length;s--&amp;&amp;!(e[s].pts&lt;=a););<span class="code-keyword">if</span>(<span class="code-number">-1</span>===s)<span class="code-keyword">return</span> n;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=s+<span class="code-number">1</span>;o--&amp;&amp;!(e[o].pts&lt;=r););<span class="code-keyword">return</span> o=<span class="code-built_in">Math</span>.max(o,<span class="code-number">0</span>),n.splice(o,s-o+<span class="code-number">1</span>),n}(<span class="code-keyword">this</span>.gopBuffer_,e,t,<span class="code-keyword">this</span>.timeMapping_),a++,<span class="code-keyword">this</span>.sourceUpdater_.removeVideo(e,t,s)),<span class="code-keyword">this</span>.inbandTextTracks_)rl(e,t,<span class="code-keyword">this</span>.inbandTextTracks_[r]);rl(e,t,<span class="code-keyword">this</span>.segmentMetadataTrack_),s()}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"skipping remove because no source updater or starting media info"</span>)},t.monitorBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.checkBufferTimeout_&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.checkBufferTimeout_),<span class="code-keyword">this</span>.checkBufferTimeout_=<span class="code-built_in">window</span>.setTimeout(<span class="code-keyword">this</span>.monitorBufferTick_.bind(<span class="code-keyword">this</span>),<span class="code-number">1</span>)},t.monitorBufferTick_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-string">"READY"</span>===<span class="code-keyword">this</span>.state&amp;&amp;<span class="code-keyword">this</span>.fillBuffer_(),<span class="code-keyword">this</span>.checkBufferTimeout_&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.checkBufferTimeout_),<span class="code-keyword">this</span>.checkBufferTimeout_=<span class="code-built_in">window</span>.setTimeout(<span class="code-keyword">this</span>.monitorBufferTick_.bind(<span class="code-keyword">this</span>),<span class="code-number">500</span>)},t.fillBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.sourceUpdater_.updating()||(e=<span class="code-keyword">this</span>.chooseNextRequest_())&amp;&amp;(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.timestampOffset&amp;&amp;(<span class="code-keyword">this</span>.isPendingTimestampOffset_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.timelineChangeController_.pendingTimelineChange({<span class="code-attr">type</span>:<span class="code-keyword">this</span>.loaderType_,<span class="code-attr">from</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">to</span>:e.timeline})),<span class="code-keyword">this</span>.loadSegment_(e))},t.isEndOfStream_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">this</span>.mediaIndex),<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=<span class="code-keyword">this</span>.playlist_),<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-keyword">this</span>.partIndex),!t||!<span class="code-keyword">this</span>.mediaSource_)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> n=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;t.segments[e],e=e+<span class="code-number">1</span>===t.segments.length,n=!n||!n.parts||i+<span class="code-number">1</span>===n.parts.length;<span class="code-keyword">return</span> t.endList&amp;&amp;<span class="code-string">"open"</span>===<span class="code-keyword">this</span>.mediaSource_.readyState&amp;&amp;e&amp;&amp;n},t.chooseNextRequest_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.buffered_(),t=Ho(e)||<span class="code-number">0</span>,i=qo(e,<span class="code-keyword">this</span>.currentTime_()),n=!<span class="code-keyword">this</span>.hasPlayed_()&amp;&amp;<span class="code-number">1</span>&lt;=i,r=i&gt;=<span class="code-keyword">this</span>.goalBufferLength_(),e=<span class="code-keyword">this</span>.playlist_.segments;<span class="code-keyword">if</span>(!e.length||n||r)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">this</span>.syncPoint_=<span class="code-keyword">this</span>.syncPoint_||<span class="code-keyword">this</span>.syncController_.getSyncPoint(<span class="code-keyword">this</span>.playlist_,<span class="code-keyword">this</span>.duration_(),<span class="code-keyword">this</span>.currentTimeline_,<span class="code-keyword">this</span>.currentTime_());<span class="code-keyword">var</span> a,n={<span class="code-attr">partIndex</span>:<span class="code-literal">null</span>,<span class="code-attr">mediaIndex</span>:<span class="code-literal">null</span>,<span class="code-attr">startOfSegment</span>:<span class="code-literal">null</span>,<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.playlist_,<span class="code-attr">isSyncRequest</span>:<span class="code-built_in">Boolean</span>(!<span class="code-keyword">this</span>.syncPoint_)};n.isSyncRequest?n.mediaIndex=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{t=t||[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],r=<span class="code-number">0</span>,a=<span class="code-number">0</span>;a&lt;t.length;a++){<span class="code-keyword">var</span> s=t[a];<span class="code-keyword">if</span>(e===s.timeline&amp;&amp;(n.push(a),i&lt;(r+=s.duration)))<span class="code-keyword">return</span> a}<span class="code-keyword">return</span> <span class="code-number">0</span>===n.length?<span class="code-number">0</span>:n[n.length<span class="code-number">-1</span>]}(<span class="code-keyword">this</span>.currentTimeline_,e,t):<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.mediaIndex?(r=e[<span class="code-keyword">this</span>.mediaIndex],a=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.partIndex?<span class="code-keyword">this</span>.partIndex:<span class="code-number">-1</span>,n.startOfSegment=r.end||t,r.parts&amp;&amp;r.parts[a+<span class="code-number">1</span>]?(n.mediaIndex=<span class="code-keyword">this</span>.mediaIndex,n.partIndex=a+<span class="code-number">1</span>):n.mediaIndex=<span class="code-keyword">this</span>.mediaIndex+<span class="code-number">1</span>):(a=(o=gl.getMediaInfoForTime({<span class="code-attr">experimentalExactManifestTimings</span>:<span class="code-keyword">this</span>.experimentalExactManifestTimings,<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.playlist_,<span class="code-attr">currentTime</span>:<span class="code-keyword">this</span>.fetchAtBuffer_?t:<span class="code-keyword">this</span>.currentTime_(),<span class="code-attr">startingPartIndex</span>:<span class="code-keyword">this</span>.syncPoint_.partIndex,<span class="code-attr">startingSegmentIndex</span>:<span class="code-keyword">this</span>.syncPoint_.segmentIndex,<span class="code-attr">startTime</span>:<span class="code-keyword">this</span>.syncPoint_.time})).segmentIndex,s=o.startTime,o=o.partIndex,n.getMediaInfoForTime=<span class="code-keyword">this</span>.fetchAtBuffer_?<span class="code-string">"bufferedEnd "</span>+t:<span class="code-string">"currentTime "</span>+<span class="code-keyword">this</span>.currentTime_(),n.mediaIndex=a,n.startOfSegment=s,n.partIndex=o);<span class="code-keyword">var</span> s=e[n.mediaIndex],o=s&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> n.partIndex&amp;&amp;s.parts&amp;&amp;s.parts[n.partIndex];<span class="code-keyword">if</span>(!s||<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> n.partIndex&amp;&amp;!o)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> n.partIndex&amp;&amp;s.parts&amp;&amp;(n.partIndex=<span class="code-number">0</span>,o=s.parts[<span class="code-number">0</span>]),i||!o||o.independent||(<span class="code-number">0</span>===n.partIndex?(o=(i=e[n.mediaIndex<span class="code-number">-1</span>]).parts&amp;&amp;i.parts.length&amp;&amp;i.parts[i.parts.length<span class="code-number">-1</span>])&amp;&amp;o.independent&amp;&amp;(--n.mediaIndex,n.partIndex=i.parts.length<span class="code-number">-1</span>,n.independent=<span class="code-string">"previous segment"</span>):s.parts[n.partIndex<span class="code-number">-1</span>].independent&amp;&amp;(--n.partIndex,n.independent=<span class="code-string">"previous part"</span>));s=<span class="code-keyword">this</span>.mediaSource_&amp;&amp;<span class="code-string">"ended"</span>===<span class="code-keyword">this</span>.mediaSource_.readyState;<span class="code-keyword">return</span> n.mediaIndex&gt;=e.length<span class="code-number">-1</span>&amp;&amp;s&amp;&amp;!<span class="code-keyword">this</span>.seeking_()?<span class="code-literal">null</span>:<span class="code-keyword">this</span>.generateSegmentInfo_(n)},t.generateSegmentInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.independent,i=e.playlist,n=e.mediaIndex,r=e.startOfSegment,a=e.isSyncRequest,s=e.partIndex,o=e.forceTimestampOffset,u=e.getMediaInfoForTime,l=i.segments[n],e=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> s&amp;&amp;l.parts[s],t={<span class="code-attr">requestId</span>:<span class="code-string">"segment-loader-"</span>+<span class="code-built_in">Math</span>.random(),<span class="code-attr">uri</span>:e&amp;&amp;e.resolvedUri||l.resolvedUri,<span class="code-attr">mediaIndex</span>:n,<span class="code-attr">partIndex</span>:e?s:<span class="code-literal">null</span>,<span class="code-attr">isSyncRequest</span>:a,<span class="code-attr">startOfSegment</span>:r,<span class="code-attr">playlist</span>:i,<span class="code-attr">bytes</span>:<span class="code-literal">null</span>,<span class="code-attr">encryptedBytes</span>:<span class="code-literal">null</span>,<span class="code-attr">timestampOffset</span>:<span class="code-literal">null</span>,<span class="code-attr">timeline</span>:l.timeline,<span class="code-attr">duration</span>:e&amp;&amp;e.duration||l.duration,<span class="code-attr">segment</span>:l,<span class="code-attr">part</span>:e,<span class="code-attr">byteLength</span>:<span class="code-number">0</span>,<span class="code-attr">transmuxer</span>:<span class="code-keyword">this</span>.transmuxer_,<span class="code-attr">getMediaInfoForTime</span>:u,<span class="code-attr">independent</span>:t},o=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> o?o:<span class="code-keyword">this</span>.isPendingTimestampOffset_;t.timestampOffset=<span class="code-keyword">this</span>.timestampOffsetForSegment_({<span class="code-attr">segmentTimeline</span>:l.timeline,<span class="code-attr">currentTimeline</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">startOfSegment</span>:r,<span class="code-attr">buffered</span>:<span class="code-keyword">this</span>.buffered_(),<span class="code-attr">overrideCheck</span>:o});o=Ho(<span class="code-keyword">this</span>.sourceUpdater_.audioBuffered());<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> o&amp;&amp;(t.audioAppendStart=o-<span class="code-keyword">this</span>.sourceUpdater_.audioTimestampOffset()),<span class="code-keyword">this</span>.sourceUpdater_.videoBuffered().length&amp;&amp;(t.gopsToAlignWith=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t||<span class="code-literal">null</span>===t||!e.length)<span class="code-keyword">return</span>[];<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-built_in">Math</span>.ceil((t-i+<span class="code-number">3</span>)*hl),r=<span class="code-number">0</span>;r&lt;e.length&amp;&amp;!(e[r].pts&gt;n);r++);<span class="code-keyword">return</span> e.slice(r)}(<span class="code-keyword">this</span>.gopBuffer_,<span class="code-keyword">this</span>.currentTime_()-<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset(),<span class="code-keyword">this</span>.timeMapping_)),t},t.timestampOffsetForSegment_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> i=(t=e).segmentTimeline,n=t.currentTimeline,r=t.startOfSegment,e=t.buffered,t.overrideCheck||i!==n?!(i&lt;n)&amp;&amp;e.length?e.end(e.length<span class="code-number">-1</span>):r:<span class="code-literal">null</span>;<span class="code-keyword">var</span> t,i,n,r},t.earlyAbortWhenNeeded_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a,s,o,u,l,c,d,h,p;!<span class="code-keyword">this</span>.vhs_.tech_.paused()&amp;&amp;<span class="code-keyword">this</span>.xhrOptions_.timeout&amp;&amp;<span class="code-keyword">this</span>.playlist_.attributes.BANDWIDTH&amp;&amp;(<span class="code-built_in">Date</span>.now()-(e.firstBytesReceivedAt||<span class="code-built_in">Date</span>.now())&lt;<span class="code-number">1e3</span>||(t=<span class="code-keyword">this</span>.currentTime_(),r=e.bandwidth,a=<span class="code-keyword">this</span>.pendingSegment_.duration,p=gl.estimateSegmentRequestTime(a,r,<span class="code-keyword">this</span>.playlist_,e.bytesReceived),i=<span class="code-keyword">this</span>.buffered_(),n=t,<span class="code-keyword">void</span> <span class="code-number">0</span>===(e=<span class="code-keyword">this</span>.vhs_.tech_.playbackRate())&amp;&amp;(e=<span class="code-number">1</span>),p&lt;=(e=((i.length?i.end(i.length<span class="code-number">-1</span>):<span class="code-number">0</span>)-n)/e<span class="code-number">-1</span>)||(r={<span class="code-attr">master</span>:<span class="code-keyword">this</span>.vhs_.playlists.master,<span class="code-attr">currentTime</span>:t,<span class="code-attr">bandwidth</span>:r,<span class="code-attr">duration</span>:<span class="code-keyword">this</span>.duration_(),<span class="code-attr">segmentDuration</span>:a,<span class="code-attr">timeUntilRebuffer</span>:e,<span class="code-attr">currentTimeline</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">syncController</span>:<span class="code-keyword">this</span>.syncController_},a=r.master,s=r.currentTime,o=r.bandwidth,u=r.duration,l=r.segmentDuration,c=r.timeUntilRebuffer,d=r.currentTimeline,h=r.syncController,a=(r=(a=!(a=(r=a.playlists.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!gl.isIncompatible(e)})).filter(gl.isEnabled)).length?r.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!gl.isDisabled(e)}):a).filter(gl.hasAttribute.bind(<span class="code-literal">null</span>,<span class="code-string">"BANDWIDTH"</span>)).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=h.getSyncPoint(e,u,d,s)?<span class="code-number">1</span>:<span class="code-number">2</span>;<span class="code-keyword">return</span>{<span class="code-attr">playlist</span>:e,<span class="code-attr">rebufferingImpact</span>:gl.estimateSegmentRequestTime(l,o,e)*t-c}})).filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.rebufferingImpact&lt;=<span class="code-number">0</span>}),el(a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> tl(t.playlist,e.playlist)}),(r=a.length?a[<span class="code-number">0</span>]:(el(r,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.rebufferingImpact-t.rebufferingImpact}),r[<span class="code-number">0</span>]||<span class="code-literal">null</span>))&amp;&amp;(p=p-e-r.rebufferingImpact,!r.playlist||r.playlist.uri===<span class="code-keyword">this</span>.playlist_.uri||p&lt;(e&lt;=fl?<span class="code-number">1</span>:<span class="code-number">.5</span>)||(<span class="code-keyword">this</span>.bandwidth=r.playlist.attributes.BANDWIDTH*El.BANDWIDTH_VARIANCE+<span class="code-number">1</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"earlyabort"</span>))))))},t.handleAbort_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.logger_(<span class="code-string">"Aborting "</span>+sl(e)),<span class="code-keyword">this</span>.mediaRequestsAborted+=<span class="code-number">1</span>},t.handleProgress_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.earlyAbortWhenNeeded_(t.stats),<span class="code-keyword">this</span>.checkForAbort_(t.requestId)||<span class="code-keyword">this</span>.trigger(<span class="code-string">"progress"</span>)},t.handleTrackInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.earlyAbortWhenNeeded_(e.stats),<span class="code-keyword">this</span>.checkForAbort_(e.requestId)||<span class="code-keyword">this</span>.checkForIllegalMediaSwitch(t)||(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!e&amp;&amp;!t||!e&amp;&amp;t||e&amp;&amp;!t)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(e===t)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> i=<span class="code-built_in">Object</span>.keys(e).sort(),n=<span class="code-built_in">Object</span>.keys(t).sort();<span class="code-keyword">if</span>(i.length!==n.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;i.length;r++){<span class="code-keyword">var</span> a=i[r];<span class="code-keyword">if</span>(a!==n[r])<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(e[a]!==t[a])<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">return</span>!<span class="code-number">0</span>}(<span class="code-keyword">this</span>.currentMediaInfo_,t=t||{})||(<span class="code-keyword">this</span>.appendInitSegment_={<span class="code-attr">audio</span>:!<span class="code-number">0</span>,<span class="code-attr">video</span>:!<span class="code-number">0</span>},<span class="code-keyword">this</span>.startingMediaInfo_=t,<span class="code-keyword">this</span>.currentMediaInfo_=t,<span class="code-keyword">this</span>.logger_(<span class="code-string">"trackinfo update"</span>,t),<span class="code-keyword">this</span>.trigger(<span class="code-string">"trackinfo"</span>)),<span class="code-keyword">this</span>.checkForAbort_(e.requestId)||(<span class="code-keyword">this</span>.pendingSegment_.trackInfo=t,<span class="code-keyword">this</span>.hasEnoughInfoToAppend_()&amp;&amp;<span class="code-keyword">this</span>.processCallQueue_()))},t.handleTimingInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r;<span class="code-keyword">this</span>.earlyAbortWhenNeeded_(e.stats),<span class="code-keyword">this</span>.checkForAbort_(e.requestId)||((r=<span class="code-keyword">this</span>.pendingSegment_)[e=ol(t)]=r[e]||{},r[e][i]=n,<span class="code-keyword">this</span>.logger_(<span class="code-string">"timinginfo: "</span>+t+<span class="code-string">" - "</span>+i+<span class="code-string">" - "</span>+n),<span class="code-keyword">this</span>.hasEnoughInfoToAppend_()&amp;&amp;<span class="code-keyword">this</span>.processCallQueue_())},t.handleCaptions_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> g,y,v=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.earlyAbortWhenNeeded_(e.stats),<span class="code-keyword">this</span>.checkForAbort_(e.requestId)||(<span class="code-number">0</span>!==t.length?<span class="code-keyword">this</span>.pendingSegment_.hasAppendedData_?(g=<span class="code-literal">null</span>===<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset()?<span class="code-keyword">this</span>.sourceUpdater_.audioTimestampOffset():<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset(),y={},t.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{y[e.stream]=y[e.stream]||{<span class="code-attr">startTime</span>:<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-attr">captions</span>:[],<span class="code-attr">endTime</span>:<span class="code-number">0</span>};<span class="code-keyword">var</span> t=y[e.stream];t.startTime=<span class="code-built_in">Math</span>.min(t.startTime,e.startTime+g),t.endTime=<span class="code-built_in">Math</span>.max(t.endTime,e.endTime+g),t.captions.push(e)}),<span class="code-built_in">Object</span>.keys(y).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,a,s,o,u,l,c,d=y[e],h=d.startTime,p=d.endTime,f=d.captions,m=v.inbandTextTracks_;v.logger_(<span class="code-string">"adding cues from "</span>+h+<span class="code-string">" -&gt; "</span>+p+<span class="code-string">" for "</span>+e),t=m,i=v.vhs_.tech_,t[n=e]||(i.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-608"</span>}),i.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-608"</span>}),/^cc708_/.test(r=n)&amp;&amp;(r=<span class="code-string">"SERVICE"</span>+n.split(<span class="code-string">"_"</span>)[<span class="code-number">1</span>]),(o=i.textTracks().getTrackById(r))?t[n]=o:(s=a=n,d=!<span class="code-number">1</span>,(o=(i.options_.vhs&amp;&amp;i.options_.vhs.captionServices||{})[r])&amp;&amp;(a=o.label,s=o.language,d=o.default),t[n]=i.addRemoteTextTrack({<span class="code-attr">kind</span>:<span class="code-string">"captions"</span>,<span class="code-attr">id</span>:r,<span class="code-attr">default</span>:d,<span class="code-attr">label</span>:a,<span class="code-attr">language</span>:s},!<span class="code-number">1</span>).track)),rl(h,p,m[e]),l=(f={<span class="code-attr">captionArray</span>:f,<span class="code-attr">inbandTextTracks</span>:m,<span class="code-attr">timestampOffset</span>:g}).inbandTextTracks,m=f.captionArray,c=f.timestampOffset,m&amp;&amp;(u=<span class="code-built_in">window</span>.WebKitDataCue||<span class="code-built_in">window</span>.VTTCue,m.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.stream;l[t].addCue(<span class="code-keyword">new</span> u(e.startTime+c,e.endTime+c,e.text))}))}),<span class="code-keyword">this</span>.transmuxer_&amp;&amp;<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"clearParsedMp4Captions"</span>})):<span class="code-keyword">this</span>.metadataQueue_.caption.push(<span class="code-keyword">this</span>.handleCaptions_.bind(<span class="code-keyword">this</span>,e,t)):<span class="code-keyword">this</span>.logger_(<span class="code-string">"SegmentLoader received no captions from a caption event"</span>))},t.handleId3_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a,s;<span class="code-keyword">this</span>.earlyAbortWhenNeeded_(e.stats),<span class="code-keyword">this</span>.checkForAbort_(e.requestId)||(<span class="code-keyword">this</span>.pendingSegment_.hasAppendedData_?(n=<span class="code-literal">null</span>===<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset()?<span class="code-keyword">this</span>.sourceUpdater_.audioTimestampOffset():<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset(),r=<span class="code-keyword">this</span>.inbandTextTracks_,a=i,s=<span class="code-keyword">this</span>.vhs_.tech_,r.metadataTrack_||(r.metadataTrack_=s.addRemoteTextTrack({<span class="code-attr">kind</span>:<span class="code-string">"metadata"</span>,<span class="code-attr">label</span>:<span class="code-string">"Timed Metadata"</span>},!<span class="code-number">1</span>).track,r.metadataTrack_.inBandMetadataTrackDispatchType=a),nl({<span class="code-attr">inbandTextTracks</span>:<span class="code-keyword">this</span>.inbandTextTracks_,<span class="code-attr">metadataArray</span>:t,<span class="code-attr">timestampOffset</span>:n,<span class="code-attr">videoDuration</span>:<span class="code-keyword">this</span>.duration_()})):<span class="code-keyword">this</span>.metadataQueue_.id3.push(<span class="code-keyword">this</span>.handleId3_.bind(<span class="code-keyword">this</span>,e,t,i)))},t.processMetadataQueue_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.metadataQueue_.id3.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e()}),<span class="code-keyword">this</span>.metadataQueue_.caption.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e()}),<span class="code-keyword">this</span>.metadataQueue_.id3=[],<span class="code-keyword">this</span>.metadataQueue_.caption=[]},t.processCallQueue_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.callQueue_;<span class="code-keyword">this</span>.callQueue_=[],e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e()})},t.processLoadQueue_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.loadQueue_;<span class="code-keyword">this</span>.loadQueue_=[],e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e()})},t.hasEnoughInfoToLoad_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"audio"</span>!==<span class="code-keyword">this</span>.loaderType_)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.pendingSegment_;<span class="code-keyword">return</span>!!e&amp;&amp;(!<span class="code-keyword">this</span>.getCurrentMediaInfo_()||!ul({<span class="code-attr">timelineChangeController</span>:<span class="code-keyword">this</span>.timelineChangeController_,<span class="code-attr">currentTimeline</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">segmentTimeline</span>:e.timeline,<span class="code-attr">loaderType</span>:<span class="code-keyword">this</span>.loaderType_,<span class="code-attr">audioDisabled</span>:<span class="code-keyword">this</span>.audioDisabled_}))},t.getCurrentMediaInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-keyword">this</span>.pendingSegment_:e)&amp;&amp;e.trackInfo||<span class="code-keyword">this</span>.currentMediaInfo_},t.getMediaInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">this</span>.pendingSegment_),<span class="code-keyword">this</span>.getCurrentMediaInfo_(e)||<span class="code-keyword">this</span>.startingMediaInfo_},t.hasEnoughInfoToAppend_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.sourceUpdater_.ready())<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.waitingOnRemove_||<span class="code-keyword">this</span>.quotaExceededErrorRetryTimeout_)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.pendingSegment_,t=<span class="code-keyword">this</span>.getCurrentMediaInfo_();<span class="code-keyword">if</span>(!e||!t)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> i=t.hasAudio,n=t.hasVideo,t=t.isMuxed;<span class="code-keyword">return</span>!(n&amp;&amp;!e.videoTimingInfo)&amp;&amp;(!(i&amp;&amp;!<span class="code-keyword">this</span>.audioDisabled_&amp;&amp;!t&amp;&amp;!e.audioTimingInfo)&amp;&amp;!ul({<span class="code-attr">timelineChangeController</span>:<span class="code-keyword">this</span>.timelineChangeController_,<span class="code-attr">currentTimeline</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">segmentTimeline</span>:e.timeline,<span class="code-attr">loaderType</span>:<span class="code-keyword">this</span>.loaderType_,<span class="code-attr">audioDisabled</span>:<span class="code-keyword">this</span>.audioDisabled_}))},t.handleData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.earlyAbortWhenNeeded_(e.stats),!<span class="code-keyword">this</span>.checkForAbort_(e.requestId))<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.callQueue_.length&amp;&amp;<span class="code-keyword">this</span>.hasEnoughInfoToAppend_()){<span class="code-keyword">var</span> i,n=<span class="code-keyword">this</span>.pendingSegment_;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.setTimeMapping_(n.timeline),<span class="code-keyword">this</span>.updateMediaSecondsLoaded_(n.part||n.segment),<span class="code-string">"closed"</span>!==<span class="code-keyword">this</span>.mediaSource_.readyState){<span class="code-keyword">if</span>(e.map&amp;&amp;(e.map=<span class="code-keyword">this</span>.initSegmentForMap(e.map,!<span class="code-number">0</span>),n.segment.map=e.map),e.key&amp;&amp;<span class="code-keyword">this</span>.segmentKey(e.key,!<span class="code-number">0</span>),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4?(<span class="code-keyword">this</span>.trigger(<span class="code-string">"fmp4"</span>),n.timingInfo.start=n[ol(t.type)].start):(i=<span class="code-keyword">this</span>.getCurrentMediaInfo_(),(i=<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_&amp;&amp;i&amp;&amp;i.hasVideo)&amp;&amp;(r=n.videoTimingInfo.start),n.timingInfo.start=<span class="code-keyword">this</span>.trueSegmentStart_({<span class="code-attr">currentStart</span>:n.timingInfo.start,<span class="code-attr">playlist</span>:n.playlist,<span class="code-attr">mediaIndex</span>:n.mediaIndex,<span class="code-attr">currentVideoTimestampOffset</span>:<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset(),<span class="code-attr">useVideoTimingInfo</span>:i,<span class="code-attr">firstVideoFrameTimeForData</span>:r,<span class="code-attr">videoTimingInfo</span>:n.videoTimingInfo,<span class="code-attr">audioTimingInfo</span>:n.audioTimingInfo})),<span class="code-keyword">this</span>.updateAppendInitSegmentStatus(n,t.type),<span class="code-keyword">this</span>.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){<span class="code-keyword">this</span>.updateTimingInfoEnd_(n),<span class="code-keyword">this</span>.syncController_.saveSegmentTimingInfo({<span class="code-attr">segmentInfo</span>:n,<span class="code-attr">shouldSaveTimelineMapping</span>:<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_});<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.chooseNextRequest_();<span class="code-keyword">if</span>(r.mediaIndex!==n.mediaIndex||r.partIndex!==n.partIndex)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"sync segment was incorrect, not appending"</span>);<span class="code-keyword">this</span>.logger_(<span class="code-string">"sync segment was correct, appending"</span>)}n.hasAppendedData_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.processMetadataQueue_(),<span class="code-keyword">this</span>.appendData_(n,t)}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.callQueue_.push(<span class="code-keyword">this</span>.handleData_.bind(<span class="code-keyword">this</span>,e,t))},t.updateAppendInitSegmentStatus=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-string">"main"</span>!==<span class="code-keyword">this</span>.loaderType_||<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e.timestampOffset||e.changedTimestampOffset||(<span class="code-keyword">this</span>.appendInitSegment_={<span class="code-attr">audio</span>:!<span class="code-number">0</span>,<span class="code-attr">video</span>:!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.playlistOfLastInitSegment_[t]!==e.playlist&amp;&amp;(<span class="code-keyword">this</span>.appendInitSegment_[t]=!<span class="code-number">0</span>)},t.getInitSegmentAndUpdateState_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.type,i=e.initSegment,n=e.map,r=e.playlist;<span class="code-keyword">if</span>(n){e=Su(n);<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.activeInitSegmentId_===e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;i=<span class="code-keyword">this</span>.initSegmentForMap(n,!<span class="code-number">0</span>).bytes,<span class="code-keyword">this</span>.activeInitSegmentId_=e}<span class="code-keyword">return</span> i&amp;&amp;<span class="code-keyword">this</span>.appendInitSegment_[t]?(<span class="code-keyword">this</span>.playlistOfLastInitSegment_[t]=r,<span class="code-keyword">this</span>.appendInitSegment_[t]=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.activeInitSegmentId_=<span class="code-literal">null</span>,i):<span class="code-literal">null</span>},t.handleQuotaExceededError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,n=e.segmentInfo,r=e.type,a=e.bytes,s=<span class="code-keyword">this</span>.sourceUpdater_.audioBuffered(),o=<span class="code-keyword">this</span>.sourceUpdater_.videoBuffered();<span class="code-number">1</span>&lt;s.length&amp;&amp;<span class="code-keyword">this</span>.logger_(<span class="code-string">"On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "</span>+jo(s).join(<span class="code-string">", "</span>)),<span class="code-number">1</span>&lt;o.length&amp;&amp;<span class="code-keyword">this</span>.logger_(<span class="code-string">"On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "</span>+jo(o).join(<span class="code-string">", "</span>));<span class="code-keyword">var</span> u=s.length?s.start(<span class="code-number">0</span>):<span class="code-number">0</span>,l=s.length?s.end(s.length<span class="code-number">-1</span>):<span class="code-number">0</span>,c=o.length?o.start(<span class="code-number">0</span>):<span class="code-number">0</span>,e=o.length?o.end(o.length<span class="code-number">-1</span>):<span class="code-number">0</span>;<span class="code-keyword">if</span>(l-u&lt;=<span class="code-number">1</span>&amp;&amp;e-c&lt;=<span class="code-number">1</span>)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "</span>+a.byteLength+<span class="code-string">", audio buffer: "</span>+jo(s).join(<span class="code-string">", "</span>)+<span class="code-string">", video buffer: "</span>+jo(o).join(<span class="code-string">", "</span>)+<span class="code-string">", "</span>),<span class="code-keyword">this</span>.error({<span class="code-attr">message</span>:<span class="code-string">"Quota exceeded error with append of a single segment of content"</span>,<span class="code-attr">excludeUntil</span>:<span class="code-number">1</span>/<span class="code-number">0</span>}),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>);<span class="code-keyword">this</span>.waitingOnRemove_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.callQueue_.push(<span class="code-keyword">this</span>.appendToSourceBuffer_.bind(<span class="code-keyword">this</span>,{<span class="code-attr">segmentInfo</span>:n,<span class="code-attr">type</span>:r,<span class="code-attr">bytes</span>:a}));a=<span class="code-keyword">this</span>.currentTime_()<span class="code-number">-1</span>;<span class="code-keyword">this</span>.logger_(<span class="code-string">"On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "</span>+a),<span class="code-keyword">this</span>.remove(<span class="code-number">0</span>,a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.logger_(<span class="code-string">"On QUOTA_EXCEEDED_ERR, retrying append in 1s"</span>),i.waitingOnRemove_=!<span class="code-number">1</span>,i.quotaExceededErrorRetryTimeout_=<span class="code-built_in">window</span>.setTimeout(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.logger_(<span class="code-string">"On QUOTA_EXCEEDED_ERR, re-processing call queue"</span>),i.quotaExceededErrorRetryTimeout_=<span class="code-literal">null</span>,i.processCallQueue_()},<span class="code-number">1e3</span>)},!<span class="code-number">0</span>)},t.handleAppendError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=e.segmentInfo,n=e.type,e=e.bytes;t&amp;&amp;(<span class="code-number">22</span>!==t.code?(<span class="code-keyword">this</span>.logger_(<span class="code-string">"Received non QUOTA_EXCEEDED_ERR on append"</span>,t),<span class="code-keyword">this</span>.error(n+<span class="code-string">" append of "</span>+e.length+<span class="code-string">"b failed for segment #"</span>+i.mediaIndex+<span class="code-string">" in playlist "</span>+i.playlist.id),<span class="code-keyword">this</span>.trigger(<span class="code-string">"appenderror"</span>)):<span class="code-keyword">this</span>.handleQuotaExceededError_({<span class="code-attr">segmentInfo</span>:i,<span class="code-attr">type</span>:n,<span class="code-attr">bytes</span>:e}))},t.appendToSourceBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=e.segmentInfo,r=e.type,a=e.initSegment,s=e.data,o=e.bytes;o||(e=[s],s=s.byteLength,a&amp;&amp;(e.unshift(a),s+=a.byteLength),i=<span class="code-number">0</span>,(e={<span class="code-attr">bytes</span>:s,<span class="code-attr">segments</span>:e}).bytes&amp;&amp;(t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.bytes),e.segments.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.set(e,i),i+=e.byteLength})),o=t),<span class="code-keyword">this</span>.sourceUpdater_.appendBuffer({<span class="code-attr">segmentInfo</span>:n,<span class="code-attr">type</span>:r,<span class="code-attr">bytes</span>:o},<span class="code-keyword">this</span>.handleAppendError_.bind(<span class="code-keyword">this</span>,{<span class="code-attr">segmentInfo</span>:n,<span class="code-attr">type</span>:r,<span class="code-attr">bytes</span>:o}))},t.handleSegmentTimingInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">this</span>.pendingSegment_&amp;&amp;t===<span class="code-keyword">this</span>.pendingSegment_.requestId&amp;&amp;((t=<span class="code-keyword">this</span>.pendingSegment_.segment)[e=e+<span class="code-string">"TimingInfo"</span>]||(t[e]={}),t[e].transmuxerPrependedSeconds=i.prependedContentDuration||<span class="code-number">0</span>,t[e].transmuxedPresentationStart=i.start.presentation,t[e].transmuxedDecodeStart=i.start.decode,t[e].transmuxedPresentationEnd=i.end.presentation,t[e].transmuxedDecodeEnd=i.end.decode,t[e].baseMediaDecodeTime=i.baseMediaDecodeTime)},t.appendData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.type,n=t.data;n&amp;&amp;n.byteLength&amp;&amp;(<span class="code-string">"audio"</span>===i&amp;&amp;<span class="code-keyword">this</span>.audioDisabled_||(t=<span class="code-keyword">this</span>.getInitSegmentAndUpdateState_({<span class="code-attr">type</span>:i,<span class="code-attr">initSegment</span>:t.initSegment,<span class="code-attr">playlist</span>:e.playlist,<span class="code-attr">map</span>:e.isFmp4?e.segment.map:<span class="code-literal">null</span>}),<span class="code-keyword">this</span>.appendToSourceBuffer_({<span class="code-attr">segmentInfo</span>:e,<span class="code-attr">type</span>:i,<span class="code-attr">initSegment</span>:t,<span class="code-attr">data</span>:n})))},t.loadSegment_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.state=<span class="code-string">"WAITING"</span>,<span class="code-keyword">this</span>.pendingSegment_=t,<span class="code-keyword">this</span>.trimBackBuffer_(t),<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.timestampOffset&amp;&amp;<span class="code-keyword">this</span>.transmuxer_&amp;&amp;<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"clearAllMp4Captions"</span>}),<span class="code-keyword">this</span>.hasEnoughInfoToLoad_()?<span class="code-keyword">this</span>.updateTransmuxerAndRequestSegment_(t):<span class="code-keyword">this</span>.loadQueue_.push(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=g({},t,{<span class="code-attr">forceTimestampOffset</span>:!<span class="code-number">0</span>});g(t,i.generateSegmentInfo_(e)),i.isPendingTimestampOffset_=!<span class="code-number">1</span>,i.updateTransmuxerAndRequestSegment_(t)})},t.updateTransmuxerAndRequestSegment_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&amp;&amp;(<span class="code-keyword">this</span>.gopBuffer_.length=<span class="code-number">0</span>,n.gopsToAlignWith=[],<span class="code-keyword">this</span>.timeMapping_=<span class="code-number">0</span>,<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"reset"</span>}),<span class="code-keyword">this</span>.transmuxer_.postMessage({<span class="code-attr">action</span>:<span class="code-string">"setTimestampOffset"</span>,<span class="code-attr">timestampOffset</span>:n.timestampOffset}));<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.createSimplifiedSegmentObj_(n),t=<span class="code-keyword">this</span>.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),i=<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.mediaIndex,a=n.timeline!==<span class="code-keyword">this</span>.currentTimeline_&amp;&amp;<span class="code-number">0</span>&lt;n.timeline,a=t||i&amp;&amp;a;<span class="code-keyword">this</span>.logger_(<span class="code-string">"Requesting "</span>+sl(n)),e.map&amp;&amp;!e.map.bytes&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-string">"going to request init segment."</span>),<span class="code-keyword">this</span>.appendInitSegment_={<span class="code-attr">video</span>:!<span class="code-number">0</span>,<span class="code-attr">audio</span>:!<span class="code-number">0</span>}),n.abortRequests=Xu({<span class="code-attr">xhr</span>:<span class="code-keyword">this</span>.vhs_.xhr,<span class="code-attr">xhrOptions</span>:<span class="code-keyword">this</span>.xhrOptions_,<span class="code-attr">decryptionWorker</span>:<span class="code-keyword">this</span>.decrypter_,<span class="code-attr">segment</span>:e,<span class="code-attr">abortFn</span>:<span class="code-keyword">this</span>.handleAbort_.bind(<span class="code-keyword">this</span>,n),<span class="code-attr">progressFn</span>:<span class="code-keyword">this</span>.handleProgress_.bind(<span class="code-keyword">this</span>),<span class="code-attr">trackInfoFn</span>:<span class="code-keyword">this</span>.handleTrackInfo_.bind(<span class="code-keyword">this</span>),<span class="code-attr">timingInfoFn</span>:<span class="code-keyword">this</span>.handleTimingInfo_.bind(<span class="code-keyword">this</span>),<span class="code-attr">videoSegmentTimingInfoFn</span>:<span class="code-keyword">this</span>.handleSegmentTimingInfo_.bind(<span class="code-keyword">this</span>,<span class="code-string">"video"</span>,n.requestId),<span class="code-attr">audioSegmentTimingInfoFn</span>:<span class="code-keyword">this</span>.handleSegmentTimingInfo_.bind(<span class="code-keyword">this</span>,<span class="code-string">"audio"</span>,n.requestId),<span class="code-attr">captionsFn</span>:<span class="code-keyword">this</span>.handleCaptions_.bind(<span class="code-keyword">this</span>),<span class="code-attr">isEndOfTimeline</span>:a,<span class="code-attr">endedTimelineFn</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r.logger_(<span class="code-string">"received endedtimeline callback"</span>)},<span class="code-attr">id3Fn</span>:<span class="code-keyword">this</span>.handleId3_.bind(<span class="code-keyword">this</span>),<span class="code-attr">dataFn</span>:<span class="code-keyword">this</span>.handleData_.bind(<span class="code-keyword">this</span>),<span class="code-attr">doneFn</span>:<span class="code-keyword">this</span>.segmentRequestFinished_.bind(<span class="code-keyword">this</span>),<span class="code-attr">onTransmuxerLog</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.message,i=e.level,e=e.stream;r.logger_(sl(n)+<span class="code-string">" logged from transmuxer stream "</span>+e+<span class="code-string">" as a "</span>+i+<span class="code-string">": "</span>+t)}})},t.trimBackBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r,r=(t=<span class="code-keyword">this</span>.seekable_(),i=<span class="code-keyword">this</span>.currentTime_(),n=<span class="code-keyword">this</span>.playlist_.targetDuration||<span class="code-number">10</span>,r=i-El.BACK_BUFFER_LENGTH,t.length&amp;&amp;(r=<span class="code-built_in">Math</span>.max(r,t.start(<span class="code-number">0</span>))),<span class="code-built_in">Math</span>.min(i-n,r));<span class="code-number">0</span>&lt;r&amp;&amp;<span class="code-keyword">this</span>.remove(<span class="code-number">0</span>,r)},t.createSimplifiedSegmentObj_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.segment,i=e.part,n={<span class="code-attr">resolvedUri</span>:(i||t).resolvedUri,<span class="code-attr">byterange</span>:(i||t).byterange,<span class="code-attr">requestId</span>:e.requestId,<span class="code-attr">transmuxer</span>:e.transmuxer,<span class="code-attr">audioAppendStart</span>:e.audioAppendStart,<span class="code-attr">gopsToAlignWith</span>:e.gopsToAlignWith,<span class="code-attr">part</span>:e.part},i=e.playlist.segments[e.mediaIndex<span class="code-number">-1</span>];<span class="code-keyword">return</span> i&amp;&amp;i.timeline===t.timeline&amp;&amp;(i.videoTimingInfo?n.baseStartTime=i.videoTimingInfo.transmuxedDecodeEnd:i.audioTimingInfo&amp;&amp;(n.baseStartTime=i.audioTimingInfo.transmuxedDecodeEnd)),t.key&amp;&amp;(e=t.key.iv||<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,e.mediaIndex+e.playlist.mediaSequence]),n.key=<span class="code-keyword">this</span>.segmentKey(t.key),n.key.iv=e),t.map&amp;&amp;(n.map=<span class="code-keyword">this</span>.initSegmentForMap(t.map)),n},t.saveTransferStats_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.mediaRequests+=<span class="code-number">1</span>,e&amp;&amp;(<span class="code-keyword">this</span>.mediaBytesTransferred+=e.bytesReceived,<span class="code-keyword">this</span>.mediaTransferDuration+=e.roundTripTime)},t.saveBandwidthRelatedStats_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.pendingSegment_.byteLength=t.bytesReceived,e&lt;<span class="code-number">1</span>/<span class="code-number">60</span>?<span class="code-keyword">this</span>.logger_(<span class="code-string">"Ignoring segment's bandwidth because its duration of "</span>+e+<span class="code-string">" is less than the min to record "</span>+<span class="code-number">1</span>/<span class="code-number">60</span>):(<span class="code-keyword">this</span>.bandwidth=t.bandwidth,<span class="code-keyword">this</span>.roundTrip=t.roundTripTime)},t.handleTimeout_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mediaRequestsTimedout+=<span class="code-number">1</span>,<span class="code-keyword">this</span>.bandwidth=<span class="code-number">1</span>,<span class="code-keyword">this</span>.roundTrip=<span class="code-literal">NaN</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"bandwidthupdate"</span>)},t.segmentRequestFinished_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.callQueue_.length)<span class="code-keyword">this</span>.callQueue_.push(<span class="code-keyword">this</span>.segmentRequestFinished_.bind(<span class="code-keyword">this</span>,e,t,i));<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-keyword">this</span>.saveTransferStats_(t.stats),<span class="code-keyword">this</span>.pendingSegment_&amp;&amp;t.requestId===<span class="code-keyword">this</span>.pendingSegment_.requestId){<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pendingSegment_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,e.code===Ll?<span class="code-keyword">void</span> <span class="code-number">0</span>:(<span class="code-keyword">this</span>.pause(),e.code===Pl?<span class="code-keyword">void</span> <span class="code-keyword">this</span>.handleTimeout_():(<span class="code-keyword">this</span>.mediaRequestsErrored+=<span class="code-number">1</span>,<span class="code-keyword">this</span>.error(e),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>)));e=<span class="code-keyword">this</span>.pendingSegment_;<span class="code-keyword">this</span>.saveBandwidthRelatedStats_(e.duration,t.stats),e.endOfAllRequests=t.endOfAllRequests,i.gopInfo&amp;&amp;(<span class="code-keyword">this</span>.gopBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!t.length)<span class="code-keyword">return</span> e;<span class="code-keyword">if</span>(i)<span class="code-keyword">return</span> t.slice();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=t[<span class="code-number">0</span>].pts,r=<span class="code-number">0</span>;r&lt;e.length&amp;&amp;!(e[r].pts&gt;=n);r++);<span class="code-keyword">return</span> e.slice(<span class="code-number">0</span>,r).concat(t)}(<span class="code-keyword">this</span>.gopBuffer_,i.gopInfo,<span class="code-keyword">this</span>.safeAppend_)),<span class="code-keyword">this</span>.state=<span class="code-string">"APPENDING"</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"appending"</span>),<span class="code-keyword">this</span>.waitForAppendsToComplete_(e)}},t.setTimeMapping_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=<span class="code-keyword">this</span>.syncController_.mappingForTimeline(e);<span class="code-literal">null</span>!==e&amp;&amp;(<span class="code-keyword">this</span>.timeMapping_=e)},t.updateMediaSecondsLoaded_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.start&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.end?<span class="code-keyword">this</span>.mediaSecondsLoaded+=e.end-e.start:<span class="code-keyword">this</span>.mediaSecondsLoaded+=e.duration},t.shouldUpdateTransmuxerTimestampOffset_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>!==e&amp;&amp;(<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_&amp;&amp;e!==<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset()||!<span class="code-keyword">this</span>.audioDisabled_&amp;&amp;e!==<span class="code-keyword">this</span>.sourceUpdater_.audioTimestampOffset())},t.trueSegmentStart_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.currentStart,i=e.playlist,n=e.mediaIndex,r=e.firstVideoFrameTimeForData,a=e.currentVideoTimestampOffset,s=e.useVideoTimingInfo,o=e.videoTimingInfo,e=e.audioTimingInfo;<span class="code-keyword">if</span>(<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> t)<span class="code-keyword">return</span> t;<span class="code-keyword">if</span>(!s)<span class="code-keyword">return</span> e.start;i=i.segments[n<span class="code-number">-1</span>];<span class="code-keyword">return</span> <span class="code-number">0</span>!==n&amp;&amp;i&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> i.start&amp;&amp;i.end===r+a?o.start:r},t.waitForAppendsToComplete_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getCurrentMediaInfo_(e);<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.error({<span class="code-attr">message</span>:<span class="code-string">"No starting media returned, likely due to an unsupported media format."</span>,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>}),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>);<span class="code-keyword">var</span> i=t.hasAudio,n=t.hasVideo,t=t.isMuxed,n=<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_&amp;&amp;n,t=!<span class="code-keyword">this</span>.audioDisabled_&amp;&amp;i&amp;&amp;!t;<span class="code-keyword">if</span>(e.waitingOnAppends=<span class="code-number">0</span>,!e.hasAppendedData_)<span class="code-keyword">return</span> e.timingInfo||<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e.timestampOffset||(<span class="code-keyword">this</span>.isPendingTimestampOffset_=!<span class="code-number">0</span>),e.timingInfo={<span class="code-attr">start</span>:<span class="code-number">0</span>},e.waitingOnAppends++,<span class="code-keyword">this</span>.isPendingTimestampOffset_||(<span class="code-keyword">this</span>.updateSourceBufferTimestampOffset_(e),<span class="code-keyword">this</span>.processMetadataQueue_()),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.checkAppendsDone_(e);n&amp;&amp;e.waitingOnAppends++,t&amp;&amp;e.waitingOnAppends++,n&amp;&amp;<span class="code-keyword">this</span>.sourceUpdater_.videoQueueCallback(<span class="code-keyword">this</span>.checkAppendsDone_.bind(<span class="code-keyword">this</span>,e)),t&amp;&amp;<span class="code-keyword">this</span>.sourceUpdater_.audioQueueCallback(<span class="code-keyword">this</span>.checkAppendsDone_.bind(<span class="code-keyword">this</span>,e))},t.checkAppendsDone_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.checkForAbort_(e.requestId)||(e.waitingOnAppends--,<span class="code-number">0</span>===e.waitingOnAppends&amp;&amp;<span class="code-keyword">this</span>.handleAppendsDone_())},t.checkForIllegalMediaSwitch=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,e=(t=<span class="code-keyword">this</span>.loaderType_,i=<span class="code-keyword">this</span>.getCurrentMediaInfo_(),e=e,<span class="code-string">"main"</span>===t&amp;&amp;i&amp;&amp;e?e.hasAudio||e.hasVideo?i.hasVideo&amp;&amp;!e.hasVideo?<span class="code-string">"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest."</span>:!i.hasVideo&amp;&amp;e.hasVideo?<span class="code-string">"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest."</span>:<span class="code-literal">null</span>:<span class="code-string">"Neither audio nor video found in segment."</span>:<span class="code-literal">null</span>);<span class="code-keyword">return</span>!!e&amp;&amp;(<span class="code-keyword">this</span>.error({<span class="code-attr">message</span>:e,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>}),<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>),!<span class="code-number">0</span>)},t.updateSourceBufferTimestampOffset_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-literal">null</span>===e.timestampOffset||<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e.timingInfo.start||e.changedTimestampOffset||<span class="code-string">"main"</span>!==<span class="code-keyword">this</span>.loaderType_||(t=!<span class="code-number">1</span>,e.timestampOffset-=<span class="code-keyword">this</span>.getSegmentStartTimeForTimestampOffsetCalculation_({<span class="code-attr">videoTimingInfo</span>:e.segment.videoTimingInfo,<span class="code-attr">audioTimingInfo</span>:e.segment.audioTimingInfo,<span class="code-attr">timingInfo</span>:e.timingInfo}),e.changedTimestampOffset=!<span class="code-number">0</span>,e.timestampOffset!==<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset()&amp;&amp;(<span class="code-keyword">this</span>.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!<span class="code-number">0</span>),e.timestampOffset!==<span class="code-keyword">this</span>.sourceUpdater_.audioTimestampOffset()&amp;&amp;(<span class="code-keyword">this</span>.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!<span class="code-number">0</span>),t&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"timestampoffset"</span>))},t.getSegmentStartTimeForTimestampOffsetCalculation_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.videoTimingInfo,i=e.audioTimingInfo,e=e.timingInfo;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.useDtsForTimestampOffset_?t&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.transmuxedDecodeStart?t.transmuxedDecodeStart:i&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i.transmuxedDecodeStart?i.transmuxedDecodeStart:e.start:e.start},t.updateTimingInfoEnd_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.timingInfo=e.timingInfo||{};<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.getMediaInfo_(),t=<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_&amp;&amp;t&amp;&amp;t.hasVideo&amp;&amp;e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&amp;&amp;(e.timingInfo.end=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> t.end?t.end:t.start+e.duration)},t.handleAppendsDone_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.pendingSegment_&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"appendsdone"</span>),!<span class="code-keyword">this</span>.pendingSegment_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.paused()||<span class="code-keyword">this</span>.monitorBuffer_());<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.pendingSegment_;<span class="code-keyword">this</span>.updateTimingInfoEnd_(e),<span class="code-keyword">this</span>.shouldSaveSegmentTimingInfo_&amp;&amp;<span class="code-keyword">this</span>.syncController_.saveSegmentTimingInfo({<span class="code-attr">segmentInfo</span>:e,<span class="code-attr">shouldSaveTimelineMapping</span>:<span class="code-string">"main"</span>===<span class="code-keyword">this</span>.loaderType_});<span class="code-keyword">var</span> t=cl(e,<span class="code-keyword">this</span>.sourceType_);<span class="code-keyword">if</span>(t&amp;&amp;(<span class="code-string">"warn"</span>===t.severity?tr.log.warn(t.message):<span class="code-keyword">this</span>.logger_(t.message)),<span class="code-keyword">this</span>.recordThroughput_(e),<span class="code-keyword">this</span>.pendingSegment_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,!e.isSyncRequest||(<span class="code-keyword">this</span>.trigger(<span class="code-string">"syncinfoupdate"</span>),e.hasAppendedData_)){<span class="code-keyword">this</span>.logger_(<span class="code-string">"Appended "</span>+sl(e)),<span class="code-keyword">this</span>.addSegmentMetadataCue_(e),<span class="code-keyword">this</span>.fetchAtBuffer_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.currentTimeline_!==e.timeline&amp;&amp;(<span class="code-keyword">this</span>.timelineChangeController_.lastTimelineChange({<span class="code-attr">type</span>:<span class="code-keyword">this</span>.loaderType_,<span class="code-attr">from</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">to</span>:e.timeline}),<span class="code-string">"main"</span>!==<span class="code-keyword">this</span>.loaderType_||<span class="code-keyword">this</span>.audioDisabled_||<span class="code-keyword">this</span>.timelineChangeController_.lastTimelineChange({<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">from</span>:<span class="code-keyword">this</span>.currentTimeline_,<span class="code-attr">to</span>:e.timeline})),<span class="code-keyword">this</span>.currentTimeline_=e.timeline,<span class="code-keyword">this</span>.trigger(<span class="code-string">"syncinfoupdate"</span>);<span class="code-keyword">var</span> i=e.segment,t=e.part,i=i.end&amp;&amp;<span class="code-keyword">this</span>.currentTime_()-i.end&gt;<span class="code-number">3</span>*e.playlist.targetDuration,t=t&amp;&amp;t.end&amp;&amp;<span class="code-keyword">this</span>.currentTime_()-t.end&gt;<span class="code-number">3</span>*e.playlist.partTargetDuration;<span class="code-keyword">if</span>(i||t)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"bad "</span>+(i?<span class="code-string">"segment"</span>:<span class="code-string">"part"</span>)+<span class="code-string">" "</span>+sl(e)),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.resetEverything();<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.mediaIndex&amp;&amp;<span class="code-keyword">this</span>.trigger(<span class="code-string">"bandwidthupdate"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"progress"</span>),<span class="code-keyword">this</span>.mediaIndex=e.mediaIndex,<span class="code-keyword">this</span>.partIndex=e.partIndex,<span class="code-keyword">this</span>.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&amp;&amp;<span class="code-keyword">this</span>.endOfStream(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"appended"</span>),e.hasAppendedData_&amp;&amp;<span class="code-keyword">this</span>.mediaAppends++,<span class="code-keyword">this</span>.paused()||<span class="code-keyword">this</span>.monitorBuffer_()}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"Throwing away un-appended sync request "</span>+sl(e))},t.recordThroughput_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i;e.duration&lt;<span class="code-number">1</span>/<span class="code-number">60</span>?<span class="code-keyword">this</span>.logger_(<span class="code-string">"Ignoring segment's throughput because its duration of "</span>+e.duration+<span class="code-string">" is less than the min to record "</span>+<span class="code-number">1</span>/<span class="code-number">60</span>):(t=<span class="code-keyword">this</span>.throughput.rate,i=<span class="code-built_in">Date</span>.now()-e.endOfAllRequests+<span class="code-number">1</span>,i=<span class="code-built_in">Math</span>.floor(e.byteLength/i*<span class="code-number">8</span>*<span class="code-number">1e3</span>),<span class="code-keyword">this</span>.throughput.rate+=(i-t)/++<span class="code-keyword">this</span>.throughput.count)},t.addSegmentMetadataCue_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n,r;<span class="code-keyword">this</span>.segmentMetadataTrack_&amp;&amp;(i=(t=e.segment).start,r=t.end,al(i)&amp;&amp;al(r)&amp;&amp;(rl(i,r,<span class="code-keyword">this</span>.segmentMetadataTrack_),n=<span class="code-built_in">window</span>.WebKitDataCue||<span class="code-built_in">window</span>.VTTCue,e={<span class="code-attr">custom</span>:t.custom,<span class="code-attr">dateTimeObject</span>:t.dateTimeObject,<span class="code-attr">dateTimeString</span>:t.dateTimeString,<span class="code-attr">bandwidth</span>:e.playlist.attributes.BANDWIDTH,<span class="code-attr">resolution</span>:e.playlist.attributes.RESOLUTION,<span class="code-attr">codecs</span>:e.playlist.attributes.CODECS,<span class="code-attr">byteLength</span>:e.byteLength,<span class="code-attr">uri</span>:e.uri,<span class="code-attr">timeline</span>:e.timeline,<span class="code-attr">playlist</span>:e.playlist.id,<span class="code-attr">start</span>:i,<span class="code-attr">end</span>:r},(r=<span class="code-keyword">new</span> n(i,r,<span class="code-built_in">JSON</span>.stringify(e))).value=e,<span class="code-keyword">this</span>.segmentMetadataTrack_.addCue(r)))},e}(tr.EventTarget);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Rl</span>(<span class="code-params"></span>)</span>{}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Nl</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e?e:e.replace(<span class="code-regexp">/./</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.toUpperCase()})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ul</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t[e+<span class="code-string">"Buffer"</span>];<span class="code-keyword">return</span> i&amp;&amp;i.updating||t.queuePending[e]}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Bl</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">0</span>!==t.queue.length){<span class="code-keyword">var</span> i=<span class="code-number">0</span>,n=t.queue[i];<span class="code-keyword">if</span>(<span class="code-string">"mediaSource"</span>!==n.type){<span class="code-keyword">if</span>(<span class="code-string">"mediaSource"</span>!==e&amp;&amp;t.ready()&amp;&amp;<span class="code-string">"closed"</span>!==t.mediaSource.readyState&amp;&amp;!Ul(e,t)){<span class="code-keyword">if</span>(n.type!==e){<span class="code-keyword">if</span>(<span class="code-literal">null</span>===(i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;t.length;i++){<span class="code-keyword">var</span> n=t[i];<span class="code-keyword">if</span>(<span class="code-string">"mediaSource"</span>===n.type)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">if</span>(n.type===e)<span class="code-keyword">return</span> i}<span class="code-keyword">return</span> <span class="code-literal">null</span>}(e,t.queue)))<span class="code-keyword">return</span>;n=t.queue[i]}t.queue.splice(i,<span class="code-number">1</span>),(t.queuePending[e]=n).action(e,t),n.doneFn||(t.queuePending[e]=<span class="code-literal">null</span>,Bl(e,t))}}<span class="code-keyword">else</span> t.updating()||<span class="code-string">"closed"</span>===t.mediaSource.readyState||(t.queue.shift(),n.action(t),n.doneFn&amp;&amp;n.doneFn(),Bl(<span class="code-string">"audio"</span>,t),Bl(<span class="code-string">"video"</span>,t))}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Fl</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t[e+<span class="code-string">"Buffer"</span>],n=Nl(e);i&amp;&amp;(i.removeEventListener(<span class="code-string">"updateend"</span>,t[<span class="code-string">"on"</span>+n+<span class="code-string">"UpdateEnd_"</span>]),i.removeEventListener(<span class="code-string">"error"</span>,t[<span class="code-string">"on"</span>+n+<span class="code-string">"Error_"</span>]),t.codecs[e]=<span class="code-literal">null</span>,t[e+<span class="code-string">"Buffer"</span>]=<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">jl</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;t&amp;&amp;<span class="code-number">-1</span>!==<span class="code-built_in">Array</span>.prototype.indexOf.call(e.sourceBuffers,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Hl</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.type,i=e.sourceUpdater,n=e.action,r=e.doneFn,e=e.name;i.queue.push({<span class="code-attr">type</span>:t,<span class="code-attr">action</span>:n,<span class="code-attr">doneFn</span>:r,<span class="code-attr">name</span>:e}),Bl(t,i)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">ql</span>(<span class="code-params">i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;n.queuePending[i]&amp;&amp;(t=n.queuePending[i].doneFn,n.queuePending[i]=<span class="code-literal">null</span>,t&amp;&amp;t(n[i+<span class="code-string">"Error_"</span>])),Bl(i,n)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Vl</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">decodeURIComponent</span>(<span class="code-built_in">escape</span>(<span class="code-built_in">String</span>.fromCharCode.apply(<span class="code-literal">null</span>,e)))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Wl</span>(<span class="code-params">e,t</span>)</span>{e.abort(),e.pause(),t&amp;&amp;t.activePlaylistLoader&amp;&amp;(t.activePlaylistLoader.pause(),t.activePlaylistLoader=<span class="code-literal">null</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Gl</span>(<span class="code-params">e,t</span>)</span>{(t.activePlaylistLoader=e).load()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">zl</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++){<span class="code-keyword">if</span>(nu(t,e[i]))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(e[i].playlists&amp;&amp;zl(e[i].playlists,t))<span class="code-keyword">return</span>!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Xl</span>(<span class="code-params">a</span>)</span>{[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>,<span class="code-string">"CLOSED-CAPTIONS"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{yc[e](e,a)});<span class="code-keyword">var</span> e,s=a.mediaTypes,t=a.masterPlaylistLoader,i=a.tech,n=a.vhs,r=a.segmentLoaders,o=r.AUDIO,u=r.main;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params"></span>)</span>{s.AUDIO.onTrackChanged(),i.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-audio-change"</span>}),i.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-audio-change"</span>})}<span class="code-keyword">for</span>(e <span class="code-keyword">in</span>[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> u,l,o,c,t,i,d,h,n,r;s[e].activeGroup=(u=e,l=a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=l.masterPlaylistLoader,i=l.mediaTypes[u].groups,n=e.media();<span class="code-keyword">if</span>(!n)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> r=<span class="code-literal">null</span>;n.attributes[u]&amp;&amp;(r=i[n.attributes[u]]);<span class="code-keyword">var</span> a=<span class="code-built_in">Object</span>.keys(i);<span class="code-keyword">if</span>(!r)<span class="code-keyword">if</span>(<span class="code-string">"AUDIO"</span>===u&amp;&amp;<span class="code-number">1</span>&lt;a.length&amp;&amp;au(l.master))<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-number">0</span>;s&lt;a.length;s++){<span class="code-keyword">var</span> o=i[a[s]];<span class="code-keyword">if</span>(zl(o,n)){r=o;<span class="code-keyword">break</span>}}<span class="code-keyword">else</span> i.main?r=i.main:<span class="code-number">1</span>===a.length&amp;&amp;(r=i[a[<span class="code-number">0</span>]]);<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> t?r:<span class="code-literal">null</span>!==t&amp;&amp;r&amp;&amp;r.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.id===t.id})[<span class="code-number">0</span>]||<span class="code-literal">null</span>}),s[e].activeTrack=vc[e](e,a),s[e].onGroupChanged=(o=e,c=a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=c.segmentLoaders,t=e[o],i=e.main,n=c.mediaTypes[o],r=n.activeTrack(),a=n.getActiveGroup(),s=n.activePlaylistLoader,e=n.lastGroup_;a&amp;&amp;e&amp;&amp;a.id===e.id||(n.lastGroup_=a,n.lastTrack_=r,Wl(t,n),a&amp;&amp;!a.isMasterPlaylist&amp;&amp;(a.playlistLoader?(t.resyncLoader(),Gl(a.playlistLoader,n)):s&amp;&amp;i.resetEverything()))}),s[e].onGroupChanging=(t=e,i=a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=i.segmentLoaders[t];i.mediaTypes[t].lastGroup_=<span class="code-literal">null</span>,e.abort(),e.pause()}),s[e].onTrackChanged=(d=e,h=a,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=h.masterPlaylistLoader,t=h.segmentLoaders,i=t[d],n=t.main,r=h.mediaTypes[d],a=r.activeTrack(),s=r.getActiveGroup(),o=r.activePlaylistLoader,u=r.lastTrack_;<span class="code-keyword">if</span>((!u||!a||u.id!==a.id)&amp;&amp;(r.lastGroup_=s,r.lastTrack_=a,Wl(i,r),s)){<span class="code-keyword">if</span>(s.isMasterPlaylist){<span class="code-keyword">if</span>(!a||!u||a.id===u.id)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> l=h.vhs.masterPlaylistController_,t=l.selectPlaylist();<span class="code-keyword">return</span> l.media()===t?<span class="code-keyword">void</span> <span class="code-number">0</span>:(r.logger_(<span class="code-string">"track change. Switching master audio from "</span>+u.id+<span class="code-string">" to "</span>+a.id),e.pause(),n.resetEverything(),<span class="code-keyword">void</span> l.fastQualityChange_(t))}<span class="code-keyword">if</span>(<span class="code-string">"AUDIO"</span>===d){<span class="code-keyword">if</span>(!s.playlistLoader)<span class="code-keyword">return</span> n.setAudio(!<span class="code-number">0</span>),<span class="code-keyword">void</span> n.resetEverything();i.setAudio(!<span class="code-number">0</span>),n.setAudio(!<span class="code-number">1</span>)}o!==s.playlistLoader&amp;&amp;(i.track&amp;&amp;i.track(a),i.resetEverything()),Gl(s.playlistLoader,r)}}),s[e].getActiveGroup=(n=e,r=a.mediaTypes,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=r[n].activeTrack();<span class="code-keyword">return</span> e?r[n].activeGroup(e):<span class="code-literal">null</span>})}),(r=s.AUDIO.activeGroup())&amp;&amp;(r=(r.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.default})[<span class="code-number">0</span>]||r[<span class="code-number">0</span>]).id,s.AUDIO.tracks[r].enabled=!<span class="code-number">0</span>,s.AUDIO.onGroupChanged(),s.AUDIO.onTrackChanged(),s.AUDIO.getActiveGroup().playlistLoader?(u.setAudio(!<span class="code-number">1</span>),o.setAudio(!<span class="code-number">0</span>)):u.setAudio(!<span class="code-number">0</span>)),t.on(<span class="code-string">"mediachange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> s[e].onGroupChanged()})}),t.on(<span class="code-string">"mediachanging"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> s[e].onGroupChanging()})}),i.audioTracks().addEventListener(<span class="code-string">"change"</span>,l),i.remoteTextTracks().addEventListener(<span class="code-string">"change"</span>,s.SUBTITLES.onTrackChanged),n.on(<span class="code-string">"dispose"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.audioTracks().removeEventListener(<span class="code-string">"change"</span>,l),i.remoteTextTracks().removeEventListener(<span class="code-string">"change"</span>,s.SUBTITLES.onTrackChanged)}),i.clearTracks(<span class="code-string">"audio"</span>),s.AUDIO.tracks)i.audioTracks().addTrack(s.AUDIO.tracks[e])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Kl</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a,s,o=e.masterPlaylistController_,u=o[(e.options_.smoothQualityChange?<span class="code-string">"smooth"</span>:<span class="code-string">"fast"</span>)+<span class="code-string">"QualityChange_"</span>].bind(o);t.attributes&amp;&amp;(n=t.attributes.RESOLUTION,<span class="code-keyword">this</span>.width=n&amp;&amp;n.width,<span class="code-keyword">this</span>.height=n&amp;&amp;n.height,<span class="code-keyword">this</span>.bandwidth=t.attributes.BANDWIDTH),<span class="code-keyword">this</span>.codecs=$u(o.master(),t),<span class="code-keyword">this</span>.playlist=t,<span class="code-keyword">this</span>.id=i,<span class="code-keyword">this</span>.enabled=(r=e.playlists,a=t.id,s=u,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=r.master.playlists[a],i=Zo(t),n=eu(t);<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> e?n:(e?<span class="code-keyword">delete</span> t.disabled:t.disabled=!<span class="code-number">0</span>,e===n||i||(s(),e?r.trigger(<span class="code-string">"renditionenabled"</span>):r.trigger(<span class="code-string">"renditiondisabled"</span>)),e)})}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Yl</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">0</span>,n=<span class="code-number">0</span>,r=tr.mergeOptions(wc,e);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params"></span>)</span>{n&amp;&amp;t.currentTime(n)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e</span>)</span>{<span class="code-literal">null</span>!=e&amp;&amp;(n=t.duration()!==<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;t.currentTime()||<span class="code-number">0</span>,t.one(<span class="code-string">"loadedmetadata"</span>,a),t.src(e),t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-error-reload"</span>}),t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-error-reload"</span>}),t.play())}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Date</span>.now()-i&lt;<span class="code-number">1e3</span>*r.errorInterval?(t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-error-reload-canceled"</span>}),<span class="code-keyword">void</span> t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-error-reload-canceled"</span>})):r.getSource&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> r.getSource?(i=<span class="code-built_in">Date</span>.now(),r.getSource.call(t,s)):<span class="code-keyword">void</span> tr.log.error(<span class="code-string">"ERROR: reloadSourceOnError - The option getSource must be a function!"</span>)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params"></span>)</span>{t.off(<span class="code-string">"loadedmetadata"</span>,a),t.off(<span class="code-string">"error"</span>,o),t.off(<span class="code-string">"dispose"</span>,u)}t.ready(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-error-reload-initialized"</span>}),t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-error-reload-initialized"</span>})}),t.on(<span class="code-string">"error"</span>,o),t.on(<span class="code-string">"dispose"</span>,u),t.reloadSourceOnError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{u(),Yl(t,e)}}<span class="code-keyword">var</span> Ql,$l=[<span class="code-string">"video"</span>,<span class="code-string">"audio"</span>],Jl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r,a</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,i</span>)</span>{<span class="code-keyword">var</span> e=i[t+<span class="code-string">"Buffer"</span>];<span class="code-keyword">if</span>(jl(i.mediaSource,e)){i.logger_(<span class="code-string">"Appending segment "</span>+r.mediaIndex+<span class="code-string">"'s "</span>+n.length+<span class="code-string">" bytes to "</span>+t+<span class="code-string">"Buffer"</span>);<span class="code-keyword">try</span>{e.appendBuffer(n)}<span class="code-keyword">catch</span>(e){i.logger_(<span class="code-string">"Error with code "</span>+e.code+<span class="code-string">" "</span>+(<span class="code-number">22</span>===e.code?<span class="code-string">"(QUOTA_EXCEEDED_ERR) "</span>:<span class="code-string">""</span>)+<span class="code-string">"when appending segment "</span>+r.mediaIndex+<span class="code-string">" to "</span>+t+<span class="code-string">"Buffer"</span>),i.queuePending[t]=<span class="code-literal">null</span>,a(e)}}}},Zl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,i</span>)</span>{<span class="code-keyword">var</span> e=i[t+<span class="code-string">"Buffer"</span>];<span class="code-keyword">if</span>(jl(i.mediaSource,e)){i.logger_(<span class="code-string">"Removing "</span>+n+<span class="code-string">" to "</span>+r+<span class="code-string">" from "</span>+t+<span class="code-string">"Buffer"</span>);<span class="code-keyword">try</span>{e.remove(n,r)}<span class="code-keyword">catch</span>(e){i.logger_(<span class="code-string">"Remove "</span>+n+<span class="code-string">" to "</span>+r+<span class="code-string">" from "</span>+t+<span class="code-string">"Buffer failed"</span>)}}}},ec=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t[e+<span class="code-string">"Buffer"</span>];jl(t.mediaSource,i)&amp;&amp;(t.logger_(<span class="code-string">"Setting "</span>+e+<span class="code-string">"timestampOffset to "</span>+n),i.timestampOffset=n)}},tc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{i()}},ic=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"open"</span>===e.mediaSource.readyState){e.logger_(<span class="code-string">"Calling mediaSource endOfStream("</span>+(t||<span class="code-string">""</span>)+<span class="code-string">")"</span>);<span class="code-keyword">try</span>{e.mediaSource.endOfStream(t)}<span class="code-keyword">catch</span>(e){tr.log.warn(<span class="code-string">"Failed to call media source endOfStream"</span>,e)}}}},nc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.logger_(<span class="code-string">"Setting mediaSource duration to "</span>+t);<span class="code-keyword">try</span>{e.mediaSource.duration=t}<span class="code-keyword">catch</span>(e){tr.log.warn(<span class="code-string">"Failed to set media source duration"</span>,e)}}},rc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"open"</span>===e.mediaSource.readyState){<span class="code-keyword">var</span> i=e[t+<span class="code-string">"Buffer"</span>];<span class="code-keyword">if</span>(jl(e.mediaSource,i)){e.logger_(<span class="code-string">"calling abort on "</span>+t+<span class="code-string">"Buffer"</span>);<span class="code-keyword">try</span>{i.abort()}<span class="code-keyword">catch</span>(e){tr.log.warn(<span class="code-string">"Failed to abort on "</span>+t+<span class="code-string">"Buffer"</span>,e)}}}}},ac=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Nl(n),i=mr(r);e.logger_(<span class="code-string">"Adding "</span>+n+<span class="code-string">"Buffer with codec "</span>+r+<span class="code-string">" to mediaSource"</span>);i=e.mediaSource.addSourceBuffer(i);i.addEventListener(<span class="code-string">"updateend"</span>,e[<span class="code-string">"on"</span>+t+<span class="code-string">"UpdateEnd_"</span>]),i.addEventListener(<span class="code-string">"error"</span>,e[<span class="code-string">"on"</span>+t+<span class="code-string">"Error_"</span>]),e.codecs[n]=r,e[n+<span class="code-string">"Buffer"</span>]=i}},sc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e[i+<span class="code-string">"Buffer"</span>];<span class="code-keyword">if</span>(Fl(i,e),jl(e.mediaSource,t)){e.logger_(<span class="code-string">"Removing "</span>+i+<span class="code-string">"Buffer with codec "</span>+e.codecs[i]+<span class="code-string">" from mediaSource"</span>);<span class="code-keyword">try</span>{e.mediaSource.removeSourceBuffer(t)}<span class="code-keyword">catch</span>(e){tr.log.warn(<span class="code-string">"Failed to removeSourceBuffer "</span>+i+<span class="code-string">"Buffer"</span>,e)}}}},oc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t[e+<span class="code-string">"Buffer"</span>],n=mr(r);jl(t.mediaSource,i)&amp;&amp;t.codecs[e]!==r&amp;&amp;(t.logger_(<span class="code-string">"changing "</span>+e+<span class="code-string">"Buffer codec from "</span>+t.codecs[e]+<span class="code-string">" to "</span>+r),i.changeType(n),t.codecs[e]=r)}},uc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.mediaSource=e,t.sourceopenListener_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Bl(<span class="code-string">"mediaSource"</span>,ft(t))},t.mediaSource.addEventListener(<span class="code-string">"sourceopen"</span>,t.sourceopenListener_),t.logger_=Ro(<span class="code-string">"SourceUpdater"</span>),t.audioTimestampOffset_=<span class="code-number">0</span>,t.videoTimestampOffset_=<span class="code-number">0</span>,t.queue=[],t.queuePending={<span class="code-attr">audio</span>:<span class="code-literal">null</span>,<span class="code-attr">video</span>:<span class="code-literal">null</span>},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!<span class="code-number">1</span>,t.codecs={},t.onVideoUpdateEnd_=ql(<span class="code-string">"video"</span>,ft(t)),t.onAudioUpdateEnd_=ql(<span class="code-string">"audio"</span>,ft(t)),t.onVideoError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.videoError_=e},t.onAudioError_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.audioError_=e},t.createdSourceBuffers_=!<span class="code-number">1</span>,t.initializedEme_=!<span class="code-number">1</span>,t.triggeredReady_=!<span class="code-number">1</span>,t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.initializedEme=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.initializedEme_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.triggerReady()},t.hasCreatedSourceBuffers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.createdSourceBuffers_},t.hasInitializedAnyEme=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.initializedEme_},t.ready=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasCreatedSourceBuffers()&amp;&amp;<span class="code-keyword">this</span>.hasInitializedAnyEme()},t.createSourceBuffers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.hasCreatedSourceBuffers()||(<span class="code-keyword">this</span>.addOrChangeSourceBuffers(e),<span class="code-keyword">this</span>.createdSourceBuffers_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"createdsourcebuffers"</span>),<span class="code-keyword">this</span>.triggerReady())},t.triggerReady=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.ready()&amp;&amp;!<span class="code-keyword">this</span>.triggeredReady_&amp;&amp;(<span class="code-keyword">this</span>.triggeredReady_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"ready"</span>))},t.addSourceBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{Hl({<span class="code-attr">type</span>:<span class="code-string">"mediaSource"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:ac(e,t),<span class="code-attr">name</span>:<span class="code-string">"addSourceBuffer"</span>})},t.abort=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Hl({<span class="code-attr">type</span>:e,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:rc(e),<span class="code-attr">name</span>:<span class="code-string">"abort"</span>})},t.removeSourceBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.canRemoveSourceBuffer()?Hl({<span class="code-attr">type</span>:<span class="code-string">"mediaSource"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:sc(e),<span class="code-attr">name</span>:<span class="code-string">"removeSourceBuffer"</span>}):tr.log.error(<span class="code-string">"removeSourceBuffer is not supported!"</span>)},t.canRemoveSourceBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!tr.browser.IE_VERSION&amp;&amp;!tr.browser.IS_FIREFOX&amp;&amp;<span class="code-built_in">window</span>.MediaSource&amp;&amp;<span class="code-built_in">window</span>.MediaSource.prototype&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.MediaSource.prototype.removeSourceBuffer},e.canChangeType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">window</span>.SourceBuffer&amp;&amp;<span class="code-built_in">window</span>.SourceBuffer.prototype&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.SourceBuffer.prototype.changeType},t.canChangeType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.constructor.canChangeType()},t.changeType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.canChangeType()?Hl({<span class="code-attr">type</span>:e,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:oc(t),<span class="code-attr">name</span>:<span class="code-string">"changeType"</span>}):tr.log.error(<span class="code-string">"changeType is not supported!"</span>)},t.addOrChangeSourceBuffers=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(!i||<span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> i||<span class="code-number">0</span>===<span class="code-built_in">Object</span>.keys(i).length)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot addOrChangeSourceBuffers to undefined codecs"</span>);<span class="code-built_in">Object</span>.keys(i).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i[e];<span class="code-keyword">if</span>(!n.hasCreatedSourceBuffers())<span class="code-keyword">return</span> n.addSourceBuffer(e,t);n.canChangeType()&amp;&amp;n.changeType(e,t)})},t.appendBuffer=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,n=e.segmentInfo,r=e.type,a=e.bytes;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.processedAppend_=!<span class="code-number">0</span>,<span class="code-string">"audio"</span>===r&amp;&amp;<span class="code-keyword">this</span>.videoBuffer&amp;&amp;!<span class="code-keyword">this</span>.videoAppendQueued_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.delayedAudioAppendQueue_.push([e,t]),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"delayed audio append of "</span>+a.length+<span class="code-string">" until video append"</span>);Hl({<span class="code-attr">type</span>:r,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:Jl(a,n||{<span class="code-attr">mediaIndex</span>:<span class="code-number">-1</span>},t),<span class="code-attr">doneFn</span>:t,<span class="code-attr">name</span>:<span class="code-string">"appendBuffer"</span>}),<span class="code-string">"video"</span>===r&amp;&amp;(<span class="code-keyword">this</span>.videoAppendQueued_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.delayedAudioAppendQueue_.length&amp;&amp;(r=<span class="code-keyword">this</span>.delayedAudioAppendQueue_.slice(),<span class="code-keyword">this</span>.logger_(<span class="code-string">"queuing delayed audio "</span>+r.length+<span class="code-string">" appendBuffers"</span>),<span class="code-keyword">this</span>.delayedAudioAppendQueue_.length=<span class="code-number">0</span>,r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{i.appendBuffer.apply(i,e)})))},t.audioBuffered=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> jl(<span class="code-keyword">this</span>.mediaSource,<span class="code-keyword">this</span>.audioBuffer)&amp;&amp;<span class="code-keyword">this</span>.audioBuffer.buffered||tr.createTimeRange()},t.videoBuffered=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> jl(<span class="code-keyword">this</span>.mediaSource,<span class="code-keyword">this</span>.videoBuffer)&amp;&amp;<span class="code-keyword">this</span>.videoBuffer.buffered||tr.createTimeRange()},t.buffered=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=jl(<span class="code-keyword">this</span>.mediaSource,<span class="code-keyword">this</span>.videoBuffer)?<span class="code-keyword">this</span>.videoBuffer:<span class="code-literal">null</span>,t=jl(<span class="code-keyword">this</span>.mediaSource,<span class="code-keyword">this</span>.audioBuffer)?<span class="code-keyword">this</span>.audioBuffer:<span class="code-literal">null</span>;<span class="code-keyword">return</span> t&amp;&amp;!e?<span class="code-keyword">this</span>.audioBuffered():e&amp;&amp;!t?<span class="code-keyword">this</span>.videoBuffered():<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-literal">null</span>,n=<span class="code-literal">null</span>,r=<span class="code-number">0</span>,a=[],s=[];<span class="code-keyword">if</span>(!(e&amp;&amp;e.length&amp;&amp;t&amp;&amp;t.length))<span class="code-keyword">return</span> tr.createTimeRange();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=e.length;o--;)a.push({<span class="code-attr">time</span>:e.start(o),<span class="code-attr">type</span>:<span class="code-string">"start"</span>}),a.push({<span class="code-attr">time</span>:e.end(o),<span class="code-attr">type</span>:<span class="code-string">"end"</span>});<span class="code-keyword">for</span>(o=t.length;o--;)a.push({<span class="code-attr">time</span>:t.start(o),<span class="code-attr">type</span>:<span class="code-string">"start"</span>}),a.push({<span class="code-attr">time</span>:t.end(o),<span class="code-attr">type</span>:<span class="code-string">"end"</span>});<span class="code-keyword">for</span>(a.sort(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.time-t.time}),o=<span class="code-number">0</span>;o&lt;a.length;o++)<span class="code-string">"start"</span>===a[o].type?<span class="code-number">2</span>===++r&amp;&amp;(i=a[o].time):<span class="code-string">"end"</span>===a[o].type&amp;&amp;<span class="code-number">1</span>===--r&amp;&amp;(n=a[o].time),<span class="code-literal">null</span>!==i&amp;&amp;<span class="code-literal">null</span>!==n&amp;&amp;(s.push([i,n]),n=i=<span class="code-literal">null</span>);<span class="code-keyword">return</span> tr.createTimeRanges(s)}(<span class="code-keyword">this</span>.audioBuffered(),<span class="code-keyword">this</span>.videoBuffered())},t.setDuration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=Rl),Hl({<span class="code-attr">type</span>:<span class="code-string">"mediaSource"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:nc(e),<span class="code-attr">name</span>:<span class="code-string">"duration"</span>,<span class="code-attr">doneFn</span>:t})},t.endOfStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=Rl),Hl({<span class="code-attr">type</span>:<span class="code-string">"mediaSource"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:ic(e=<span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span>(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-literal">null</span>:e)?<span class="code-keyword">void</span> <span class="code-number">0</span>:e),<span class="code-attr">name</span>:<span class="code-string">"endOfStream"</span>,<span class="code-attr">doneFn</span>:t})},t.removeAudio=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=Rl),<span class="code-keyword">this</span>.audioBuffered().length&amp;&amp;<span class="code-number">0</span>!==<span class="code-keyword">this</span>.audioBuffered().end(<span class="code-number">0</span>)?Hl({<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:Zl(e,t),<span class="code-attr">doneFn</span>:i,<span class="code-attr">name</span>:<span class="code-string">"remove"</span>}):i()},t.removeVideo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=Rl),<span class="code-keyword">this</span>.videoBuffered().length&amp;&amp;<span class="code-number">0</span>!==<span class="code-keyword">this</span>.videoBuffered().end(<span class="code-number">0</span>)?Hl({<span class="code-attr">type</span>:<span class="code-string">"video"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:Zl(e,t),<span class="code-attr">doneFn</span>:i,<span class="code-attr">name</span>:<span class="code-string">"remove"</span>}):i()},t.updating=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>!(!Ul(<span class="code-string">"audio"</span>,<span class="code-keyword">this</span>)&amp;&amp;!Ul(<span class="code-string">"video"</span>,<span class="code-keyword">this</span>))},t.audioTimestampOffset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-keyword">this</span>.audioBuffer&amp;&amp;<span class="code-keyword">this</span>.audioTimestampOffset_!==e&amp;&amp;(Hl({<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:ec(e),<span class="code-attr">name</span>:<span class="code-string">"timestampOffset"</span>}),<span class="code-keyword">this</span>.audioTimestampOffset_=e),<span class="code-keyword">this</span>.audioTimestampOffset_},t.videoTimestampOffset=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-keyword">this</span>.videoBuffer&amp;&amp;<span class="code-keyword">this</span>.videoTimestampOffset!==e&amp;&amp;(Hl({<span class="code-attr">type</span>:<span class="code-string">"video"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:ec(e),<span class="code-attr">name</span>:<span class="code-string">"timestampOffset"</span>}),<span class="code-keyword">this</span>.videoTimestampOffset_=e),<span class="code-keyword">this</span>.videoTimestampOffset_},t.audioQueueCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.audioBuffer&amp;&amp;Hl({<span class="code-attr">type</span>:<span class="code-string">"audio"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:tc(e),<span class="code-attr">name</span>:<span class="code-string">"callback"</span>})},t.videoQueueCallback=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.videoBuffer&amp;&amp;Hl({<span class="code-attr">type</span>:<span class="code-string">"video"</span>,<span class="code-attr">sourceUpdater</span>:<span class="code-keyword">this</span>,<span class="code-attr">action</span>:tc(e),<span class="code-attr">name</span>:<span class="code-string">"callback"</span>})},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),$l.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+<span class="code-string">"QueueCallback"</span>](<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> Fl(e,t)})}),<span class="code-keyword">this</span>.videoAppendQueued_=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.delayedAudioAppendQueue_.length=<span class="code-number">0</span>,<span class="code-keyword">this</span>.sourceopenListener_&amp;&amp;<span class="code-keyword">this</span>.mediaSource.removeEventListener(<span class="code-string">"sourceopen"</span>,<span class="code-keyword">this</span>.sourceopenListener_),<span class="code-keyword">this</span>.off()},e}(tr.EventTarget),lc=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(<span class="code-string">"\n\n"</span>.split(<span class="code-string">""</span>).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.charCodeAt(<span class="code-number">0</span>)})),cc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>(t=i.call(<span class="code-keyword">this</span>,e,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t)||<span class="code-keyword">this</span>).mediaSource_=<span class="code-literal">null</span>,t.subtitlesTrack_=<span class="code-literal">null</span>,t.loaderType_=<span class="code-string">"subtitle"</span>,t.featuresNativeTextTracks_=e.featuresNativeTextTracks,t.shouldSaveSegmentTimingInfo_=!<span class="code-number">1</span>,t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.createTransmuxer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>},t.buffered_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.subtitlesTrack_||!<span class="code-keyword">this</span>.subtitlesTrack_.cues||!<span class="code-keyword">this</span>.subtitlesTrack_.cues.length)<span class="code-keyword">return</span> tr.createTimeRanges();<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.subtitlesTrack_.cues,t=e[<span class="code-number">0</span>].startTime,e=e[e.length<span class="code-number">-1</span>].startTime;<span class="code-keyword">return</span> tr.createTimeRanges([[t,e]])},t.initSegmentForMap=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===t&amp;&amp;(t=!<span class="code-number">1</span>),!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> i=Su(e),n=<span class="code-keyword">this</span>.initSegments_[i];<span class="code-keyword">return</span> t&amp;&amp;!n&amp;&amp;e.bytes&amp;&amp;(t=lc.byteLength+e.bytes.byteLength,(t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(t)).set(e.bytes),t.set(lc,e.bytes.byteLength),<span class="code-keyword">this</span>.initSegments_[i]=n={<span class="code-attr">resolvedUri</span>:e.resolvedUri,<span class="code-attr">byterange</span>:e.byterange,<span class="code-attr">bytes</span>:t}),n||e},t.couldBeginLoading_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.playlist_&amp;&amp;<span class="code-keyword">this</span>.subtitlesTrack_&amp;&amp;!<span class="code-keyword">this</span>.paused()},t.init_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,<span class="code-keyword">this</span>.resetEverything(),<span class="code-keyword">this</span>.monitorBuffer_()},t.track=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> e||(<span class="code-keyword">this</span>.subtitlesTrack_=e,<span class="code-string">"INIT"</span>===<span class="code-keyword">this</span>.state&amp;&amp;<span class="code-keyword">this</span>.couldBeginLoading_()&amp;&amp;<span class="code-keyword">this</span>.init_()),<span class="code-keyword">this</span>.subtitlesTrack_},t.remove=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{rl(e,t,<span class="code-keyword">this</span>.subtitlesTrack_)},t.fillBuffer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.chooseNextRequest_();<span class="code-keyword">if</span>(t){<span class="code-keyword">if</span>(<span class="code-literal">null</span>===<span class="code-keyword">this</span>.syncController_.timestampOffsetForTimeline(t.timeline))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.syncController_.one(<span class="code-string">"timestampoffset"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.state=<span class="code-string">"READY"</span>,e.paused()||e.monitorBuffer_()}),<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.state=<span class="code-string">"WAITING_ON_TIMELINE"</span>);<span class="code-keyword">this</span>.loadSegment_(t)}},t.timestampOffsetForSegment_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-literal">null</span>},t.chooseNextRequest_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.skipEmptySegments_(i.prototype.chooseNextRequest_.call(<span class="code-keyword">this</span>))},t.skipEmptySegments_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">for</span>(;e&amp;&amp;e.segment.empty;){<span class="code-keyword">if</span>(e.mediaIndex+<span class="code-number">1</span>&gt;=e.playlist.segments.length){e=<span class="code-literal">null</span>;<span class="code-keyword">break</span>}e=<span class="code-keyword">this</span>.generateSegmentInfo_({<span class="code-attr">playlist</span>:e.playlist,<span class="code-attr">mediaIndex</span>:e.mediaIndex+<span class="code-number">1</span>,<span class="code-attr">startOfSegment</span>:e.startOfSegment+e.duration,<span class="code-attr">isSyncRequest</span>:e.isSyncRequest})}<span class="code-keyword">return</span> e},t.stopForError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.error(e),<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,<span class="code-keyword">this</span>.pause(),<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>)},t.segmentRequestFinished_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.subtitlesTrack_){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.saveTransferStats_(t.stats),!<span class="code-keyword">this</span>.pendingSegment_)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>,<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.mediaRequestsAborted+=<span class="code-number">1</span>);<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span> e.code===Pl&amp;&amp;<span class="code-keyword">this</span>.handleTimeout_(),e.code===Ll?<span class="code-keyword">this</span>.mediaRequestsAborted+=<span class="code-number">1</span>:<span class="code-keyword">this</span>.mediaRequestsErrored+=<span class="code-number">1</span>,<span class="code-keyword">void</span> <span class="code-keyword">this</span>.stopForError(e);<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.pendingSegment_;<span class="code-keyword">this</span>.saveBandwidthRelatedStats_(r.duration,t.stats),<span class="code-keyword">this</span>.state=<span class="code-string">"APPENDING"</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"appending"</span>);<span class="code-keyword">var</span> a=r.segment;<span class="code-keyword">if</span>(a.map&amp;&amp;(a.map.bytes=t.map.bytes),r.bytes=t.bytes,<span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.WebVTT&amp;&amp;<span class="code-keyword">this</span>.subtitlesTrack_&amp;&amp;<span class="code-keyword">this</span>.subtitlesTrack_.tech_){<span class="code-keyword">var</span> s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.subtitlesTrack_.tech_.off(<span class="code-string">"vttjsloaded"</span>,o),n.stopForError({<span class="code-attr">message</span>:<span class="code-string">"Error loading vtt.js"</span>})},o=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.subtitlesTrack_.tech_.off(<span class="code-string">"vttjserror"</span>,s),n.segmentRequestFinished_(e,t,i)};<span class="code-keyword">return</span> <span class="code-keyword">this</span>.state=<span class="code-string">"WAITING_ON_VTTJS"</span>,<span class="code-keyword">this</span>.subtitlesTrack_.tech_.one(<span class="code-string">"vttjsloaded"</span>,o),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.subtitlesTrack_.tech_.one(<span class="code-string">"vttjserror"</span>,s)}a.requested=!<span class="code-number">0</span>;<span class="code-keyword">try</span>{<span class="code-keyword">this</span>.parseVTTCues_(r)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>.stopForError({<span class="code-attr">message</span>:e.message})}<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.updateTimeMapping_(r,<span class="code-keyword">this</span>.syncController_.timelines[r.timeline],<span class="code-keyword">this</span>.playlist_),r.cues.length?r.timingInfo={<span class="code-attr">start</span>:r.cues[<span class="code-number">0</span>].startTime,<span class="code-attr">end</span>:r.cues[r.cues.length<span class="code-number">-1</span>].endTime}:r.timingInfo={<span class="code-attr">start</span>:r.startOfSegment,<span class="code-attr">end</span>:r.startOfSegment+r.duration},r.isSyncRequest)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"syncinfoupdate"</span>),<span class="code-keyword">this</span>.pendingSegment_=<span class="code-literal">null</span>,<span class="code-keyword">void</span>(<span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>);r.byteLength=r.bytes.byteLength,<span class="code-keyword">this</span>.mediaSecondsLoaded+=a.duration,r.cues.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?<span class="code-keyword">new</span> <span class="code-built_in">window</span>.VTTCue(e.startTime,e.endTime,e.text):e)}),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=t.cues;<span class="code-keyword">if</span>(e)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=[],r=<span class="code-number">0</span>,a=<span class="code-number">0</span>;a&lt;e.length;a++)e[i].startTime===e[a].startTime&amp;&amp;e[i].endTime===e[a].endTime&amp;&amp;e[i].text===e[a].text&amp;&amp;<span class="code-number">1</span>&lt;++r&amp;&amp;n.push(e[a]);n.length&amp;&amp;n.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t.removeCue(e)})}}(<span class="code-keyword">this</span>.subtitlesTrack_),<span class="code-keyword">this</span>.handleAppendsDone_()}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.state=<span class="code-string">"READY"</span>},t.handleData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},t.updateTimingInfoEnd_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{},t.parseVTTCues_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> e=!<span class="code-number">1</span>;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>.TextDecoder?i=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.TextDecoder(<span class="code-string">"utf8"</span>):(i=<span class="code-built_in">window</span>.WebVTT.StringDecoder(),e=!<span class="code-number">0</span>);<span class="code-keyword">var</span> i=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.WebVTT.Parser(<span class="code-built_in">window</span>,<span class="code-built_in">window</span>.vttjs,i);t.cues=[],t.timestampmap={<span class="code-attr">MPEGTS</span>:<span class="code-number">0</span>,<span class="code-attr">LOCAL</span>:<span class="code-number">0</span>},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.timestampmap=e},i.onparsingerror=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{tr.log.warn(<span class="code-string">"Error encountered when parsing cues: "</span>+e.message)},t.segment.map&amp;&amp;(n=t.segment.map.bytes,e&amp;&amp;(n=Vl(n)),i.parse(n));<span class="code-keyword">var</span> n=t.bytes;e&amp;&amp;(n=Vl(n)),i.parse(n),i.flush()},t.updateTimeMapping_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a=e.segment;t&amp;&amp;(e.cues.length?(r=e.timestampmap,n=r.MPEGTS/hl-r.LOCAL+t.mapping,e.cues.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.startTime+=n,e.endTime+=n}),i.syncInfo||(r=e.cues[<span class="code-number">0</span>].startTime,t=e.cues[e.cues.length<span class="code-number">-1</span>].startTime,i.syncInfo={<span class="code-attr">mediaSequence</span>:i.mediaSequence+e.mediaIndex,<span class="code-attr">time</span>:<span class="code-built_in">Math</span>.min(r,t-a.duration)})):a.empty=!<span class="code-number">0</span>)},e}(Ml),dc=[{<span class="code-attr">name</span>:<span class="code-string">"VOD"</span>,<span class="code-attr">run</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">if</span>(i===<span class="code-number">1</span>/<span class="code-number">0</span>)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">return</span>{<span class="code-attr">time</span>:<span class="code-number">0</span>,<span class="code-attr">segmentIndex</span>:<span class="code-number">0</span>,<span class="code-attr">partIndex</span>:<span class="code-literal">null</span>}}},{<span class="code-attr">name</span>:<span class="code-string">"ProgramDateTime"</span>,<span class="code-attr">run</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-built_in">Object</span>.keys(e.timelineToDatetimeMappings).length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> a=<span class="code-literal">null</span>,s=<span class="code-literal">null</span>,o=Wo(t);r=r||<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> u=<span class="code-number">0</span>;u&lt;o.length;u++){<span class="code-keyword">var</span> l=o[t.endList||<span class="code-number">0</span>===r?u:o.length-(u+<span class="code-number">1</span>)],c=l.segment,d=e.timelineToDatetimeMappings[c.timeline];<span class="code-keyword">if</span>(d&amp;&amp;c.dateTimeObject){<span class="code-keyword">var</span> h=c.dateTimeObject.getTime()/<span class="code-number">1e3</span>+d;<span class="code-keyword">if</span>(c.parts&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> l.partIndex)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p=<span class="code-number">0</span>;p&lt;l.partIndex;p++)h+=c.parts[p].duration;d=<span class="code-built_in">Math</span>.abs(r-h);<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==s&amp;&amp;(<span class="code-number">0</span>===d||s&lt;d))<span class="code-keyword">break</span>;s=d,a={<span class="code-attr">time</span>:h,<span class="code-attr">segmentIndex</span>:l.segmentIndex,<span class="code-attr">partIndex</span>:l.partIndex}}}<span class="code-keyword">return</span> a}},{<span class="code-attr">name</span>:<span class="code-string">"Segment"</span>,<span class="code-attr">run</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-literal">null</span>,s=<span class="code-literal">null</span>;r=r||<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o=Wo(t),u=<span class="code-number">0</span>;u&lt;o.length;u++){<span class="code-keyword">var</span> l=o[t.endList||<span class="code-number">0</span>===r?u:o.length-(u+<span class="code-number">1</span>)],c=l.segment,d=l.part&amp;&amp;l.part.start||c&amp;&amp;c.start;<span class="code-keyword">if</span>(c.timeline===n&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> d){c=<span class="code-built_in">Math</span>.abs(r-d);<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==s&amp;&amp;s&lt;c)<span class="code-keyword">break</span>;(!a||<span class="code-literal">null</span>===s||c&lt;=s)&amp;&amp;(s=c,a={<span class="code-attr">time</span>:d,<span class="code-attr">segmentIndex</span>:l.segmentIndex,<span class="code-attr">partIndex</span>:l.partIndex})}}<span class="code-keyword">return</span> a}},{<span class="code-attr">name</span>:<span class="code-string">"Discontinuity"</span>,<span class="code-attr">run</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">var</span> a=<span class="code-literal">null</span>;<span class="code-keyword">if</span>(r=r||<span class="code-number">0</span>,t.discontinuityStarts&amp;&amp;t.discontinuityStarts.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s=<span class="code-literal">null</span>,o=<span class="code-number">0</span>;o&lt;t.discontinuityStarts.length;o++){<span class="code-keyword">var</span> u=t.discontinuityStarts[o],l=t.discontinuitySequence+o+<span class="code-number">1</span>,c=e.discontinuities[l];<span class="code-keyword">if</span>(c){l=<span class="code-built_in">Math</span>.abs(r-c.time);<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==s&amp;&amp;s&lt;l)<span class="code-keyword">break</span>;(!a||<span class="code-literal">null</span>===s||l&lt;=s)&amp;&amp;(s=l,a={<span class="code-attr">time</span>:c.time,<span class="code-attr">segmentIndex</span>:u,<span class="code-attr">partIndex</span>:<span class="code-literal">null</span>})}}<span class="code-keyword">return</span> a}},{<span class="code-attr">name</span>:<span class="code-string">"Playlist"</span>,<span class="code-attr">run</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r</span>)</span>{<span class="code-keyword">return</span> t.syncInfo?{<span class="code-attr">time</span>:t.syncInfo.time,<span class="code-attr">segmentIndex</span>:t.syncInfo.mediaSequence-t.mediaSequence,<span class="code-attr">partIndex</span>:<span class="code-literal">null</span>}:<span class="code-literal">null</span>}}],hc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=i.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> t.timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Ro(<span class="code-string">"SyncController"</span>),t}mt(e,i);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.getSyncPoint=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{i=<span class="code-keyword">this</span>.runStrategies_(e,t,i,n);<span class="code-keyword">return</span> i.length?<span class="code-keyword">this</span>.selectSyncPoint_(i,{<span class="code-attr">key</span>:<span class="code-string">"time"</span>,<span class="code-attr">value</span>:n}):<span class="code-literal">null</span>},t.getExpiredTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!e||!e.segments)<span class="code-keyword">return</span> <span class="code-literal">null</span>;t=<span class="code-keyword">this</span>.runStrategies_(e,t,e.discontinuitySequence,<span class="code-number">0</span>);<span class="code-keyword">if</span>(!t.length)<span class="code-keyword">return</span> <span class="code-literal">null</span>;t=<span class="code-keyword">this</span>.selectSyncPoint_(t,{<span class="code-attr">key</span>:<span class="code-string">"segmentIndex"</span>,<span class="code-attr">value</span>:<span class="code-number">0</span>});<span class="code-keyword">return</span> <span class="code-number">0</span>&lt;t.segmentIndex&amp;&amp;(t.time*=<span class="code-number">-1</span>),<span class="code-built_in">Math</span>.abs(t.time+Qo({<span class="code-attr">defaultDuration</span>:e.targetDuration,<span class="code-attr">durationList</span>:e.segments,<span class="code-attr">startIndex</span>:t.segmentIndex,<span class="code-attr">endIndex</span>:<span class="code-number">0</span>}))},t.runStrategies_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=[],a=<span class="code-number">0</span>;a&lt;dc.length;a++){<span class="code-keyword">var</span> s=dc[a],o=s.run(<span class="code-keyword">this</span>,e,t,i,n);o&amp;&amp;(o.strategy=s.name,r.push({<span class="code-attr">strategy</span>:s.name,<span class="code-attr">syncPoint</span>:o}))}<span class="code-keyword">return</span> r},t.selectSyncPoint_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e[<span class="code-number">0</span>].syncPoint,n=<span class="code-built_in">Math</span>.abs(e[<span class="code-number">0</span>].syncPoint[t.key]-t.value),r=e[<span class="code-number">0</span>].strategy,a=<span class="code-number">1</span>;a&lt;e.length;a++){<span class="code-keyword">var</span> s=<span class="code-built_in">Math</span>.abs(e[a].syncPoint[t.key]-t.value);s&lt;n&amp;&amp;(n=s,i=e[a].syncPoint,r=e[a].strategy)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"syncPoint for ["</span>+t.key+<span class="code-string">": "</span>+t.value+<span class="code-string">"] chosen with strategy ["</span>+r+<span class="code-string">"]: [time:"</span>+i.time+<span class="code-string">", segmentIndex:"</span>+i.segmentIndex+(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i.partIndex?<span class="code-string">",partIndex:"</span>+i.partIndex:<span class="code-string">""</span>)+<span class="code-string">"]"</span>),i},t.saveExpiredSegmentInfo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=t.mediaSequence-e.mediaSequence;<span class="code-keyword">if</span>(<span class="code-number">86400</span>&lt;i)tr.log.warn(<span class="code-string">"Not saving expired segment info. Media sequence gap "</span>+i+<span class="code-string">" is too large."</span>);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=i<span class="code-number">-1</span>;<span class="code-number">0</span>&lt;=n;n--){<span class="code-keyword">var</span> r=e.segments[n];<span class="code-keyword">if</span>(r&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> r.start){t.syncInfo={<span class="code-attr">mediaSequence</span>:e.mediaSequence+n,<span class="code-attr">time</span>:r.start},<span class="code-keyword">this</span>.logger_(<span class="code-string">"playlist refresh sync: [time:"</span>+t.syncInfo.time+<span class="code-string">", mediaSequence: "</span>+t.syncInfo.mediaSequence+<span class="code-string">"]"</span>),<span class="code-keyword">this</span>.trigger(<span class="code-string">"syncinfoupdate"</span>);<span class="code-keyword">break</span>}}},t.setDateTimeMappingForStart=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;<span class="code-keyword">this</span>.timelineToDatetimeMappings={},e.segments&amp;&amp;e.segments.length&amp;&amp;e.segments[<span class="code-number">0</span>].dateTimeObject&amp;&amp;(e=(t=e.segments[<span class="code-number">0</span>]).dateTimeObject.getTime()/<span class="code-number">1e3</span>,<span class="code-keyword">this</span>.timelineToDatetimeMappings[t.timeline]=-e)},t.saveSegmentTimingInfo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.segmentInfo,i=e.shouldSaveTimelineMapping,n=<span class="code-keyword">this</span>.calculateSegmentTimeMapping_(t,t.timingInfo,i),e=t.segment;n&amp;&amp;(<span class="code-keyword">this</span>.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={<span class="code-attr">mediaSequence</span>:t.playlist.mediaSequence+t.mediaIndex,<span class="code-attr">time</span>:e.start}));t=e.dateTimeObject;e.discontinuity&amp;&amp;i&amp;&amp;t&amp;&amp;(<span class="code-keyword">this</span>.timelineToDatetimeMappings[e.timeline]=-t.getTime()/<span class="code-number">1e3</span>)},t.timestampOffsetForTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.timelines[e]?<span class="code-literal">null</span>:<span class="code-keyword">this</span>.timelines[e].time},t.mappingForTimeline=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.timelines[e]?<span class="code-literal">null</span>:<span class="code-keyword">this</span>.timelines[e].mapping},t.calculateSegmentTimeMapping_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a=e.segment,s=e.part,o=<span class="code-keyword">this</span>.timelines[e.timeline];<span class="code-keyword">if</span>(<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e.timestampOffset)o={<span class="code-attr">time</span>:e.startOfSegment,<span class="code-attr">mapping</span>:e.startOfSegment-t.start},i&amp;&amp;(<span class="code-keyword">this</span>.timelines[e.timeline]=o,<span class="code-keyword">this</span>.trigger(<span class="code-string">"timestampoffset"</span>),<span class="code-keyword">this</span>.logger_(<span class="code-string">"time mapping for timeline "</span>+e.timeline+<span class="code-string">": [time: "</span>+o.time+<span class="code-string">"] [mapping: "</span>+o.mapping+<span class="code-string">"]"</span>)),n=e.startOfSegment,r=t.end+o.mapping;<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!o)<span class="code-keyword">return</span>!<span class="code-number">1</span>;n=t.start+o.mapping,r=t.end+o.mapping}<span class="code-keyword">return</span> s&amp;&amp;(s.start=n,s.end=r),(!a.start||n&lt;a.start)&amp;&amp;(a.start=n),a.end=r,!<span class="code-number">0</span>},t.saveDiscontinuitySyncInfo_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.playlist,i=e.segment;<span class="code-keyword">if</span>(i.discontinuity)<span class="code-keyword">this</span>.discontinuities[i.timeline]={<span class="code-attr">time</span>:i.start,<span class="code-attr">accuracy</span>:<span class="code-number">0</span>};<span class="code-keyword">else</span> <span class="code-keyword">if</span>(t.discontinuityStarts&amp;&amp;t.discontinuityStarts.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;t.discontinuityStarts.length;n++){<span class="code-keyword">var</span> r,a=t.discontinuityStarts[n],s=t.discontinuitySequence+n+<span class="code-number">1</span>,o=a-e.mediaIndex,u=<span class="code-built_in">Math</span>.abs(o);(!<span class="code-keyword">this</span>.discontinuities[s]||<span class="code-keyword">this</span>.discontinuities[s].accuracy&gt;u)&amp;&amp;(r=<span class="code-keyword">void</span> <span class="code-number">0</span>,r=o&lt;<span class="code-number">0</span>?i.start-Qo({<span class="code-attr">defaultDuration</span>:t.targetDuration,<span class="code-attr">durationList</span>:t.segments,<span class="code-attr">startIndex</span>:e.mediaIndex,<span class="code-attr">endIndex</span>:a}):i.end+Qo({<span class="code-attr">defaultDuration</span>:t.targetDuration,<span class="code-attr">durationList</span>:t.segments,<span class="code-attr">startIndex</span>:e.mediaIndex+<span class="code-number">1</span>,<span class="code-attr">endIndex</span>:a}),<span class="code-keyword">this</span>.discontinuities[s]={<span class="code-attr">time</span>:r,<span class="code-attr">accuracy</span>:u})}},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.off()},e}(tr.EventTarget),pc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e.pendingTimelineChanges_={},e.lastTimelineChanges_={},e}mt(e,t);<span class="code-keyword">var</span> i=e.prototype;<span class="code-keyword">return</span> i.clearPendingTimelineChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.pendingTimelineChanges_[e]=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.trigger(<span class="code-string">"pendingtimelinechange"</span>)},i.pendingTimelineChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.type,i=e.from,e=e.to;<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(<span class="code-keyword">this</span>.pendingTimelineChanges_[t]={<span class="code-attr">type</span>:t,<span class="code-attr">from</span>:i,<span class="code-attr">to</span>:e},<span class="code-keyword">this</span>.trigger(<span class="code-string">"pendingtimelinechange"</span>)),<span class="code-keyword">this</span>.pendingTimelineChanges_[t]},i.lastTimelineChange=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.type,i=e.from,e=e.to;<span class="code-keyword">return</span><span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i&amp;&amp;<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;(<span class="code-keyword">this</span>.lastTimelineChanges_[t]={<span class="code-attr">type</span>:t,<span class="code-attr">from</span>:i,<span class="code-attr">to</span>:e},<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.pendingTimelineChanges_[t],<span class="code-keyword">this</span>.trigger(<span class="code-string">"timelinechange"</span>)),<span class="code-keyword">this</span>.lastTimelineChanges_[t]},i.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.pendingTimelineChanges_={},<span class="code-keyword">this</span>.lastTimelineChanges_={},<span class="code-keyword">this</span>.off()},e}(tr.EventTarget),fc=x(U(W(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> globalThis?globalThis:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> global?global:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> self?self:{};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> e(i={<span class="code-attr">path</span>:t,<span class="code-attr">exports</span>:{},<span class="code-attr">require</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Dynamic requires are not currently supported by @rollup/plugin-commonjs"</span>)}(<span class="code-literal">null</span>==t&amp;&amp;i.path)}},i.exports),i.exports}<span class="code-keyword">var</span> i=t(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;t.length;i++){<span class="code-keyword">var</span> n=t[i];n.enumerable=n.enumerable||!<span class="code-number">1</span>,n.configurable=!<span class="code-number">0</span>,<span class="code-string">"value"</span><span class="code-keyword">in</span> n&amp;&amp;(n.writable=!<span class="code-number">0</span>),<span class="code-built_in">Object</span>.defineProperty(e,n.key,n)}}e.exports=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;n(e.prototype,t),i&amp;&amp;n(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!<span class="code-number">0</span>}),n=t(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> i.exports=n=<span class="code-built_in">Object</span>.setPrototypeOf||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e.__proto__=t,e},i.exports.default=i.exports,i.exports.__esModule=!<span class="code-number">0</span>,n(e,t)}i.exports=n,i.exports.default=i.exports,i.exports.__esModule=!<span class="code-number">0</span>}),r=t(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.exports=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{e.prototype=<span class="code-built_in">Object</span>.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!<span class="code-number">0</span>}),a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.listeners={}}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.on=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">this</span>.listeners[e]||(<span class="code-keyword">this</span>.listeners[e]=[]),<span class="code-keyword">this</span>.listeners[e].push(t)},t.off=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.listeners[e])<span class="code-keyword">return</span>!<span class="code-number">1</span>;t=<span class="code-keyword">this</span>.listeners[e].indexOf(t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.listeners[e]=<span class="code-keyword">this</span>.listeners[e].slice(<span class="code-number">0</span>),<span class="code-keyword">this</span>.listeners[e].splice(t,<span class="code-number">1</span>),<span class="code-number">-1</span>&lt;t},t.trigger=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.listeners[e];<span class="code-keyword">if</span>(t)<span class="code-keyword">if</span>(<span class="code-number">2</span>===<span class="code-built_in">arguments</span>.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.length,n=<span class="code-number">0</span>;n&lt;i;++n)t[n].call(<span class="code-keyword">this</span>,<span class="code-built_in">arguments</span>[<span class="code-number">1</span>]);<span class="code-keyword">else</span> <span class="code-keyword">for</span>(<span class="code-keyword">var</span> r=<span class="code-built_in">Array</span>.prototype.slice.call(<span class="code-built_in">arguments</span>,<span class="code-number">1</span>),a=t.length,s=<span class="code-number">0</span>;s&lt;a;++s)t[s].apply(<span class="code-keyword">this</span>,r)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.listeners={}},t.pipe=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">this</span>.on(<span class="code-string">"data"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.push(e)})},e}();
</code></td></tr><tr><td id="L22" class="css-a4x74f"><span>22</span></td><td id="LC22" class="css-1dcdqdg"><code><span class="code-comment">/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */</span>
</code></td></tr><tr><td id="L23" class="css-a4x74f"><span>23</span></td><td id="LC23" class="css-1dcdqdg"><code><span class="code-keyword">var</span> c=<span class="code-literal">null</span>,m=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n;c=c||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> e,t,i,n,r,a,s,o=[[[],[],[],[],[]],[[],[],[],[],[]]],u=o[<span class="code-number">0</span>],l=o[<span class="code-number">1</span>],c=u[<span class="code-number">4</span>],d=l[<span class="code-number">4</span>],h=[],p=[],f=<span class="code-number">0</span>;f&lt;<span class="code-number">256</span>;f++)p[(h[f]=f&lt;&lt;<span class="code-number">1</span>^<span class="code-number">283</span>*(f&gt;&gt;<span class="code-number">7</span>))^f]=f;<span class="code-keyword">for</span>(e=t=<span class="code-number">0</span>;!c[e];e^=i||<span class="code-number">1</span>,t=p[t]||<span class="code-number">1</span>)<span class="code-keyword">for</span>(s=<span class="code-number">16843009</span>*h[n=h[i=h[d[c[e]=r=(r=t^t&lt;&lt;<span class="code-number">1</span>^t&lt;&lt;<span class="code-number">2</span>^t&lt;&lt;<span class="code-number">3</span>^t&lt;&lt;<span class="code-number">4</span>)&gt;&gt;<span class="code-number">8</span>^<span class="code-number">255</span>&amp;r^<span class="code-number">99</span>]=e]]]^<span class="code-number">65537</span>*n^<span class="code-number">257</span>*i^<span class="code-number">16843008</span>*e,a=<span class="code-number">257</span>*h[r]^<span class="code-number">16843008</span>*r,f=<span class="code-number">0</span>;f&lt;<span class="code-number">4</span>;f++)u[f][e]=a=a&lt;&lt;<span class="code-number">24</span>^a&gt;&gt;&gt;<span class="code-number">8</span>,l[f][r]=s=s&lt;&lt;<span class="code-number">24</span>^s&gt;&gt;&gt;<span class="code-number">8</span>;<span class="code-keyword">for</span>(f=<span class="code-number">0</span>;f&lt;<span class="code-number">5</span>;f++)u[f]=u[f].slice(<span class="code-number">0</span>),l[f]=l[f].slice(<span class="code-number">0</span>);<span class="code-keyword">return</span> o}(),<span class="code-keyword">this</span>._tables=[[c[<span class="code-number">0</span>][<span class="code-number">0</span>].slice(),c[<span class="code-number">0</span>][<span class="code-number">1</span>].slice(),c[<span class="code-number">0</span>][<span class="code-number">2</span>].slice(),c[<span class="code-number">0</span>][<span class="code-number">3</span>].slice(),c[<span class="code-number">0</span>][<span class="code-number">4</span>].slice()],[c[<span class="code-number">1</span>][<span class="code-number">0</span>].slice(),c[<span class="code-number">1</span>][<span class="code-number">1</span>].slice(),c[<span class="code-number">1</span>][<span class="code-number">2</span>].slice(),c[<span class="code-number">1</span>][<span class="code-number">3</span>].slice(),c[<span class="code-number">1</span>][<span class="code-number">4</span>].slice()]];<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>._tables[<span class="code-number">0</span>][<span class="code-number">4</span>],a=<span class="code-keyword">this</span>._tables[<span class="code-number">1</span>],s=e.length,o=<span class="code-number">1</span>;<span class="code-keyword">if</span>(<span class="code-number">4</span>!==s&amp;&amp;<span class="code-number">6</span>!==s&amp;&amp;<span class="code-number">8</span>!==s)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid aes key size"</span>);<span class="code-keyword">var</span> u=e.slice(<span class="code-number">0</span>),l=[];<span class="code-keyword">for</span>(<span class="code-keyword">this</span>._key=[u,l],t=s;t&lt;<span class="code-number">4</span>*s+<span class="code-number">28</span>;t++)n=u[t<span class="code-number">-1</span>],(t%s==<span class="code-number">0</span>||<span class="code-number">8</span>===s&amp;&amp;t%s==<span class="code-number">4</span>)&amp;&amp;(n=r[n&gt;&gt;&gt;<span class="code-number">24</span>]&lt;&lt;<span class="code-number">24</span>^r[n&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]&lt;&lt;<span class="code-number">16</span>^r[n&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]&lt;&lt;<span class="code-number">8</span>^r[<span class="code-number">255</span>&amp;n],t%s==<span class="code-number">0</span>&amp;&amp;(n=n&lt;&lt;<span class="code-number">8</span>^n&gt;&gt;&gt;<span class="code-number">24</span>^o&lt;&lt;<span class="code-number">24</span>,o=o&lt;&lt;<span class="code-number">1</span>^<span class="code-number">283</span>*(o&gt;&gt;<span class="code-number">7</span>))),u[t]=u[t-s]^n;<span class="code-keyword">for</span>(i=<span class="code-number">0</span>;t;i++,t--)n=u[<span class="code-number">3</span>&amp;i?t:t<span class="code-number">-4</span>],l[i]=t&lt;=<span class="code-number">4</span>||i&lt;<span class="code-number">4</span>?n:a[<span class="code-number">0</span>][r[n&gt;&gt;&gt;<span class="code-number">24</span>]]^a[<span class="code-number">1</span>][r[n&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]]^a[<span class="code-number">2</span>][r[n&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]]^a[<span class="code-number">3</span>][r[<span class="code-number">255</span>&amp;n]]}<span class="code-keyword">return</span> e.prototype.decrypt=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n,r,a</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> s,o,u,l=<span class="code-keyword">this</span>._key[<span class="code-number">1</span>],c=e^l[<span class="code-number">0</span>],d=n^l[<span class="code-number">1</span>],h=i^l[<span class="code-number">2</span>],p=t^l[<span class="code-number">3</span>],f=l.length/<span class="code-number">4</span><span class="code-number">-2</span>,m=<span class="code-number">4</span>,t=<span class="code-keyword">this</span>._tables[<span class="code-number">1</span>],g=t[<span class="code-number">0</span>],y=t[<span class="code-number">1</span>],v=t[<span class="code-number">2</span>],_=t[<span class="code-number">3</span>],b=t[<span class="code-number">4</span>],T=<span class="code-number">0</span>;T&lt;f;T++)s=g[c&gt;&gt;&gt;<span class="code-number">24</span>]^y[d&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]^v[h&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]^_[<span class="code-number">255</span>&amp;p]^l[m],o=g[d&gt;&gt;&gt;<span class="code-number">24</span>]^y[h&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]^v[p&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]^_[<span class="code-number">255</span>&amp;c]^l[m+<span class="code-number">1</span>],u=g[h&gt;&gt;&gt;<span class="code-number">24</span>]^y[p&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]^v[c&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]^_[<span class="code-number">255</span>&amp;d]^l[m+<span class="code-number">2</span>],p=g[p&gt;&gt;&gt;<span class="code-number">24</span>]^y[c&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]^v[d&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]^_[<span class="code-number">255</span>&amp;h]^l[m+<span class="code-number">3</span>],m+=<span class="code-number">4</span>,c=s,d=o,h=u;<span class="code-keyword">for</span>(T=<span class="code-number">0</span>;T&lt;<span class="code-number">4</span>;T++)r[(<span class="code-number">3</span>&amp;-T)+a]=b[c&gt;&gt;&gt;<span class="code-number">24</span>]&lt;&lt;<span class="code-number">24</span>^b[d&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>]&lt;&lt;<span class="code-number">16</span>^b[h&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>]&lt;&lt;<span class="code-number">8</span>^b[<span class="code-number">255</span>&amp;p]^l[m++],s=c,c=d,d=h,h=p,p=s},e}(),l=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.call(<span class="code-keyword">this</span>,a)||<span class="code-keyword">this</span>;<span class="code-keyword">return</span> e.jobs=[],e.delay=<span class="code-number">1</span>,e.timeout_=<span class="code-literal">null</span>,e}r(e,t);<span class="code-keyword">var</span> i=e.prototype;<span class="code-keyword">return</span> i.processJob_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.jobs.shift()(),<span class="code-keyword">this</span>.jobs.length?<span class="code-keyword">this</span>.timeout_=setTimeout(<span class="code-keyword">this</span>.processJob_.bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.delay):<span class="code-keyword">this</span>.timeout_=<span class="code-literal">null</span>},i.push=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.jobs.push(e),<span class="code-keyword">this</span>.timeout_||(<span class="code-keyword">this</span>.timeout_=setTimeout(<span class="code-keyword">this</span>.processJob_.bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.delay))},e}(a),g=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e&lt;&lt;<span class="code-number">24</span>|(<span class="code-number">65280</span>&amp;e)&lt;&lt;<span class="code-number">8</span>|(<span class="code-number">16711680</span>&amp;e)&gt;&gt;<span class="code-number">8</span>|e&gt;&gt;&gt;<span class="code-number">24</span>},s=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">var</span> r=u.STEP,a=<span class="code-keyword">new</span> <span class="code-built_in">Int32Array</span>(e.buffer),s=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.byteLength),o=<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">this</span>.asyncStream_=<span class="code-keyword">new</span> l,<span class="code-keyword">this</span>.asyncStream_.push(<span class="code-keyword">this</span>.decryptChunk_(a.subarray(o,o+r),t,i,s)),o=r;o&lt;a.length;o+=r)i=<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>([g(a[o<span class="code-number">-4</span>]),g(a[o<span class="code-number">-3</span>]),g(a[o<span class="code-number">-2</span>]),g(a[o<span class="code-number">-1</span>])]),<span class="code-keyword">this</span>.asyncStream_.push(<span class="code-keyword">this</span>.decryptChunk_(a.subarray(o,o+r),t,i,s));<span class="code-keyword">this</span>.asyncStream_.push(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{
</code></td></tr><tr><td id="L24" class="css-a4x74f"><span>24</span></td><td id="LC24" class="css-1dcdqdg"><code><span class="code-comment">/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */</span>
</code></td></tr><tr><td id="L25" class="css-a4x74f"><span>25</span></td><td id="LC25" class="css-1dcdqdg"><code><span class="code-keyword">var</span> e;n(<span class="code-literal">null</span>,(e=s).subarray(<span class="code-number">0</span>,e.byteLength-e[e.byteLength<span class="code-number">-1</span>]))})}<span class="code-keyword">return</span> u.prototype.decryptChunk_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,i,n,r</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n,r,a,s,o=<span class="code-keyword">new</span> <span class="code-built_in">Int32Array</span>(e.buffer,e.byteOffset,e.byteLength&gt;&gt;<span class="code-number">2</span>),u=<span class="code-keyword">new</span> m(<span class="code-built_in">Array</span>.prototype.slice.call(t)),e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.byteLength),l=<span class="code-keyword">new</span> <span class="code-built_in">Int32Array</span>(e.buffer),c=i[<span class="code-number">0</span>],d=i[<span class="code-number">1</span>],h=i[<span class="code-number">2</span>],p=i[<span class="code-number">3</span>],f=<span class="code-number">0</span>;f&lt;o.length;f+=<span class="code-number">4</span>)n=g(o[f]),r=g(o[f+<span class="code-number">1</span>]),a=g(o[f+<span class="code-number">2</span>]),s=g(o[f+<span class="code-number">3</span>]),u.decrypt(n,r,a,s,l,f),l[f]=g(l[f]^c),l[f+<span class="code-number">1</span>]=g(l[f+<span class="code-number">1</span>]^d),l[f+<span class="code-number">2</span>]=g(l[f+<span class="code-number">2</span>]^h),l[f+<span class="code-number">3</span>]=g(l[f+<span class="code-number">3</span>]^p),c=n,d=r,h=a,p=s;<span class="code-keyword">return</span> e}(t,i,n);r.set(e,t.byteOffset)}},i(u,<span class="code-literal">null</span>,[{<span class="code-attr">key</span>:<span class="code-string">"STEP"</span>,<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-number">32e3</span>}}]),u}(),e=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">window</span>?<span class="code-built_in">window</span>:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> e?e:<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> self?self:{},e=e.BigInt||<span class="code-built_in">Number</span>;e(<span class="code-string">"0x1"</span>),e(<span class="code-string">"0x100"</span>),e(<span class="code-string">"0x10000"</span>),e(<span class="code-string">"0x1000000"</span>),e(<span class="code-string">"0x100000000"</span>),e(<span class="code-string">"0x10000000000"</span>),e(<span class="code-string">"0x1000000000000"</span>),e(<span class="code-string">"0x100000000000000"</span>),e(<span class="code-string">"0x10000000000000000"</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">n</span>)</span>{<span class="code-keyword">var</span> r={};<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(n).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=n[e];t=i,(<span class="code-string">"function"</span>===<span class="code-built_in">ArrayBuffer</span>.isView?<span class="code-built_in">ArrayBuffer</span>.isView(t):t&amp;&amp;t.buffer <span class="code-keyword">instanceof</span> <span class="code-built_in">ArrayBuffer</span>)?r[e]={<span class="code-attr">bytes</span>:i.buffer,<span class="code-attr">byteOffset</span>:i.byteOffset,<span class="code-attr">byteLength</span>:i.byteLength}:r[e]=i}),r}self.onmessage=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=e.data,t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(i.key.bytes,i.key.byteOffset,i.key.byteLength/<span class="code-number">4</span>),e=<span class="code-keyword">new</span> <span class="code-built_in">Uint32Array</span>(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/<span class="code-number">4</span>);<span class="code-keyword">new</span> s(t,n,e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{self.postMessage(o({<span class="code-attr">source</span>:i.source,<span class="code-attr">decrypted</span>:t}),[t.buffer])})}}))),mc={<span class="code-attr">AUDIO</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">s,o</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=o.segmentLoaders[s],t=o.mediaTypes[s],i=o.blacklistCurrentPlaylist;Wl(e,t);<span class="code-keyword">var</span> n=t.activeTrack(),e=t.activeGroup(),e=(e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.default})[<span class="code-number">0</span>]||e[<span class="code-number">0</span>]).id,r=t.tracks[e];<span class="code-keyword">if</span>(n!==r){<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> tr.log.warn(<span class="code-string">"Problem encountered loading the alternate audio track.Switching back to default."</span>),t.tracks)t.tracks[a].enabled=t.tracks[a]===r;t.onTrackChanged()}<span class="code-keyword">else</span> i({<span class="code-attr">message</span>:<span class="code-string">"Problem encountered loading the default audio track."</span>})}},<span class="code-attr">SUBTITLES</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=n.segmentLoaders[i],t=n.mediaTypes[i];tr.log.warn(<span class="code-string">"Problem encountered loading the subtitle track.Disabling subtitle track."</span>),Wl(e,t);e=t.activeTrack();e&amp;&amp;(e.mode=<span class="code-string">"disabled"</span>),t.onTrackChanged()}}},gc={<span class="code-attr">AUDIO</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n,r,a;t&amp;&amp;(n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],t.on(<span class="code-string">"loadedmetadata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.media();a.playlist(e,r),(!n.paused()||e.endList&amp;&amp;<span class="code-string">"none"</span>!==n.preload())&amp;&amp;a.load()}),t.on(<span class="code-string">"loadedplaylist"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.playlist(t.media(),r),n.paused()||a.load()}),t.on(<span class="code-string">"error"</span>,mc[e](e,i)))},<span class="code-attr">SUBTITLES</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],s=i.mediaTypes[e];t.on(<span class="code-string">"loadedmetadata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!n.paused()||e.endList&amp;&amp;<span class="code-string">"none"</span>!==n.preload())&amp;&amp;a.load()}),t.on(<span class="code-string">"loadedplaylist"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{a.playlist(t.media(),r),n.paused()||a.load()}),t.on(<span class="code-string">"error"</span>,mc[e](e,i))}},yc={<span class="code-attr">AUDIO</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n,r=t.vhs,a=t.sourceType,s=t.segmentLoaders[e],o=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,d=l.tracks,h=l.logger_,p=t.masterPlaylistLoader,f=au(p.master);<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> u[e]&amp;&amp;<span class="code-number">0</span>!==<span class="code-built_in">Object</span>.keys(u[e]).length||(u[e]={<span class="code-attr">main</span>:{<span class="code-attr">default</span>:{<span class="code-attr">default</span>:!<span class="code-number">0</span>}}},f&amp;&amp;(u[e].main.default.playlists=p.master.playlists)),u[e])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> m <span class="code-keyword">in</span> c[i]||(c[i]=[]),u[e][i]){<span class="code-keyword">var</span> g=u[e][i][m],y=<span class="code-keyword">void</span> <span class="code-number">0</span>,y=f?(h(<span class="code-string">"AUDIO group '"</span>+i+<span class="code-string">"' label '"</span>+m+<span class="code-string">"' is a master playlist"</span>),g.isMasterPlaylist=!<span class="code-number">0</span>,<span class="code-literal">null</span>):<span class="code-string">"vhs-json"</span>===a&amp;&amp;g.playlists?<span class="code-keyword">new</span> _l(g.playlists[<span class="code-number">0</span>],r,o):g.resolvedUri?<span class="code-keyword">new</span> _l(g.resolvedUri,r,o):g.playlists&amp;&amp;<span class="code-string">"dash"</span>===a?<span class="code-keyword">new</span> wl(g.playlists[<span class="code-number">0</span>],r,o,p):<span class="code-literal">null</span>,g=tr.mergeOptions({<span class="code-attr">id</span>:m,<span class="code-attr">playlistLoader</span>:y},g);gc[e](e,g.playlistLoader,t),c[i].push(g),<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> d[m]&amp;&amp;(g=<span class="code-keyword">new</span> tr.AudioTrack({<span class="code-attr">id</span>:m,<span class="code-attr">kind</span>:(n=<span class="code-keyword">void</span> <span class="code-number">0</span>,n=(y=g).default?<span class="code-string">"main"</span>:<span class="code-string">"alternative"</span>,n=y.characteristics&amp;&amp;<span class="code-number">0</span>&lt;=y.characteristics.indexOf(<span class="code-string">"public.accessibility.describes-video"</span>)?<span class="code-string">"main-desc"</span>:n),<span class="code-attr">enabled</span>:!<span class="code-number">1</span>,<span class="code-attr">language</span>:g.language,<span class="code-attr">default</span>:g.default,<span class="code-attr">label</span>:m}),d[m]=g)}s.on(<span class="code-string">"error"</span>,mc[e](e,t))},<span class="code-attr">SUBTITLES</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=t.tech,r=t.vhs,a=t.sourceType,s=t.segmentLoaders[e],o=t.requestOptions,u=t.master.mediaGroups,l=t.mediaTypes[e],c=l.groups,d=l.tracks,h=t.masterPlaylistLoader;<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> u[e])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> p <span class="code-keyword">in</span> c[i]||(c[i]=[]),u[e][i])<span class="code-keyword">if</span>(!u[e][i][p].forced){<span class="code-keyword">var</span> f=u[e][i][p],m=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-string">"hls"</span>===a)m=<span class="code-keyword">new</span> _l(f.resolvedUri,r,o);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"dash"</span>===a){<span class="code-keyword">if</span>(!f.playlists.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e.excludeUntil!==<span class="code-number">1</span>/<span class="code-number">0</span>}).length)<span class="code-keyword">return</span>;m=<span class="code-keyword">new</span> wl(f.playlists[<span class="code-number">0</span>],r,o,h)}<span class="code-keyword">else</span><span class="code-string">"vhs-json"</span>===a&amp;&amp;(m=<span class="code-keyword">new</span> _l(f.playlists?f.playlists[<span class="code-number">0</span>]:f.resolvedUri,r,o));f=tr.mergeOptions({<span class="code-attr">id</span>:p,<span class="code-attr">playlistLoader</span>:m},f),gc[e](e,f.playlistLoader,t),c[i].push(f),<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> d[p]&amp;&amp;(f=n.addRemoteTextTrack({<span class="code-attr">id</span>:p,<span class="code-attr">kind</span>:<span class="code-string">"subtitles"</span>,<span class="code-attr">default</span>:f.default&amp;&amp;f.autoselect,<span class="code-attr">language</span>:f.language,<span class="code-attr">label</span>:p},!<span class="code-number">1</span>).track,d[p]=f)}s.on(<span class="code-string">"error"</span>,mc[e](e,t))},<span class="code-string">"CLOSED-CAPTIONS"</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=t.tech,r=t.master.mediaGroups,t=t.mediaTypes[e],a=t.groups,s=t.tracks;<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> r[e])<span class="code-keyword">for</span>(<span class="code-keyword">var</span> o <span class="code-keyword">in</span> a[i]||(a[i]=[]),r[e][i]){<span class="code-keyword">var</span> u,l,c=r[e][i][o];<span class="code-regexp">/^(?:CC|SERVICE)/</span>.test(c.instreamId)&amp;&amp;(<span class="code-keyword">void</span> <span class="code-number">0</span>===(l=(u=n.options_.vhs&amp;&amp;n.options_.vhs.captionServices||{})[(l={<span class="code-attr">label</span>:o,<span class="code-attr">language</span>:c.language,<span class="code-attr">instreamId</span>:c.instreamId,<span class="code-attr">default</span>:c.default&amp;&amp;c.autoselect}).instreamId]?tr.mergeOptions(l,u[l.instreamId]):l).default&amp;&amp;<span class="code-keyword">delete</span> l.default,a[i].push(tr.mergeOptions({<span class="code-attr">id</span>:o},c)),<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> s[o]&amp;&amp;(l=n.addRemoteTextTrack({<span class="code-attr">id</span>:l.instreamId,<span class="code-attr">kind</span>:<span class="code-string">"captions"</span>,<span class="code-attr">default</span>:l.default,<span class="code-attr">language</span>:l.language,<span class="code-attr">label</span>:l.label},!<span class="code-number">1</span>).track,s[o]=l))}}},vc={<span class="code-attr">AUDIO</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=n.mediaTypes[i].tracks;<span class="code-keyword">for</span>(e <span class="code-keyword">in</span> t)<span class="code-keyword">if</span>(t[e].enabled)<span class="code-keyword">return</span> t[e];<span class="code-keyword">return</span> <span class="code-literal">null</span>}},<span class="code-attr">SUBTITLES</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=n.mediaTypes[i].tracks;<span class="code-keyword">for</span>(e <span class="code-keyword">in</span> t)<span class="code-keyword">if</span>(<span class="code-string">"showing"</span>===t[e].mode||<span class="code-string">"hidden"</span>===t[e].mode)<span class="code-keyword">return</span> t[e];<span class="code-keyword">return</span> <span class="code-literal">null</span>}}},_c=[<span class="code-string">"mediaRequests"</span>,<span class="code-string">"mediaRequestsAborted"</span>,<span class="code-string">"mediaRequestsTimedout"</span>,<span class="code-string">"mediaRequestsErrored"</span>,<span class="code-string">"mediaTransferDuration"</span>,<span class="code-string">"mediaBytesTransferred"</span>,<span class="code-string">"mediaAppends"</span>],bc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">v</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=v.call(<span class="code-keyword">this</span>)||<span class="code-keyword">this</span>,i=e.src,n=e.handleManifestRedirects,r=e.withCredentials,a=e.tech,s=e.bandwidth,o=e.externVhs,u=e.useCueTags,l=e.blacklistDuration,c=e.enableLowInitialPlaylist,d=e.sourceType,h=e.cacheEncryptionKeys,p=e.experimentalBufferBasedABR,f=e.experimentalLeastPixelDiffSelector,m=e.captionServices;<span class="code-keyword">if</span>(!i)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"A non-empty playlist URL or JSON manifest string is required"</span>);<span class="code-keyword">var</span> g,y=e.maxPlaylistRetries;<span class="code-literal">null</span>!==y&amp;&amp;<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> y||(y=<span class="code-number">1</span>/<span class="code-number">0</span>),Ql=o,t.experimentalBufferBasedABR=<span class="code-built_in">Boolean</span>(p),t.experimentalLeastPixelDiffSelector=<span class="code-built_in">Boolean</span>(f),t.withCredentials=r,t.tech_=a,t.vhs_=a.vhs,t.sourceType_=d,t.useCueTags_=u,t.blacklistDuration=l,t.maxPlaylistRetries=y,t.enableLowInitialPlaylist=c,t.useCueTags_&amp;&amp;(t.cueTagsTrack_=t.tech_.addTextTrack(<span class="code-string">"metadata"</span>,<span class="code-string">"ad-cues"</span>),t.cueTagsTrack_.inBandMetadataTrackDispatchType=<span class="code-string">""</span>),t.requestOptions_={<span class="code-attr">withCredentials</span>:r,<span class="code-attr">handleManifestRedirects</span>:n,<span class="code-attr">maxPlaylistRetries</span>:y,<span class="code-attr">timeout</span>:<span class="code-literal">null</span>},t.on(<span class="code-string">"error"</span>,t.pauseLoading),t.mediaTypes_=(g={},[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>,<span class="code-string">"CLOSED-CAPTIONS"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{g[e]={<span class="code-attr">groups</span>:{},<span class="code-attr">tracks</span>:{},<span class="code-attr">activePlaylistLoader</span>:<span class="code-literal">null</span>,<span class="code-attr">activeGroup</span>:Rl,<span class="code-attr">activeTrack</span>:Rl,<span class="code-attr">getActiveGroup</span>:Rl,<span class="code-attr">onGroupChanged</span>:Rl,<span class="code-attr">onTrackChanged</span>:Rl,<span class="code-attr">lastTrack_</span>:<span class="code-literal">null</span>,<span class="code-attr">logger_</span>:Ro(<span class="code-string">"MediaGroups["</span>+e+<span class="code-string">"]"</span>)}}),g),t.mediaSource=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.MediaSource,t.handleDurationChange_=t.handleDurationChange_.bind(ft(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(ft(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(ft(t)),t.mediaSource.addEventListener(<span class="code-string">"durationchange"</span>,t.handleDurationChange_),t.mediaSource.addEventListener(<span class="code-string">"sourceopen"</span>,t.handleSourceOpen_),t.mediaSource.addEventListener(<span class="code-string">"sourceended"</span>,t.handleSourceEnded_),t.seekable_=tr.createTimeRanges(),t.hasPlayed_=!<span class="code-number">1</span>,t.syncController_=<span class="code-keyword">new</span> hc(e),t.segmentMetadataTrack_=a.addRemoteTextTrack({<span class="code-attr">kind</span>:<span class="code-string">"metadata"</span>,<span class="code-attr">label</span>:<span class="code-string">"segment-metadata"</span>},!<span class="code-number">1</span>).track,t.decrypter_=<span class="code-keyword">new</span> fc,t.sourceUpdater_=<span class="code-keyword">new</span> uc(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=<span class="code-keyword">new</span> pc;h={<span class="code-attr">vhs</span>:t.vhs_,<span class="code-attr">parse708captions</span>:e.parse708captions,<span class="code-attr">useDtsForTimestampOffset</span>:e.useDtsForTimestampOffset,<span class="code-attr">captionServices</span>:m,<span class="code-attr">mediaSource</span>:t.mediaSource,<span class="code-attr">currentTime</span>:t.tech_.currentTime.bind(t.tech_),<span class="code-attr">seekable</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.seekable()},<span class="code-attr">seeking</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.tech_.seeking()},<span class="code-attr">duration</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.duration()},<span class="code-attr">hasPlayed</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.hasPlayed_},<span class="code-attr">goalBufferLength</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.goalBufferLength()},<span class="code-attr">bandwidth</span>:s,<span class="code-attr">syncController</span>:t.syncController_,<span class="code-attr">decrypter</span>:t.decrypter_,<span class="code-attr">sourceType</span>:t.sourceType_,<span class="code-attr">inbandTextTracks</span>:t.inbandTextTracks_,<span class="code-attr">cacheEncryptionKeys</span>:h,<span class="code-attr">sourceUpdater</span>:t.sourceUpdater_,<span class="code-attr">timelineChangeController</span>:t.timelineChangeController_,<span class="code-attr">experimentalExactManifestTimings</span>:e.experimentalExactManifestTimings};t.masterPlaylistLoader_=<span class="code-keyword">new</span>(<span class="code-string">"dash"</span>===t.sourceType_?wl:_l)(i,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=<span class="code-keyword">new</span> Ml(tr.mergeOptions(h,{<span class="code-attr">segmentMetadataTrack</span>:t.segmentMetadataTrack_,<span class="code-attr">loaderType</span>:<span class="code-string">"main"</span>}),e),t.audioSegmentLoader_=<span class="code-keyword">new</span> Ml(tr.mergeOptions(h,{<span class="code-attr">loaderType</span>:<span class="code-string">"audio"</span>}),e),t.subtitleSegmentLoader_=<span class="code-keyword">new</span> cc(tr.mergeOptions(h,{<span class="code-attr">loaderType</span>:<span class="code-string">"vtt"</span>,<span class="code-attr">featuresNativeTextTracks</span>:t.tech_.featuresNativeTextTracks}),e),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&amp;&amp;(t.masterPlaylistLoader_.one(<span class="code-string">"loadedplaylist"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.startABRTimer_()}),t.tech_.on(<span class="code-string">"pause"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.stopABRTimer_()}),t.tech_.on(<span class="code-string">"play"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> t.startABRTimer_()})),_c.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t[e+<span class="code-string">"_"</span>]=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.audioSegmentLoader_[e]+<span class="code-keyword">this</span>.mainSegmentLoader_[e]}.bind(ft(t),e)}),t.logger_=Ro(<span class="code-string">"MPC"</span>),t.triggeredFmp4Usage=!<span class="code-number">1</span>,<span class="code-string">"none"</span>===t.tech_.preload()?(t.loadOnPlay_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.loadOnPlay_=<span class="code-literal">null</span>,t.masterPlaylistLoader_.load()},t.tech_.one(<span class="code-string">"play"</span>,t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=<span class="code-number">-1</span>,t.mainAppendsToLoadedData__=<span class="code-number">-1</span>,t.audioAppendsToLoadedData__=<span class="code-number">-1</span>;e=<span class="code-string">"none"</span>===t.tech_.preload()?<span class="code-string">"play"</span>:<span class="code-string">"loadstart"</span>;<span class="code-keyword">return</span> t.tech_.one(e,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-built_in">Date</span>.now();t.tech_.one(<span class="code-string">"loadeddata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.timeToLoadedData__=<span class="code-built_in">Date</span>.now()-e,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}mt(e,v);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.mainAppendsToLoadedData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.mainAppendsToLoadedData__},t.audioAppendsToLoadedData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.audioAppendsToLoadedData__},t.appendsToLoadedData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.mainAppendsToLoadedData_(),t=<span class="code-keyword">this</span>.audioAppendsToLoadedData_();<span class="code-keyword">return</span><span class="code-number">-1</span>===e||<span class="code-number">-1</span>===t?<span class="code-number">-1</span>:e+t},t.timeToLoadedData_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.timeToLoadedData__},t.checkABR_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.selectPlaylist();e&amp;&amp;<span class="code-keyword">this</span>.shouldSwitchToMedia_(e)&amp;&amp;<span class="code-keyword">this</span>.switchMedia_(e,<span class="code-string">"abr"</span>)},t.switchMedia_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.media(),r=n&amp;&amp;(n.id||n.uri),n=e.id||e.uri;r&amp;&amp;r!==n&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-string">"switch media "</span>+r+<span class="code-string">" -&gt; "</span>+n+<span class="code-string">" from "</span>+t),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-rendition-change-"</span>+t})),<span class="code-keyword">this</span>.masterPlaylistLoader_.media(e,i)},t.startABRTimer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.stopABRTimer_(),<span class="code-keyword">this</span>.abrTimer_=<span class="code-built_in">window</span>.setInterval(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> e.checkABR_()},<span class="code-number">250</span>)},t.stopABRTimer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_.scrubbing&amp;&amp;<span class="code-keyword">this</span>.tech_.scrubbing()||(<span class="code-built_in">window</span>.clearInterval(<span class="code-keyword">this</span>.abrTimer_),<span class="code-keyword">this</span>.abrTimer_=<span class="code-literal">null</span>)},t.getAudioTrackPlaylists_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.master(),t=e&amp;&amp;e.playlists||[];<span class="code-keyword">if</span>(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> i,n=e.mediaGroups.AUDIO,r=<span class="code-built_in">Object</span>.keys(n);<span class="code-keyword">if</span>(<span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.mediaTypes_.AUDIO.groups).length)i=<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activeTrack();<span class="code-keyword">else</span>{<span class="code-keyword">var</span> a,s=n.main||r.length&amp;&amp;n[r[<span class="code-number">0</span>]];<span class="code-keyword">for</span>(a <span class="code-keyword">in</span> s)<span class="code-keyword">if</span>(s[a].default){i={<span class="code-attr">label</span>:a};<span class="code-keyword">break</span>}}<span class="code-keyword">if</span>(!i)<span class="code-keyword">return</span> t;<span class="code-keyword">var</span> o,u=[];<span class="code-keyword">for</span>(o <span class="code-keyword">in</span> n)<span class="code-keyword">if</span>(n[o][i.label]){<span class="code-keyword">var</span> l=n[o][i.label];<span class="code-keyword">if</span>(l.playlists&amp;&amp;l.playlists.length)u.push.apply(u,l.playlists);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(l.uri)u.push(l);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(e.playlists.length)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> c=<span class="code-number">0</span>;c&lt;e.playlists.length;c++){<span class="code-keyword">var</span> d=e.playlists[c];d.attributes&amp;&amp;d.attributes.AUDIO&amp;&amp;d.attributes.AUDIO===o&amp;&amp;u.push(d)}}<span class="code-keyword">return</span> u.length?u:t},t.setupMasterPlaylistLoaderListeners_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"loadedmetadata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=i.masterPlaylistLoader_.media(),t=<span class="code-number">1.5</span>*e.targetDuration*<span class="code-number">1e3</span>;iu(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=<span class="code-number">0</span>:i.requestOptions_.timeout=t,e.endList&amp;&amp;<span class="code-string">"none"</span>!==i.tech_.preload()&amp;&amp;(i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load()),Xl({<span class="code-attr">sourceType</span>:i.sourceType_,<span class="code-attr">segmentLoaders</span>:{<span class="code-attr">AUDIO</span>:i.audioSegmentLoader_,<span class="code-attr">SUBTITLES</span>:i.subtitleSegmentLoader_,<span class="code-attr">main</span>:i.mainSegmentLoader_},<span class="code-attr">tech</span>:i.tech_,<span class="code-attr">requestOptions</span>:i.requestOptions_,<span class="code-attr">masterPlaylistLoader</span>:i.masterPlaylistLoader_,<span class="code-attr">vhs</span>:i.vhs_,<span class="code-attr">master</span>:i.master(),<span class="code-attr">mediaTypes</span>:i.mediaTypes_,<span class="code-attr">blacklistCurrentPlaylist</span>:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),e),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger(<span class="code-string">"selectedinitialmedia"</span>):i.mediaTypes_.AUDIO.activePlaylistLoader.one(<span class="code-string">"loadedmetadata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.trigger(<span class="code-string">"selectedinitialmedia"</span>)})}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"loadedplaylist"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.loadOnPlay_&amp;&amp;i.tech_.off(<span class="code-string">"play"</span>,i.loadOnPlay_);<span class="code-keyword">var</span> e,t=i.masterPlaylistLoader_.media();<span class="code-keyword">if</span>(!t){<span class="code-keyword">if</span>(i.excludeUnsupportedVariants_(),!(e=(e=i.enableLowInitialPlaylist?i.selectInitialPlaylist():e)||i.selectPlaylist())||!i.shouldSwitchToMedia_(e))<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(i.initialMedia_=e,i.switchMedia_(i.initialMedia_,<span class="code-string">"initial"</span>),!(<span class="code-string">"vhs-json"</span>===i.sourceType_&amp;&amp;i.initialMedia_.segments))<span class="code-keyword">return</span>;t=i.initialMedia_}i.handleUpdatedMediaPlaylist(t)}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"error"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"mediachanging"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"mediachange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=i.masterPlaylistLoader_.media(),t=<span class="code-number">1.5</span>*e.targetDuration*<span class="code-number">1e3</span>;iu(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=<span class="code-number">0</span>:i.requestOptions_.timeout=t,i.mainSegmentLoader_.playlist(e,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"mediachange"</span>,<span class="code-attr">bubbles</span>:!<span class="code-number">0</span>})}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"playlistunchanged"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=i.masterPlaylistLoader_.media();<span class="code-string">"playlist-unchanged"</span>!==e.lastExcludeReason_&amp;&amp;i.stuckAtPlaylistEnd_(e)&amp;&amp;(i.blacklistCurrentPlaylist({<span class="code-attr">message</span>:<span class="code-string">"Playlist no longer updating."</span>,<span class="code-attr">reason</span>:<span class="code-string">"playlist-unchanged"</span>}),i.tech_.trigger(<span class="code-string">"playliststuck"</span>))}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"renditiondisabled"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-rendition-disabled"</span>}),i.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-rendition-disabled"</span>})}),<span class="code-keyword">this</span>.masterPlaylistLoader_.on(<span class="code-string">"renditionenabled"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-rendition-enabled"</span>}),i.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-rendition-enabled"</span>})})},t.handleUpdatedMediaPlaylist=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.useCueTags_&amp;&amp;<span class="code-keyword">this</span>.updateAdCues_(e),<span class="code-keyword">this</span>.mainSegmentLoader_.playlist(e,<span class="code-keyword">this</span>.requestOptions_),<span class="code-keyword">this</span>.updateDuration(!e.endList),<span class="code-keyword">this</span>.tech_.paused()||(<span class="code-keyword">this</span>.mainSegmentLoader_.load(),<span class="code-keyword">this</span>.audioSegmentLoader_&amp;&amp;<span class="code-keyword">this</span>.audioSegmentLoader_.load())},t.triggerPresenceUsage_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n=e.mediaGroups||{},r=!<span class="code-number">0</span>,e=<span class="code-built_in">Object</span>.keys(n.AUDIO);<span class="code-keyword">for</span>(i <span class="code-keyword">in</span> n.AUDIO)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> a <span class="code-keyword">in</span> n.AUDIO[i])n.AUDIO[i][a].uri||(r=!<span class="code-number">1</span>);r&amp;&amp;(<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-demuxed"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-demuxed"</span>})),<span class="code-built_in">Object</span>.keys(n.SUBTITLES).length&amp;&amp;(<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-webvtt"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-webvtt"</span>})),Ql.Playlist.isAes(t)&amp;&amp;(<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-aes"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-aes"</span>})),e.length&amp;&amp;<span class="code-number">1</span>&lt;<span class="code-built_in">Object</span>.keys(n.AUDIO[e[<span class="code-number">0</span>]]).length&amp;&amp;(<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-alternate-audio"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-alternate-audio"</span>})),<span class="code-keyword">this</span>.useCueTags_&amp;&amp;(<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-playlist-cue-tags"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-playlist-cue-tags"</span>}))},t.shouldSwitchToMedia_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.masterPlaylistLoader_.media()||<span class="code-keyword">this</span>.masterPlaylistLoader_.pendingMedia_,i=<span class="code-keyword">this</span>.tech_.currentTime(),n=<span class="code-keyword">this</span>.bufferLowWaterLine(),r=<span class="code-keyword">this</span>.bufferHighWaterLine();<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.currentPlaylist,i=e.buffered,n=e.currentTime,r=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,o=e.duration,u=e.experimentalBufferBasedABR,l=e.log;<span class="code-keyword">if</span>(!r)<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"We received no playlist to switch to. Please check your stream."</span>),!<span class="code-number">1</span>;<span class="code-keyword">var</span> c=<span class="code-string">"allowing switch "</span>+(t&amp;&amp;t.id||<span class="code-string">"null"</span>)+<span class="code-string">" -&gt; "</span>+r.id;<span class="code-keyword">if</span>(!t)<span class="code-keyword">return</span> l(c+<span class="code-string">" as current playlist is not set"</span>),!<span class="code-number">0</span>;<span class="code-keyword">if</span>(r.id===t.id)<span class="code-keyword">return</span>!<span class="code-number">1</span>;e=<span class="code-built_in">Boolean</span>(Uo(i,n).length);<span class="code-keyword">if</span>(!t.endList)<span class="code-keyword">return</span> e||<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> t.partTargetDuration?(l(c+<span class="code-string">" as current playlist is live"</span>),!<span class="code-number">0</span>):(l(<span class="code-string">"not "</span>+c+<span class="code-string">" as current playlist is live llhls, but currentTime isn't in buffered."</span>),!<span class="code-number">1</span>);i=qo(i,n),n=u?El.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:El.MAX_BUFFER_LOW_WATER_LINE;<span class="code-keyword">if</span>(o&lt;n)<span class="code-keyword">return</span> l(c+<span class="code-string">" as duration &lt; max low water line ("</span>+o+<span class="code-string">" &lt; "</span>+n+<span class="code-string">")"</span>),!<span class="code-number">0</span>;n=r.attributes.BANDWIDTH,r=t.attributes.BANDWIDTH;<span class="code-keyword">if</span>(n&lt;r&amp;&amp;(!u||i&lt;s)){t=c+<span class="code-string">" as next bandwidth &lt; current bandwidth ("</span>+n+<span class="code-string">" &lt; "</span>+r+<span class="code-string">")"</span>;<span class="code-keyword">return</span> u&amp;&amp;(t+=<span class="code-string">" and forwardBuffer &lt; bufferHighWaterLine ("</span>+i+<span class="code-string">" &lt; "</span>+s+<span class="code-string">")"</span>),l(t),!<span class="code-number">0</span>}<span class="code-keyword">if</span>((!u||r&lt;n)&amp;&amp;a&lt;=i){a=c+<span class="code-string">" as forwardBuffer &gt;= bufferLowWaterLine ("</span>+i+<span class="code-string">" &gt;= "</span>+a+<span class="code-string">")"</span>;<span class="code-keyword">return</span> u&amp;&amp;(a+=<span class="code-string">" and next bandwidth &gt; current bandwidth ("</span>+n+<span class="code-string">" &gt; "</span>+r+<span class="code-string">")"</span>),l(a),!<span class="code-number">0</span>}<span class="code-keyword">return</span> l(<span class="code-string">"not "</span>+c+<span class="code-string">" as no switching criteria met"</span>),!<span class="code-number">1</span>}({<span class="code-attr">buffered</span>:<span class="code-keyword">this</span>.tech_.buffered(),<span class="code-attr">currentTime</span>:i,<span class="code-attr">currentPlaylist</span>:t,<span class="code-attr">nextPlaylist</span>:e,<span class="code-attr">bufferLowWaterLine</span>:n,<span class="code-attr">bufferHighWaterLine</span>:r,<span class="code-attr">duration</span>:<span class="code-keyword">this</span>.duration(),<span class="code-attr">experimentalBufferBasedABR</span>:<span class="code-keyword">this</span>.experimentalBufferBasedABR,<span class="code-attr">log</span>:<span class="code-keyword">this</span>.logger_})},t.setupSegmentLoaderListeners_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.experimentalBufferBasedABR||(<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"bandwidthupdate"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=t.selectPlaylist();t.shouldSwitchToMedia_(e)&amp;&amp;t.switchMedia_(e,<span class="code-string">"bandwidthupdate"</span>),t.tech_.trigger(<span class="code-string">"bandwidthupdate"</span>)}),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"progress"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.trigger(<span class="code-string">"progress"</span>)})),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"error"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"appenderror"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.error=t.mainSegmentLoader_.error_,t.trigger(<span class="code-string">"error"</span>)}),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"syncinfoupdate"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.onSyncInfoUpdate_()}),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"timestampoffset"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-timestamp-offset"</span>}),t.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-timestamp-offset"</span>})}),<span class="code-keyword">this</span>.audioSegmentLoader_.on(<span class="code-string">"syncinfoupdate"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.onSyncInfoUpdate_()}),<span class="code-keyword">this</span>.audioSegmentLoader_.on(<span class="code-string">"appenderror"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.error=t.audioSegmentLoader_.error_,t.trigger(<span class="code-string">"error"</span>)}),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"ended"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.logger_(<span class="code-string">"main segment loader ended"</span>),t.onEndOfStream()}),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"earlyabort"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.experimentalBufferBasedABR||(t.delegateLoaders_(<span class="code-string">"all"</span>,[<span class="code-string">"abort"</span>]),t.blacklistCurrentPlaylist({<span class="code-attr">message</span>:<span class="code-string">"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."</span>},<span class="code-number">120</span>))});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!t.sourceUpdater_.hasCreatedSourceBuffers())<span class="code-keyword">return</span> t.tryToCreateSourceBuffers_();<span class="code-keyword">var</span> e=t.getCodecsOrExclude_();e&amp;&amp;t.sourceUpdater_.addOrChangeSourceBuffers(e)}<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"trackinfo"</span>,e),<span class="code-keyword">this</span>.audioSegmentLoader_.on(<span class="code-string">"trackinfo"</span>,e),<span class="code-keyword">this</span>.mainSegmentLoader_.on(<span class="code-string">"fmp4"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.triggeredFmp4Usage||(t.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-fmp4"</span>}),t.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-fmp4"</span>}),t.triggeredFmp4Usage=!<span class="code-number">0</span>)}),<span class="code-keyword">this</span>.audioSegmentLoader_.on(<span class="code-string">"fmp4"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.triggeredFmp4Usage||(t.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-fmp4"</span>}),t.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-fmp4"</span>}),t.triggeredFmp4Usage=!<span class="code-number">0</span>)}),<span class="code-keyword">this</span>.audioSegmentLoader_.on(<span class="code-string">"ended"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.logger_(<span class="code-string">"audioSegmentLoader ended"</span>),t.onEndOfStream()})},t.mediaSecondsLoaded_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.max(<span class="code-keyword">this</span>.audioSegmentLoader_.mediaSecondsLoaded+<span class="code-keyword">this</span>.mainSegmentLoader_.mediaSecondsLoaded)},t.load=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.mainSegmentLoader_.load(),<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader&amp;&amp;<span class="code-keyword">this</span>.audioSegmentLoader_.load(),<span class="code-keyword">this</span>.mediaTypes_.SUBTITLES.activePlaylistLoader&amp;&amp;<span class="code-keyword">this</span>.subtitleSegmentLoader_.load()},t.smoothQualityChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">void</span> <span class="code-number">0</span>===e&amp;&amp;(e=<span class="code-keyword">this</span>.selectPlaylist()),<span class="code-keyword">this</span>.fastQualityChange_(e)},t.fastQualityChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>;(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?<span class="code-keyword">this</span>.selectPlaylist():e)!==<span class="code-keyword">this</span>.masterPlaylistLoader_.media()?(<span class="code-keyword">this</span>.switchMedia_(e,<span class="code-string">"fast-quality"</span>),<span class="code-keyword">this</span>.mainSegmentLoader_.resetEverything(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{tr.browser.IE_VERSION||tr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+<span class="code-number">.04</span>):t.tech_.setCurrentTime(t.tech_.currentTime())})):<span class="code-keyword">this</span>.logger_(<span class="code-string">"skipping fastQualityChange because new media is same as old"</span>)},t.play=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.setupFirstPlay()){<span class="code-keyword">this</span>.tech_.ended()&amp;&amp;<span class="code-keyword">this</span>.tech_.setCurrentTime(<span class="code-number">0</span>),<span class="code-keyword">this</span>.hasPlayed_&amp;&amp;<span class="code-keyword">this</span>.load();<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.tech_.seekable();<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_.duration()===<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>.tech_.currentTime()&lt;e.start(<span class="code-number">0</span>)?<span class="code-keyword">this</span>.tech_.setCurrentTime(e.end(e.length<span class="code-number">-1</span>)):<span class="code-keyword">void</span> <span class="code-number">0</span>}},t.setupFirstPlay=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>,t=<span class="code-keyword">this</span>.masterPlaylistLoader_.media();<span class="code-keyword">if</span>(!t||<span class="code-keyword">this</span>.tech_.paused()||<span class="code-keyword">this</span>.hasPlayed_)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!t.endList){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.seekable();<span class="code-keyword">if</span>(!i.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(tr.browser.IE_VERSION&amp;&amp;<span class="code-number">0</span>===<span class="code-keyword">this</span>.tech_.readyState())<span class="code-keyword">return</span> <span class="code-keyword">this</span>.tech_.one(<span class="code-string">"loadedmetadata"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{e.trigger(<span class="code-string">"firstplay"</span>),e.tech_.setCurrentTime(i.end(<span class="code-number">0</span>)),e.hasPlayed_=!<span class="code-number">0</span>}),!<span class="code-number">1</span>;<span class="code-keyword">this</span>.trigger(<span class="code-string">"firstplay"</span>),<span class="code-keyword">this</span>.tech_.setCurrentTime(i.end(<span class="code-number">0</span>))}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.hasPlayed_=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.load(),!<span class="code-number">0</span>},t.handleSourceOpen_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">this</span>.tryToCreateSourceBuffers_(),!<span class="code-keyword">this</span>.tech_.autoplay()||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(e=<span class="code-keyword">this</span>.tech_.play())&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> e.then&amp;&amp;e.then(<span class="code-literal">null</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{}),<span class="code-keyword">this</span>.trigger(<span class="code-string">"sourceopen"</span>)},t.handleSourceEnded_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t;!<span class="code-keyword">this</span>.inbandTextTracks_.metadataTrack_||(e=<span class="code-keyword">this</span>.inbandTextTracks_.metadataTrack_.cues)&amp;&amp;e.length&amp;&amp;(t=<span class="code-keyword">this</span>.duration(),e[e.length<span class="code-number">-1</span>].endTime=<span class="code-built_in">isNaN</span>(t)||<span class="code-built_in">Math</span>.abs(t)===<span class="code-number">1</span>/<span class="code-number">0</span>?<span class="code-built_in">Number</span>.MAX_VALUE:t)},t.handleDurationChange_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_.trigger(<span class="code-string">"durationchange"</span>)},t.onEndOfStream=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>.mainSegmentLoader_.ended_;(t=<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader?((e=<span class="code-keyword">this</span>.mainSegmentLoader_.getCurrentMediaInfo_())&amp;&amp;!e.hasVideo||t)&amp;&amp;<span class="code-keyword">this</span>.audioSegmentLoader_.ended_:t)&amp;&amp;(<span class="code-keyword">this</span>.stopABRTimer_(),<span class="code-keyword">this</span>.sourceUpdater_.endOfStream())},t.stuckAtPlaylistEnd_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.seekable().length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.syncController_.getExpiredTime(e,<span class="code-keyword">this</span>.duration());<span class="code-keyword">if</span>(<span class="code-literal">null</span>===t)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> i=Ql.Playlist.playlistEnd(e,t),e=<span class="code-keyword">this</span>.tech_.currentTime(),t=<span class="code-keyword">this</span>.tech_.buffered();<span class="code-keyword">if</span>(!t.length)<span class="code-keyword">return</span> i-e&lt;=<span class="code-number">.1</span>;t=t.end(t.length<span class="code-number">-1</span>);<span class="code-keyword">return</span> t-e&lt;=<span class="code-number">.1</span>&amp;&amp;i-t&lt;=<span class="code-number">.1</span>},t.blacklistCurrentPlaylist=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=(e=<span class="code-keyword">void</span> <span class="code-number">0</span>===e?{}:e).playlist||<span class="code-keyword">this</span>.masterPlaylistLoader_.media();<span class="code-keyword">if</span>(t=t||e.blacklistDuration||<span class="code-keyword">this</span>.blacklistDuration,!i)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.error=e,<span class="code-keyword">void</span>(<span class="code-string">"open"</span>!==<span class="code-keyword">this</span>.mediaSource.readyState?<span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>):<span class="code-keyword">this</span>.sourceUpdater_.endOfStream(<span class="code-string">"network"</span>));i.playlistErrors_++;<span class="code-keyword">var</span> n,r=<span class="code-keyword">this</span>.masterPlaylistLoader_.master.playlists,a=r.filter(eu),s=<span class="code-number">1</span>===a.length&amp;&amp;a[<span class="code-number">0</span>]===i;<span class="code-keyword">if</span>(<span class="code-number">1</span>===r.length&amp;&amp;t!==<span class="code-number">1</span>/<span class="code-number">0</span>)<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"Problem encountered with playlist "</span>+i.id+<span class="code-string">". Trying again since it is the only playlist."</span>),<span class="code-keyword">this</span>.tech_.trigger(<span class="code-string">"retryplaylist"</span>),<span class="code-keyword">this</span>.masterPlaylistLoader_.load(s);s&amp;&amp;(n=!<span class="code-number">1</span>,r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t;e===i||<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(t=e.excludeUntil)&amp;&amp;t!==<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;(n=!<span class="code-number">0</span>,<span class="code-keyword">delete</span> e.excludeUntil)}),n&amp;&amp;(tr.log.warn(<span class="code-string">"Removing other playlists from the exclusion list because the last rendition is about to be excluded."</span>),<span class="code-keyword">this</span>.tech_.trigger(<span class="code-string">"retryplaylist"</span>))),a=i.playlistErrors_&gt;<span class="code-keyword">this</span>.maxPlaylistRetries?<span class="code-number">1</span>/<span class="code-number">0</span>:<span class="code-built_in">Date</span>.now()+<span class="code-number">1e3</span>*t,i.excludeUntil=a,e.reason&amp;&amp;(i.lastExcludeReason_=e.reason),<span class="code-keyword">this</span>.tech_.trigger(<span class="code-string">"blacklistplaylist"</span>),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-rendition-blacklisted"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-rendition-blacklisted"</span>});r=<span class="code-keyword">this</span>.selectPlaylist();<span class="code-keyword">if</span>(!r)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.error=<span class="code-string">"Playback cannot continue. No available working or supported playlists."</span>,<span class="code-keyword">void</span> <span class="code-keyword">this</span>.trigger(<span class="code-string">"error"</span>);t=e.internal?<span class="code-keyword">this</span>.logger_:tr.log.warn,a=e.message?<span class="code-string">" "</span>+e.message:<span class="code-string">""</span>;t((e.internal?<span class="code-string">"Internal problem"</span>:<span class="code-string">"Problem"</span>)+<span class="code-string">" encountered with playlist "</span>+i.id+<span class="code-string">"."</span>+a+<span class="code-string">" Switching to playlist "</span>+r.id+<span class="code-string">"."</span>),r.attributes.AUDIO!==i.attributes.AUDIO&amp;&amp;<span class="code-keyword">this</span>.delegateLoaders_(<span class="code-string">"audio"</span>,[<span class="code-string">"abort"</span>,<span class="code-string">"pause"</span>]),r.attributes.SUBTITLES!==i.attributes.SUBTITLES&amp;&amp;<span class="code-keyword">this</span>.delegateLoaders_(<span class="code-string">"subtitle"</span>,[<span class="code-string">"abort"</span>,<span class="code-string">"pause"</span>]),<span class="code-keyword">this</span>.delegateLoaders_(<span class="code-string">"main"</span>,[<span class="code-string">"abort"</span>,<span class="code-string">"pause"</span>]);a=r.targetDuration/<span class="code-number">2</span>*<span class="code-number">1e3</span>||<span class="code-number">5e3</span>,a=<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> r.lastRequest&amp;&amp;<span class="code-built_in">Date</span>.now()-r.lastRequest&lt;=a;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.switchMedia_(r,<span class="code-string">"exclude"</span>,s||a)},t.pauseLoading=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.delegateLoaders_(<span class="code-string">"all"</span>,[<span class="code-string">"abort"</span>,<span class="code-string">"pause"</span>]),<span class="code-keyword">this</span>.stopABRTimer_()},t.delegateLoaders_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">i,e</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r=[],t=<span class="code-string">"all"</span>===i;!t&amp;&amp;<span class="code-string">"main"</span>!==i||r.push(<span class="code-keyword">this</span>.masterPlaylistLoader_);<span class="code-keyword">var</span> a=[];!t&amp;&amp;<span class="code-string">"audio"</span>!==i||a.push(<span class="code-string">"AUDIO"</span>),!t&amp;&amp;<span class="code-string">"subtitle"</span>!==i||(a.push(<span class="code-string">"CLOSED-CAPTIONS"</span>),a.push(<span class="code-string">"SUBTITLES"</span>)),a.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e=n.mediaTypes_[e]&amp;&amp;n.mediaTypes_[e].activePlaylistLoader;e&amp;&amp;r.push(e)}),[<span class="code-string">"main"</span>,<span class="code-string">"audio"</span>,<span class="code-string">"subtitle"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=n[e+<span class="code-string">"SegmentLoader_"</span>];!t||i!==e&amp;&amp;<span class="code-string">"all"</span>!==i||r.push(t)}),r.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> t[e]&amp;&amp;t[e]()})})},t.setCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=Uo(<span class="code-keyword">this</span>.tech_.buffered(),e);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistLoader_&amp;&amp;<span class="code-keyword">this</span>.masterPlaylistLoader_.media()&amp;&amp;<span class="code-keyword">this</span>.masterPlaylistLoader_.media().segments?t&amp;&amp;t.length?e:(<span class="code-keyword">this</span>.mainSegmentLoader_.resetEverything(),<span class="code-keyword">this</span>.mainSegmentLoader_.abort(),<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader&amp;&amp;(<span class="code-keyword">this</span>.audioSegmentLoader_.resetEverything(),<span class="code-keyword">this</span>.audioSegmentLoader_.abort()),<span class="code-keyword">this</span>.mediaTypes_.SUBTITLES.activePlaylistLoader&amp;&amp;(<span class="code-keyword">this</span>.subtitleSegmentLoader_.resetEverything(),<span class="code-keyword">this</span>.subtitleSegmentLoader_.abort()),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.load()):<span class="code-number">0</span>},t.duration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.masterPlaylistLoader_)<span class="code-keyword">return</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.masterPlaylistLoader_.media();<span class="code-keyword">return</span> e?e.endList?<span class="code-keyword">this</span>.mediaSource?<span class="code-keyword">this</span>.mediaSource.duration:Ql.Playlist.duration(e):<span class="code-number">1</span>/<span class="code-number">0</span>:<span class="code-number">0</span>},t.seekable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.seekable_},t.onSyncInfoUpdate_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.masterPlaylistLoader_){<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.masterPlaylistLoader_.media();<span class="code-keyword">if</span>(t){<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>.syncController_.getExpiredTime(t,<span class="code-keyword">this</span>.duration());<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==i){<span class="code-keyword">var</span> n,r,a=<span class="code-keyword">this</span>.masterPlaylistLoader_.master,s=Ql.Playlist.seekable(t,i,Ql.Playlist.liveEdgeDelay(a,t));<span class="code-keyword">if</span>(<span class="code-number">0</span>!==s.length){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader){<span class="code-keyword">if</span>(t=<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader.media(),<span class="code-literal">null</span>===(i=<span class="code-keyword">this</span>.syncController_.getExpiredTime(t,<span class="code-keyword">this</span>.duration())))<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(<span class="code-number">0</span>===(e=Ql.Playlist.seekable(t,i,Ql.Playlist.liveEdgeDelay(a,t))).length)<span class="code-keyword">return</span>}<span class="code-keyword">this</span>.seekable_&amp;&amp;<span class="code-keyword">this</span>.seekable_.length&amp;&amp;(n=<span class="code-keyword">this</span>.seekable_.end(<span class="code-number">0</span>),r=<span class="code-keyword">this</span>.seekable_.start(<span class="code-number">0</span>)),!e||e.start(<span class="code-number">0</span>)&gt;s.end(<span class="code-number">0</span>)||s.start(<span class="code-number">0</span>)&gt;e.end(<span class="code-number">0</span>)?<span class="code-keyword">this</span>.seekable_=s:<span class="code-keyword">this</span>.seekable_=tr.createTimeRanges([[(e.start(<span class="code-number">0</span>)&gt;s.start(<span class="code-number">0</span>)?e:s).start(<span class="code-number">0</span>),(e.end(<span class="code-number">0</span>)&lt;s.end(<span class="code-number">0</span>)?e:s).end(<span class="code-number">0</span>)]]),<span class="code-keyword">this</span>.seekable_&amp;&amp;<span class="code-keyword">this</span>.seekable_.length&amp;&amp;<span class="code-keyword">this</span>.seekable_.end(<span class="code-number">0</span>)===n&amp;&amp;<span class="code-keyword">this</span>.seekable_.start(<span class="code-number">0</span>)===r||(<span class="code-keyword">this</span>.logger_(<span class="code-string">"seekable updated ["</span>+Fo(<span class="code-keyword">this</span>.seekable_)+<span class="code-string">"]"</span>),<span class="code-keyword">this</span>.tech_.trigger(<span class="code-string">"seekablechanged"</span>))}}}}},t.updateDuration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.updateDuration_&amp;&amp;(<span class="code-keyword">this</span>.mediaSource.removeEventListener(<span class="code-string">"sourceopen"</span>,<span class="code-keyword">this</span>.updateDuration_),<span class="code-keyword">this</span>.updateDuration_=<span class="code-literal">null</span>),<span class="code-string">"open"</span>!==<span class="code-keyword">this</span>.mediaSource.readyState)<span class="code-keyword">return</span> <span class="code-keyword">this</span>.updateDuration_=<span class="code-keyword">this</span>.updateDuration.bind(<span class="code-keyword">this</span>,e),<span class="code-keyword">void</span> <span class="code-keyword">this</span>.mediaSource.addEventListener(<span class="code-string">"sourceopen"</span>,<span class="code-keyword">this</span>.updateDuration_);<span class="code-keyword">if</span>(e){<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.seekable();<span class="code-keyword">return</span> t.length?<span class="code-keyword">void</span>((<span class="code-built_in">isNaN</span>(<span class="code-keyword">this</span>.mediaSource.duration)||<span class="code-keyword">this</span>.mediaSource.duration&lt;t.end(t.length<span class="code-number">-1</span>))&amp;&amp;<span class="code-keyword">this</span>.sourceUpdater_.setDuration(t.end(t.length<span class="code-number">-1</span>))):<span class="code-keyword">void</span> <span class="code-number">0</span>}e=<span class="code-keyword">this</span>.tech_.buffered(),t=Ql.Playlist.duration(<span class="code-keyword">this</span>.masterPlaylistLoader_.media());<span class="code-number">0</span>&lt;e.length&amp;&amp;(t=<span class="code-built_in">Math</span>.max(t,e.end(e.length<span class="code-number">-1</span>))),<span class="code-keyword">this</span>.mediaSource.duration!==t&amp;&amp;<span class="code-keyword">this</span>.sourceUpdater_.setDuration(t)},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.trigger(<span class="code-string">"dispose"</span>),<span class="code-keyword">this</span>.decrypter_.terminate(),<span class="code-keyword">this</span>.masterPlaylistLoader_.dispose(),<span class="code-keyword">this</span>.mainSegmentLoader_.dispose(),<span class="code-keyword">this</span>.loadOnPlay_&amp;&amp;<span class="code-keyword">this</span>.tech_.off(<span class="code-string">"play"</span>,<span class="code-keyword">this</span>.loadOnPlay_),[<span class="code-string">"AUDIO"</span>,<span class="code-string">"SUBTITLES"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=n.mediaTypes_[e].groups;<span class="code-keyword">for</span>(t <span class="code-keyword">in</span> i)i[t].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.playlistLoader&amp;&amp;e.playlistLoader.dispose()})}),<span class="code-keyword">this</span>.audioSegmentLoader_.dispose(),<span class="code-keyword">this</span>.subtitleSegmentLoader_.dispose(),<span class="code-keyword">this</span>.sourceUpdater_.dispose(),<span class="code-keyword">this</span>.timelineChangeController_.dispose(),<span class="code-keyword">this</span>.stopABRTimer_(),<span class="code-keyword">this</span>.updateDuration_&amp;&amp;<span class="code-keyword">this</span>.mediaSource.removeEventListener(<span class="code-string">"sourceopen"</span>,<span class="code-keyword">this</span>.updateDuration_),<span class="code-keyword">this</span>.mediaSource.removeEventListener(<span class="code-string">"durationchange"</span>,<span class="code-keyword">this</span>.handleDurationChange_),<span class="code-keyword">this</span>.mediaSource.removeEventListener(<span class="code-string">"sourceopen"</span>,<span class="code-keyword">this</span>.handleSourceOpen_),<span class="code-keyword">this</span>.mediaSource.removeEventListener(<span class="code-string">"sourceended"</span>,<span class="code-keyword">this</span>.handleSourceEnded_),<span class="code-keyword">this</span>.off()},t.master=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistLoader_.master},t.media=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistLoader_.media()||<span class="code-keyword">this</span>.initialMedia_},t.areMediaTypesKnown_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=!!<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader,t=!!<span class="code-keyword">this</span>.mainSegmentLoader_.getCurrentMediaInfo_(),e=!e||!!<span class="code-keyword">this</span>.audioSegmentLoader_.getCurrentMediaInfo_();<span class="code-keyword">return</span> t&amp;&amp;e},t.getCodecsOrExclude_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r={<span class="code-attr">main</span>:<span class="code-keyword">this</span>.mainSegmentLoader_.getCurrentMediaInfo_()||{},<span class="code-attr">audio</span>:<span class="code-keyword">this</span>.audioSegmentLoader_.getCurrentMediaInfo_()||{}};r.video=r.main;<span class="code-keyword">var</span> e=$u(<span class="code-keyword">this</span>.master(),<span class="code-keyword">this</span>.media()),a={},t=!!<span class="code-keyword">this</span>.mediaTypes_.AUDIO.activePlaylistLoader;<span class="code-keyword">if</span>(r.main.hasVideo&amp;&amp;(a.video=e.video||r.main.videoCodec||<span class="code-string">"avc1.4d400d"</span>),r.main.isMuxed&amp;&amp;(a.video+=<span class="code-string">","</span>+(e.audio||r.main.audioCodec||Lr)),(r.main.hasAudio&amp;&amp;!r.main.isMuxed||r.audio.hasAudio||t)&amp;&amp;(a.audio=e.audio||r.main.audioCodec||r.audio.audioCodec||Lr,r.audio.isFmp4=(r.main.hasAudio&amp;&amp;!r.main.isMuxed?r.main:r.audio).isFmp4),a.audio||a.video){<span class="code-keyword">var</span> s,i,o={};<span class="code-keyword">if</span>([<span class="code-string">"video"</span>,<span class="code-string">"audio"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i;a.hasOwnProperty(e)&amp;&amp;(t=r[e].isFmp4,i=a[e],!(t?gr:yr)(i))&amp;&amp;(i=r[e].isFmp4?<span class="code-string">"browser"</span>:<span class="code-string">"muxer"</span>,o[i]=o[i]||[],o[i].push(a[e]),<span class="code-string">"audio"</span>===e&amp;&amp;(s=i))}),t&amp;&amp;s&amp;&amp;<span class="code-keyword">this</span>.media().attributes.AUDIO&amp;&amp;(i=<span class="code-keyword">this</span>.media().attributes.AUDIO,<span class="code-keyword">this</span>.master().playlists.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{(e.attributes&amp;&amp;e.attributes.AUDIO)===i&amp;&amp;e!==n.media()&amp;&amp;(e.excludeUntil=<span class="code-number">1</span>/<span class="code-number">0</span>)}),<span class="code-keyword">this</span>.logger_(<span class="code-string">"excluding audio group "</span>+i+<span class="code-string">" as "</span>+s+<span class="code-string">' does not support codec(s): "'</span>+a.audio+<span class="code-string">'"'</span>)),!<span class="code-built_in">Object</span>.keys(o).length){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.sourceUpdater_.hasCreatedSourceBuffers()&amp;&amp;!<span class="code-keyword">this</span>.sourceUpdater_.canChangeType()){<span class="code-keyword">var</span> u=[];<span class="code-keyword">if</span>([<span class="code-string">"video"</span>,<span class="code-string">"audio"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=(pr(n.sourceUpdater_.codecs[e]||<span class="code-string">""</span>)[<span class="code-number">0</span>]||{}).type,i=(pr(a[e]||<span class="code-string">""</span>)[<span class="code-number">0</span>]||{}).type;t&amp;&amp;i&amp;&amp;t.toLowerCase()!==i.toLowerCase()&amp;&amp;u.push(<span class="code-string">'"'</span>+n.sourceUpdater_.codecs[e]+<span class="code-string">'" -&gt; "'</span>+a[e]+<span class="code-string">'"'</span>)}),u.length)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>.blacklistCurrentPlaylist({<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.media(),<span class="code-attr">message</span>:<span class="code-string">"Codec switching not supported: "</span>+u.join(<span class="code-string">", "</span>)+<span class="code-string">"."</span>,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>,<span class="code-attr">internal</span>:!<span class="code-number">0</span>})}<span class="code-keyword">return</span> a}t=<span class="code-built_in">Object</span>.keys(o).reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> e&amp;&amp;(e+=<span class="code-string">", "</span>),e+=t+<span class="code-string">' does not support codec(s): "'</span>+o[t].join(<span class="code-string">","</span>)+<span class="code-string">'"'</span>},<span class="code-string">""</span>)+<span class="code-string">"."</span>;<span class="code-keyword">this</span>.blacklistCurrentPlaylist({<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.media(),<span class="code-attr">internal</span>:!<span class="code-number">0</span>,<span class="code-attr">message</span>:t,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>})}<span class="code-keyword">else</span> <span class="code-keyword">this</span>.blacklistCurrentPlaylist({<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.media(),<span class="code-attr">message</span>:<span class="code-string">"Could not determine codecs for playlist."</span>,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>})},t.tryToCreateSourceBuffers_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e;<span class="code-string">"open"</span>!==<span class="code-keyword">this</span>.mediaSource.readyState||<span class="code-keyword">this</span>.sourceUpdater_.hasCreatedSourceBuffers()||!<span class="code-keyword">this</span>.areMediaTypesKnown_()||(e=<span class="code-keyword">this</span>.getCodecsOrExclude_())&amp;&amp;(<span class="code-keyword">this</span>.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(<span class="code-built_in">Boolean</span>).join(<span class="code-string">","</span>),<span class="code-keyword">this</span>.excludeIncompatibleVariants_(e))},t.excludeUnsupportedVariants_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>,r=<span class="code-keyword">this</span>.master().playlists,a=[];<span class="code-built_in">Object</span>.keys(r).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i=r[e];<span class="code-number">-1</span>===a.indexOf(i.id)&amp;&amp;(a.push(i.id),t=[],!(e=$u(n.master,i)).audio||yr(e.audio)||gr(e.audio)||t.push(<span class="code-string">"audio codec "</span>+e.audio),!e.video||yr(e.video)||gr(e.video)||t.push(<span class="code-string">"video codec "</span>+e.video),e.text&amp;&amp;<span class="code-string">"stpp.ttml.im1t"</span>===e.text&amp;&amp;t.push(<span class="code-string">"text codec "</span>+e.text),t.length&amp;&amp;(i.excludeUntil=<span class="code-number">1</span>/<span class="code-number">0</span>,n.logger_(<span class="code-string">"excluding "</span>+i.id+<span class="code-string">" for unsupported: "</span>+t.join(<span class="code-string">", "</span>))))})},t.excludeIncompatibleVariants_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> r=<span class="code-keyword">this</span>,a=[],s=<span class="code-keyword">this</span>.master().playlists,e=Yu(pr(e)),o=Qu(e),u=e.video&amp;&amp;pr(e.video)[<span class="code-number">0</span>]||<span class="code-literal">null</span>,l=e.audio&amp;&amp;pr(e.audio)[<span class="code-number">0</span>]||<span class="code-literal">null</span>;<span class="code-built_in">Object</span>.keys(s).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=s[e];<span class="code-number">-1</span>===a.indexOf(n.id)&amp;&amp;n.excludeUntil!==<span class="code-number">1</span>/<span class="code-number">0</span>&amp;&amp;(a.push(n.id),t=[],i=$u(r.masterPlaylistLoader_.master,n),e=Qu(i),(i.audio||i.video)&amp;&amp;(e!==o&amp;&amp;t.push(<span class="code-string">'codec count "'</span>+e+<span class="code-string">'" !== "'</span>+o+<span class="code-string">'"'</span>),r.sourceUpdater_.canChangeType()||(e=i.video&amp;&amp;pr(i.video)[<span class="code-number">0</span>]||<span class="code-literal">null</span>,i=i.audio&amp;&amp;pr(i.audio)[<span class="code-number">0</span>]||<span class="code-literal">null</span>,e&amp;&amp;u&amp;&amp;e.type.toLowerCase()!==u.type.toLowerCase()&amp;&amp;t.push(<span class="code-string">'video codec "'</span>+e.type+<span class="code-string">'" !== "'</span>+u.type+<span class="code-string">'"'</span>),i&amp;&amp;l&amp;&amp;i.type.toLowerCase()!==l.type.toLowerCase()&amp;&amp;t.push(<span class="code-string">'audio codec "'</span>+i.type+<span class="code-string">'" !== "'</span>+l.type+<span class="code-string">'"'</span>)),t.length&amp;&amp;(n.excludeUntil=<span class="code-number">1</span>/<span class="code-number">0</span>,r.logger_(<span class="code-string">"blacklisting "</span>+n.id+<span class="code-string">": "</span>+t.join(<span class="code-string">" &amp;&amp; "</span>)))))})},t.updateAdCues_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-number">0</span>,i=<span class="code-keyword">this</span>.seekable();i.length&amp;&amp;(t=i.start(<span class="code-number">0</span>)),<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=<span class="code-number">0</span>),e.segments)<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=i,r=<span class="code-number">0</span>;r&lt;e.segments.length;r++){<span class="code-keyword">var</span> a,s,o,u=e.segments[r];<span class="code-keyword">if</span>(o=o||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=e.cues,n=<span class="code-number">0</span>;n&lt;i.length;n++){<span class="code-keyword">var</span> r=i[n];<span class="code-keyword">if</span>(t&gt;=r.adStartTime&amp;&amp;t&lt;=r.adEndTime)<span class="code-keyword">return</span> r}<span class="code-keyword">return</span> <span class="code-literal">null</span>}(t,n+u.duration/<span class="code-number">2</span>)){<span class="code-keyword">if</span>(<span class="code-string">"cueIn"</span><span class="code-keyword">in</span> u){o.endTime=n,o.adEndTime=n,n+=u.duration,o=<span class="code-literal">null</span>;<span class="code-keyword">continue</span>}<span class="code-keyword">if</span>(n&lt;o.endTime){n+=u.duration;<span class="code-keyword">continue</span>}o.endTime+=u.duration}<span class="code-keyword">else</span><span class="code-string">"cueOut"</span><span class="code-keyword">in</span> u&amp;&amp;((o=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.VTTCue(n,n+u.duration,u.cueOut)).adStartTime=n,o.adEndTime=n+<span class="code-built_in">parseFloat</span>(u.cueOut),t.addCue(o)),<span class="code-string">"cueOutCont"</span><span class="code-keyword">in</span> u&amp;&amp;(a=(s=u.cueOutCont.split(<span class="code-string">"/"</span>).map(<span class="code-built_in">parseFloat</span>))[<span class="code-number">0</span>],s=s[<span class="code-number">1</span>],(o=<span class="code-keyword">new</span> <span class="code-built_in">window</span>.VTTCue(n,n+u.duration,<span class="code-string">""</span>)).adStartTime=n-a,o.adEndTime=o.adStartTime+s,t.addCue(o));n+=u.duration}}(e,<span class="code-keyword">this</span>.cueTagsTrack_,t)},t.goalBufferLength=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.tech_.currentTime(),t=El.GOAL_BUFFER_LENGTH,i=El.GOAL_BUFFER_LENGTH_RATE,n=<span class="code-built_in">Math</span>.max(t,El.MAX_GOAL_BUFFER_LENGTH);<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.min(t+e*i,n)},t.bufferLowWaterLine=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.tech_.currentTime(),t=El.BUFFER_LOW_WATER_LINE,i=El.BUFFER_LOW_WATER_LINE_RATE,n=<span class="code-built_in">Math</span>.max(t,El.MAX_BUFFER_LOW_WATER_LINE),r=<span class="code-built_in">Math</span>.max(t,El.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.min(t+e*i,<span class="code-keyword">this</span>.experimentalBufferBasedABR?r:n)},t.bufferHighWaterLine=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> El.BUFFER_HIGH_WATER_LINE},e}(tr.EventTarget),Tc=[<span class="code-string">"seeking"</span>,<span class="code-string">"seeked"</span>,<span class="code-string">"pause"</span>,<span class="code-string">"playing"</span>,<span class="code-string">"error"</span>],Sc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.masterPlaylistController_=e.masterPlaylistController,<span class="code-keyword">this</span>.tech_=e.tech,<span class="code-keyword">this</span>.seekable=e.seekable,<span class="code-keyword">this</span>.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,<span class="code-keyword">this</span>.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,<span class="code-keyword">this</span>.media=e.media,<span class="code-keyword">this</span>.consecutiveUpdates=<span class="code-number">0</span>,<span class="code-keyword">this</span>.lastRecordedTime=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.timer_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.checkCurrentTimeTimeout_=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.logger_=Ro(<span class="code-string">"PlaybackWatcher"</span>),<span class="code-keyword">this</span>.logger_(<span class="code-string">"initialize"</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">t</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.monitorCurrentTime_()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.monitorCurrentTime_()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.techWaiting_()}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.cancelTimer_()}<span class="code-keyword">var</span> s=<span class="code-keyword">this</span>.masterPlaylistController_,o=[<span class="code-string">"main"</span>,<span class="code-string">"subtitle"</span>,<span class="code-string">"audio"</span>],u={};o.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{u[e]={<span class="code-attr">reset</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.resetSegmentDownloads_(e)},<span class="code-attr">updateend</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> i.checkSegmentDownloads_(e)}},s[e+<span class="code-string">"SegmentLoader_"</span>].on(<span class="code-string">"appendsdone"</span>,u[e].updateend),s[e+<span class="code-string">"SegmentLoader_"</span>].on(<span class="code-string">"playlistupdate"</span>,u[e].reset),i.tech_.on([<span class="code-string">"seeked"</span>,<span class="code-string">"seeking"</span>],u[e].reset)});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">t</span>)</span>{[<span class="code-string">"main"</span>,<span class="code-string">"audio"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s[e+<span class="code-string">"SegmentLoader_"</span>][t](<span class="code-string">"appended"</span>,i.seekingAppendCheck_)})}<span class="code-keyword">this</span>.seekingAppendCheck_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.fixesBadSeeks_()&amp;&amp;(i.consecutiveUpdates=<span class="code-number">0</span>,i.lastRecordedTime=i.tech_.currentTime(),l(<span class="code-string">"off"</span>))},<span class="code-keyword">this</span>.clearSeekingAppendCheck_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> l(<span class="code-string">"off"</span>)},<span class="code-keyword">this</span>.watchForBadSeeking_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.clearSeekingAppendCheck_(),l(<span class="code-string">"on"</span>)},<span class="code-keyword">this</span>.tech_.on(<span class="code-string">"seeked"</span>,<span class="code-keyword">this</span>.clearSeekingAppendCheck_),<span class="code-keyword">this</span>.tech_.on(<span class="code-string">"seeking"</span>,<span class="code-keyword">this</span>.watchForBadSeeking_),<span class="code-keyword">this</span>.tech_.on(<span class="code-string">"waiting"</span>,r),<span class="code-keyword">this</span>.tech_.on(Tc,a),<span class="code-keyword">this</span>.tech_.on(<span class="code-string">"canplay"</span>,n),<span class="code-keyword">this</span>.tech_.one(<span class="code-string">"play"</span>,t),<span class="code-keyword">this</span>.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{i.clearSeekingAppendCheck_(),i.logger_(<span class="code-string">"dispose"</span>),i.tech_.off(<span class="code-string">"waiting"</span>,r),i.tech_.off(Tc,a),i.tech_.off(<span class="code-string">"canplay"</span>,n),i.tech_.off(<span class="code-string">"play"</span>,t),i.tech_.off(<span class="code-string">"seeking"</span>,i.watchForBadSeeking_),i.tech_.off(<span class="code-string">"seeked"</span>,i.clearSeekingAppendCheck_),o.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s[e+<span class="code-string">"SegmentLoader_"</span>].off(<span class="code-string">"appendsdone"</span>,u[e].updateend),s[e+<span class="code-string">"SegmentLoader_"</span>].off(<span class="code-string">"playlistupdate"</span>,u[e].reset),i.tech_.off([<span class="code-string">"seeked"</span>,<span class="code-string">"seeking"</span>],u[e].reset)}),i.checkCurrentTimeTimeout_&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.monitorCurrentTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.checkCurrentTime_(),<span class="code-keyword">this</span>.checkCurrentTimeTimeout_&amp;&amp;<span class="code-built_in">window</span>.clearTimeout(<span class="code-keyword">this</span>.checkCurrentTimeTimeout_),<span class="code-keyword">this</span>.checkCurrentTimeTimeout_=<span class="code-built_in">window</span>.setTimeout(<span class="code-keyword">this</span>.monitorCurrentTime_.bind(<span class="code-keyword">this</span>),<span class="code-number">250</span>)},t.resetSegmentDownloads_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.masterPlaylistController_[e+<span class="code-string">"SegmentLoader_"</span>];<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>[e+<span class="code-string">"StalledDownloads_"</span>]&amp;&amp;<span class="code-keyword">this</span>.logger_(<span class="code-string">"resetting possible stalled download count for "</span>+e+<span class="code-string">" loader"</span>),<span class="code-keyword">this</span>[e+<span class="code-string">"StalledDownloads_"</span>]=<span class="code-number">0</span>,<span class="code-keyword">this</span>[e+<span class="code-string">"Buffered_"</span>]=t.buffered_()},t.checkSegmentDownloads_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.masterPlaylistController_,i=t[e+<span class="code-string">"SegmentLoader_"</span>],n=i.buffered_(),r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(e===t)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">if</span>(!e&amp;&amp;t||!t&amp;&amp;e)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(e.length!==t.length)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-number">0</span>;i&lt;e.length;i++)<span class="code-keyword">if</span>(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>}(<span class="code-keyword">this</span>[e+<span class="code-string">"Buffered_"</span>],n);<span class="code-keyword">this</span>[e+<span class="code-string">"Buffered_"</span>]=n,r?<span class="code-keyword">this</span>.resetSegmentDownloads_(e):(<span class="code-keyword">this</span>[e+<span class="code-string">"StalledDownloads_"</span>]++,<span class="code-keyword">this</span>.logger_(<span class="code-string">"found #"</span>+<span class="code-keyword">this</span>[e+<span class="code-string">"StalledDownloads_"</span>]+<span class="code-string">" "</span>+e+<span class="code-string">" appends that did not increase buffer (possible stalled download)"</span>,{<span class="code-attr">playlistId</span>:i.playlist_&amp;&amp;i.playlist_.id,<span class="code-attr">buffered</span>:jo(n)}),<span class="code-keyword">this</span>[e+<span class="code-string">"StalledDownloads_"</span>]&lt;<span class="code-number">10</span>||(<span class="code-keyword">this</span>.logger_(e+<span class="code-string">" loader stalled download exclusion"</span>),<span class="code-keyword">this</span>.resetSegmentDownloads_(e),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-"</span>+e+<span class="code-string">"-download-exclusion"</span>}),<span class="code-string">"subtitle"</span>!==e&amp;&amp;t.blacklistCurrentPlaylist({<span class="code-attr">message</span>:<span class="code-string">"Excessive "</span>+e+<span class="code-string">" segment downloading detected."</span>},<span class="code-number">1</span>/<span class="code-number">0</span>)))},t.checkCurrentTime_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.tech_.paused()&amp;&amp;!<span class="code-keyword">this</span>.tech_.seeking()){<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.tech_.currentTime(),t=<span class="code-keyword">this</span>.tech_.buffered();<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.lastRecordedTime===e&amp;&amp;(!t.length||e+<span class="code-number">.1</span>&gt;=t.end(t.length<span class="code-number">-1</span>)))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.techWaiting_();<span class="code-number">5</span>&lt;=<span class="code-keyword">this</span>.consecutiveUpdates&amp;&amp;e===<span class="code-keyword">this</span>.lastRecordedTime?(<span class="code-keyword">this</span>.consecutiveUpdates++,<span class="code-keyword">this</span>.waiting_()):e===<span class="code-keyword">this</span>.lastRecordedTime?<span class="code-keyword">this</span>.consecutiveUpdates++:(<span class="code-keyword">this</span>.consecutiveUpdates=<span class="code-number">0</span>,<span class="code-keyword">this</span>.lastRecordedTime=e)}},t.cancelTimer_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.consecutiveUpdates=<span class="code-number">0</span>,<span class="code-keyword">this</span>.timer_&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-string">"cancelTimer_"</span>),clearTimeout(<span class="code-keyword">this</span>.timer_)),<span class="code-keyword">this</span>.timer_=<span class="code-literal">null</span>},t.fixesBadSeeks_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.tech_.seeking())<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>.seekable(),i=<span class="code-keyword">this</span>.tech_.currentTime();<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.afterSeekableWindow_(t,i,<span class="code-keyword">this</span>.media(),<span class="code-keyword">this</span>.allowSeeksWithinUnsafeLiveWindow)&amp;&amp;(e=t.end(t.length<span class="code-number">-1</span>)),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span>(e=<span class="code-keyword">this</span>.beforeSeekableWindow_(t,i)?(a=t.start(<span class="code-number">0</span>))+(a===t.end(<span class="code-number">0</span>)?<span class="code-number">0</span>:<span class="code-number">.1</span>):e))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"Trying to seek outside of seekable at time "</span>+i+<span class="code-string">" with seekable range "</span>+Fo(t)+<span class="code-string">". Seeking to "</span>+e+<span class="code-string">"."</span>),<span class="code-keyword">this</span>.tech_.setCurrentTime(e),!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>.masterPlaylistController_.sourceUpdater_,r=<span class="code-keyword">this</span>.tech_.buffered(),a=n.audioBuffer?n.audioBuffered():<span class="code-literal">null</span>,t=n.videoBuffer?n.videoBuffered():<span class="code-literal">null</span>,n=<span class="code-keyword">this</span>.media(),s=n.partTargetDuration||<span class="code-number">2</span>*(n.targetDuration-fl),o=[a,t],u=<span class="code-number">0</span>;u&lt;o.length;u++)<span class="code-keyword">if</span>(o[u])<span class="code-keyword">if</span>(qo(o[u],i)&lt;s)<span class="code-keyword">return</span>!<span class="code-number">1</span>;r=Bo(r,i);<span class="code-keyword">return</span> <span class="code-number">0</span>!==r.length&amp;&amp;(e=r.start(<span class="code-number">0</span>)+<span class="code-number">.1</span>,<span class="code-keyword">this</span>.logger_(<span class="code-string">"Buffered region starts ("</span>+r.start(<span class="code-number">0</span>)+<span class="code-string">")  just beyond seek point ("</span>+i+<span class="code-string">"). Seeking to "</span>+e+<span class="code-string">"."</span>),<span class="code-keyword">this</span>.tech_.setCurrentTime(e),!<span class="code-number">0</span>)},t.waiting_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t;<span class="code-keyword">this</span>.techWaiting_()||(e=<span class="code-keyword">this</span>.tech_.currentTime(),t=<span class="code-keyword">this</span>.tech_.buffered(),(t=Uo(t,e)).length&amp;&amp;e+<span class="code-number">3</span>&lt;=t.end(<span class="code-number">0</span>)&amp;&amp;(<span class="code-keyword">this</span>.cancelTimer_(),<span class="code-keyword">this</span>.tech_.setCurrentTime(e),<span class="code-keyword">this</span>.logger_(<span class="code-string">"Stopped at "</span>+e+<span class="code-string">" while inside a buffered region ["</span>+t.start(<span class="code-number">0</span>)+<span class="code-string">" -&gt; "</span>+t.end(<span class="code-number">0</span>)+<span class="code-string">"]. Attempting to resume playback by seeking to the current time."</span>),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-unknown-waiting"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-unknown-waiting"</span>})))},t.techWaiting_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.seekable(),t=<span class="code-keyword">this</span>.tech_.currentTime();<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.tech_.seeking()||<span class="code-literal">null</span>!==<span class="code-keyword">this</span>.timer_)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.beforeSeekableWindow_(e,t)){<span class="code-keyword">var</span> i=e.end(e.length<span class="code-number">-1</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"Fell out of live window at time "</span>+t+<span class="code-string">". Seeking to live point (seekable end) "</span>+i),<span class="code-keyword">this</span>.cancelTimer_(),<span class="code-keyword">this</span>.tech_.setCurrentTime(i),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-live-resync"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-live-resync"</span>}),!<span class="code-number">0</span>}e=<span class="code-keyword">this</span>.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=<span class="code-keyword">this</span>.tech_.buffered();<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.videoUnderflow_({<span class="code-attr">audioBuffered</span>:e.audioBuffered(),<span class="code-attr">videoBuffered</span>:e.videoBuffered(),<span class="code-attr">currentTime</span>:t}))<span class="code-keyword">return</span> <span class="code-keyword">this</span>.cancelTimer_(),<span class="code-keyword">this</span>.tech_.setCurrentTime(t),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-video-underflow"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-video-underflow"</span>}),!<span class="code-number">0</span>;e=Bo(i,t);<span class="code-keyword">if</span>(<span class="code-number">0</span>&lt;e.length){i=e.start(<span class="code-number">0</span>)-t;<span class="code-keyword">return</span> <span class="code-keyword">this</span>.logger_(<span class="code-string">"Stopped at "</span>+t+<span class="code-string">", setting timer for "</span>+i+<span class="code-string">", seeking to "</span>+e.start(<span class="code-number">0</span>)),<span class="code-keyword">this</span>.cancelTimer_(),<span class="code-keyword">this</span>.timer_=setTimeout(<span class="code-keyword">this</span>.skipTheGap_.bind(<span class="code-keyword">this</span>),<span class="code-number">1e3</span>*i,t),!<span class="code-number">0</span>}<span class="code-keyword">return</span>!<span class="code-number">1</span>},t.afterSeekableWindow_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=!<span class="code-number">1</span>),!e.length)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> r=e.end(e.length<span class="code-number">-1</span>)+<span class="code-number">.1</span>;<span class="code-keyword">return</span>(r=!i.endList&amp;&amp;n?e.end(e.length<span class="code-number">-1</span>)+<span class="code-number">3</span>*i.targetDuration:r)&lt;t},t.beforeSeekableWindow_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>!!(e.length&amp;&amp;<span class="code-number">0</span>&lt;e.start(<span class="code-number">0</span>)&amp;&amp;t&lt;e.start(<span class="code-number">0</span>)-<span class="code-keyword">this</span>.liveRangeSafeTimeDelta)},t.videoUnderflow_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t,i,n=e.videoBuffered,r=e.audioBuffered,a=e.currentTime;<span class="code-keyword">if</span>(n)<span class="code-keyword">return</span> n.length&amp;&amp;r.length?(i=Uo(n,a<span class="code-number">-3</span>),e=Uo(n,a),(r=Uo(r,a)).length&amp;&amp;!e.length&amp;&amp;i.length&amp;&amp;(t={<span class="code-attr">start</span>:i.end(<span class="code-number">0</span>),<span class="code-attr">end</span>:r.end(<span class="code-number">0</span>)})):Bo(n,a).length||(t=<span class="code-keyword">this</span>.gapFromVideoUnderflow_(n,a)),!!t&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-string">"Encountered a gap in video from "</span>+t.start+<span class="code-string">" to "</span>+t.end+<span class="code-string">". Seeking to current time "</span>+a),!<span class="code-number">0</span>)},t.skipTheGap_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>.tech_.buffered(),i=<span class="code-keyword">this</span>.tech_.currentTime(),t=Bo(t,i);<span class="code-keyword">this</span>.cancelTimer_(),<span class="code-number">0</span>!==t.length&amp;&amp;i===e&amp;&amp;(<span class="code-keyword">this</span>.logger_(<span class="code-string">"skipTheGap_:"</span>,<span class="code-string">"currentTime:"</span>,i,<span class="code-string">"scheduled currentTime:"</span>,e,<span class="code-string">"nextRange start:"</span>,t.start(<span class="code-number">0</span>)),<span class="code-keyword">this</span>.tech_.setCurrentTime(t.start(<span class="code-number">0</span>)+fl),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-gap-skip"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-gap-skip"</span>}))},t.gapFromVideoUnderflow_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.length&lt;<span class="code-number">2</span>)<span class="code-keyword">return</span> tr.createTimeRanges();<span class="code-keyword">for</span>(<span class="code-keyword">var</span> t=[],i=<span class="code-number">1</span>;i&lt;e.length;i++){<span class="code-keyword">var</span> n=e.end(i<span class="code-number">-1</span>),r=e.start(i);t.push([n,r])}<span class="code-keyword">return</span> tr.createTimeRanges(t)}(e),n=<span class="code-number">0</span>;n&lt;i.length;n++){<span class="code-keyword">var</span> r=i.start(n),a=i.end(n);<span class="code-keyword">if</span>(t-r&lt;<span class="code-number">4</span>&amp;&amp;<span class="code-number">2</span>&lt;t-r)<span class="code-keyword">return</span>{<span class="code-attr">start</span>:r,<span class="code-attr">end</span>:a}}<span class="code-keyword">return</span> <span class="code-literal">null</span>},e}(),wc={<span class="code-attr">errorInterval</span>:<span class="code-number">30</span>,<span class="code-attr">getSource</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> e(<span class="code-keyword">this</span>.tech({<span class="code-attr">IWillNotUseThisInPlugins</span>:!<span class="code-number">0</span>}).currentSource_||<span class="code-keyword">this</span>.currentSource())}},Ec={<span class="code-attr">PlaylistLoader</span>:_l,<span class="code-attr">Playlist</span>:gl,<span class="code-attr">utils</span>:zt,<span class="code-attr">STANDARD_PLAYLIST_SELECTOR</span>:ar,<span class="code-attr">INITIAL_PLAYLIST_SELECTOR</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,e=<span class="code-keyword">this</span>.playlists.master.playlists.filter(gl.isEnabled);<span class="code-keyword">return</span> el(e,tl),e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!!$u(t.playlists.master,e).video})[<span class="code-number">0</span>]||<span class="code-literal">null</span>},<span class="code-attr">lastBandwidthSelector</span>:ar,<span class="code-attr">movingAverageBandwidthSelector</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-keyword">var</span> i=<span class="code-number">-1</span>,n=<span class="code-number">-1</span>;<span class="code-keyword">if</span>(t&lt;<span class="code-number">0</span>||<span class="code-number">1</span>&lt;t)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Moving average bandwidth decay must be between 0 and 1."</span>);<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.useDevicePixelRatio&amp;&amp;<span class="code-built_in">window</span>.devicePixelRatio||<span class="code-number">1</span>;<span class="code-keyword">return</span> i&lt;<span class="code-number">0</span>&amp;&amp;(i=<span class="code-keyword">this</span>.systemBandwidth,n=<span class="code-keyword">this</span>.systemBandwidth),<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.systemBandwidth&amp;&amp;<span class="code-keyword">this</span>.systemBandwidth!==n&amp;&amp;(i=t*<span class="code-keyword">this</span>.systemBandwidth+(<span class="code-number">1</span>-t)*i,n=<span class="code-keyword">this</span>.systemBandwidth),il(<span class="code-keyword">this</span>.playlists.master,i,<span class="code-built_in">parseInt</span>(Zu(<span class="code-keyword">this</span>.tech_.el(),<span class="code-string">"width"</span>),<span class="code-number">10</span>)*e,<span class="code-built_in">parseInt</span>(Zu(<span class="code-keyword">this</span>.tech_.el(),<span class="code-string">"height"</span>),<span class="code-number">10</span>)*e,<span class="code-keyword">this</span>.limitRenditionByPlayerDimensions,<span class="code-keyword">this</span>.masterPlaylistController_)}},<span class="code-attr">comparePlaylistBandwidth</span>:tl,<span class="code-attr">comparePlaylistResolution</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i,n;<span class="code-keyword">return</span>(i=(i=e.attributes.RESOLUTION&amp;&amp;e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:i)||<span class="code-built_in">window</span>.Number.MAX_VALUE)===(n=(n=t.attributes.RESOLUTION&amp;&amp;t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:n)||<span class="code-built_in">window</span>.Number.MAX_VALUE)&amp;&amp;e.attributes.BANDWIDTH&amp;&amp;t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},<span class="code-attr">xhr</span>:yu()};<span class="code-built_in">Object</span>.keys(El).forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{<span class="code-built_in">Object</span>.defineProperty(Ec,t,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"using Vhs."</span>+t+<span class="code-string">" is UNSAFE be sure you know what you are doing"</span>),El[t]},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{tr.log.warn(<span class="code-string">"using Vhs."</span>+t+<span class="code-string">" is UNSAFE be sure you know what you are doing"</span>),<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> e||e&lt;<span class="code-number">0</span>?tr.log.warn(<span class="code-string">"value of Vhs."</span>+t+<span class="code-string">" must be greater than or equal to 0"</span>):El[t]=e}})});<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">kc</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">for</span>(<span class="code-keyword">var</span> i=t.media(),n=<span class="code-number">-1</span>,r=<span class="code-number">0</span>;r&lt;e.length;r++)<span class="code-keyword">if</span>(e[r].id===i.id){n=r;<span class="code-keyword">break</span>}e.selectedIndex_=n,e.trigger({<span class="code-attr">selectedIndex</span>:n,<span class="code-attr">type</span>:<span class="code-string">"change"</span>})}<span class="code-keyword">var</span> Cc=<span class="code-string">"videojs-vhs"</span>;Ec.canPlaySource=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"HLS is no longer a tech. Please remove it from your player's techOrder."</span>)};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ic</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> n=e.player,t=e.sourceKeySystems,i=e.audioMedia,e=e.mainPlaylists;<span class="code-keyword">if</span>(!n.eme.initializeMediaKeys)<span class="code-keyword">return</span> <span class="code-built_in">Promise</span>.resolve();<span class="code-keyword">var</span> r,e=(e=e=i?e.concat([i]):e,r=<span class="code-built_in">Object</span>.keys(t),e.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,n</span>)</span>{<span class="code-keyword">if</span>(!n.contentProtection)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> t=r.reduce(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=n.contentProtection[t];<span class="code-keyword">return</span> i&amp;&amp;i.pssh&amp;&amp;(e[t]={<span class="code-attr">pssh</span>:i.pssh}),e},{});<span class="code-keyword">return</span> <span class="code-built_in">Object</span>.keys(t).length&amp;&amp;e.push(t),e},[])),a=[],s=[];<span class="code-keyword">return</span> e.forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{s.push(<span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{n.tech_.one(<span class="code-string">"keysessioncreated"</span>,e)})),a.push(<span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t,i</span>)</span>{n.eme.initializeMediaKeys({<span class="code-attr">keySystems</span>:e},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e?i(e):t()})}))}),<span class="code-built_in">Promise</span>.race([<span class="code-built_in">Promise</span>.all(a),<span class="code-built_in">Promise</span>.race(s)])}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">xc</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=e.player;<span class="code-keyword">return</span>!!(e=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> e;<span class="code-keyword">var</span> n={};t&amp;&amp;t.attributes&amp;&amp;t.attributes.CODECS&amp;&amp;(n=Yu(pr(t.attributes.CODECS))),i&amp;&amp;i.attributes&amp;&amp;i.attributes.CODECS&amp;&amp;(n.audio=i.attributes.CODECS);<span class="code-keyword">var</span> r,a=mr(n.video),s=mr(n.audio),o={};<span class="code-keyword">for</span>(r <span class="code-keyword">in</span> e)o[r]={},s&amp;&amp;(o[r].audioContentType=s),a&amp;&amp;(o[r].videoContentType=a),t.contentProtection&amp;&amp;t.contentProtection[r]&amp;&amp;t.contentProtection[r].pssh&amp;&amp;(o[r].pssh=t.contentProtection[r].pssh),<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e[r]&amp;&amp;(o[r].url=e[r]);<span class="code-keyword">return</span> tr.mergeOptions(e,o)}(e.sourceKeySystems,e.media,e.audioMedia))&amp;&amp;(!((t.currentSource().keySystems=e)&amp;&amp;!t.eme)||(tr.log.warn(<span class="code-string">"DRM encrypted source cannot be decrypted without a DRM plugin"</span>),!<span class="code-number">1</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">Ac</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-built_in">window</span>.localStorage)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">var</span> e=<span class="code-built_in">window</span>.localStorage.getItem(Cc);<span class="code-keyword">if</span>(!e)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">try</span>{<span class="code-keyword">return</span> <span class="code-built_in">JSON</span>.parse(e)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span> <span class="code-literal">null</span>}}Ec.supportsNativeHls=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">if</span>(!<span class="code-built_in">document</span>||!<span class="code-built_in">document</span>.createElement)<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>);<span class="code-keyword">if</span>(!tr.getTech(<span class="code-string">"Html5"</span>).isSupported())<span class="code-keyword">return</span>!<span class="code-number">1</span>;<span class="code-keyword">return</span>[<span class="code-string">"application/vnd.apple.mpegurl"</span>,<span class="code-string">"audio/mpegurl"</span>,<span class="code-string">"audio/x-mpegurl"</span>,<span class="code-string">"application/x-mpegurl"</span>,<span class="code-string">"video/x-mpegurl"</span>,<span class="code-string">"video/mpegurl"</span>,<span class="code-string">"application/mpegurl"</span>].some(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-regexp">/maybe|probably/i</span>.test(t.canPlayType(e))})}(),Ec.supportsNativeDash=!!(<span class="code-built_in">document</span>&amp;&amp;<span class="code-built_in">document</span>.createElement&amp;&amp;tr.getTech(<span class="code-string">"Html5"</span>).isSupported())&amp;&amp;<span class="code-regexp">/maybe|probably/i</span>.test(<span class="code-built_in">document</span>.createElement(<span class="code-string">"video"</span>).canPlayType(<span class="code-string">"application/dash+xml"</span>)),Ec.supportsTypeNatively=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span><span class="code-string">"hls"</span>===e?Ec.supportsNativeHls:<span class="code-string">"dash"</span>===e&amp;&amp;Ec.supportsNativeDash},Ec.isSupported=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"HLS is no longer a tech. Please remove it from your player's techOrder."</span>)};<span class="code-keyword">var</span> Pc=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">e</span>(<span class="code-params">e,t,i</span>)</span>{<span class="code-keyword">var</span> n=r.call(<span class="code-keyword">this</span>,t,tr.mergeOptions(i.hls,i.vhs))||<span class="code-keyword">this</span>;<span class="code-keyword">if</span>(i.hls&amp;&amp;<span class="code-built_in">Object</span>.keys(i.hls).length&amp;&amp;tr.log.warn(<span class="code-string">"Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."</span>),<span class="code-string">"number"</span>==<span class="code-keyword">typeof</span> i.initialBandwidth&amp;&amp;(n.options_.bandwidth=i.initialBandwidth),n.logger_=Ro(<span class="code-string">"VhsHandler"</span>),t.options_&amp;&amp;t.options_.playerId&amp;&amp;((i=tr(t.options_.playerId)).hasOwnProperty(<span class="code-string">"hls"</span>)||<span class="code-built_in">Object</span>.defineProperty(i,<span class="code-string">"hls"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"player.hls is deprecated. Use player.tech().vhs instead."</span>),t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-player-access"</span>}),ft(n)},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),i.hasOwnProperty(<span class="code-string">"vhs"</span>)||<span class="code-built_in">Object</span>.defineProperty(i,<span class="code-string">"vhs"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"player.vhs is deprecated. Use player.tech().vhs instead."</span>),t.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-player-access"</span>}),ft(n)},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),i.hasOwnProperty(<span class="code-string">"dash"</span>)||<span class="code-built_in">Object</span>.defineProperty(i,<span class="code-string">"dash"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"player.dash is deprecated. Use player.tech().vhs instead."</span>),ft(n)},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),n.player_=i),n.tech_=t,n.source_=e,n.stats={},n.ignoreNextSeekingEvent_=!<span class="code-number">1</span>,n.setOptions_(),n.options_.overrideNative&amp;&amp;t.overrideNativeAudioTracks&amp;&amp;t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!<span class="code-number">0</span>),t.overrideNativeVideoTracks(!<span class="code-number">0</span>);<span class="code-keyword">else</span> <span class="code-keyword">if</span>(n.options_.overrideNative&amp;&amp;(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Overriding native HLS requires emulated tracks. See https://git.io/vMpjB"</span>);<span class="code-keyword">return</span> n.on(<span class="code-built_in">document</span>,[<span class="code-string">"fullscreenchange"</span>,<span class="code-string">"webkitfullscreenchange"</span>,<span class="code-string">"mozfullscreenchange"</span>,<span class="code-string">"MSFullscreenChange"</span>],<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t=<span class="code-built_in">document</span>.fullscreenElement||<span class="code-built_in">document</span>.webkitFullscreenElement||<span class="code-built_in">document</span>.mozFullScreenElement||<span class="code-built_in">document</span>.msFullscreenElement;t&amp;&amp;t.contains(n.tech_.el())?n.masterPlaylistController_.fastQualityChange_():n.masterPlaylistController_.checkABR_()}),n.on(n.tech_,<span class="code-string">"seeking"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.ignoreNextSeekingEvent_?<span class="code-keyword">this</span>.ignoreNextSeekingEvent_=!<span class="code-number">1</span>:<span class="code-keyword">this</span>.setCurrentTime(<span class="code-keyword">this</span>.tech_.currentTime())}),n.on(n.tech_,<span class="code-string">"error"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_.error()&amp;&amp;<span class="code-keyword">this</span>.masterPlaylistController_&amp;&amp;<span class="code-keyword">this</span>.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,<span class="code-string">"play"</span>,n.play),n}mt(e,r);<span class="code-keyword">var</span> t=e.prototype;<span class="code-keyword">return</span> t.setOptions_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e,t=<span class="code-keyword">this</span>;<span class="code-keyword">this</span>.options_.withCredentials=<span class="code-keyword">this</span>.options_.withCredentials||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.options_.handleManifestRedirects=!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.options_.handleManifestRedirects,<span class="code-keyword">this</span>.options_.limitRenditionByPlayerDimensions=!<span class="code-number">1</span>!==<span class="code-keyword">this</span>.options_.limitRenditionByPlayerDimensions,<span class="code-keyword">this</span>.options_.useDevicePixelRatio=<span class="code-keyword">this</span>.options_.useDevicePixelRatio||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.options_.smoothQualityChange=<span class="code-keyword">this</span>.options_.smoothQualityChange||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.options_.useBandwidthFromLocalStorage=<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.source_.useBandwidthFromLocalStorage?<span class="code-keyword">this</span>.source_.useBandwidthFromLocalStorage:<span class="code-keyword">this</span>.options_.useBandwidthFromLocalStorage||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.options_.useNetworkInformationApi=<span class="code-keyword">this</span>.options_.useNetworkInformationApi||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.options_.useDtsForTimestampOffset=<span class="code-keyword">this</span>.options_.useDtsForTimestampOffset||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.options_.customTagParsers=<span class="code-keyword">this</span>.options_.customTagParsers||[],<span class="code-keyword">this</span>.options_.customTagMappers=<span class="code-keyword">this</span>.options_.customTagMappers||[],<span class="code-keyword">this</span>.options_.cacheEncryptionKeys=<span class="code-keyword">this</span>.options_.cacheEncryptionKeys||!<span class="code-number">1</span>,<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options_.blacklistDuration&amp;&amp;(<span class="code-keyword">this</span>.options_.blacklistDuration=<span class="code-number">300</span>),<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options_.bandwidth&amp;&amp;<span class="code-keyword">this</span>.options_.useBandwidthFromLocalStorage&amp;&amp;((e=Ac())&amp;&amp;e.bandwidth&amp;&amp;(<span class="code-keyword">this</span>.options_.bandwidth=e.bandwidth,<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-bandwidth-from-local-storage"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-bandwidth-from-local-storage"</span>})),e&amp;&amp;e.throughput&amp;&amp;(<span class="code-keyword">this</span>.options_.throughput=e.throughput,<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"vhs-throughput-from-local-storage"</span>}),<span class="code-keyword">this</span>.tech_.trigger({<span class="code-attr">type</span>:<span class="code-string">"usage"</span>,<span class="code-attr">name</span>:<span class="code-string">"hls-throughput-from-local-storage"</span>}))),<span class="code-string">"number"</span>!=<span class="code-keyword">typeof</span> <span class="code-keyword">this</span>.options_.bandwidth&amp;&amp;(<span class="code-keyword">this</span>.options_.bandwidth=El.INITIAL_BANDWIDTH),<span class="code-keyword">this</span>.options_.enableLowInitialPlaylist=<span class="code-keyword">this</span>.options_.enableLowInitialPlaylist&amp;&amp;<span class="code-keyword">this</span>.options_.bandwidth===El.INITIAL_BANDWIDTH,[<span class="code-string">"withCredentials"</span>,<span class="code-string">"useDevicePixelRatio"</span>,<span class="code-string">"limitRenditionByPlayerDimensions"</span>,<span class="code-string">"bandwidth"</span>,<span class="code-string">"smoothQualityChange"</span>,<span class="code-string">"customTagParsers"</span>,<span class="code-string">"customTagMappers"</span>,<span class="code-string">"handleManifestRedirects"</span>,<span class="code-string">"cacheEncryptionKeys"</span>,<span class="code-string">"playlistSelector"</span>,<span class="code-string">"initialPlaylistSelector"</span>,<span class="code-string">"experimentalBufferBasedABR"</span>,<span class="code-string">"liveRangeSafeTimeDelta"</span>,<span class="code-string">"experimentalLLHLS"</span>,<span class="code-string">"useNetworkInformationApi"</span>,<span class="code-string">"useDtsForTimestampOffset"</span>,<span class="code-string">"experimentalExactManifestTimings"</span>,<span class="code-string">"experimentalLeastPixelDiffSelector"</span>].forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> t.source_[e]&amp;&amp;(t.options_[e]=t.source_[e])}),<span class="code-keyword">this</span>.limitRenditionByPlayerDimensions=<span class="code-keyword">this</span>.options_.limitRenditionByPlayerDimensions,<span class="code-keyword">this</span>.useDevicePixelRatio=<span class="code-keyword">this</span>.options_.useDevicePixelRatio},t.src=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> n=<span class="code-keyword">this</span>;e&amp;&amp;(<span class="code-keyword">this</span>.setOptions_(),<span class="code-keyword">this</span>.options_.src=<span class="code-number">0</span>===(e=<span class="code-keyword">this</span>.source_.src).toLowerCase().indexOf(<span class="code-string">"data:application/vnd.videojs.vhs+json,"</span>)?<span class="code-built_in">JSON</span>.parse(e.substring(e.indexOf(<span class="code-string">","</span>)+<span class="code-number">1</span>)):e,<span class="code-keyword">this</span>.options_.tech=<span class="code-keyword">this</span>.tech_,<span class="code-keyword">this</span>.options_.externVhs=Ec,<span class="code-keyword">this</span>.options_.sourceType=vr(t),<span class="code-keyword">this</span>.options_.seekTo=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{n.tech_.setCurrentTime(e)},<span class="code-keyword">this</span>.options_.smoothQualityChange&amp;&amp;tr.log.warn(<span class="code-string">"smoothQualityChange is deprecated and will be removed in the next major version"</span>),<span class="code-keyword">this</span>.masterPlaylistController_=<span class="code-keyword">new</span> bc(<span class="code-keyword">this</span>.options_),t=tr.mergeOptions({<span class="code-attr">liveRangeSafeTimeDelta</span>:<span class="code-number">.1</span>},<span class="code-keyword">this</span>.options_,{<span class="code-attr">seekable</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.seekable()},<span class="code-attr">media</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.media()},<span class="code-attr">masterPlaylistController</span>:<span class="code-keyword">this</span>.masterPlaylistController_}),<span class="code-keyword">this</span>.playbackWatcher_=<span class="code-keyword">new</span> Sc(t),<span class="code-keyword">this</span>.masterPlaylistController_.on(<span class="code-string">"error"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=tr.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;<span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> t||t.code?<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;(t={<span class="code-attr">message</span>:t,<span class="code-attr">code</span>:<span class="code-number">3</span>}):t.code=<span class="code-number">3</span>,e.error(t)}),t=<span class="code-keyword">this</span>.options_.experimentalBufferBasedABR?Ec.movingAverageBandwidthSelector(<span class="code-number">.55</span>):Ec.STANDARD_PLAYLIST_SELECTOR,<span class="code-keyword">this</span>.masterPlaylistController_.selectPlaylist=(<span class="code-keyword">this</span>.selectPlaylist||t).bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.masterPlaylistController_.selectInitialPlaylist=Ec.INITIAL_PLAYLIST_SELECTOR.bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.playlists=<span class="code-keyword">this</span>.masterPlaylistController_.masterPlaylistLoader_,<span class="code-keyword">this</span>.mediaSource=<span class="code-keyword">this</span>.masterPlaylistController_.mediaSource,<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>,{<span class="code-attr">selectPlaylist</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistController_.selectPlaylist},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.masterPlaylistController_.selectPlaylist=e.bind(<span class="code-keyword">this</span>)}},<span class="code-attr">throughput</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput.rate},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,<span class="code-keyword">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput.count=<span class="code-number">1</span>}},<span class="code-attr">bandwidth</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-keyword">this</span>.masterPlaylistController_.mainSegmentLoader_.bandwidth,t=<span class="code-built_in">window</span>.navigator.connection||<span class="code-built_in">window</span>.navigator.mozConnection||<span class="code-built_in">window</span>.navigator.webkitConnection;<span class="code-keyword">return</span> e=<span class="code-keyword">this</span>.options_.useNetworkInformationApi&amp;&amp;t?<span class="code-number">1e7</span>&lt;=(t=<span class="code-number">1e3</span>*t.downlink*<span class="code-number">1e3</span>)&amp;&amp;<span class="code-number">1e7</span>&lt;=e?<span class="code-built_in">Math</span>.max(e,t):t:e},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,<span class="code-keyword">this</span>.masterPlaylistController_.mainSegmentLoader_.throughput={<span class="code-attr">rate</span>:<span class="code-number">0</span>,<span class="code-attr">count</span>:<span class="code-number">0</span>}}},<span class="code-attr">systemBandwidth</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=<span class="code-number">1</span>/(<span class="code-keyword">this</span>.bandwidth||<span class="code-number">1</span>),t=<span class="code-number">0</span>&lt;<span class="code-keyword">this</span>.throughput?<span class="code-number">1</span>/<span class="code-keyword">this</span>.throughput:<span class="code-number">0</span>;<span class="code-keyword">return</span> <span class="code-built_in">Math</span>.floor(<span class="code-number">1</span>/(e+t))},<span class="code-attr">set</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{tr.log.error(<span class="code-string">'The "systemBandwidth" property is read-only'</span>)}}}),<span class="code-keyword">this</span>.options_.bandwidth&amp;&amp;(<span class="code-keyword">this</span>.bandwidth=<span class="code-keyword">this</span>.options_.bandwidth),<span class="code-keyword">this</span>.options_.throughput&amp;&amp;(<span class="code-keyword">this</span>.throughput=<span class="code-keyword">this</span>.options_.throughput),<span class="code-built_in">Object</span>.defineProperties(<span class="code-keyword">this</span>.stats,{<span class="code-attr">bandwidth</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.bandwidth||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaRequests</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaRequests_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaRequestsAborted</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaRequestsAborted_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaRequestsTimedout</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaRequestsTimedout_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaRequestsErrored</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaRequestsErrored_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaTransferDuration</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaTransferDuration_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaBytesTransferred</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaBytesTransferred_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaSecondsLoaded</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaSecondsLoaded_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mediaAppends</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mediaAppends_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">mainAppendsToLoadedData</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.mainAppendsToLoadedData_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">audioAppendsToLoadedData</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.audioAppendsToLoadedData_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">appendsToLoadedData</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.appendsToLoadedData_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">timeToLoadedData</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.masterPlaylistController_.timeToLoadedData_()||<span class="code-number">0</span>},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">buffered</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> jo(n.tech_.buffered())},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">currentTime</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.tech_.currentTime()},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">currentSource</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.tech_.currentSource_},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">currentTech</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.tech_.name_},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">duration</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.tech_.duration()},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">master</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.playlists.master},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">playerDimensions</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.tech_.currentDimensions()},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">seekable</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> jo(n.tech_.seekable())},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">timestamp</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">Date</span>.now()},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>},<span class="code-attr">videoPlaybackQuality</span>:{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> n.tech_.getVideoPlaybackQuality()},<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>}}),<span class="code-keyword">this</span>.tech_.one(<span class="code-string">"canplay"</span>,<span class="code-keyword">this</span>.masterPlaylistController_.setupFirstPlay.bind(<span class="code-keyword">this</span>.masterPlaylistController_)),<span class="code-keyword">this</span>.tech_.on(<span class="code-string">"bandwidthupdate"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.options_.useBandwidthFromLocalStorage&amp;&amp;<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(!<span class="code-built_in">window</span>.localStorage)<span class="code-keyword">return</span>;<span class="code-keyword">var</span> t=(t=Ac())?tr.mergeOptions(t,e):e;<span class="code-keyword">try</span>{<span class="code-built_in">window</span>.localStorage.setItem(Cc,<span class="code-built_in">JSON</span>.stringify(t))}<span class="code-keyword">catch</span>(e){<span class="code-keyword">return</span>}}({<span class="code-attr">bandwidth</span>:n.bandwidth,<span class="code-attr">throughput</span>:<span class="code-built_in">Math</span>.round(n.throughput)})}),<span class="code-keyword">this</span>.masterPlaylistController_.on(<span class="code-string">"selectedinitialmedia"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i;(i=n).representations=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> e=i.masterPlaylistController_.master(),e=au(e)?i.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;<span class="code-keyword">return</span> e?e.filter(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!Zo(e)}).map(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> Kl(i,e,e.id)}):[]}}),<span class="code-keyword">this</span>.masterPlaylistController_.sourceUpdater_.on(<span class="code-string">"createdsourcebuffers"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{n.setupEme_()}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.masterPlaylistController_,<span class="code-string">"progress"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.tech_.trigger(<span class="code-string">"progress"</span>)}),<span class="code-keyword">this</span>.on(<span class="code-keyword">this</span>.masterPlaylistController_,<span class="code-string">"firstplay"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.ignoreNextSeekingEvent_=!<span class="code-number">0</span>}),<span class="code-keyword">this</span>.setupQualityLevels_(),<span class="code-keyword">this</span>.tech_.el()&amp;&amp;(<span class="code-keyword">this</span>.mediaSourceUrl_=<span class="code-built_in">window</span>.URL.createObjectURL(<span class="code-keyword">this</span>.masterPlaylistController_.mediaSource),<span class="code-keyword">this</span>.tech_.src(<span class="code-keyword">this</span>.mediaSourceUrl_)))},t.createKeySessions_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,e=<span class="code-keyword">this</span>.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;<span class="code-keyword">this</span>.logger_(<span class="code-string">"waiting for EME key session creation"</span>),Ic({<span class="code-attr">player</span>:<span class="code-keyword">this</span>.player_,<span class="code-attr">sourceKeySystems</span>:<span class="code-keyword">this</span>.source_.keySystems,<span class="code-attr">audioMedia</span>:e&amp;&amp;e.media(),<span class="code-attr">mainPlaylists</span>:<span class="code-keyword">this</span>.playlists.master.playlists}).then(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{t.logger_(<span class="code-string">"created EME key session"</span>),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.logger_(<span class="code-string">"error while creating EME key session"</span>,e),t.player_.error({<span class="code-attr">message</span>:<span class="code-string">"Failed to initialize media keys for EME"</span>,<span class="code-attr">code</span>:<span class="code-number">3</span>})})},t.handleWaitingForKey_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.logger_(<span class="code-string">"waitingforkey fired, attempting to create any new key sessions"</span>),<span class="code-keyword">this</span>.createKeySessions_()},t.setupEme_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t=<span class="code-keyword">this</span>,e=<span class="code-keyword">this</span>.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,e=xc({<span class="code-attr">player</span>:<span class="code-keyword">this</span>.player_,<span class="code-attr">sourceKeySystems</span>:<span class="code-keyword">this</span>.source_.keySystems,<span class="code-attr">media</span>:<span class="code-keyword">this</span>.playlists.media(),<span class="code-attr">audioMedia</span>:e&amp;&amp;e.media()});<span class="code-keyword">this</span>.player_.tech_.on(<span class="code-string">"keystatuschange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"output-restricted"</span>===e.status&amp;&amp;t.masterPlaylistController_.blacklistCurrentPlaylist({<span class="code-attr">playlist</span>:t.masterPlaylistController_.media(),<span class="code-attr">message</span>:<span class="code-string">"DRM keystatus changed to "</span>+e.status+<span class="code-string">". Playlist will fail to play. Check for HDCP content."</span>,<span class="code-attr">blacklistDuration</span>:<span class="code-number">1</span>/<span class="code-number">0</span>})}),<span class="code-keyword">this</span>.handleWaitingForKey_=<span class="code-keyword">this</span>.handleWaitingForKey_.bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>.player_.tech_.on(<span class="code-string">"waitingforkey"</span>,<span class="code-keyword">this</span>.handleWaitingForKey_),<span class="code-number">11</span>!==tr.browser.IE_VERSION&amp;&amp;e?<span class="code-keyword">this</span>.createKeySessions_():<span class="code-keyword">this</span>.masterPlaylistController_.sourceUpdater_.initializedEme()},t.setupQualityLevels_=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> i=<span class="code-keyword">this</span>,e=tr.players[<span class="code-keyword">this</span>.tech_.options_.playerId];e&amp;&amp;e.qualityLevels&amp;&amp;!<span class="code-keyword">this</span>.qualityLevels_&amp;&amp;(<span class="code-keyword">this</span>.qualityLevels_=e.qualityLevels(),<span class="code-keyword">this</span>.masterPlaylistController_.on(<span class="code-string">"selectedinitialmedia"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">var</span> t,e;t=i.qualityLevels_,(e=i).representations().forEach(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{t.addQualityLevel(e)}),kc(t,e.playlists)}),<span class="code-keyword">this</span>.playlists.on(<span class="code-string">"mediachange"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{kc(i.qualityLevels_,i.playlists)}))},e.version=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span>{<span class="code-string">"@videojs/http-streaming"</span>:<span class="code-string">"2.14.2"</span>,<span class="code-string">"mux.js"</span>:<span class="code-string">"6.0.1"</span>,<span class="code-string">"mpd-parser"</span>:<span class="code-string">"0.21.1"</span>,<span class="code-string">"m3u8-parser"</span>:<span class="code-string">"4.7.1"</span>,<span class="code-string">"aes-decrypter"</span>:<span class="code-string">"3.1.3"</span>}},t.version=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.constructor.version()},t.canChangeType=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> uc.canChangeType()},t.play=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.masterPlaylistController_.play()},t.setCurrentTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">this</span>.masterPlaylistController_.setCurrentTime(e)},t.duration=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistController_.duration()},t.seekable=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">this</span>.masterPlaylistController_.seekable()},t.dispose=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>.playbackWatcher_&amp;&amp;<span class="code-keyword">this</span>.playbackWatcher_.dispose(),<span class="code-keyword">this</span>.masterPlaylistController_&amp;&amp;<span class="code-keyword">this</span>.masterPlaylistController_.dispose(),<span class="code-keyword">this</span>.qualityLevels_&amp;&amp;<span class="code-keyword">this</span>.qualityLevels_.dispose(),<span class="code-keyword">this</span>.player_&amp;&amp;(<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.player_.vhs,<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.player_.dash,<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.player_.hls),<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.vhs&amp;&amp;<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.tech_.vhs,<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.tech_.hls,<span class="code-keyword">this</span>.mediaSourceUrl_&amp;&amp;<span class="code-built_in">window</span>.URL.revokeObjectURL&amp;&amp;(<span class="code-built_in">window</span>.URL.revokeObjectURL(<span class="code-keyword">this</span>.mediaSourceUrl_),<span class="code-keyword">this</span>.mediaSourceUrl_=<span class="code-literal">null</span>),<span class="code-keyword">this</span>.tech_&amp;&amp;<span class="code-keyword">this</span>.tech_.off(<span class="code-string">"waitingforkey"</span>,<span class="code-keyword">this</span>.handleWaitingForKey_),r.prototype.dispose.call(<span class="code-keyword">this</span>)},t.convertToProgramTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> ku({<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.masterPlaylistController_.media(),<span class="code-attr">time</span>:e,<span class="code-attr">callback</span>:t})},t.seekToProgramTime=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i,n</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-number">0</span>===i&amp;&amp;(i=!<span class="code-number">0</span>),<span class="code-keyword">void</span> <span class="code-number">0</span>===n&amp;&amp;(n=<span class="code-number">2</span>),Cu({<span class="code-attr">programTime</span>:e,<span class="code-attr">playlist</span>:<span class="code-keyword">this</span>.masterPlaylistController_.media(),<span class="code-attr">retryCount</span>:n,<span class="code-attr">pauseAfterSeek</span>:i,<span class="code-attr">seekTo</span>:<span class="code-keyword">this</span>.options_.seekTo,<span class="code-attr">tech</span>:<span class="code-keyword">this</span>.options_.tech,<span class="code-attr">callback</span>:t})},e}(tr.getComponent(<span class="code-string">"Component"</span>)),Lc={<span class="code-attr">name</span>:<span class="code-string">"videojs-http-streaming"</span>,<span class="code-attr">VERSION</span>:<span class="code-string">"2.14.2"</span>,<span class="code-attr">canHandleSource</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{t=tr.mergeOptions(tr.options,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t);<span class="code-keyword">return</span> Lc.canPlayType(e.type,t)},<span class="code-attr">handleSource</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,i</span>)</span>{i=tr.mergeOptions(tr.options,i=<span class="code-keyword">void</span> <span class="code-number">0</span>===i?{}:i);<span class="code-keyword">return</span> t.vhs=<span class="code-keyword">new</span> Pc(e,t,i),tr.hasOwnProperty(<span class="code-string">"hls"</span>)||<span class="code-built_in">Object</span>.defineProperty(t,<span class="code-string">"hls"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"player.tech().hls is deprecated. Use player.tech().vhs instead."</span>),t.vhs},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),t.vhs.xhr=yu(),t.vhs.src(e.src,e.type),t.vhs},<span class="code-attr">canPlayType</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">var</span> i=tr.mergeOptions(tr.options,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t),t=i.vhs,t=(t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?{}:t).overrideNative,t=<span class="code-keyword">void</span> <span class="code-number">0</span>===t?!tr.browser.IS_ANY_SAFARI:t,i=i.hls,i=(i=<span class="code-keyword">void</span> <span class="code-number">0</span>===i?{}:i).overrideNative,i=<span class="code-keyword">void</span> <span class="code-number">0</span>!==i&amp;&amp;i,e=vr(e);<span class="code-keyword">return</span> e&amp;&amp;(!Ec.supportsTypeNatively(e)||i||t)?<span class="code-string">"maybe"</span>:<span class="code-string">""</span>}};<span class="code-keyword">return</span> gr(<span class="code-string">"avc1.4d400d,mp4a.40.2"</span>)&amp;&amp;tr.getTech(<span class="code-string">"Html5"</span>).registerSourceHandler(Lc,<span class="code-number">0</span>),tr.VhsHandler=Pc,<span class="code-built_in">Object</span>.defineProperty(tr,<span class="code-string">"HlsHandler"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."</span>),Pc},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),tr.VhsSourceHandler=Lc,<span class="code-built_in">Object</span>.defineProperty(tr,<span class="code-string">"HlsSourceHandler"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."</span>),Lc},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),tr.Vhs=Ec,<span class="code-built_in">Object</span>.defineProperty(tr,<span class="code-string">"Hls"</span>,{<span class="code-attr">get</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> tr.log.warn(<span class="code-string">"videojs.Hls is deprecated. Use videojs.Vhs instead."</span>),Ec},<span class="code-attr">configurable</span>:!<span class="code-number">0</span>}),tr.use||(tr.registerComponent(<span class="code-string">"Hls"</span>,Ec),tr.registerComponent(<span class="code-string">"Vhs"</span>,Ec)),tr.options.vhs=tr.options.vhs||{},tr.options.hls=tr.options.hls||{},tr.getPlugin&amp;&amp;tr.getPlugin(<span class="code-string">"reloadSourceOnError"</span>)||(tr.registerPlugin||tr.plugin)(<span class="code-string">"reloadSourceOnError"</span>,<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{Yl(<span class="code-keyword">this</span>,e)}),tr});</code></td></tr><tr><td class="css-a4x74f">\</td><style data-emotion-css="jhhjkz">.css-jhhjkz{padding-left:10px;color:rgba(27,31,35,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td class="css-jhhjkz">No newline at end of file</td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->a7ebffa</span></p><p><span> <!-- -->2022<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(t,A,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a};return w.apply(this,arguments)}function P(a,b){if(null==a)return{};var e={},c=Object.keys(a),d;for(d=0;d<c.length;d++){var h=c[d];0<=b.indexOf(h)||(e[h]=a[h])}return e}function Q(a,b){b||(b=a.slice(0));a.raw=b;return a}function R(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function D(a,b){return b={exports:{}},a(b,b.exports),b.exports}function J(a,b,e,c,d){for(var g in a)if(ua(a,g)){try{if("function"!==typeof a[g]){var r=Error((c||"React class")+": "+e+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.");r.name="Invariant Violation";throw r;}var k=a[g](b,g,c,e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){k=q}!k||k instanceof Error||K((c||"React class")+": type specification of "+
e+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(k instanceof Error&&!(k.message in L)){L[k.message]=!0;var B=d?d():"";K("Failed "+e+" type: "+k.message+(null!=B?B:""))}}}function G(){return null}function S(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={border:"1px solid #dfe2e5",
borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},e)}function T(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},e)}function U(a){return a&&a.map(function(a,
c){return t.createElement(a.tag,z({key:c},a.attr),U(a.child))})}function E(a){return function(b){return t.createElement(va,z({attr:z({},a.attr)},b),U(a.child))}}function va(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var e=b.className;a.className&&(e=(e?e+" ":"")+a.className);var h=a.attr,r=a.title,k=["attr","title"],B={},q;for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&0>k.indexOf(q)&&(B[q]=a[q]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var p=0;for(q=
Object.getOwnPropertySymbols(a);p<q.length;p++)0>k.indexOf(q[p])&&(B[q[p]]=a[q[p]])}return t.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,B,{className:e,style:z({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),a.children)};return void 0!==V?t.createElement(V.Consumer,null,function(a){return b(a)}):b(W)}function F(a,b){var e=b.css;b=P(b,["css"]);return c.jsx(a,w({css:w({},
e,{verticalAlign:"text-bottom"})},b))}function wa(a){return F(X,a)}function xa(a){return F(Y,a)}function ya(a){return F(Z,a)}function za(a){return F(aa,a)}function Aa(a){return F(ba,a)}function ca(a){var b=a.path,e=a.details,g=Object.keys(e).reduce(function(a,b){var c=a.subdirs,g=a.files;b=e[b];"directory"===b.type?c.push(b):"file"===b.type&&g.push(b);return a},{subdirs:[],files:[]});a=g.subdirs;g=g.files;a.sort(da("path"));g.sort(da("path"));var d=[];"/"!==b&&d.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:M}),c.jsx("td",{css:y},c.jsx("a",{title:"Parent directory",href:"../",css:N},"..")),c.jsx("td",{css:y}),c.jsx("td",{css:O})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var e=a+"/";d.push(c.jsx("tr",{key:a},c.jsx("td",{css:M},c.jsx(ya,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:e,css:N},a)),c.jsx("td",{css:y},"-"),c.jsx("td",{css:O},"-")))});g.forEach(function(a){var e=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);d.push(c.jsx("tr",{key:a},c.jsx("td",
{css:M},"text/plain"===g||"text/markdown"===g?c.jsx(wa,null):c.jsx(xa,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:a,css:N},a)),c.jsx("td",{css:y},ea(e)),c.jsx("td",{css:O},g)))});var h=[];0<g.length&&h.push(g.length+" file"+(1===g.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(H,null,"Icon")),c.jsx("th",null,c.jsx(H,null,"Name")),c.jsx("th",null,c.jsx(H,null,"Size")),c.jsx("th",null,c.jsx(H,null,"Content Type")))),c.jsx("tbody",null,d)))}function Ba(a){a=a.split("/");return a[a.length-1]}function Ca(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:Ba(a.path),src:b}))}function Da(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var e=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+e,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,e)),c.jsx("td",{id:"LC"+e,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function Ea(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function fa(a){var b=a.packageName,e=a.packageVersion,g=a.path;a=a.details;var d=a.highlights,h=a.uri,r=a.language;return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,ea(a.size)),c.jsx("span",null,r),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+e+g,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),d?c.jsx(Da,{highlights:d}):h?c.jsx(Ca,{path:g,uri:h}):c.jsx(Ea,null))}function ha(){var a=Q(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
ha=function(){return a};return a}function ia(){var a=Q(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
ia=function(){return a};return a}function ja(a){var b=a.css;a=P(a,["css"]);return c.jsx("a",w({},a,{css:w({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function Fa(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function Ga(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;a=a.filename;var d=[];if("/"===
a)d.push(b);else{var h="/browse/"+b+"@"+e;d.push(c.jsx(ja,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;d.push(c.jsx(ja,{href:h+"/"},a))});d.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,d.map(function(a,
b,e){return c.jsx(t.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===e.length-1?c.jsx("strong",null,a):a)}))),c.jsx(Ha,{packageVersion:e,availableVersions:g,onChange:function(a){window.location.href=window.location.href.replace("@"+e,"@"+a)}}))}function Ha(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function Ia(a){var b=a.packageName,e=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(ca,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(fa,{packageName:b,packageVersion:e,path:a.path,details:a.details}):null}function ka(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;g=void 0===g?[]:g;var d=a.filename;a=a.target;return c.jsx(t.Fragment,null,c.jsx(c.Global,{styles:Ja}),c.jsx(c.Global,{styles:Ka}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Fa,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Ga,{packageName:b,
packageVersion:e,availableVersions:g,filename:d})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(Ia,{packageName:b,packageVersion:e,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","a7ebffa")),
c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(za,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(Aa,null))))))}var la="default"in t?t["default"]:t;A=A&&A.hasOwnProperty("default")?A["default"]:A;var La="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},m=D(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type,a){case l:case f:case r:case m:case k:case v:return a;default:switch(a=a&&a.$$typeof,a){case p:case n:case q:return a;default:return b}}case x:case u:case h:return b}}}function g(a){return c(a)===f}Object.defineProperty(b,"__esModule",{value:!0});var d=
(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,k=a?Symbol.for("react.strict_mode"):60108,m=a?Symbol.for("react.profiler"):60114,q=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,f=a?Symbol.for("react.concurrent_mode"):60111,n=a?Symbol.for("react.forward_ref"):60112,v=a?Symbol.for("react.suspense"):60113,u=a?Symbol.for("react.memo"):
60115,x=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=l;b.ConcurrentMode=f;b.ContextConsumer=p;b.ContextProvider=q;b.Element=d;b.ForwardRef=n;b.Fragment=r;b.Lazy=x;b.Memo=u;b.Portal=h;b.Profiler=m;b.StrictMode=k;b.Suspense=v;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===r||a===f||a===m||a===k||a===v||"object"===typeof a&&null!==a&&(a.$$typeof===x||a.$$typeof===u||a.$$typeof===q||a.$$typeof===p||a.$$typeof===n)};b.isAsyncMode=function(a){return g(a)||
c(a)===l};b.isConcurrentMode=g;b.isContextConsumer=function(a){return c(a)===p};b.isContextProvider=function(a){return c(a)===q};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===d};b.isForwardRef=function(a){return c(a)===n};b.isFragment=function(a){return c(a)===r};b.isLazy=function(a){return c(a)===x};b.isMemo=function(a){return c(a)===u};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===m};b.isStrictMode=function(a){return c(a)===k};b.isSuspense=
function(a){return c(a)===v}});R(m);var na=D(function(a,b){(function(){function a(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case h:switch(a=a.type,a){case f:case n:case k:case q:case m:case u:return a;default:switch(a=a&&a.$$typeof,a){case l:case v:case p:return a;default:return b}}case I:case x:case r:return b}}}function c(b){return a(b)===n}Object.defineProperty(b,"__esModule",{value:!0});var d="function"===typeof Symbol&&Symbol.for,h=d?Symbol.for("react.element"):60103,r=
d?Symbol.for("react.portal"):60106,k=d?Symbol.for("react.fragment"):60107,m=d?Symbol.for("react.strict_mode"):60108,q=d?Symbol.for("react.profiler"):60114,p=d?Symbol.for("react.provider"):60109,l=d?Symbol.for("react.context"):60110,f=d?Symbol.for("react.async_mode"):60111,n=d?Symbol.for("react.concurrent_mode"):60111,v=d?Symbol.for("react.forward_ref"):60112,u=d?Symbol.for("react.suspense"):60113,x=d?Symbol.for("react.memo"):60115,I=d?Symbol.for("react.lazy"):60116;d=function(){};var Ma=function(a){for(var b=
arguments.length,f=Array(1<b?b-1:0),c=1;c<b;c++)f[c-1]=arguments[c];var n=0;b="Warning: "+a.replace(/%s/g,function(){return f[n++]});"undefined"!==typeof console&&console.warn(b);try{throw Error(b);}catch(Xa){}},Na=d=function(a,b){if(void 0===b)throw Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!a){for(var f=arguments.length,c=Array(2<f?f-2:0),n=2;n<f;n++)c[n-2]=arguments[n];Ma.apply(void 0,[b].concat(c))}},ma=!1;b.typeOf=a;b.AsyncMode=f;b.ConcurrentMode=
n;b.ContextConsumer=l;b.ContextProvider=p;b.Element=h;b.ForwardRef=v;b.Fragment=k;b.Lazy=I;b.Memo=x;b.Portal=r;b.Profiler=q;b.StrictMode=m;b.Suspense=u;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===k||a===n||a===q||a===m||a===u||"object"===typeof a&&null!==a&&(a.$$typeof===I||a.$$typeof===x||a.$$typeof===p||a.$$typeof===l||a.$$typeof===v)};b.isAsyncMode=function(b){ma||(ma=!0,Na(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."));
return c(b)||a(b)===f};b.isConcurrentMode=c;b.isContextConsumer=function(b){return a(b)===l};b.isContextProvider=function(b){return a(b)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===h};b.isForwardRef=function(b){return a(b)===v};b.isFragment=function(b){return a(b)===k};b.isLazy=function(b){return a(b)===I};b.isMemo=function(b){return a(b)===x};b.isPortal=function(b){return a(b)===r};b.isProfiler=function(b){return a(b)===q};b.isStrictMode=function(b){return a(b)===
m};b.isSuspense=function(b){return a(b)===u}})()});R(na);var oa=D(function(a){a.exports=na}),pa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Qa=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,d=1;d<arguments.length;d++){var h=Object(arguments[d]);for(var r in h)Oa.call(h,r)&&(c[r]=h[r]);if(pa){g=pa(h);for(var k=0;k<g.length;k++)Pa.call(h,g[k])&&(c[g[k]]=h[g[k]])}}return c},K=function(){},L={},ua=Function.call.bind(Object.prototype.hasOwnProperty);
K=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};J.resetWarningCache=function(){L={}};var Ra=Function.call.bind(Object.prototype.hasOwnProperty),C=function(){};C=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};var Sa=function(a,b){function c(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function g(a){this.message=a;this.stack=""}function d(a){function c(c,n,v,d,e,u,h){d=d||"<<anonymous>>";
u=u||v;if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==h){if(b)throw c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),c.name="Invariant Violation",c;"undefined"!==typeof console&&(h=d+":"+v,!f[h]&&3>l&&(C("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),
f[h]=!0,l++))}return null==n[v]?c?null===n[v]?new g("The "+e+" `"+u+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new g("The "+e+" `"+u+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:a(n,v,d,e,u)}var f={},l=0,d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}function h(a){return d(function(b,c,f,d,l,e){b=b[c];return k(b)!==a?(b=m(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("`"+a+"`."))):null})}function r(b){switch(typeof b){case "number":case "string":case "undefined":return!0;
case "boolean":return!b;case "object":if(Array.isArray(b))return b.every(r);if(null===b||a(b))return!0;var c=b&&(p&&b[p]||b["@@iterator"]);var f="function"===typeof c?c:void 0;if(f)if(c=f.call(b),f!==b.entries)for(;!(b=c.next()).done;){if(!r(b.value))return!1}else for(;!(b=c.next()).done;){if((b=b.value)&&!r(b[1]))return!1}else return!1;return!0;default:return!1}}function k(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===b||a&&("Symbol"===a["@@toStringTag"]||
"function"===typeof Symbol&&a instanceof Symbol)?"symbol":b}function m(a){if("undefined"===typeof a||null===a)return""+a;var b=k(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function q(a){a=m(a);switch(a){case "array":case "object":return"an "+a;case "boolean":case "date":case "regexp":return"a "+a;default:return a}}var p="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),
string:h("string"),symbol:h("symbol"),any:d(G),arrayOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside arrayOf.");b=b[c];if(!Array.isArray(b))return b=k(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected an array."));for(c=0;c<b.length;c++){var n=a(b,c,f,d,l+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(n instanceof Error)return n}return null})},
element:function(){return d(function(b,c,d,l,e){b=b[c];return a(b)?null:(b=k(b),new g("Invalid "+l+" `"+e+"` of type "+("`"+b+"` supplied to `"+d+"`, expected a single ReactElement.")))})}(),elementType:function(){return d(function(a,b,c,d,l){a=a[b];return oa.isValidElementType(a)?null:(a=k(a),new g("Invalid "+d+" `"+l+"` of type "+("`"+a+"` supplied to `"+c+"`, expected a single ReactElement type.")))})}(),instanceOf:function(a){return d(function(b,c,f,d,l){if(!(b[c]instanceof a)){var n=a.name||
"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("instance of `"+n+"`."))}return null})},node:function(){return d(function(a,b,c,d,l){return r(a[b])?null:new g("Invalid "+d+" `"+l+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside objectOf.");
b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+d+" `"+l+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an object."));for(var n in b)if(Ra(b,n)&&(c=a(b,n,f,d,l+"."+n,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),c instanceof Error))return c;return null})},oneOf:function(a){return Array.isArray(a)?d(function(b,f,d,l,e){b=b[f];for(f=0;f<a.length;f++)if(c(b,a[f]))return null;f=JSON.stringify(a,function(a,b){return"symbol"===m(b)?String(b):b});return new g("Invalid "+l+" `"+e+"` of value `"+
String(b)+"` "+("supplied to `"+d+"`, expected one of "+f+"."))}):(1<arguments.length?C("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):C("Invalid argument supplied to oneOf, expected an array."),G)},oneOfType:function(a){if(!Array.isArray(a))return C("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var b=0;b<a.length;b++){var c=a[b];if("function"!==
typeof c)return C("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(c)+" at index "+b+"."),G}return d(function(b,c,f,d,l){for(var e=0;e<a.length;e++)if(null==(0,a[e])(b,c,f,d,l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;return new g("Invalid "+d+" `"+l+"` supplied to "+("`"+f+"`."))})},shape:function(a){return d(function(b,c,d,l,f){b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+l+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));
for(var e in a)if(c=a[e])if(c=c(b,e,d,l,f+"."+e,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return c;return null})},exact:function(a){return d(function(b,c,d,l,f){var e=b[c],n=k(e);if("object"!==n)return new g("Invalid "+l+" `"+f+"` of type `"+n+"` "+("supplied to `"+d+"`, expected `object`."));n=Qa({},b[c],a);for(var h in n){n=a[h];if(!n)return new g("Invalid "+l+" `"+f+"` key `"+h+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),
null,"  "));if(n=n(e,h,d,l,f+"."+h,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return n}return null})}};g.prototype=Error.prototype;l.checkPropTypes=J;l.resetWarningCache=J.resetWarningCache;return l.PropTypes=l};m=D(function(a){a.exports=Sa(oa.isElement,!0)});var Ta=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},Ua={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",
padding:0,overflow:"hidden",position:"absolute"},H=function(a){return la.createElement("div",Ta({style:Ua},a))},qa=D(function(a){(function(b,c){a.exports=c()})(La,function(){function a(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(q.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===t.call(a)}function g(a){return"string"===typeof a||"[object String]"===t.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===
t.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function m(b,d,e,k){c(d)&&(d=[d]);if(a(d))return b;if(g(d))return m(b,d.split("."),e,k);var f=h(d[0]);if(1===d.length)return d=b[f],void 0!==d&&k||(b[f]=e),d;void 0===b[f]&&(c(f)?b[f]=[]:b[f]={});return m(b[f],d.slice(1),e,k)}function k(b,f){c(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(g(f))return k(b,f.split("."));var e=h(f[0]),l=b[e];if(1===f.length)void 0!==l&&(d(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return k(b[e],
f.slice(1));return b}}var t=Object.prototype.toString,q=Object.prototype.hasOwnProperty,p={ensureExists:function(a,b,c){return m(a,b,c,!0)},set:function(a,b,c,d){return m(a,b,c,d)},insert:function(a,b,c,e){var f=p.get(a,b);e=~~e;d(f)||(f=[],p.set(a,b,f));f.splice(e,0,c)},empty:function(b,f){if(a(f))return b;if(!a(b)){var e,h;if(!(e=p.get(b,f)))return b;if(g(e))return p.set(b,f,"");if("boolean"===typeof e||"[object Boolean]"===t.call(e))return p.set(b,f,!1);if(c(e))return p.set(b,f,0);if(d(e))e.length=
0;else if("object"===typeof e&&"[object Object]"===t.call(e))for(h in e)q.call(e,h)&&delete e[h];else return p.set(b,f,null)}},push:function(a,b){var c=p.get(a,b);d(c)||(c=[],p.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=p.get(a,b[e])))return d;return c},get:function(b,d,e){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return e;if(g(d))return p.get(b,d.split("."),e);var f=h(d[0]);return 1===d.length?void 0===
b[f]?e:b[f]:p.get(b[f],d.slice(1),e)},del:function(a,b){return k(a,b)}};return p})});var ra=function(a){return function(b){return typeof b===a}};var Va=function(a,b){var c=1,g=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,e){var d;b=g(a,qa.get(b,a));e=g(a,qa.get(e,a));b<e&&(d=-1);b>e&&(d=1);b===e&&(d=0);return d*c}};var da=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ra("string")),c=a.filter(ra("function"))[0];return function(a,d){for(var e=b.length,
g=0,k=0;0===g&&k<e;)g=Va(b[k],c)(a,d),k++;return g}};let sa="B kB MB GB TB PB EB ZB YB".split(" "),ta=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var ea=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let g=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ta(a,b.locale),g+a+" B";c=Math.min(Math.floor(Math.log10(a)/3),sa.length-
1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ta(a,b.locale);return g+a+" "+sa[c]},W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=t.createContext&&t.createContext(W),z=function(){z=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return z.apply(this,arguments)},Y=function(a){return E({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};Y.displayName="GoFileCode";var Z=function(a){return E({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};Z.displayName="GoFileDirectory";var X=function(a){return E({tag:"svg",
attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};X.displayName="GoFile";var ba=function(a){return E({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
ba.displayName="FaGithub";var aa=function(a){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
aa.displayName="FaTwitter";var N={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},y={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},M=w({},y,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),O=w({},y,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}});ca.propTypes={path:m.string.isRequired,details:m.objectOf(m.shape({path:m.string.isRequired,type:m.oneOf(["directory",
"file"]).isRequired,contentType:m.string,integrity:m.string,size:m.number})).isRequired};fa.propTypes={path:m.string.isRequired,details:m.shape({contentType:m.string.isRequired,highlights:m.arrayOf(m.string),uri:m.string,integrity:m.string.isRequired,language:m.string.isRequired,size:m.number.isRequired}).isRequired};var Ja=c.css(ia(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ka=c.css(ha()),Wa=m.shape({path:m.string.isRequired,type:m.oneOf(["directory","file"]).isRequired,details:m.object.isRequired});ka.propTypes={packageName:m.string.isRequired,packageVersion:m.string.isRequired,availableVersions:m.arrayOf(m.string),filename:m.string.isRequired,target:Wa.isRequired};A.hydrate(la.createElement(ka,window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>